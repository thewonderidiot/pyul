* 1800A JOB 55-238-50  2NDFROZE
*       YUL 2NDFROZE
Y  2ND  ADD NEW COMPUTER AGC
Y  2ND  ASSEMBLY PASS 1 FOR AGC IS AVAILABLE
Y  2ND  ASSEMBLY PASS 2 FOR AGC IS AVAILABLE
Y  2ND  ASSEMBLY PASS 3 FOR AGC IS AVAILABLE
Y  2ND  MANUFACTURING FOR AGC IS AVAILABLE
Y  2ND  ASSEMBLE NEW AGC PROGRAM BURST120 BY NASA 2021106-031
L      2ASSEMBLY AND OPERATION INFORMATION
R0001  7
R0002            THIS LISTING IS A COPY OF A VERSION OF THE PROGRAM INTENDED FOR
 0003  9 USE IN THE ON-BOARD PRIMARY GUIDANCE
R0004  2COMPUTER IN THE UNMANNED FLIGHT OF APOLLO LUNAR MODULE 1  ---  THE AS206
 0005  9 MISSION.
R0006            THE DETAILS OF IMPLEMENTATION ARE SPECIFIED IN REPORT R-527, "G
 0007  9UIDANCE SYSTEM OPERATIONAL PLAN AS206",
R0008  2AS AMENDED.
R0009            REPORT R-527 AND THIS PROGRAM HAVE BEEN PREPARED BY THE INSTRUM
 0010  9ENTATION LABORATORY, MASSACHUSETTS
R0011   INSTITUTE OF TECHNOLOGY, 75 CAMBRIDGE PARKWAY, CAMBRIDGE, MASSACHUSETTS,
 0012  9 UNDER DSR PROJECT 55-23850, SPONSORED
R0013  8BY THE MANNED SPACECRAFT CENTER OF THE NATIONAL AERONAUTICS AND SPACE AD
 0014  9MINISTRATION, CONTRACT NAS 9-4065.
R0015   TABLE OF LOG CARDS:
R0016  2----- -- --- -----
R0017   ASSEMBLY AND OPERATION INFORMATION
R0018   ERASABLE ASSIGNMENTS
R0019   INPUT/OUTPUT CHANNELS
R0020   INTERRUPT LEAD INS
R0021   RESTART TABLES AND RESTARTS ROUTINE
R0022   PHASE TABLE MAINTENANCE
R0023   FRESH START AND RESTART
R0024   T4RUPT PROGRAM
R0025   IMU MODE SWITCHING ROUTINES
R0026   AOTMARK
R0027   RADAR LEAD-IN ROUTINES
R0028   RADAR TEST PROGRAMS
R0029   EXTENDED VERBS
R0030   KEYRUPT, UPRUPT
R0031   PINBALL GAME  BUTTONS AND LIGHTS
R0032   ALARM AND ABORT
R0033   UPDATE PROGRAM PART 1 OF 2
R0034   UPDATE PROGRAM PART 2 OF 2
R0035   DOWN-TELEMETRY PROGRAM
R0036   INFLIGHT ALIGNMENT ROUTINES
R0037   RTB OP CODES
R0038   LEM FLIGHT CONTROL SYSTEM TEST
R0039   IMU PERFORMANCE TESTS 1
R0040   IMU PERFORMANCE TESTS 2
R0041   IMU PERFORMANCE TESTS 3
R0042   OPTIMUM PRELAUNCH ALIGNMENT CALIBRATION
R0043   DAP INTERFACE SUBROUTINES
R0044   T6-RUPT PROGRAMS
R0045   DAPIDLER PROGRAM
R0046   P-AXIS REACTION CONTROL SYSTEM AUTOPILOT
R0047   Q,R-AXES REACTION CONTROL SYSTEM AUTOPILOT
R0048   Q,R-AXES JET SELECT AND FAILURE CONTROL LOGIC
R0049   RCS FAILURE MONITOR
R0050   KALMAN FILTER FOR LM DAP
R0051   TRIM GIMBAL CONTROL SYSTEM
R0052   AOSTASK AND AOSJOB
R0053   SPS BACK-UP RCS CONTROL
R0054   ATTITUDE MANEUVER ROUTINE
R0055   GIMBAL LOCK AVOIDANCE
R0056   KALCMANU STEERING
R0057   MISSION PHASE 2 GUIDANCE REFERENCE RELEASE + BOOST MONITOR
R0058   MP 3 - SUBORBITAL ABORT
R0059   MP4-CONTINGENCY ORBIT INSERTION
R0060   MISSION PHASE 6 COAST SIVB ATTACHED
R0061   MP 7 - SIVB/LEM SEPARATION
R0062   MISSION PHASE 8 - DPS COLD SOAK
R0063   MP9-DPS 1 BURN
R0064   MISSION PHASE 11 - DPS2/FITH/APS1
R0065   MISSION PHASE 13 - APS2
R0066   MISSION PHASE 16 - RCS COLD SOAK
R0067   INTEGRATION INITIALIZATION
R0068   ORBITAL INTEGRATION PROGRAM
R0069   LMP COMMAND ROUTINES
R0070   AS206 MISSION SCHEDULING PACKAGE
R0071   206 SERVICE ROUTINES
R0072   TUMBLE MONITOR
R0073   PIPA READER
R0074   FIND CDU DESIRED
R0075   AVERAGE G INTEGRATOR
R0076   MASS CALCULATOR
R0077   THROTTLE CONTROL
R0078   IMU COMPENSATION PACKAGE
R0079   DUMMY 206 INITIALIZATION
R0080   SECOND DPS GUIDANCE
R0081   PREBURN FOR APS2
R0082   ASCENT STEERING
R0083   THRUST MAGNITUDE FILTER
R0084   LOGSUB ROUTINE
R0085   LAMB
R0086   SUM CHECK END OF BANK MARKERS
R0087   INTER-BANK COMMUNICATION
R0088   INTERPRETER
R0089   SINGLE PRECISION SUBROUTINES
R0090   EXECUTIVE
R0091   WAITLIST
R0092   AGC BLOCK TWO SELF-CHECK
P0093  4VERB AND NOUN INFORMATION
R0094    REGULAR VERBS
R0095   01  DISPLAY OCTAL COMP 1 (R1)
R0096   02  DISPLAY OCTAL COMP 2 (R1)
R0097   03  DISPLAY OCTAL COMP 3 (R1)
R0098   04  DISPLAY OCTAL COMP 1,2 (R1,R2)
R0099   05  DISPLAY OCTAL COMP 1,2,3 (R1,R2,R3)
R0100   06  DECIMAL DISPLAY
R0101   07  DP DECIMAL DISPLAY (R1,R2)
R0102   10  SPARE
R0103   11  MONITOR OCT COMP 1 (R1)
R0104   12  MONITOR OCT COMP 2 (R1)
R0105   13  MONITOR OCT COMP 3 (R1)
R0106   14  MONITOR OCT COMP 1,2 (R1)
R0107   15  MONITOR OCT COMP 1,2,3 (R1,R2,R3)
R0108   16  MONITOR DECIMAL
R0109   17  MONITOR DP DECIMAL (R1,R2)
R0110   20  SPARE
R0111   21  LOAD COMP 1 (R1)
R0112   22  LOAD COMP 2 (R2)
R0113   23  LOAD COMP 3 (R3)
R0114   24  LOAD COMP 1,2 (R1,R2)
R0115   25  LOAD COMP 1,2,3 (R1,R2,R3)
R0116   26  SPARE
R0117   27  FIXED MEMORY DISPLAY
R0118   30  REQUEST EXECUTIVE
R0119   31  REQUEST WAITLIST
R0120   32  C(R2) INTO R3, C(R1) INTO R2
R0121   33  PROCEED WITHOUT DATA
R0122   34  TERMINATE CURRENT TEST OR LOAD REQUEST
R0123   35  TEST LIGHTS
R0124   36  FRESH START
R0125   37  CHANGE MAJOR MODE
R0126  4END OF REGULAR VERBS
R0127   EXTENDED VERBS
R0128   40  ZERO(USED WITH NOUN 20) (N 40 UNUSED IN 206)
R0129   41  COARSE ALIGN (USED WITH NOUN 20) (N 40 UNUSED IN 206)
R0130   42  FINE ALIGN IMU
R0131   43  LOAD IMU ATTITUDE ERROR METERS
R0132   44  ILLEGAL VERB
R0133   45  COMMAND LR TO POSITION 2 (UNUSED IN 206)
R0134   46  SAMPLE RADAR ONCE PER SECOND (UNUSED IN 206)
R0135   47  PERFORM LEM FCS TEST
R0136   50  PLEASE PERFORM
R0137   51  PLEASE MARK
R0138   52  PLEASE MARK Y
R0139   53  PLEASE MARK X OR Y
R0140   54  PULSE TORQUE GYROS
R0141   55  ALIGN TIME
R0142   56  PERFORM BANKSUM
R0143   57  PERFORM SYSTEM TEST
R0144   60  ILLEGAL VERB
R0145   61  ILLEGAL VERB
R0146   62  SCAN LEM INBITS
R0147   63  TURN OFF DAP AND SEND CDU'S ONLY ON DOWNLINK.
R0148   64  SET TIMER TO GROUND ELAPSED TIME
R0149   65  SET GUIDANCE REFERENCE RELEASE DISCRETE
R0150   66  INITIATE LGC DFI TLM CALIBRATE ROUTINE
R0151   67  SEND COMMAND TO LMP
R0152   70  SET MISSION TIMER
R0153   71  SET MISSION PHASE REGISTER
R0154   72  SET MISSION PHASE REGISTER + TIMER
R0155   73  RESET DPS OR RPS COLD SOAK DISCRETE
R0156   74  STOP MISSION TIMERS
R0157   75  TARGET PARAMETER UPDATE
R0158   76  STATE VECTOR UPDATE
R0159   77  ILLEGAL VERB
P0160   NORMAL NOUNS                                       SCALE AND DECIMAL POI
 0161  9NT
R0162   00  NOT IN USE
R0163   01  SPECIFY MACHINE ADDRESS (FRACTIONAL)           (.XXXXX)
R0164   02  SPECIFY MACHINE ADDRESS (WHOLE)                (XXXXX.)
R0165   03  SPECIFY MACHINE ADDRESS (DEGREES)              (XXX.XXDEGREES)
R0166   04  SPECIFY MACHINE ADDRESS (HOURS)                (XXX.XXHOURS)
R0167   05  SPECIFY MACHINE ADDRESS (SECONDS)              (XXX.XXSECONDS)
R0168   06  SPECIFY MACHINE ADDRESS (GYRO DEGREES)         (XX.XXXDEGREES)
R0169   07  SPARE
R0170   10  CHANNEL TO BE SPECIFIED
R0171   11  SPARE
R0172   12  SPARE
R0173   13  SPARE
R0174   14  SPARE
R0175   15  INCREMENT MACHINE ADDRESS                      (OCTAL ONLY)
R0176   16  TIME SECONDS                                   (XXX.XXSECONDS)
R0177   17  TIME HOURS                                     (XXX.XXHOURS)
R0178   20  ICDU                                           (XXX.XXDEGREES)
R0179   21  PIPAS                                          (XXXXX.PULSES)
R0180   22  NEW ANGLES I                                   (XXX.XXDEGREES)
R0181   23  DELTA ANGLES I                                 (XXX.XXDEGREES)
R0182   24  DELTA TIME (SECONDS)                           (XXX.XXSECONDS)
R0183   25  CHECKLIST                                      (XXXXX.)
R0184   26  PRIO/DELAY, ADRES, BBCON                       (OCTAL ONLY)
R0185   27  SELF TEST ON/OFF SWITCH                        (XXXXX.)
R0186   30  STAR NUMBERS                                   (XXXXX.)
R0187   31  ALMCADR, ALMCADR +1, ERCOUNT                   (OCTAL ONLY)
R0188   32  DECISION TIME (MIDCOURSE)                      (XXX.XXHOURS (INTERNA
 0189  9L UNITS = WEEKS))
R0190   33  EPHEMERIS TIME (MIDCOURSE)                     (XXX.XXHOURS (INTERNA
 0191  9L UNITS = WEEKS))
R0192   34  MEASURED QUANTITY (MIDCOURSE)                  (XXXX.XKILOMETERS)
R0193   35  INBIT MESSAGE                                  (OCTAL ONLY)
R0194   36  LANDMARK DATA 1                                (OCTAL ONLY)
R0195   37  LANDMARK DATA 2                                (OCTAL ONLY)
R0196   40  RENDEZVOUS RADAR ANGLES (TRUNION,SHAFT)        (XXX.XXDEGREES)
 0197  9(UNUSED IN 206)
R0198   41  NEW RENDEZVOUS RADAR ANGLES (TRUNION,SHAFT)    (XXX.XXDEGREES)
 0199  9(UNUSED IN 206)
R0200   42  AOT ROTATION ANGLES                            (XXX.XXDEGREES)
R0201   43  AOT DETENT CODE                                (XXXXX.)
R0202   44  FORWARD VELOCITY, LATERAL VELOCITY             (XXXXX.FEET/SEC)
R0203   45  ROTATIONAL HAND CONTROLLER ANGLE RATES         (XXXXX.DEG/SEC)
 0204  9(NOT USED IN 206)
R0205   46  SPARE
R0206   47  SPARE
R0207   50  FAILREG, FAILREG +1, FAILREG +2                (OCTAL ONLY)
R0208   51  SPARE
R0209   52  GYRO BIAS DRIFT                                (.BBXXXXXMILLIRAD/SEC
 0210  9)
R0211   53  GYRO INPUT AXIS ACCELERATION DRIFT             (.BBXXXXX(MILLIRAD/SE
 0212  9C)/(CM/SEC SEC))
R0213   54  GYRO SPIN AXIS ACCELERATION DRIFT              (.BBXXXXX(MILLIRAD/SE
 0214  9C)/(CM/SEC SEC))
R0215  4END OF NORMAL NOUNS
R0216   MIXED NOUNS                                        SCALE AND DECIMAL POI
 0217  9NT
R0218   55  LANDING RADAR ALTITUDE, TIME (SECONDS)         (XXXXX.FEET, XXX.XXSE
 0219  9C)                 (UNUSED IN 206)
R0220   56  LANDING RADAR VELX, TIME (SECONDS)             (XXXXX.FEET/SEC, XXX.
 0221  9XXSEC)             (UNUSED IN 206)
R0222   57  LANDING RADAR VELY, TIME (SECONDS)             (XXXXX.FEET/SEC, XXX.
 0223  9XXSEC)             (UNUSED IN 206)
R0224   60  LANDING RADAR VELZ, TIME (SECONDS)             (XXXXX.FEET/SEC, XXX.
 0225  9XXSEC)             (UNUSED IN 206)
R0226   61  TARGET AZIMUTH AND ELEVATION                   (XXX.XXDEG, XX.XXXDEG
 0227  9)
R0228   62  RENDEZVOUS RADAR RANGE, TRUNION, SHAFT         (XXXXXB.FEET, XXX.XXD
 0229  9EG, XXX.XXDEG)     (UNUSED IN 206)
R0230   63  RENDEZVOUS RADAR RANGE RATE, TRUNION, SHAFT    (XXXXX.FEET/SEC, XXX.
 0231  9XXDEG, XXX.XXDEG)  (UNUSED IN 206)
R0232   64  INITIAL ALTITUDE, FINAL ALTITUDE, ALT. RATE    (XXXXX.FEET, XXXXX.FE
 0233  9ET, XXXXX.FEET/SEC)
R0234   65  SAMPLED TIME (HOURS AND SECONDS)               (XXX.XXHOURS, XXX.XXS
 0235  9EC)
R0236           (FETCHED IN INTERRUPT)
R0237   66  SYSTEM TEST RESULTS                            (XXXXX., .XXXXX, XXXX
 0238  9X.)
R0239   67  DELTA GYRO ANGLES                              (XX.XXXDEG  FOR EACH)
R0240   70  SPARE
R0241   71  SPARE
R0242   72  DELTA POSITION                                 (XXXX.XKILOMETERS  FO
 0243  9R EACH)
R0244   73  DELTA VELOCITY                                 (XXXX.XMETERS/SEC  FO
 0245  9R EACH)
R0246   74  MEASUREMENT DATA (MIDCOURSE)                   (XXX.XXHOURS (INTERNA
 0247  9L UNITS=WEEKS), XXXX.XKILOMETERS, XXXXX.
R0248   75  MEASUREMENT DEVIATIONS (MIDCOURSE)             (XXXX.XKILOMETERS, XX
 0249  9XX.XMETERS/SEC, XXXX.XKILOMETERS)
R0250   76  POSITION VECTOR                                (XXXX.XKILOMETERS  FO
 0251  9R EACH)
R0252   77  VELOCITY VECTOR                                (XXXX.XMETERS/SEC  FO
 0253  9R EACH)
P0254  4TABLE OF ERROR CODES
R0255  2OPTICS SUB-SYSTEM
R0256   00105    MARK SYSTEM CURRENTLY IN USE
R0257   00111    MARK IS MISSING AFTER V53 ENTER
R0258   00112    AOTMARK SYSTEM HAS NOT BEEN INITIALIZED TO ACCEPT THIS MARK
R0259   00113    NO BIT 3, 4, 5, 6, OR 7 (INBITS) IN CHANNEL 16
R0260   00114    REQUESTED MARK NOT MADE
R0261  400115    NO MARK TO REJECT
R0262  2IMU SUB-SYSTEM
R0263   00205    SATURATED-PIPA ALARM
R0264   00206    ZERO CDU NOT ALLOWED WITH COARSE ALIGN AND GIMBAL LOCK
R0265   00207    ISS TURN-ON REQUEST NOT PRESENT FOR 90 SECONDS
R0266   00210    IMU NOT OPERATING WHEN ICDU ZERO REQUESTED
R0267   00211    COARSE ALIGN ERROR.  GIMBAL ANGLES NOT WITHIN 2 DEGREES OF DESI
 0268  9RED ANGLES
R0269   00212    PIPA FAIL WITH PIPA FAIL INHIBIT BIT SET
R0270   00213    ISS TURN ON REQUEST WITH ISS OPERATIVE DISCRETE NOT PRESENT
R0271  400214    PROGRAM USING IMU WHEN TURNED OFF
R0272  2DISPLAY ALARMS (PART 1)
R0273   00300    ABORT COMMAND RECEIVED BUT ABORT NOT ENABLED
R0274   00310    CURTAINS ALARM (BADEND IN ATTSTALL, IMUSTALL, ETC., USUALLY)
 0275  9WHEN ALARM2 IS CALLED BY CURTAINS
R0276
 0277  9ALMCADR CONTAINS Q OF ROUTINE WHICH
R0278   00312    DAP MANEUVER PREVENTED BY FAILURE OF JETS
 0279  9CALLS CURTAINS
R0280   00315    FORGETIT ALARM
R0281  400316    RESTART OCCURRED BUT PROGRAM WASN'T RESTARTABLE (FAKESTRT)
R0282  2PROCEDURAL DIFFICULTY
R0283   00401    DESIRED GIMBAL ANGLES YIELD GIMBAL LOCK
R0284   00404    COMPUTED DT FOR WAITLIST TOO BIG OR NEGATIVE (TASKSFTR - MP 9).
 0285  9  ABORT.
R0286   00405    LAMBERT ITERATIONS NOT CONVERGING -- MISSION PHASE 13
R0287   00410    OVERFLOW PRIOR TO OR DURING COMPUTATION OF ACS OR AFCS (MP 11)
R0288   00411    OVERFLOW IN ANG MOMENTUM CMD (COMPUTATION OF AFCS1)    (MP 11)
R0289   00412    OVERFLOW AFTER COMPUTATION OF AFCS1                    (MP 11)
R0290  4
R0291  2RADAR ERRORS
R0292   00501    RADAR ANTENNA OUT OF LIMITS OF EACH MODE
R0293   00502    DESIRED RADAR GIMBAL ANGLES OUT OF LIMITS OF EACH MODE
R0294   00503    NO RENDEZVOUS RADAR DATA GOOD SIGNAL WITHIN 30 SECONDS WITH LOC
 0295  9KON REQUESTED
R0296   00510    RENDEZVOUS ZERO CDU REQUESTED WITH RENDEZVOUS RADAR NOT IN AUTO
 0297  9 MODE
R0298   00514    RADAR RENDEZVOUS AUTO POWER OFF WITH PROGRAM USING THE RENDEZVO
 0299  9US RADAR
R0300   00520    RADAR RUPT OCCURRED BUT NOT EXPECTED
R0301   00521    RADAR DATA COULD NOT BE READ
R0302   00522    LANDING RADAR NOT IN DESIRED POSITION
R0303   00523    LANDING RADAR DID NOT ACHIEVE POSITION 2 UPON REQUEST IN DESIRE
 0304  9D TIME INTERVAL
R0305  400524    TARGET VECTOR REQUIRES RENDEZVOUS RADAR ANGLES NOT WITHIN LIMIT
 0306  9S OF EITHER MODE
R0307  2MISSION SCHEDULER ERRORS
R0308  400601    MISSION PHASE DUE BUT PHASE REGISTER = 0
R0309  2COMPUTER HARDWARE MALFUNCTIONS
R0310   01102    AGC SELF TEST ERROR
 0311  9WHEN ALARM2 IS CALLED BY ERRORS
R0312
 0313  9ALMCADR CONTAINS Q OF ROUTINE WHICH
R0314
 0315  9CALLS ERRORS
R0316   01103    UNUSED CCS BRANCH EXECUTED.  ABORT
 0317  9WHEN ABORT2 IS CALLED BY CCSHOLE
R0318
 0319  9ALMCADR CONTAINS Q OF ROUTINE WHICH
R0320
 0321  9CALLED CCSHOLE
R0322   01105    DOWNLINK TOO FAST
R0323   01106    UPLINK TOO FAST
R0324   01107    PHASE TABLE ENTRIES DO NOT AGREE -- DO A FRESH START
R0325  401110    RESTART BUT NO GROUPS ACTIVE
R0326  2LIST OVERFLOWS (ALL ABORTS)
R0327   01201    EXECUTIVE OVERFLOW - NO VAC AREAS
 0328  9WHEN ABORT2 IS CALLED BY ABORT
R0329   01202    EXECUTIVE OVERFLOW - NO CORE SETS
 0330  9ALMCADR CONTAINS Q OF ROUTINE
R0331   01203    WAITLIST OVERFLOW - TOO MANY TASKS
 0332  9WHICH CALLED ABORT
R0333   01206    KEYBOARD AND DISPLAY WAITING LINE OVERFLOW
R0334   01207    NO VAC AREA FOR MARKS
R0335  401210    MORE THAN ONE IMU, RR, AOT, OR ATTITUDE PROGRAM ATTEMPTING TO U
 0336  9SE STALL ROUTINES AT SAME TIME
R0337  2INTERPRETER ERRORS
R0338   01301    ARCSIN-ARCCOS INPUT ANGLE TOO LARGE.  ABORT
R0339  401302    SQRT CALLED WITH NEGATIVE ARGUMENT.  ABORT
R0340  2DISPLAY ALARMS (PART 2)
R0341   01405    DV ALARM.  ENGINE ON BUT NO THRUST
R0342   01410    JET FAIL DURING FCS TEST
R0343   01411    CDU DOES NOT AGREE WITH COMMAND TO 1 DEGREE
 0344  9ALMCADR FOR ALL ROUTINES WHICH CALL
R0345   01412    CDU DOES NOT AGREE WITH COMMAND TO 5 DEGREES
 0346  9ALARMS (WHICH CALLS ALARM) WILL
R0347
 0348  9CONTAIN  ALARMS +3.  Q OF THE
R0349
 0350  9ORIGINATING ROUTINE WILL BE STORED
R0351
 0352  9AT QPLACE
R0353  2KEYBOARD AND DISPLAY PROGRAM
R0354  401501    KEYBOARD AND DISPLAY ERROR DURING INTERNAL USE.  ABORT
R0355  2SYSTEM TEST ALARMS
R0356   01600    DRIFT TEST OVERFLOW
R0357   01601    BAD IMU TORQUE IN DRIFT OR IN GYROCOMPASS
P0358     INSTRUCTION CODES:
R0359
R0360     NORMAL (NON-EXTENDED) CODES:
R0361
R0362     TC           000           TRANSFER CONTROL
R0363     CCS          001 00        COUNT, COMPARE, AND SKIP
R0364     TCF          001 01        TRANSFER CONTROL TO FIXED
R0365     TCF          001 10        DITTO
R0366     TCF          001 11        DITTO
R0367     DAS          010 00        DP ADD TO STORAGE
R0368     LXCH         010 01        EXCHANGE L WITH STORAGE
R0369     INCR         010 10        INCREMENT STORAGE
R0370     ADS          010 11        ADD TO STORAGE
R0371     CA           011           CLEAR AND ADD
R0372     CS           100           CLEAR AND SUBTRACT
R0373     INDEX        101 00        INDEX NEXT INSTRUCTION
R0374     DXCH         101 01        DP EXCHANGE WITH STORAGE
R0375     TS           101 10        TRANSFER TO STORAGE
R0376     XCH          101 11        EXCHANGE A WITH STORAGE
R0377     AD           110           ADD
R0378     MASK         111           MASK ("AND" TO A)
R0379
R0380
R0381     EXTENDED CODES:
R0382
R0383     READ         000 00 0      READ FROM CHANNEL
R0384     WRITE        000 00 1      WRITE CHANNEL
R0385     RAND         000 01 0      READ, "AND" TO A
R0386     WAND         000 01 1      WRITE, "AND" TO A
R0387     ROR          000 10 0      READ, "OR" TO A
R0388     WOR          000 10 1      WRITE, "OR" TO A
R0389     RXOR         000 11 0      READ, EXCLUSIVE "OR" TO A
R0390     EDRUPT       000 11 1      INTERRUPT
R0391
R0392     DV           001 00        DIVIDE
R0393     BZF          001 01        BRANCH ON ZERO TO FIXED
R0394     BZF          001 10        DITTO
R0395     BZF          001 11        DITTO
R0396     MSU          010 00        MODULAR SUBTRACT
R0397     QXCH         010 01        EXCHANGE Q WITH STORAGE
R0398     AUG          010 10        AUGMENT STORAGE
R0399     DIM          010 11        DIMINISH STORAGE
R0400     DCA          011           DP CLEAR AND ADD
R0401     DCS          100           DP CLEAR AND SUBTRACT
R0402     INDEX        101           INDEX NEXT EXTENDED INSTR.
R0403     SU           110 00        SUBTRACT
R0404     BZMF         110 01        BRANCH ON 0 OR - TO FIXED
R0405     BZMF         110 10        DITTO
R0406     BZMF         110 11        DITTO
R0407     MP           111           MULTIPLY
L      2ERASABLE ASSIGNMENTS
 0001   A        EQUALS 0
 0002   L        EQUALS 1               L AND Q ARE BOTH CHANNELS AND REGISTERS.
 0003   Q        EQUALS 2
 0004   EBANK    EQUALS 3
 0005   FBANK    EQUALS 4
 0006   Z        EQUALS 5               ADJACENT TO FBANK AND BBANK FOR DXCH Z
 0007   BBANK    EQUALS 6               (DTCB) AND DXCH FBANK (DTCF).
A0008  2                                REGISTER 7 IS A ZERO-SOURCE, USED BY ZL.
 0009   ARUPT    EQUALS 10              INTERRUPT STORAGE.
 0010   LRUPT    EQUALS 11
 0011   QRUPT    EQUALS 12
 0012   SAMPTIME EQUALS 13              SAMPLED TIME 1 & 2.
 0013   ZRUPT    EQUALS 15              (13 AND 14 ARE SPARES.)
 0014   BANKRUPT EQUALS 16              USUALLY HOLDS FBANK OR BBANK.
 0015  2BRUPT    EQUALS 17              RESUME ADDRESS AS WELL.
 0016   CYR      EQUALS 20
 0017   SR       EQUALS 21
 0018   CYL      EQUALS 22
 0019  4EDOP     EQUALS 23              EDITS INTERPRETIVE OPERATION CODE PAIRS.
 0020   TIME2    EQUALS 24
 0021   TIME1    EQUALS 25
 0022   TIME3    EQUALS 26
 0023   TIME4    EQUALS 27
 0024   TIME5    EQUALS 30
 0025   TIME6    EQUALS 31
 0026   CDUX     EQUALS 32
 0027   CDUY     EQUALS 33
 0028   CDUZ     EQUALS 34
 0029   OPTY     EQUALS 35
 0030   OPTX     EQUALS 36
 0031   PIPAX    EQUALS 37
 0032   PIPAY    EQUALS 40
 0033   PIPAZ    EQUALS 41
 0034   BMAGX    EQUALS 42
 0035   RHCP     EQUALS 42
 0036   BMAGY    EQUALS 43
 0037   RHCY     EQUALS 43
 0038   BMAGZ    EQUALS 44
 0039   RHCR     EQUALS 44
 0040   INLINK   EQUALS 45
 0041   RNRAD    EQUALS 46
 0042   GYROCTR  EQUALS 47
 0043   GYROCMD  EQUALS 47
 0044   CDUXCMD  EQUALS 50
 0045   CDUYCMD  EQUALS 51
 0046   CDUZCMD  EQUALS 52
 0047   OPTYCMD  EQUALS 53
 0048   OPTXCMD  EQUALS 54
 0049   EMSD     EQUALS 55
 0050   THRUST   EQUALS 55
 0051   LEMONM   EQUALS 56
 0052   OUTLINK  EQUALS 57
 0053  2ALTM     EQUALS 60
R0054  2         VAC-RELATIVE INTERPRETER ASSIGNMENTS:
 0055   LVSQUARE EQUALS 34D             SQUARE OF VECTOR INPUT TO ABVAL AND UNIT
 0056   LV       EQUALS 36D             LENGTH OF VECTOR INPUT TO UNIT.
 0057   X1       EQUALS 38D             INTERPRETIVE SPECIAL REGISTERS RELATIVE
 0058   X2       EQUALS 39D             TO THE WORK AREA.
 0059   S1       EQUALS 40D
 0060   S2       EQUALS 41D
 0061   QPRET    EQUALS 42D
P0062  2GENERAL ERASABLE ASSIGNMENTS.
 0063  2         SETLOC 61
R0064  2         THE FOLLOWING SET COMPRISES THE INTERRUPT TEMPORARY STORAGE POO
 0065  9L.
R0066            ANY OF THESE MAY BE USED AS TEMPORARIES DURING INTERRUPT OR WIT
 0067  9H INTERRUPT INHIBITED. THE ITEMP SERIES
R0068  2IS USED DURING CALLS TO THE EXECUTIVE AND WAITLIST - THE RUPTREGS ARE NO
 0069  9T.
 0070   ITEMP1   ERASE
 0071   WAITEXIT EQUALS ITEMP1
 0072  2EXECTEM1 EQUALS ITEMP1
 0073   ITEMP2   ERASE
 0074   WAITBANK EQUALS ITEMP2
 0075  2EXECTEM2 EQUALS ITEMP2
 0076   ITEMP3   ERASE
 0077   WAITADR  EQUALS ITEMP3
 0078  2NEWPRIO  EQUALS ITEMP3
 0079   ITEMP4   ERASE
 0080   LOCCTR   EQUALS ITEMP4
 0081  2WAITTEMP EQUALS ITEMP4
 0082   ITEMP5   ERASE
 0083  2NEWLOC   EQUALS ITEMP5
 0084   ITEMP6   ERASE
A0085  2NEWLOC+1 EQUALS ITEMP6          DP ADDRESS.
 0086            SETLOC 67              NEWJOB MUST BE IN LOCATION 67.
 0087  2NEWJOB   ERASE                         ----
 0088   RUPTREG1 ERASE
 0089   RUPTREG2 ERASE
 0090   RUPTREG3 ERASE
 0091   RUPTREG4 ERASE
 0092   KEYTEMP1 EQUALS RUPTREG4
 0093  2DSRUPTEM EQUALS RUPTREG4
 0094   RCSMONT1 EQUALS RUPTREG1        FOUR TEMPORARIES USED BY RCSMONIT
 0095   RCSMONT2 EQUALS RCSMONT1 +1     ROUTINE (PART OF T4RUPT).  THEIR ORDER
 0096   RCSMONT3 EQUALS RCSMONT1 +2     IS NOT IMPORTANT, & THEY DON'T EVEN HAVE
 0097   RCSMONT4 EQUALS RCSMONT1 +3     TO BE ADJACENT LOCATIONS.
P0098  2         FLAG & SWITCH RESERVATIONS.
 0099  2STATE    ERASE  +7              120 SWITCHES
 0100   FLAGWRD1 EQUALS STATE +1
 0101   FLAGWRD2 EQUALS STATE +2
 0102   DAPBOOLS EQUALS STATE +3
 0103  2FLAGWRD4 EQUALS STATE +4
 0104   LMPJFAIL EQUALS STATE +5
 0105   CH5MASK  EQUALS STATE +6
 0106  2CH6MASK  EQUALS STATE +7
R0107  2         INTERPRETIVE SWITCH BIT ASSIGNMENTS:
 0108   WMATFLAG EQUALS 0
 0109   JSWITCH  EQUALS 1
 0110   MIDFLAG  EQUALS 2
 0111   MOONFLAG EQUALS 3
 0112   NBSMBIT  EQUALS 4
 0113   COAROFIN EQUALS 5
 0114   IMUSE    EQUALS 7
 0115   RRUSE    EQUALS 8D
 0116   RRNBSW   EQUALS 9D
 0117   LOKONSW  EQUALS 10D
 0118   SIVBGONE EQUALS 26D
 0119   GRRFLAG  EQUALS 28D
 0120   CONVSW   EQUALS 60D
 0121   DONESW   EQUALS 61D
 0122   ITERSW   EQUALS 62D
 0123   GUESSW   EQUALS 63D
 0124   PIESW    EQUALS 64D
 0125   MOONSW   EQUALS 65D
 0126   ESCPSW   EQUALS MOONSW
 0127   SMANGLSW EQUALS MOONSW
 0128   BAKTO4   EQUALS 66D
 0129   DIRECT   EQUALS 67D
 0130   PASS     EQUALS 68D
 0131   HC       EQUALS 69D
 0132  2INTEGRSW EQUALS 70D
 0133  2ENGOFFSW EQUALS 71D
R0134   NOTE THAT FLAGWRD1 AND FLAGWRD2 CORRESPOND TO INTERPRETIVE SWITCHES 15D
 0135  9THROUGH 44D.  DAPBOOLS AND
R0136  2    FLAGWRD4 CORRESPOND TO INTERPRETIVE SWITCHES 45D THROUGH 74D.
R0137                BIT     FLAGWORD   SWITCH   SWITCH    ON-STATE
 0138  9         OFF-STATE
R0139   LOCATION    NUMBER    SYMBOL    NUMBER   SYMBOL    INDICATES
 0140  9         INDICATES
R0141  4--------   --------  --------   ------   ------    ---------
 0142  9         ---------
R0143   STATE         1                   14               AVAILABLE
R0144                 2                   13               AVAILABLE
R0145                 3                   12               AVAILABLE
R0146                 4                   11               AVAILABLE
R0147                 5      LOKONFLG     10    LOKONSW    RADAR LOCK-ON REQUEST
 0148  9         NO RADAR LOCK-ON REQUEST
R0149
 0150  9            (LOCKED ON 0)
R0151                 6                    9    RRNBSW     RADAR TARGET IN NAVIG
 0152  9ATION    RADAR TARGET IN STABLE MEMBER
R0153                                                         BASE COORDINATES
 0154  9            COORDINATES
R0155                 7      RRUSEFLG      8    RRUSE      RENDEZVOUS RADAR IN U
 0156  9SE       RENDEZVOUS RADAR NOT IN USE
R0157
 0158  9            (LOCKED ON 0)
R0159                 8      IMUSEFLG      7    IMUSE      IMU IN USE
 0160  9         IMU NOT IN USE
R0161                 9                    6               AVAILABLE
R0162                10                    5    COAROFIN   VECTOR IN NAVIGATION
 0163  9BASE     VECTOR IN STABLE MEMBER
R0164                                                         COORDINATES
 0165  9            COORDINATES
R0166                11                    4    NBSMBIT    STAR POSITION IN NAVI
 0167  9GATION   STAR POSITION IN STABLE
R0168                                                         BASE COORDINATES
 0169  9            MEMBER COORDINATES
R0170                12                    3    MOONFLAG   LUNAR ORBIT
 0171  9         EARTH ORBIT  (LOCKED ON 0)
R0172                13                    2    MIDFLAG    MID-COURSE ORBIT
 0173  9         EARTH OR LUNAR LOCAL ORBIT
R0174
 0175  9            (LOCKED ON 0)
R0176                14                    1    JSWITCH    W-MATRIX BEING EXTRAP
 0177  9OLATED   STATE VECTOR BEING
R0178
 0179  9            EXTRAPOLATED  (LOCKED ON 0)
R0180                15                    0    WMATFLAG   W-MATRIX TO BE EXTRAP
 0181  9OLATED   NO W-MATRIX EXTRAPOLATION
R0182  4
 0183  9            (LOCKED ON 0)
R0184   FLAGWRD1      1                   29               AVERAGE G INTEGRATING
 0185  9         AVERAGE G NOT INTEGRATING
R0186                 2                   28               GUIDANCE REFERENCE RE
 0187  9LEASE    GUIDANCE REFERENCE RELEASE
R0188                                                         HAS OCCURRED
 0189  9            HAS NOT OCCURRED
R0190                                                       -
 0191  9                                   -
R0192                 3                   27               CCC FAILURE.  NO FURT
 0193  9HER      UPLINK ERROR RESET OR NO CCC
R0194                                                         UPLINK COMMANDS EX
 0195  9CEPT        FAILURE
R0196                                                         ERROR RESET ACCEPT
 0197  9ED
R0198                 4                   26    SIVBGONE   SIVB JETTISONED
 0199  9         SIVB ATTACHED
R0200                 5      ENGINBIT     25               TO DV MONITOR ENGINE
 0201  9SHOULD   TO DV MONITOR ENGINE SHOULD
R0202                                                         BE ON
 0203  9            BE OFF
R0204                 6                   24               GO TO ENDOFJOB AT AVG
 0205  9END      GO TO POOH AT AVGEND
R0206                 7                   23               AVAILABLE
R0207                 8                   22               FINE ALIGN INHIBITED
 0208  9DUE TO   FINE ALIGN ALLOWED
R0209                                                         GIMBAL LOCK
R0210                 9                   21               AVAILABLE
R0211                10                   20               AVAILABLE
R0212                11                   19               AVAILABLE
R0213                12                   18               NORMAL RESTART ALLOWE
 0214  9D        FAKE START ALLOWED
R0215                13                   17               EXCESSIVE TUMBLING
 0216  9         NO EXCESSIVE TUMBLING
R0217                14                   16               TUMBLE MONITOR ON
 0218  9         TUMBLE MONITOR OFF
R0219  4             15                   15               AVAILABLE
R0220   FLAGWRD2      1                   44               RCS COLD SOAK INHIBIT
 0221  9         RCS COLD SOAK ALLOWED
R0222
 0223  9            (CAN BE SET TO 0 ONLY BY
R0224
 0225  9            UPDATE V73)
R0226                 2                   43               DPS COLD SOAK INHIBIT
 0227  9         DPS COLD SOAK ALLOWED
R0228                 3                   42               RCS TESTING INHIBIT
 0229  9         RCS TESTING ALLOWED  (CAN BE
R0230
 0231  9            SET TO 0 ONLY BY UPDATE V73)
R0232                 4                   41               TRIM GIMBAL DISENABLE
 0233  9D DUE    TRIM GIMBAL ALLOWED
R0234                                                         TO THROTTLING
R0235                 5                   40               MISSION PHASE TIMERS
 0236  9ENABLED  MISSION PHASE TIMERS NOT
R0237
 0238  9            ENABLED
R0239                 6                   39               V33 VERIFICATION OF U
 0240  9PDATE    V33 VERIFICATION OF UPDATE
R0241                                                         PROGRAM WHEN INVER
 0242  9TED         PROGRAM WHEN INVERTED
R0243                 7                   38               ORBITAL INTEGRATION
 0244  9         ORBITAL INTEGRATION NOT
R0245                                                         INTEGRATING
 0246  9            INTEGRATING
R0247                 8                   37               ASC FEED TEST IN PROC
 0248  9ESS      ASC FEED TEST NOT IN PROCESS
R0249                 9                   36               ABORT COMMAND MONITOR
 0250  9 ENABLED ABORT COMMAND MONITOR NOT
R0251
 0252  9            ENABLED
R0253                10                   35               ABORT COMMAND RECEIVE
 0254  9D AND    ABORT COMMAND NOT RECEIVED OR
R0255                                                         ACCEPTED
 0256  9            NOT ACCEPTED
R0257                11                   34               KALCMANU IN PROCESS
 0258  9         KALCMANU NOT IN PROCESS
R0259                12                   33               IGNORE FINAL YAW
 0260  9         FINAL YAW ADJUSTMENT REQUIRED
R0261                13                   32               START UPDATE PROCESS
 0262  9FOR      UPDATE PROCESS FOR DESIRED CDU
R0263                                                         DESIRED CDU ANGLES
 0264  9 IN         ANGLES CONTINUES DURING
R0265                                                         KALCMANU
 0266  9            KALCMANU
R0267                14                   31               NO FINAL YAW REQUIRED
 0268  9 FOR     FINAL YAW REQUIRED FOR THREE
R0269                                                         THREE AXIS ALIGNME
 0270  9NT          AXIS ALIGNMENT
R0271                15                   30               SPACECRAFT IN NON-ACC
 0272  9ELERATED SPACECRAFT IN ACCELERATED
R0273  4                                                      FLIGHT
 0274  9            FLIGHT
R0275  4DAPBOOLS    1 - 15              45 - 59            DEFINED IN LOG SECTIO
 0276  9N "DAP INTERFACE SUBROUTINES"
R0277   FLAGWRD4      1                   74               AVAILABLE
R0278                 2                   73               AVAILABLE
R0279                 3                   72               AVAILABLE
R0280                 4                   71    ENGOFFSW   ENGINE OFF COMMAND HA
 0281  9S BEEN   ENGINE OFF COMMAND HAS NOT
R0282                                                         SENT AND FURTHER C
 0283  9OMMANDS     BEEN SENT AND COMMAND IS
R0284                                                         ARE PROHIBITED
 0285  9            ALLOWED
R0286                 5                   70    INTEGRSW   IGNITION STATE DELAYE
 0287  9D        NORMAL IGNITION STATE
R0288                 6                   69    HC         RCO NOT CONTROLLED
 0289  9         RCO CONSTRAINED
R0290                 7                   68    PASS       BYPASS TCO CALC IN AS
 0291  9CENT     DO TCO CALCULATION
R0292                 8                   67    DIRECT     ASCENT EQ SET FOR MP
 0293  913       ASCENT EQ SET FOR MP 4
R0294                 9                   66    BAKTO4     TGO ESTIMATOR USED IN
 0295  9 MP4     TGO ESTIMATOR USED IN ASCENT
R0296
 0297  9            STEERING
R0298                10                   65    MOONSW     INSIDE MOONSPHERE
 0299  9         OUTSIDE MOONSPHERE
R0300
 0301  9            (LOCKED ON 0)
R0302                10                   65    ESCPSW     HYPERBOLIC TRAJECTORY
 0303  9         ELLIPTICAL ORBIT  (LOCKED ON 0)
R0304                10                   65    SMANGLSW   NORMALIZED TIME
 0305  9         TIME SCALED +7 (LOCKED ON 0)
R0306                11                   64    PIESW      TRANSFER ANGLE GREATE
 0307  9R THAN   TRANSFER ANGLE LESS THAN
R0308                                                         180 DEGREES
 0309  9            180 DEGREES
R0310                12                   63    GUESSW     GUESS IS AVAILABLE
 0311  9         LAMBERT COMPUTES GUESS
R0312                13                   62    ITERSW     FIRST LAMBERT ITERATI
 0313  9ON       OTHER THAN FIRST LAMBERT
R0314
 0315  9            ITERATION
R0316                14                   61    DONESW     LAMBERT ROUTINE COMPL
 0317  9ETION    LAMBERT ROUTINE NOT COMPLETE
R0318                15                   60    CONVSW     LAMBERT ROUTINE
 0319  9         LAMBERT ROUTINE CONVERGENCE
R0320                                                         NON-CONVERGENCE
P0321  2         THE FOLLOWING ARE EXECUTIVE TEMPORARIES WHICH MAY BE USED BETWE
 0322  9EN CCS NEWJOB INQUIRIES.
 0323   INTB15+  ERASE                  REFLECTS 15TH BIT OF INDEXABLE ADDRESSES
 0324   DSEXIT   =      INTB15+         RETURN FOR DSPIN
 0325   EXITEM   =      INTB15+         RETURN FOR SCALE FACTOR ROUTINE SELECT
 0326  2BLANKRET =      INTB15+         RETURN FOR 2BLANK
 0327   INTBIT15 ERASE                  SIMILAR TO ABOVE.
 0328   WRDRET   =      INTBIT15        RETURN FOR 5BLANK
 0329   WDRET    =      INTBIT15        RETURN FOR DSPWD
 0330   DECRET   =      INTBIT15        RETURN FOR PUTCOM(DEC LOAD)
 0331  221/22REG =      INTBIT15        TEMP FOR CHARIN
R0332  2         THE REGISTERS BETWEEN ADDRWD AND PRIORITY MUST STAY IN THE FOLL
 0333  9OWING ORDER FOR INTERPRETIVE TRACE.
 0334  2ADDRWD   ERASE                  12 BIT INTERPRETIVE OPERAND SUB-ADDRESS.
 0335   POLISH   ERASE                  HOLDS CADR MADE FROM POLISH ADDRESS.
 0336   UPDATRET =      POLISH          RETURN FOR UPDATNN, UPDATVB
 0337   CHAR     =      POLISH          TEMP FOR CHARIN
 0338   ERCNT    =      POLISH          COUNTER FOR ERROR LIGHT RESET
 0339   DECOUNT  =      POLISH          COUNTER FOR SCALING AND DISPLAY (DEC)
 0340  2PWRPTR   =      POLISH          ROOTPSRS PWR TABL POINTER
 0341  2FIXLOC   ERASE                  WORK AREA ADDRESS.
 0342  2OVFIND   ERASE                  SET NON-ZERO ON OVERFLOW.
 0343   VBUF     ERASE  +5              TEMPORARY STORAGE USED FOR VECTORS.
 0344   SGNON    =      VBUF            TEMP FOR +,- ON
 0345   NOUNTEM  =      VBUF            COUNTER FOR MIXNOUN FETCH
 0346   DISTEM   =      VBUF            COUNTER FOR OCTAL DISPLAY VERBS
 0347  2DECTEM   =      VBUF            COUNTER FOR FETCH (DEC DISPLAY VERBS)
 0348   SGNOFF   =      VBUF    +1      TEMP FOR +,- ON
 0349   NVTEMP   =      VBUF    +1      TEMP FOR NVSUB
 0350  2SFTEMP1  =      VBUF    +1      STORAGE FOR SF CONST HI PART(=SFTEMP2-1)
 0351   CODE     =      VBUF    +2      FOR DSPIN
 0352   SFTEMP2  =      VBUF    +2      STORAGE FOR SF CONST LO PART(=SFTEMP1+1)
 0353  2DXCRIT   =      VBUF     +2     ROOTPSRS CRITERION FOR ENDING ITERS HI
 0354   MIXTEMP  =      VBUF    +3      FOR MIXNOUN DATA
R0355   ALSO MIXTEMP+1 = VBUF+4, MIXTEMP+2 = VBUF+5.
 0356   SIGNRET  =      VBUF    +3      RETURN FOR +,- ON
 0357  2DXCRIT+1 =      VBUF     +3     ROOTPSRS CRITERION FOR ENDING ITERS LO
 0358  2ROOTPS   =      VBUF     +4     ROOTPSRS ROOT HI ORDER
 0359  2ROOTPS+1 =      VBUF     +5     ROOTPSRS ROOT LO ORDER
 0360   BUF      ERASE  +2              TEMPORARY SCALAR STORAGE.
 0361   INDEXLOC EQUALS BUF             CONTAINS ADDRESS OF SPECIFIED INDEX.
 0362  2SWWORD   EQUALS BUF             ADDRESS OF SWITCH WORD.
 0363  2SWBIT    EQUALS BUF +1          SWITCH BIT WITHIN SWITCH WORD.
 0364  2RETROOT  =      BUF      +2     ROOTPSRS RETURN ADDRESS OF USER
 0365  2BUF2     ERASE  +1
 0366   MPTEMP   ERASE                  TEMPORARY USED IN MULTIPLY AND SHIFT
 0367  2DMPNTEMP =      MPTEMP          DMPNSUB TEMPORARY
 0368   DOTINC   ERASE                  COMPONENT INCREMENT FOR DOT SUBROUTINE.
 0369   DVSIGN   EQUALS DOTINC          DETERMINES SIGN OF DDV RESULT.
 0370   ESCAPE   EQUALS DOTINC          USED IN ARCSIN/ARCCOS.
 0371  2ENTRET   =      DOTINC          EXIT FROM ENTER
 0372   DOTRET   ERASE                  RETURN FROM DOT SUBROUTINE.
 0373   DVNORMCT EQUALS DOTRET          DIVIDEND NORMALIZATION COUNT IN DDV.
 0374   ESCAPE2  EQUALS DOTRET          ALTERNATE ARCSIN/ARCCOS SWITCH.
 0375   WDCNT    =      DOTRET          CHAR COUNTER FOR DSPWD
 0376  2INREL    =      DOTRET          INPUT BUFFER SELECTOR ( X,Y,Z, REG )
 0377   MATINC   ERASE                  VECTOR INCREMENT IN MXV AND VXM.
 0378   MAXDVSW  EQUALS MATINC          +0 IF DP QUOTIENT IS NEAR ONE - ELSE -1.
 0379   POLYCNT  EQUALS MATINC          POLYNOMIAL LOOP COUNTER
 0380   DSPMMTEM =      MATINC          DSPCOUNT SAVE FOR DSPMM
 0381   MIXBR    =      MATINC          INDICATOR FOR MIXED OR NORMAL NOUN
 0382  2PWRCNT   =      MATINC          ROOTPSRS DER TABL LOOP COUNTER
 0383   TEM1     ERASE                  EXEC TEMP
 0384   POLYRET  =      TEM1
 0385   DSREL    =      TEM1            REL ADDRESS FOR DSPIN
 0386  2DERPTR   =      TEM1            ROOTPSRS DER TABL POINTER
R0387            THE FOLLOWING 10 REGISTERS ARE USED FOR TEMPORARY STORAGE OF TH
 0388  9E DERIVATIVE COEFFICIENT TABLE OF
R0389   SUBROUTINE ROOTPSRS.  THEY MUST REMAIN WITHOUT INTERFERENCE WITH ITS SUB
 0390  9ROUTINES WHICH ARE POWRSERS (POLY),
R0391  2DMPSUB, DMPNSUB, SHORTMP, DDV/BDDV, ABS, AND USPRCADR.
 0392   TEM2     ERASE                  EXEC TEMP
 0393   DSMAG    =      TEM2            MAGNITUDE STORE FOR DSPIN
 0394   IDADDTEM =      TEM2            MIXNOUN INDIRECT ADDRESS STORAGE
 0395  2DERCOF-8 =      MPAC     -12    ROOTPSRS DER COF N-4 HI ORDER
 0396   TEM3     ERASE                  EXEC TEMP
 0397   COUNT    =      TEM3            FOR DSPIN
 0398  2DERCOF-7 =      MPAC     -11    ROOTPSRS DER COF N-4 LO ORDER
 0399   TEM4     ERASE                  EXEC TEMP
 0400   LSTPTR   =      TEM4            LIST POINTER FOR GRABUSY
 0401   RELRET   =      TEM4            RETURN FOR RELDSP
 0402   FREERET  =      TEM4            RETURN FOR FREEDSP
 0403  2DERCOF-6 =      MPAC     -10    ROOTPSRS DER COF N-3 HI ORDER
 0404   TEM5     ERASE                  EXEC TEMP
 0405   NOUNADD  =      TEM5            TEMP STORAGE FOR NOUN ADDRESS
 0406  2DERCOF-5 =      MPAC     -7     ROOTPSRS DER COF N-3 LO ORDER
 0407   NNADTEM  ERASE                  TEMP FOR NOUN ADDRESS TABLE ENTRY
 0408  2DERCOF-4 =      MPAC     -6     ROOTPSRS DER COF N-2 HI ORDER
 0409   NNTYPTEM ERASE                  TEMP FOR NOUN TYPE TABLE ENTRY
 0410  2DERCOF-3 =      MPAC     -5     ROOTPSRS DER COF N-2 LO ORDER
 0411   IDAD1TEM ERASE                  TEMP FOR INDIR ADRESS TABLE ENTRY(MIXNN)
A0412                                   MUST = IDAD2TEM-1, = IDAD3TEM-2.
 0413  2DERCOF-2 =      MPAC     -4     ROOTPSRS DER COF N-1 HI ORDER
 0414   IDAD2TEM ERASE                  TEMP FOR INDIR ADRESS TABLE ENTRY(MIXNN)
A0415                                   MUST = IDAD1TEM+1, = IDAD3TEM-1.
 0416  2DERCOF-1 =      MPAC     -3     ROOTPSRS DER COF N-1 LO ORDER
 0417   IDAD3TEM ERASE                  TEMP FOR INDIR ADRESS TABLE ENTRY(MIXNN)
A0418                                   MUST = IDAD1TEM+2, = IDAD2TEM+1.
 0419  2DERCOFN  =      MPAC     -2     ROOTPSRS DER COF N   HI ORDER
 0420   RUTMXTEM ERASE                  TEMP FOR SF ROUT TABLE ENTRY(MIXNN ONLY)
 0421  2DERCOF+1 =      MPAC     -1     ROOTPSRS DER COF N   LO ORDER
R0422  2         STORAGE USED BY THE EXECUTIVE.
 0423   MPAC     ERASE  +6              MULTI-PURPOSE ACCUMULATOR.
 0424   MODE     ERASE                  +1 FOR TP, +0 FOR DP, OR -1 FOR VECTOR.
 0425   LOC      ERASE                  LOCATION ASSOCIATED WITH JOB.
 0426   BANKSET  ERASE                  USUALLY CONTAINS BBANK SETTING.
 0427   PUSHLOC  ERASE                  WORD OF PACKED INTERPRETIVE PARAMETERS.
 0428  2PRIORITY ERASE                  PRIORITY OF PRESENT JOB AND WORK AREA.
 0429  2         ERASE  +71D            SEVEN SETS OF 12 REGISTERS EACH.
P0430  4THE FOLLOWING REGISTERS ARE RESERVED FOR PINBALL
R0431  2RESERVED FOR PINBALL EXECUTIVE ACTION
 0432   DSPCOUNT ERASE                  DISPLAY POSITION INDICATOR
 0433   DECBRNCH ERASE                  +DEC, - DEC, OCT INDICATOR
 0434   VERBREG  ERASE                  VERB CODE
 0435   NOUNREG  ERASE                  NOUN CODE
 0436   XREG     ERASE                  R1 INPUT BUFFER
 0437   YREG     ERASE                  R2 INPUT BUFFER
 0438   ZREG     ERASE                  R3 INPUT BUFFER
 0439   XREGLP   ERASE                  LO PART OF XREG (FOR DEC CONV ONLY)
 0440   YREGLP   ERASE                  LO PART OF YREG (FOR DEC CONV ONLY)
 0441   ZREGLP   ERASE                  LO PART OF ZREG (FOR DEC CONV ONLY)
 0442   MODREG   ERASE                  MODE CODE
 0443   DSPLOCK  ERASE                  KEYBOARD/SUBROUTINE CALL INTERLOCK
 0444   REQRET   ERASE                  RETURN REGISTER FOR LOAD
 0445   LOADSTAT ERASE                  STATUS INDICATOR FOR LOADTST
 0446   CLPASS   ERASE                  PASS INDICATOR CLEAR
 0447   NOUT     ERASE                  ACTIVITY COUNTER FOR DSPTAB
 0448   NOUNCADR ERASE                  MACHINE CADR FOR NOUN
 0449   MONSAVE  ERASE                  N/V CODE FOR MONITOR. (= MONSAVE1-1)
 0450   MONSAVE1 ERASE                  NOUNCADR FOR MONITOR(MATBS) =MONSAVE +1
 0451   DSPTAB   ERASE  +11D            0-10D, DISPLAY PANEL BUFF. 11D, C/S LTS.
 0452   CADRSTOR ERASE                  ENDIDLE STORAGE
 0453   GRABLOCK ERASE                  INTERNAL INTERLOCK FOR DISPLAY SYSTEM
 0454   NVQTEM   ERASE                  NVSUB STORAGE FOR CALLING ADDRESS
A0455                                   MUST = NVBNKTEM-1
 0456   NVBNKTEM ERASE                  NVSUB STORAGE FOR CALLING BANK
A0457                                   MUST = NVQTEM+1
 0458   DSPLIST  ERASE          +2      WAITING LIST FOR DSP SYST INTERNAL USE
 0459   EXTVBACT ERASE                  EXTENDED VERB ACTIVITY INTERLOCK
 0460   DSPTEM1  ERASE          +2      BUFFER STORAGE AREA 1 (MOSTLY FOR TIME)
 0461   DSPTEM2  ERASE          +2      BUFFER STORAGE AREA 2 (MOSTLY FOR DEG)
R0462  4END OF ERASABLES RESERVED FOR PINBALL EXECUTIVE ACTION
R0463  2RESERVED FOR PINBALL INTERRUPT ACTION
 0464   DSPCNT   ERASE                  COUNTER FOR DSPOUT
A0465                                   RECEPTION OF A BAD MESSAGE IN UPLINK)
R0466  4END OF ERASABLES RESERVED FOR PINBALL INTERRUPT ACTION
P0467  2ASSIGNMENTS FOR T4RUPT PROGRAM
 0468   T4LOC    ERASE
 0469   DSRUPTSW ERASE
 0470   DIDFLG   ERASE
 0471   ALT      ERASE  +1
 0472   ALTRATE  ERASE
 0473   FINALT   ERASE  +1              (MAY NOT BE REQUIRED FOR FLIGHTS).
 0474   LGYRO    ERASE
 0475   FORVEL   ERASE
 0476   LATVEL   ERASE
 0477   LASTYCMD ERASE
 0478  2LASTXCMD ERASE
 0479   ALTSAVE  ERASE  +1
R0480  4END OF T4RUPT ASSIGNMENTS
 0481   IMODES30 ERASE
 0482   IMODES33 ERASE
 0483   MODECADR ERASE  +3
 0484   IMUCADR  EQUALS MODECADR
 0485   AOTCADR  EQUALS MODECADR +1
 0486   OPTCADR  EQUALS AOTCADR
 0487   RADCADR  EQUALS MODECADR +2
 0488  2ATTCADR  EQUALS MODECADR +3
 0489   MARKSTAT ERASE
 0490   XYMARK   ERASE
 0491  2DB       ERASE
R0491022START CODING FOR MODULE 3 REMAKE, AUGUST 1967***START CODING FOR MODULE
 04910393 REMAKE, AUGUST 1967******************
 0491062/TEMP1/  ERASE
 049107 SMARTFLG ERASE                  ANY PNZ VALUE REQUESTS SMARTJOB.
R0491082**END CODING FOR MODULE 3 REMAKE, AUGUST 1967****END CODING FOR MODULE
 04910993 REMAKE, AUGUST 1967******************
 0492  2         SETLOC 400
 0493   THETAD   ERASE  +2
 0494  4DELVX    ERASE  +5
R0495            DOWNLINK LIST ADDRESS.
 0496  2DNLSTADR ERASE
R0497  2RADAR ERASABLE
 0498   RADMODES ERASE
 0499   SAMPLIM  ERASE
 0500   SAMPLSUM ERASE  +1
 0501   SAMPSUM  EQUALS SAMPLSUM
 0502   OPTYHOLD ERASE  +1
 0503   TIMEHOLD ERASE  +1
 0504   RRTARGET EQUALS SAMPLSUM        HALF UNIT VECTOR IN SM OR NB AXES.
 0505   TANG     ERASE  +1              DESIRED TRUNNION AND SHAFT ANGLES.
 0506   MODEA    EQUALS TANG
 0507   MODEB    ERASE  +1              DODES CLOBBERS TANG +2.
 0508   NSAMP    EQUALS MODEB
 0509   DESRET   ERASE
 0510   OLDATAGD EQUALS DESRET          USED IN DATA READING ROUTINES.
 0511   DESCOUNT ERASE
R0512  2END OF RADAR ERASABLE ASSIGNMENTS
 0513   VAC1USE  ERASE
 0514   VAC1     ERASE  +42D
 0515   VAC2USE  ERASE
 0516   VAC2     ERASE  +42D
 0517   VAC3USE  ERASE
 0518   VAC3     ERASE  +42D
 0519   VAC4USE  ERASE
 0520   VAC4     ERASE  +42D
 0521   VAC5USE  ERASE
 0522  2VAC5     ERASE  +42D
 0523  2PHASENUM ERASE
 0524   1/PIPADT ERASE                  TIME BASE OR DT FOR IMU COMP IN C.S.
 0525  4OLDBT1   EQUALS 1/PIPADT        ADJACENT TO PHASENUM FOR DOWNLINK.
R0526  2KALCMANU-DAP INTERFACE:
 0527   CDUXD    ERASE   +2             CDU DESIRED REGISTERS:
 0528   CDUYD    EQUALS CDUXD +1        SCALED AT PI RADIANS (180 DEGREES)
 0529  2CDUZD    EQUALS CDUXD +2        (STORED IN 2' COMPLEMENT)
 0530   DELCDUX  ERASE   +2             NEGATIVE OF DESIRED 100MS CDU INCREMENT:
 0531   DELCDUY  EQUALS DELCDUX +1      SCALED AT PI RADIANS (180 DEGREES)
 0532  2DELCDUZ  EQUALS DELCDUX +2      (STORED IN 2' COMPLEMENT)
 0533   OMEGAPD  ERASE  +2              ATTITUDE MANEUVER DESIRED RATES
 0534   OMEGAQD  EQUALS OMEGAPD +1      (NOT EXPLICITLY REFERENCED IN GTS CNTRL)
 0535  2OMEGARD  EQUALS OMEGAPD +2      SCALED AT PI/4 RADIANS/SECOND
 0536            SETLOC 1000
 0537   T5ADR    ERASE   +1             GENADR OF NEXT LM DAP T5RUPT. * 2CADR *
A0538  2                                BBCON  OF NXT LM DAP T5RUPT. * 2CADR *
 0539  2T6NEXT   ERASE  +1              LIST OF TIME6 DT-S FOR JET LIST PROGRAM
 0540  2T6NEXTJT ERASE  +2              LIST OF JET POLICIES FOR JTLST PROGRAM
 0541   DELAYCTR ERASE                  COUNTER FOR MINIMUM IMPULSE USE OF RHC
P0542  2ERASABLE ASSIGNMENTS FOR AVERAGE G INTEGRATOR:
 0543   RN       ERASE  +5
 0544   VN       ERASE  +5
 0545   GDT/2    ERASE  +5
 0546   UNITR    ERASE  +5
 0547   UNITW    ERASE  +5
 0548   RMAG     ERASE  +1
 0549   DELV     EQUALS DELVX
 0550   RN1      ERASE  +5
 0551   VN1      ERASE  +5
 0552   GDT1/2   ERASE  +5
 0553   AVGEXIT  ERASE  +1
 0554   AVGOUTF  ERASE  +1
 0555   DVMNEXIT =      AVGOUTF
R0556  2         WAITLIST REPEAT FLAG:
 0557   RUPTAGN  ERASE
 0558  2KEYTEMP2 =      RUPTAGN         TEMP FOR KEYRUPT, UPRUPT
R0559  2         PHASE TABLE AND RESTART COUNTER.
P0560  2THE FOLLOWING ARE TO LOCATED IN UNSWITCHED ERRASSIBLE
R0561   TBASE(I) ARE USED IN WAITLIST RESTARTS
R0562   PHSPRDT(I) ARE USED TO STORE EITHER PRIORITY OR DELTA TIME FOR VARIABLE
 0563  9RESTARTS
R0564   PHASE(I) AND -PHASE(I) ARE USED TO STORE THE PHASE INFORMATION AND PHASE
 0565  9 INFORMATION COMPLEMENTED FOR EACH OF TH
R0566  2GROUPS
 0567   -PHASE1  ERASE
 0568   PHASE1   ERASE
 0569   -PHASE2  ERASE
 0570   PHASE2   ERASE
 0571   -PHASE3  ERASE
 0572   PHASE3   ERASE
 0573   -PHASE4  ERASE
 0574   PHASE4   ERASE
 0575   -PHASE5  ERASE
 0576   PHASE5   ERASE
 0577   -PHASE6  ERASE
 0578  2PHASE6   ERASE
 0579   TBASE1   ERASE
 0580   PHSPRDT1 ERASE
 0581   TBASE2   ERASE
 0582   PHSPRDT2 ERASE
 0583   TBASE3   ERASE
 0584   PHSPRDT3 ERASE
 0585   TBASE4   ERASE
 0586   PHSPRDT4 ERASE
 0587   TBASE5   ERASE
 0588   PHSPRDT5 ERASE
 0589   TBASE6   ERASE
 0590  2PHSPRDT6 ERASE
 0591   RSTRTWRD ERASE                  EACH BIT INDICATES RESTARTABILITY OF A
A0592                                   PARTICULAR MISSION PHASE.
A0593                                      ON BIT = YES IT IS RESTARTABLE.
A0594  2                                BIT NO. = MISSION PHASE NO.
R0595  2ERASABLE FOR SINGLE PRECISION SUBROUTINES.
 0596   HALFY    ERASE
 0597   ROOTRET  ERASE
 0598   SQRARG   ERASE
 0599   TEMK     EQUALS HALFY
 0600  2SQ       EQUALS ROOTRET
R0601  2         ERASABLE ASSIGNMETNS FOR LMP ROUTINES
 0602   LMPCMD   ERASE  +7              CIRCULAR BUFFER OF LAST 8 COMMANDS.
 0603   LMPIN    ERASE                  POINTS TO NEXT AVAILABLE INPUT SLOT.
 0604   LMPOUT   ERASE                  POINTS TO NEXT OUTPUT LOCATION IN BUFFER
 0605   LMPOUTT  ERASE                  INTERRIM STORAGE FOR THE ABOVE.
 0606   LMPRET   ERASE                  2CADR RETURN ADDRESS FOR SUBROUTINES.
 0607   LMPBBANK ERASE
 0608  2SAVDT    ERASE
 0609   LONGCADR ERASE  +1              UNSWITCHED ERASABLE FOR LONGCALL
 0610  2LONGTIME ERASE  +1
 0611  2CMEMORY  ERASE  +4
 0612   TEMX     EQUALS CMEMORY
 0613   TEMY     EQUALS CMEMORY +1D
 0614   TEMZ     EQUALS CMEMORY +2D
 0615   TEMXY    EQUALS CMEMORY +3D
 0616  4PIPAGE   EQUALS CMEMORY +4D
 0617   JETRESET ERASE                  MAINTAINED BY RCSMONIT.
 0618  4THISCH32 ERASE                  DITTO
R0619  2         STORAGE FOR FOR MISSION TIMER/PHASE REGISTER PAIRS.
 0620   MTIMER4  ERASE
 0621   MTIMER3  ERASE
 0622   MTIMER2  ERASE
 0623   MTIMER1  ERASE
 0624   MPHASE4  ERASE
 0625   MPHASE3  ERASE
 0626   MPHASE2  ERASE
 0627   MPHASE1  ERASE
 0628   MTIMER4T ERASE  +3              RESTART STORAGE AREAS FOR THE ABOVE.
 0629   MDUETEMP ERASE
 0630  2STATECTR ERASE                  TIMER FOR INTERNAL STATE VECTOR UPDATES.
 0631   UPPHASE  ERASE                  NEW PHASE AS SENT UP THE UPLINK.
 0632   UPDT     ERASE                  NEW DT AS SENT UP THE UPLINK.
 0633   UPINDEX  ERASE                  INDEX OF TIMER MODIFIED BY UPLINK.
 0634  2UPGET    ERASE  +1              GET FOR UPLINK REQUEST.
 0635  2MRETURN  ERASE                  RETURN REGISTER.
R0636  2PMEMORY ASSIGNMENTS
 0637   PMEMORY  ERASE  +85D
 0638   REFRRECT EQUALS PMEMORY +00D    STATE VECTORS FOR ORBITAL INTEGRATION
 0639   REFVRECT EQUALS PMEMORY +06D
 0640   DELTAV   EQUALS PMEMORY +12D    STATE DEVIATIONS
 0641   NUV      EQUALS PMEMORY +18D
 0642   REFRCV   EQUALS PMEMORY +24D
 0643   REFVCV   EQUALS PMEMORY +30D
 0644   REFTC    =      REFTCV
 0645   REFTCV   EQUALS PMEMORY +36D
 0646   TE       EQUALS PMEMORY +38D    TET,TIME CORRESPONDING TO LEM STATE
 0647   REFXKEP  EQUALS PMEMORY +40D    ROOT TO KEPLER EQUATIONS
 0648   REFSMMAT EQUALS PMEMORY +42D    TRANSFORMATION MATRIX BETWEEN SM AND REF
 0649   PIPRETRN EQUALS PMEMORY  +60D
 0650   TDECTEMP EQUALS PIPRETRN
 0651   PIPTIME  EQUALS PMEMORY  +62D
 0652   DVSELECT EQUALS PMEMORY  +64D
 0653   TEVENT   EQUALS PMEMORY +65D
 0654   MASS     EQUALS PMEMORY +72D
 0655  2CDUTEMP  EQUALS PMEMORY +80D    VECTOR USED IN FINDCDUD
 0656   /ACF/    EQUALS PMEMORY +74D
 0657   /AF/     EQUALS PMEMORY +76D
 0658   PCNTF    EQUALS PMEMORY +75D
 0659   STATIME  EQUALS PMEMORY +78D    DP DOWNLINK TIME-DONT VIOLATE THESE REGS
 0660   SLOSHCTR ERASE                  ERASABLE USED BY GIMBLMON FOR A COUNTR
 0661   STARTDVC ERASE                  VALUE FOR DVCNTR FOR ENGINE ON
 0662   STOPDVC  ERASE                  VALUE FOR DVCNTR FOR ENGINE OFF
 0663   SETDVCNT ERASE                  CONTENTS WILL BE LOADED INTO DVCNTR
 0664   RSDTTEMP ERASE                  SP TEMP USED FOR RESTART DT'S.
 0665  2TPRELTER ERASE  +1              TIME OF PRELAUNCH TERMINATION
 0666   DAPOFFDT ERASE                  TIME FROM TIG+26 IN MP11 TO TURN DAP OFF
 0667   OLDDVSEL ERASE
P0668  2ASSIGNMENTS RESERVED EXCLUSIVELY FOR SELF-CHECK
 0669   SELFERAS ERASE  1353 - 1377
 0670   ERESTORE EQUALS 1353
 0671   SELFRET  EQUALS 1354
 0672   SMODE    EQUALS 1355
 0673   REDOCTR  EQUALS 1356            DO NOT CHANGE THE ORDER OF REGISTERS RE-
 0674   SFAIL    EQUALS 1357            DOCTR THRU SCOUNT (NOUNS AND DOWNLINK).
 0675   FAILREG  EQUALS 1360
 0676   ALMCADR  EQUALS 1363
 0677   ERCOUNT  EQUALS 1365
 0678   SCOUNT   =      1366
 0679   SKEEP1   =      1371
 0680   SKEEP2   =      1372
 0681   SKEEP3   =      1373
 0682   SKEEP4   =      1374
 0683   SKEEP5   =      1375
 0684   SKEEP6   =      1376
 0685  2SKEEP7   =      1377
R0686  2WAITLIST TASK LISTS
 0687  2         SETLOC 1400
 0688   LST1     ERASE  +7              DELTA T'S.
 0689  2LST2     ERASE  +17D            2CADR TASK ADDRESSES.
 0690   LONGBASE ERASE  +1              ERASABLE FOR LONGCALL
 0691  2LONGEXIT ERASE  +1
R0692  2         IMU COMPENSATION PARAMETERS:
 0693   PBIASX   ERASE                  PIPA BIAS AND PIPA SCALE FACTOR TERMS
 0694   PIPABIAS =      PBIASX              INTERMIXED.
 0695   PIPASCFX ERASE
 0696   PIPASCF  =      PIPASCFX
 0697   PBIASY   ERASE
 0698   PIPASCFY ERASE
 0699   PBIASZ   ERASE
 0700  2PIPASCFZ ERASE
 0701   NBDX     ERASE                  GYRO BIAS DRIFTS
 0702   GBIASX   =      NBDX
 0703   NBDY     ERASE
 0704  2NBDZ     ERASE
 0705   ADIAX    ERASE                  ACCELERATION SENSITIVE DRIFT ALONG THE
 0706   ADIAY    ERASE                      INPUT AXIS
 0707  2ADIAZ    ERASE
 0708   ADSRAX   ERASE                  ACCELERATION SENSITIVE DRIFT ALONG THE
 0709   ADSRAY   ERASE                      SPIN REFERENCE AXIS
 0710  2ADSRAZ   ERASE
 0711  2GCOMP    ERASE  +5              CONTAINS COMPENSATING TORQUES
 0712   GCOMPSW  ERASE
 0713   COMMAND  EQUALS GCOMP
 0714  2CDUIND   EQUALS GCOMP +3
R0715  2         STORAGE FOR RR TASKS.
 0716   RRRET    ERASE
 0717   RDES     ERASE
 0718  2RRINDEX  ERASE
R0719   AOT CALIBRATIONS IN AZIMUTH AND ELEVATION AT DETENTS
 0720   AOTAZ    ERASE  +2
 0721   AOTEL    ERASE  +2
R0722            ASSIGNMENTS FOR PRESENTLY UNUSED NOUNS.
 0723   AZANG    EQUALS                 DELETE WHEN OPTICAL TRACKER NOUNS GONE.
 0724   ELANG    EQUALS
 0725   DESLOTSY EQUALS
 0726  2DESLOTSX EQUALS
 0727   ROLL     ERASE  +2
 0728  2LANDMARK ERASE  +5
R0729  2THE FOLLOWING REGS ARE USED BY THE STANDBY VERBS
 0730   TIMESAV  ERASE  +1
 0731   SCALSAV  ERASE  +1
 0732   TIMAR    ERASE  +1
 0733  2TIMEDIFF ERASE  +1
R0734  2THE FOLLOWING MAY BE PLACED IN SWITCHED ERRASSIBLE
R0735   PHSNAME(I) AND PHSBB(I) STORE THE 2CADR FOR VARIABLE RESTARTS FOR EACH O
 0736  9F THE GROUPS
 0737   PHSNAME1 ERASE
 0738   PHSBB1   ERASE
 0739   PHSNAME2 ERASE
 0740   PHSBB2   ERASE
 0741   PHSNAME3 ERASE
 0742   PHSBB3   ERASE
 0743   PHSNAME4 ERASE
 0744   PHSBB4   ERASE
 0745   PHSNAME5 ERASE
 0746   PHSBB5   ERASE
 0747   PHSNAME6 ERASE
 0748  2PHSBB6   ERASE
 0749   BCDU     ERASE  +2
 0750   MIS      ERASE  +17D
 0751   MFS      ERASE  +17D
 0752   TMIS     ERASE  +17D
 0753   TMFI     EQUALS TMIS
 0754   COF      ERASE  +5
 0755   CPHI     ERASE
 0756   CTHETA   ERASE
 0757   CPSI     ERASE
 0758   MFI      EQUALS MFS
 0759   COFSKEW  ERASE  +5
 0760   AM       ERASE  +1
 0761   MFISYM   EQUALS TMIS
 0762   CAM      ERASE  +1
 0763   C2SQP    EQUALS K2
 0764   C2SQM    EQUALS K2 +2
 0765   C2PP     EQUALS K2 +4
 0766   C2MP     EQUALS K3
 0767   C1PP     EQUALS K3 +2
 0768   C1MP     EQUALS K3 +4
 0769   P21      EQUALS K1
 0770   D21      EQUALS K1 +2
 0771   G21      EQUALS K1 +4
 0772   RAD      ERASE  +1
 0773   RSQ      ERASE  +1
 0774   E1       EQUALS MFS
 0775   E2       EQUALS MFS +6
 0776   IG       EQUALS COFSKEW
 0777   OGF      EQUALS TMIS +12D
 0778   K1       EQUALS TMIS
 0779   K2       EQUALS TMIS +6
 0780   K3       EQUALS TMIS +12D
 0781   KEL      EQUALS MFS
 0782   RATEINDX ERASE
 0783   SPNDX    ERASE
 0784   MYNDX    ERASE
 0785   BRATE    EQUALS COFSKEW
 0786   TM       EQUALS CAM
 0787   NCDU     EQUALS TMIS
 0788   NEXTIME  EQUALS TMIS +3
 0789   DELDCDU  EQUALS DELCDUX
 0790   DELDCDU1 EQUALS DELCDUY
 0791   DELDCDU2 EQUALS DELCDUZ
 0792   TTEMP    EQUALS TMIS +4
 0793   POINTVSM ERASE  +5
 0794   SCAXIS   ERASE  +5
 0797   TF       ERASE  +1
 0798   COGAVAIL ERASE  +1
 0799   SPLOC    ERASE  +2
 0800   UNR1     ERASE  +5
 0801   R0VEC    ERASE  +5
 0802   V0VEC    EQUALS VDVECT
 0803   UNNORM   ERASE  +5
 0804   INDEP    ERASE  +1
 0805   TWEEKIT  ERASE  +1
 0806   DEPVAR   ERASE  +1
 0807   PREVDEP  ERASE  +1
 0808   DELDEP   ERASE  +1
 0809   DELINDEP ERASE  +1
 0810   MININDEP EQUALS 22D
 0811   MAXINDEP EQUALS 26D
R0812  2 RESTRTCS-RESTRTCS +77D IS USED FOR RESTART PROTECTION DURING PRELAUNCH
 0813  2RESTRTCS =      1600
A0814                                  ERASABLE FOR MISSION PHASE TWO
 0815   TGRR     ERASE  +1              TIME OF GUIDANCE REFERENCE RELEASE
 0816   TLIFTOFF ERASE  +1              TIME OF LIFTOFF
 0817   DT-LIFT  ERASE                  DT FROM GRR TO LIFTOFF
 0818   ABORTNDX EQUALS DT-LIFT
 0819   DT-LETJT ERASE  +1              DT FROM LIFTOFF TO POST-LET JETTISON
 0820   AZGR     ERASE  +1              PAD 37B VERTICAL TO REF X-Z PLANE.
 0821   TILT     ERASE  +1              Y ABOUT Z IN REVS.
 0822   ZSMAZ    ERASE  +1              Z FROM NORTH IN REVS.
 0823   TEPHEM   ERASE  +2              TP CS FROM 00:00:00 JULY 1 TO 00:00:00
 0824   AZ0      ERASE  +1              ANGLE BETWEEN GREENWICH AND X-Z PLANE
 0825   P37BLAT  ERASE  +1              LAUNCH PAD LATITUDE
 0826   P37BLONG ERASE  +1              LAUNCH PAD LONGITUDE
A0827                                    OF LAUNCH DAY.
 0828   DELVBUF  ERASE  +5              HOLDS VEL CORR WHEN L/O CAUGHT BY DVMON.
 0829  4GLIFTOFF EQUALS DELVBUF         WRITTEN OVER VIA DELVBUF AFTER GRR SET
 0830   MP6TO7   ERASE                  ERASABLE FOR MP6
 0831  2MP8TO9   ERASE                  ERASABLE FOR MISSION PHASE 8
 08315  RSBB&Q   ERASE  +1              WILL BE FILLED WITH BB AND Q ON RESTART.
P0832  4ERASABLE ASSIGNMENTS FOR EBANK 4
 0833  2         SETLOC 2000
 0834   AMEMORY  ERASE  +150D
R0835  2         THE FOLLOWING A MEMORY LOCATIONS ARE USED BY MID-COURSE NAVIGAT
 0836  9ION
R0837   CAUTION: ORBITAL INTEGRATION REGISTERS RAVEGON, VAVEGON AND SECOND DPS G
 0838  9UIDANCE REGISTERS TPIP, TTF/4,
R0839  2TTF/4TMP, TULLG ARE ALL IN USE SIMULTANEOUSLY AND MUST NOT CONFLICT.
 0840   RRECT    EQUALS AMEMORY +000D
 0841   RIGNTION EQUALS AMEMORY +000D
 0842   VRECT    EQUALS AMEMORY +006D
 0843   VIGNTION EQUALS AMEMORY +006D
 0844   TDELTAV  EQUALS AMEMORY +012D
 0845   NEWDLTAV EQUALS AMEMORY +012D
 0846   TNUV     EQUALS AMEMORY +018D
 0847   NEWNUV   EQUALS AMEMORY +018D
 0848   RCV      EQUALS AMEMORY +024D
 0849   FOUNDR   EQUALS AMEMORY +024D
 0850   VCV      EQUALS AMEMORY +030D
 0851   FOUNDV   EQUALS AMEMORY +030D
 0852   TC       EQUALS AMEMORY +036D
 0853   TET      EQUALS AMEMORY +038D
 0854   XKEP     EQUALS AMEMORY +040D
 0855   ALPHAV   EQUALS AMEMORY +042D
 0856   DELR     EQUALS AMEMORY +042D
 0857   BETAV    EQUALS AMEMORY +048D
 0858   DELVEL   EQUALS AMEMORY +048D
 0859   PHIV     EQUALS AMEMORY +054D
 0860   BVECTOR  EQUALS AMEMORY +054D
 0861   PSIV     EQUALS AMEMORY +060D
 0862  2FV       EQUALS AMEMORY +066D
 0863  2VECTAB   EQUALS AMEMORY +072D
 0864   TAVEGON  EQUALS AMEMORY +072D
 0865   TRESUME  EQUALS AMEMORY +074D
 0866   RAVEGON  EQUALS AMEMORY +076D   SEE CAUTION ABOVE
 0867   VAVEGON  EQUALS AMEMORY +082D   SEE CAUTION ABOVE
 0868   RIG-2SEC EQUALS AMEMORY +088D
 0869   ALPHAM   EQUALS AMEMORY +108D
 0870   BETAM    EQUALS AMEMORY +110D
 0871   TAU      EQUALS AMEMORY +112D
 0872   GIVENT   EQUALS AMEMORY +112D
 0873   DT/2     EQUALS AMEMORY +114D
 0874   H        EQUALS AMEMORY +116D
 0875   TDEC     EQUALS AMEMORY +118D
 0876   ENGOFFDT EQUALS TDEC
 0877   FBRANCH  EQUALS AMEMORY +120D
 0878   HBRANCH  EQUALS AMEMORY +121D
 0879   GMODE    EQUALS AMEMORY +122D
 0880   QREADY   EQUALS AMEMORY +123D
 0881   MEASQ    EQUALS AMEMORY +124D
 0882  2DELTAQ   EQUALS AMEMORY +126D
 0883   MEASMODE EQUALS AMEMORY +128D
 0884   NVCODE   EQUALS AMEMORY +129D
 0885   MIDEXIT  EQUALS AMEMORY +130D
 0886   DSPRTRN  EQUALS AMEMORY +130D
 0887   INCORPEX EQUALS AMEMORY +131D
 0888   STEPEXIT EQUALS AMEMORY +132D
 0889   DIFEQCNT EQUALS AMEMORY +133D
 0890   NORMGAM  EQUALS AMEMORY +133D
 0891   SCALEA   EQUALS AMEMORY +134D
 0892   SCALEB   EQUALS AMEMORY +135D
 0893   YV       EQUALS AMEMORY +139D
 0894  2ZV       EQUALS AMEMORY +145D
P0895  2VARIABLES FOR SECOND DPS GUIDANCE
R0896   CAUTION: ORBITAL INTEGRATION REGISTERS RAVEGON, VAVEGON AND SECOND DPS G
 0897  9UIDANCE REGISTERS TPIP, TTF/4,
R0898  2TTF/4TMP, TULLG ARE ALL IN USE SIMULTANEOUSLY AND MUST NOT CONFLICT.
R0899   2DPS PRESENTLY RECEIVES CERTAIN VARIABLES FROM THE ORBITAL INTEGRATION P
 0900  9ROGRAM IN REGISTERS USED IN COMMON BY
R0901   THE TWO PROGRAMS. THESE VARIABLES ARE TET, RIGNTION, VIGNTION. 2DPS CARE
 0902  9FULLY TRANSFERS THESE VARIABLES TO
R0903  2REGISTERS OF PROGRAM CALCRVG BEFORE WRITING INTO THE REGISTERS IN WHICH
 0904  9THESE VARIABLES ARRIVE.
R0905   SOME TIME SHARING OF 2DPS REGISTERS BY 2DPS VARIABLES HAS BEEN ARRANGED.
 0906  9 MORE IS POSSIBLE.
R0907  2BUT IT BECOMES INCREASINGLY DIFFICULT TO PROVE RESTARTABILITY.
 0908  2E2DPS    =      AMEMORY
R0909  2CONTROL VARIABLES
 0910   NDX2DPS  =      E2DPS
 0911   NDXBR    =      NDX2DPS  +1
 0912   FLPASS0  =      NDXBR    +1
 0913   COUNTFC  =      FLPASS0  +1
 0914   COUNTFCT =      COUNTFC  +1
R0915
R0916  2ADDRESS VARIABLES
 0917   AVGXTEMP =      COUNTFCT +1
 0918   RETNTLZ  =      AVGXTEMP +1
 0919   RETXIGN1 =      RETNTLZ  +1
 0920   RETTHRT  =      RETXIGN1 +1
R0921
R0922  2COORDINATE FRAME VECTORS AND MATRICES
 0923   CLT/2    =      RETTHRT  +1
R0924
R0925  2TABLES
 0926   TABLTTF  =      CLT/2    +22
R0927
R0928  2STATE VARIABLES
 0929   PIPTIMET =      TABLTTF  +11
 0930   TPIP     =      PIPTIMET +2     SEE CAUTION ABOVE
 0931   TPIPOLD  =      TPIP     +2
 0932   TTF/4    =      TPIPOLD  +2     SEE CAUTION ABOVE
 0933   TTF/4TMP =      TTF/4    +2     SEE CAUTION ABOVE
 0934   TULLG    =      TTF/4TMP +2     SEE CAUTION ABOVE
 0935   R        =      TULLG    +2
 0936   V        =      R        +6
 0937   VL       =      V        +6
 0938   RP2      =      VL       +6
 0939   MAP2     =      RP2      +2
 0940   RC       =      MAP2     +2
 0941   RS       =      RC       +2
 0942   RTEMP    =      RS
 0943   VS       =      RS       +6
 0944   VTEMP    =      VS
 0945   CRS2     =      VS       +6
 0946   SRS2     =      CRS2     +2
 0947   TRS2     =      SRS2     +2
 0948   ASPRT    =      TRS2     +2
 0949   GDOTM1T  =      ASPRT
R0950
R0951  2AFC CALCULATION VARIABLES, QUADRATIC AND LINEAR
 0952   ACS      =      ASPRT    +6
 0953   AFCS     =      ACS      +6
 0954   AFC      =      AFCS     +6
 0955   /AFC/    =      AFC      +6
 0956   /AFC/OLD =      /AFC/    +2
 0957   UNAFC/2  =      /AFC/OLD +2
 0958   UNAFC/2O =      UNAFC/2  +6
 0959   ADLINS   =      UNAFC/2O
 0960   GDUMPRES =      UNAFC/2O +6
 0961   ADELLINS =      GDUMPRES
 0962   GDOTM1   =      GDUMPRES +6
 0963   TTFLIN/4 =      GDOTM1
R0964
R0965  2ASSIGNMENTS WITHIN THE WORK AREA
 0966   PDUM     =      6
 0967   RDUM     =      10
 0968   VDUM     =      16
 0969   ADUM     =      40              ONLY ADUM CAN USE THE AREA DESTROYED BY
 0970   JDUM     =      24              TAKING THE UNIT OF RDUM IN SUBR GDUMCL.
 0971   GDUM     =      32              PLACE GDUM TO PRESERVE /RDUM/ FOR OTHERS
R0972
R0973            COMPLETES SECOND DPS ERASABLES (EXCEPT FOR CPT6/2 WHICH IS ASSI
 0974  9GNED ELSEWHERE)
P0975  4ERASABLES FOR ASCENT GUIDANCE
R0976  2ERASABLES FOR PREAPS2
 0977   PAXIS1   EQUALS AMEMORY         VECTOR
 0978   QAXIS    EQUALS AMEMORY +6D     VECTOR
 0979   SAXIS    EQUALS AMEMORY +12D    VECTOR
 0980   AT       EQUALS AMEMORY +18D    DP    *  DO       *
 0981   VE       =      AMEMORY +20D    DP    *  NOT      *
 0982   TBUP     EQUALS AMEMORY +22D    DP    *  CHANGE    *
 0983   ATMEAS   =      AMEMORY +24D    VECTOR* THE ORDER *
 0984   KR1      EQUALS AMEMORY +30D    DP    *  OF       *
 0985   RDOTD    EQUALS AMEMORY +32D    DP    *  THESE    *
 0986   YDOTD    EQUALS AMEMORY +34D    DP    *  LOCATIONS*
 0987   ZDOTD    EQUALS AMEMORY +36D    DP    *************
 0988   RRETURN  EQUALS AMEMORY +38D    DP
 0989  4ASCRET   EQUALS AMEMORY +40D    SP
R0990  2ERASABLES FOR ASCENT
 0991   LAMPRIO  EQUALS AMEMORY +41D    SP
 0992   TCO      EQUALS AMEMORY +42D    DP
 0993   TREF     EQUALS AMEMORY +44D    DP
 0994   VTO      =      AMEMORY +46D
 0995   KR       EQUALS AMEMORY +48D    DP
 0996   YCONS    EQUALS AMEMORY +52D    DP
 0997   YDOT     EQUALS AMEMORY +54D    DP
 0998   LAXIS    EQUALS AMEMORY +56D    VECTOR
 0999   ZAXIS    EQUALS AMEMORY +62D    VECTOR
 1000   ZDOT     EQUALS AMEMORY +68D    DP
 1001   TIME     EQUALS AMEMORY +70D    DP
 1002   GEFF     EQUALS AMEMORY +72D    DP
 1003  2PCONS    EQUALS AMEMORY +74D    DP
R1004   ***  THE REGISTERS AMEMORY +76D THRU AMEMORY +87D CONTAIN RAVEGON AND VA
 1005  9VEGON, AND MUST NOT BE USED BY THE
R1006  2ASCENT EQUATIONS. *********
 1007   PRATE    EQUALS AMEMORY +88D    DP
 1008   H1       EQUALS AMEMORY +90D    VECTOR
 1009   TGO      =      AMEMORY +96D    DP
 1010   TFL      =      AMEMORY +98D    DP
 1011   RDOT     EQUALS AMEMORY +102D   DP
 1012   RY       EQUALS AMEMORY +104D   DP
 1013  4URCO     EQUALS AMEMORY +106D   VECTOR
R1014  2ERASABLES FOR THRUST MAGNITUDE FILTER
 1015   1/DV1    EQUALS ATMEAS
 1016   1/DV2    EQUALS ATMEAS +2
 1017   1/DV3    EQUALS ATMEAS +4
 1018   RCOV     =      RD
R1019   MORE OF THESE ARE IN E7.
P1020  2ERASABLES USED IN ORBITAL INTEGRATION
 1021   PBODY    ERASE                  USED IN ORBITAL INTEGRATION
 1022   W        EQUALS PBODY +1        UNUSED IN 206, BUT REFERRED TO BY
A1023  2                                ORBITAL INTEGRATION
 1024  4AVMIDRTN ERASE  +1              RETURN ADDRESS FROM AVETOMID OR MIDTOAVE
R1025  2THE FOLLOWING ARE USED BY FINDCDUD
 1026   AXISD    ERASE  +5              VECTOR
 1027   AXIS     ERASE  +5              VECTOR
 1028   COSCDU   ERASE  +5              VECTOR
 1029   SINCDU   ERASE  +5              VECTOR
 1030   RETSAVE  =      PIPRETRN
R1031  2ERASABLES FOR MISSION PHASES 7,9,11,13
R1032  2MISSION PHASE 7
 1033   DT2TEMP  ERASE
 1034  2DT2TEMPD ERASE  +1
R1035  2MISSION PHASE 9
 1036   SHJUMP1  EQUALS DT2TEMP         HOLDS ADDRESS FOR NEXT COMPUTATION
 1037   TDI      ERASE  +1              DESCENT INJECTION CUTOFF TIME
 1038   TTHRUST  EQUALS DT2TEMPD        DPS1 MANEUVER THRUST TIME
 1039   TIGN     ERASE  +1              DPS1 IGNITION TIME
 1040   UNITVG   ERASE  +5              UNIT VECTOR OF VELOCITY-TO-BE-GAINED
R1041  2MISSION PHASES 11 AND 13
 1042   MPRETRN  EQUALS DT2TEMP
 1043   DT11TEMP EQUALS DT2TEMPD
P1044  2ERASABLE STORAGE FOR UPDATES   -   NON SHARABLE
 1045   STBUFF   ERASE  +15
 1046   STCOUNT  ERASE
 1047   UPOLDMOD ERASE
 1048   UPTEMP   ERASE
 1049   UPTEMP1  ERASE
 1050   UPVERB   ERASE
 1051  4COMPNUMB ERASE
R1052  2ERASABLE STORAGE FOR DOWNLINK   -   LIMITED SHARING POSSIBLE
 1053   VDVECT   ERASE  +5              VELOCITY DESIRED
 1054   DOWN2DPS =      VDVECT
 1055   VGVECT   ERASE  +5              VELOCITY TO BE GAINED
 1056   RD       ERASE  +5              POSITION DESIRED
 1057  2TTGO     ERASE  +1              TIME TO GO IN CENTISECONDS.
R1058  3EBANK 4 NON SHARABLE ERASABLE LOAD STORAGE
 1059  3E4LOAD   ERASE  2351 - 2377
 1060  2MPDTO8   EQUALS E4LOAD          DELTA TIME FROM MP7 TO MP8
 1061  2MP9-11DT EQUALS E4LOAD +1       DELTA TIME FROM MP9 TO MP11
 1062  2MP11TO13 EQUALS E4LOAD +2       DELTA TIME FROM MP11 TO MP13
 1063  2RP       EQUALS E4LOAD +3       DP TARGET PARAMETER FOR DPS1 BURN
 1064  2CPT6/2   EQUALS E4LOAD +5       VECTOR TARGET PARAMETER FOR DPS2 BURN
 1065  2R1VEC    EQUALS E4LOAD +13      VECTOR TARGET PARAMETER FOR APS2 BURN
 1066  2TINT     EQUALS E4LOAD +21      DP TARGET PARAMETER FOR APS2 BURN
 1067  2RCO      EQUALS E4LOAD +23      DP TARGET PARAMETER FOR APS2 BURN
 1068  2TIGNTION EQUALS E4LOAD +25      DP TIME OF STATE (VPATCHER).
P1069  2ERASABLES FOR MASS UPDATE (A PART OF AVERAGE G) AND THROTTLE CONTROL
R1070  2INITIAL VALUES FOR MASS: THESE ERASABLES ARE SACROSANCT.
 1071  2LEMMASS2 ERASE  3776 - 3777
 1072  2LEMMASS1 =      MPAC            *******TEMPORARY************************
R1073  2ERASABLES FOR MASS UPDATE ROUTINE
 1074   EVEX     =      SAVERASE +30D
 1075   VEXDEX   =      EVEX
 1076   PREFORCE =      EVEX +1
 1077   VEXNOM   =      EVEX +3
 1078   DELAREA  =      EVEX +5
 1079   AREARATE =      EVEX +7
 1080   NEGVEX   =      EVEX +11
 1081   DAREATMP =      EVEX +13
 1082   MASSTEMP =      EVEX +15
 1083  2MINIMASS =      EVEX +17
 1084   ETHROT   =      SAVERASE +47D
 1085   FOLD     =      ETHROT
 1086   FCOLD    =      ETHROT +2
 1087   FC       =      ETHROT +3
 1088   PIF      =      ETHROT +5
 1089   PIFPSET  =      ETHROT +7
 1090   RTNHOLD  =      ETHROT +7
 1091  2FWEIGHT  =      ETHROT +11
P1092  3
R1093  2 THE FOLLOWING ERASABLE REGISTERS ARE USED BY THE  ENTRY AND INITIALIZAT
 1094  9ION JOB OF THE FCS TEST FOR LEM.
 1095  2FCSCNTR  EQUALS AMEMORY +000D
R1096  2  THE FOLLOWING ERASABLE REGISTERS ARE USED BY THE JETSET TASK.
R1097  2(OPTIMUM PRELAUNCH A C USES JETSTEP-JETSTEP +77D FOR RESTART PROOF)
 1098   XJBUF    EQUALS AMEMORY +001D
 1099   YZJBUF   EQUALS AMEMORY +002D
 1100   JFBUF    EQUALS AMEMORY +003D
 1101   FCNTR    EQUALS AMEMORY +004D
 1102   THBUF    EQUALS AMEMORY +005D
 1103   OFFTMBUF EQUALS AMEMORY +006D
 1104   JETSTEP  EQUALS AMEMORY +007D
 1105   NTIMES   EQUALS AMEMORY +008D
 1106   NEXTTIME EQUALS AMEMORY +016D
 1107   JETONTM  EQUALS AMEMORY +024D
 1108   XJETS    EQUALS AMEMORY +032D
 1109   YZJETS   EQUALS AMEMORY +040D
 1110  2JETOFFTM EQUALS AMEMORY +048D
R1111  2   THE FOLLOWING ERASABLE REGISTERS ARE USED BY THE ENGINE ON-OFF TASK.
 1112   ENGSTEP  EQUALS AMEMORY +056D
 1113   CYLTIMES EQUALS AMEMORY +057D
 1114   NEXTCYLT EQUALS AMEMORY +060D
 1115   ONTIME   EQUALS AMEMORY +063D
 1116   OFFTIME  EQUALS AMEMORY +066D
 1117  2OFFTIMER EQUALS AMEMORY +069D
R1118  2  THE FOLLOWING ERASABLE REGISTERS ARE USED BY THE TRIM TASK.
 1119   TRIMSTEP EQUALS AMEMORY +072D
 1120   NUMTIMES EQUALS AMEMORY +073D
 1121   STEPDLYT EQUALS AMEMORY +085D
 1122   TRIMONT  EQUALS AMEMORY +097D
 1123   TRIMOFFT EQUALS AMEMORY +109D
 1124  2TRIMIND  EQUALS AMEMORY +121D
R1125  2  THE FOLLOWING ERASABLE REGISTERS ARE USED BY THE THROTTLE TASK.
 1126   THRTSTEP EQUALS AMEMORY +133D
 1127   DOTIMES  EQUALS AMEMORY +134D
 1128   DELAY    EQUALS AMEMORY +140D
 1129   THR1TIME EQUALS AMEMORY +146D
 1130   THCOMM1  EQUALS AMEMORY +152D
 1131  2THCOMM2  EQUALS AMEMORY +158D
R1132  2 THE FOLLOWING ERASABLE REGISTERS ARE USED BY THE INTERFACE LOOK TASK.
 1133   30BUF1   EQUALS AMEMORY +164D
 1134   30BUF0   EQUALS AMEMORY +168D
 1135   QUITLOOK EQUALS AMEMORY +172D
 1136  2CHCNTR   EQUALS AMEMORY +173D
 1137            SETLOC 2400
R1138  2THE FOLLOWING ERASABLE LOCATIONS ARE UTILIZED BY THE IN-FLIGHT ALIGNMENT
 1139  9 ROUTINES
 1140   XSM      ERASE  +17D
 1141   YSM      =      XSM +6
 1142   ZSM      =      XSM +12D
 1143   XDC      ERASE  +17D
 1144   YDC      =      XDC +6
 1145   ZDC      =      XDC +12D
 1146   XNB      =      XDC
 1147   YNB      =      XDC +6
 1148   ZNB      =      XDC +12D
 1149   STARAD   ERASE  +17D
 1150   STAR     ERASE  +5
 1151   SAC      ERASE  +1
 1152   PAC      ERASE  +1
 1153   OGC      ERASE  +1
 1154   IGC      ERASE  +1
 1155   MGC      ERASE  +1
 1156   ZPRIME   =      22D
 1157   PDA      =      22D
 1158   COSTH    =      16D
 1159   SINTH    =      18D
 1160   THETA    =      20D
 1161  4STARM    =      32D
R1162  2THE FOLLOWING ERASABLE LOCATIONS ARE UTILIZED BY THE SYSTEM TESTS
 1163   AZIMUTH  ERASE  +1
 1164  2LATITUDE ERASE  +1
 1165   EROPTN   ERASE
 1166   ERVECTOR ERASE  +5
 1167   GYROD    ERASE  +5
 1168   LENGTHOT ERASE
 1169   LOSVEC   ERASE  +5
 1170   NBPOS    ERASE
 1171   NDXCTR   ERASE
 1172   PIPANO   ERASE
 1173   PIPINDEX ERASE
 1174   PIPNDX   ERASE  +1
 1175   POSITON  ERASE
 1176   QPLAC    ERASE
 1177   QPLACE   ERASE
 1178   QPLACES  ERASE
 1179   RUN      ERASE
 1180   STOREPL  ERASE
 1181   SOUTHDR  ERASE
 1182   TAZEL1   ERASE  +5
 1183   TEMPTIME ERASE  +1
 1184   TESTNO   ERASE
 1185   TMARK    ERASE  +1
 1186   SHAFTA   ERASE
 1187   TRUNA    ERASE
 1188  2GENPL    ERASE  +134D
 1189   CDUTIMEI =      GENPL
 1190   CDUTIMEF =      GENPL +2
 1191   CDUDANG  =      GENPL +4
 1192   CDUREADF =      GENPL +5
 1193   CDUREADI =      GENPL +6
 1194  2CDULIMIT =      GENPL +7
 1195   TEMPADD  =      GENPL +4
 1196   TEMP     =      GENPL +5
 1197   NOBITS   =      GENPL +6
 1198  2CHAN     =      GENPL +7
 1199   LOS1     =      GENPL +8D
 1200  2LOS2     =      GENPL +14D
 1201   CALCDIR  EQUALS GENPL +20D
 1202   CDUFLAG  EQUALS GENPL +21D
 1203   GYTOBETQ EQUALS GENPL +22D
 1204   OPTNREG  EQUALS GENPL +23D
 1205   SAVE     EQUALS GENPL +24D      THREE CONSEC LOC
 1206   SFCONST1 EQUALS GENPL +27D
 1207  2TIMER    EQUALS GENPL +28D
 1208   DATAPL   EQUALS GENPL +30D
 1209   RDSP     EQUALS GENPL           FIX LATER   POSSIBLY KEEP1
 1210   MASKREG  EQUALS GENPL +64D
 1211   CDUNDX   EQUALS GENPL +66D
 1212   RESULTCT EQUALS GENPL +67D
 1213  2COUNTPL  EQUALS GENPL +70D
 1214   CDUANG   EQUALS GENPL +71D
 1215  2AINLA    =      GENPL           110 DEC OR 156 OCT LOCATIONS
 1216   WANGO    EQUALS AINLA           VERT ERATE
 1217   WANGI    EQUALS AINLA +2D       HORIZONTAL ERATE
 1218   WANGT    EQUALS AINLA +4D       T
 1219   TORQNDX  =      WANGT
 1220   DRIFTT   EQUALS AINLA +6D
 1221   ALX1S    EQUALS AINLA +8D
 1222   CMPX1    EQUALS AINLA +9D       IND
 1223   ALK      EQUALS AINLA +10D      GAINS
 1224   VLAUNS   EQUALS AINLA +22D
 1225   THETAX   =      VLAUNS
 1226   WPLATO   EQUALS AINLA +24D
 1227   INTY     EQUALS AINLA +28D      SOUTH PIP INTE
 1228   ANGZ     EQUALS AINLA +30D      EAST AXIS
 1229   INTZ     EQUALS AINLA +32D      EAST PIP I
 1230   ANGY     EQUALS AINLA +34D      SOUTH
 1231   THETAN   =      INTY
 1232   ANGX     EQUALS AINLA +36D      VE
 1233   DRIFTO   EQUALS AINLA +38D      VERT
 1234   DRIFTI   EQUALS AINLA +40D      SOU
 1235   VLAUN    EQUALS AINLA +44D
 1236   FILDELV  =      VLAUN
 1237   ACCWD    EQUALS AINLA +46D
 1238   INTVEC   =      ACCWD
 1239   POSNV    EQUALS AINLA +52D
 1240   DPIPAY   EQUALS AINLA +54D      SOUTH
 1241   DPIPAZ   EQUALS AINLA +58D      NORTH PIP INCREMENT
 1242   ALTIM    EQUALS AINLA +60D
 1243   ALTIMS   EQUALS AINLA +61D       INDEX
 1244   ALDK     EQUALS AINLA +62D       TIME CONSTAN
 1245   DELM     EQUALS AINLA +76D
 1246   WPLATI   EQUALS AINLA +84D
 1247   GEOSAVED EQUALS AINLA +86D
 1248   PREMTRXC EQUALS AINLA +87D
 1249   PRELMTRX EQUALS AINLA +88D
 1250   TRANSM1  =      PRELMTRX
 1251   GEOCOMPS EQUALS AINLA +106D
 1252   OLDGT    EQUALS AINLA +107D
 1253   1SECXT   EQUALS AINLA +108D
 1254   GTSWTLST EQUALS AINLA +109D
 1255   ERECTIME EQUALS AINLA +110D
 1256   GEOMTRX  EQUALS AINLA +111D
 1257   ERCOMP   EQUALS AINLA +129D
 1258  4ZERONDX  EQUALS AINLA +135D
 1259   BMEMORY  EQUALS GENPL
 1260   DELVY    EQUALS DELVX +2
 1261  2DELVZ    EQUALS DELVX +4
R1262  2         TUMBLE MONITOR
 1263   PCDUX    EQUALS E
 1264   PCDUY    EQUALS EDOT(2)
 1265   PCDUZ    EQUALS ER
 1266   DCDUY    EQUALS OMEGAQ
 1267   DCDUZ    EQUALS OMEGAR
 1268   OMEGA    EQUALS EDOTP
 1269  2         SETLOC 3400
R1270  2         DOWNLINK STORAGE.
 1271   LDATALST ERASE
 1272   DNTMGOTO ERASE
 1273   TMINDEX  ERASE
 1274   DNCDUCNT ERASE
 1275   DNCDUN   ERASE                  DNCDUN +1 CDU SAMPLES ARE DOWNLINKED.
 1276   CDULMIT  ERASE
 1277   DNQ      ERASE                  RETURN ADDRESS OF DOWNLINK SUBROUTINES
 1278  2DNTMBUFF ERASE  +21D            SNAPSHOT BUFFER.
R1279   ************************************************************************
R1280  2         ERASABLE INJECTION PARAMETERS FOR MISSION PHASE 4. PRELOADED.
 1281   RINJECT  ERASE  +1              INJECTION RADIUS DESIRED.  THIS QUANTITY
A1282  2DETERMINES THE PERIGEE.  MUST BE IN METERS * 2(-25)
 1283   VINJECT  ERASE  +1              INJECTION VELOCITY DESIRED.  THIS QUANTI
A1284  2TY DETERMINES APOGEE.  MUST BE IN METERS/CENTISECONDS * 2(-7)
R1285  2************************************************************************
R1286  2         RADAR TEST STORAGE.
 1287   RTSTDEX  ERASE
 1288   RTSTMAX  ERASE                  66 FOR HI SPEED, 6 FOR LOW SPEED RR,
A1289                                   AND 18 FOR LOW SPEED LR.
 1290   RTSTBASE ERASE                  USED FOR CYCLIC SAMPLING.
 1291   RTSTLOC  ERASE                  GOES 0(6)RTSTMAX
 1292   RSTKLOC  EQUALS RTSTLOC
 1293   RSAMPDT  ERASE                  PNZ FOR CYCLIC SAMPLING, -1 FOR HI SPEED
A1294                                   INSERT +0 HERE MANUALLY TO TERMINATE TST
 1295   RFAILCNT ERASE
 1296  2RSTACK   ERASE  +71D            BUFFERS FOR RADAR TESTING.
R1299  2         STORAGE FOR INBIT SCANNER.
 1300   LAST30   ERASE  +2              LAST SAMPLED INBITS.
 1301  2MSGCNT   ERASE
R1302  2THE COMPTORK REGISTERS ARE REDUNDANT WITH THETAN FOR DOWNLINK PURPOSES.
 1303  2COMPTORK ERASE  +5              V, S, E GYROCOMPASS GYRO TORQUES.
 13033 2VTO-DPS  ERASE  +1              FOR MP 4
 13035 2VTAILOFF ERASE  +1              FOR MP 9
 13037  VTO-APS  ERASE  +1              FOR MP 13
 1304   TGONOM   ERASE  +1              FOR MP 13
 1305   COS27    ERASE  +1              FOR MP 13
 1306   SIN27    ERASE  +1              FOR MP 13
 1307   VCONOM   ERASE  +5              FOR MP 13
 1308  2RCOTEMPV ERASE  +5              FOR MP 13
 13085 2TAG5     ERASE  +1              FOR MP 13
 1309  2ABDVCONV ERASE  +2              FOR MP 11
 13095 2KT       ERASE  +1              FOR MP 4 & 13.
R1310              BMEMORY USED FOR CONSECUTIVE ASSIGNMENTS FOR SERVICER RESTART
 1311   SAVERASE EQUALS 2506
 1312   DVTOTAL  EQUALS SAVERASE +000D
 1313   DVCNTR   EQUALS SAVERASE +003D
 1314   PIPCTR   EQUALS SAVERASE +004D
 1315   VR       EQUALS SAVERASE +005D
 1316   VGCNTR   EQUALS SAVERASE +012D
 1317   ERRORSUM EQUALS SAVERASE +013D
 1318   DIFFANG  EQUALS SAVERASE +019D
 1319  4STREXIT  EQUALS SAVERASE +021D
 1320   ABDELV   EQUALS SAVERASE +022D
 1321   SWITCH   EQUALS SAVERASE +24D
 1322  2NEGXDV   EQUALS SAVERASE +25D
P1323  2         EBANK-6 ASSIGNMENTS.
R1324  2         (DIGITAL AUTOPILOT USES ALL OF EBANK-6)
 1325  2         SETLOC 3000
R1326  2AXIS TRANSFORMATION MATRIX - PILOT TO GIMBAL AXES:
 1327   MR12     ERASE                  SCALED AT 2   THESE FOUR P-G MATRIX ELE-
 1328   MR22     ERASE                  SCALED AT 1   MENTS ARE IN THIS ORDER TO
 1329   MR13     ERASE                  SCALED AT 2   COMPUTE RATE HOLD DELCDUS
 1330  2MR23     ERASE                  SCALED AT 1   WITH AN INDEXED LOOP
R1331  2AXIS TRANSFORMATION MATRIX - GIMBAL TO PILOT AXES:
 1332   M11      ERASE                  SCALED AT 1
 1333   M21      ERASE                  SCALED AT 1
 1334   M31      ERASE
 1335   M22      EQUALS MR22            SCALED AT 1
 1336  2M32      EQUALS MR23            SCALED AT 1
R1337  2ANGLE MEASUREMENTS.
 1338   EDOT     ERASE   +1             ERROR IN ANGULAR RATE:
 1339  2EDOT(R)  EQUALS EDOT +1         SCALED DOWN TO PI/16 RADIANS/SECOND
 1340   E        ERASE   +1             ANGLE ERROR SCALED AT PI RADIANS
 1341   EDOT(2)  EQUALS E +1            ERROR RATE SQUARED SCALED AT PI(2)/16
 1342   EQ       EQUALS E               THIS PAIR OF NAMES IS USED TO REFER TO
 1343   EDOT(2)Q EQUALS EDOT(2)         THE ABOVE ERASABLES AS Q-AXIS DATA
 1344   ER       ERASE   +1             THIS PAIR OF NAMES REFERS TO LOCATIONS
 1345  2EDOT(2)R EQUALS ER +1           FOR THE R-AXIS DATA: INTERCHANGES WITH Q
 1346   OMEGAP   ERASE   +4             BODY-AXIS ROT. RATES SCALED AT PI/4 AND
 1347   OMEGAQ   EQUALS OMEGAP +1       BODY-AXIS ACCELERATIONS SCALED AT PI/8
 1348   ALPHAQ   EQUALS OMEGAP +2       (IN DESCENT) OR PI/2 (IN ASCENT)
 1349   OMEGAR   EQUALS OMEGAP +3       THESE W,A PAIRS ARE NEEDED, ALPHAP HAS
 1350  2ALPHAR   EQUALS OMEGAP +4       NO USE IN THE DIGITAL AUTOPILOT
 1351   EDOTP    ERASE   +2             ERRORS IN ANGULAR RATE:
 1352   EDOTQ    EQUALS EDOTP +1        EDOT = 3MEGA - OMEGA(DESIRED)
 1353  2EDOTR    EQUALS EDOTP +2        SCALED AT PI/4 RADIANS/SECOND
 1354   QRATEDIF EQUALS EDOTQ           ALTERNATIVE NAMES:
 1355  2RRATEDIF EQUALS EDOTR           DELETE WHEN NO. OF REFERENCES = 0
 1356   OLDXFORP ERASE   +3             STORED CDU READINGS FOR P AND Q,R RATE
 1357   OLDYFORP EQUALS OLDXFORP +1     DERIVATIONS: SCALED AT PI RADIANS (2'S)
 1358   OLDYFORQ EQUALS OLDXFORP +2     (THERE MUST BE TWO REGISTERS FOR CDUY
 1359  2OLDZFORQ EQUALS OLDXFORP +3     SINCE P AND Q,R ARE NOT IN PHASE)
R1360  2RHC INPUTS SCALED AT PI/4 RAD/SEC.
 1361   PCOM     ERASE
 1362   RCOM     ERASE
 1363  2YCOM     ERASE
R1364  2RHC COUNTER REGISTERS.
 1365   P-RHCCTR EQUALS 43
 1366   Q-RHCCTR EQUALS 42
 1367  2R-RHCCTR EQUALS 44
R1368  2OTHER VARIABLES.
 1369   TJETSIGN ERASE                  =+/-BIT1 TO SHOW SIGN OF P-AXIS ROTATION
 1370   PRATECOM ERASE
 1371   EDOTGEN  ERASE
 1372   RATEDIF  ERASE
 1373   1/2JTSP  ERASE
 1374   FPQR     ERASE
 1375   MINRA    ERASE
 1376   MINRASQ  ERASE
 1377   HDAP     ERASE
 1378   FCT1     EQUALS HDAP
 1379   U        ERASE
 1380   DENOM    ERASE
 1381   RATIO    ERASE
 1382   L,PVT-CG ERASE
 1383   TEMPINER ERASE
 1384   IXX      ERASE
 1385   IYY      ERASE
 1386   IZZ      ERASE
 1387   4JETTORK ERASE
 1388   JETTORK4 ERASE
 1389   COSMG    ERASE
 1390   DELTAP   EQUALS ITEMP2
 1391   FPQRMIN  ERASE
 1392   NJET     ERASE
 1393   PRATEDIF ERASE
 1394   LASTPER  ERASE                  THESE 6 REG USED FOR ATT ERR DISPLAY
 1395   LASTQER  ERASE
 1396   LASTRER  ERASE
 1397   PERROR   ERASE
 1398   QERROR   ERASE
 1399  2RERROR   ERASE
R1400   JET STATE CHANGE VARIABLES- TIME (TOFJTCHG),JET BITS WRITTEN NOW
R1401  2  (JTSONNOW), AND JET BITS WRITTEN AT T6 RUPT (JTSATCHG).
 1402   JTSONNOW ERASE
 1403   JTSATCHG ERASE
 1404   ADDT6JTS ERASE
 1405   ADDTLT6  ERASE
 1406  2TOFJTCHG ERASE
 1407   URGLMS   ERASE   +1             THESE TWO ADJACENT REGISTERS HOLD THE
 1408   URGLM1   EQUALS URGLMS          ASCENT OR DESCENT 4-JET URGENCY LIMIT
 1409  2URGLM2   EQUALS URGLMS +1       SCALED AT 2(+9) AND 2(+4) SECS, RESPECT.
 1410   -2JETLIM ERASE   +1             RATE COMMAND 4-JET RATE DIFFERENCE LIMIT
 1411  2-RATEDB  EQUALS -2JETLIM +1     AND RATE DEADBAND FOR ASCENT OR DESCENT
R1412  2Q,R AXIS ERASABLES
 1413   DELQ     EQUALS ITEMP2
 1414   URGENCYQ ERASE   +1
 1415   URGENCYR ERASE   +1
 1416   URGLIMIT =      ITEMP6
 1417   A+B      ERASE
 1418   A-B      ERASE
 1419   TERMA    ERASE
 1420   TERMB    ERASE  +1
 1421   INVACCSQ ERASE  +1
 1422  2DISPLACT ERASE                  FLAG FOR EIGHTBALL ATT. ERROR DISPLAY.
 1423   POLTEST  ERASE
P1424  2TRIM GIMBAL CONTROL LAW ERASABLES:
R1425  2THE FOLLOWING ASSIGNMENTS OF RUPTREGS AND ITEMPS HAS BEEN MADE IN AN EFF
 1426  9ORT TO OPTIMIZE USE OF ERASABLES:
 1427   K2THETA  EQUALS RUPTREG1        D.P. K(2)THETA AND "NEGUSUM"
 1428   ETHETA   EQUALS RUPTREG2        S.P. ERROR ANGLE SCALED AT PI/64 RADIANS
 1429   A2CNTRAL EQUALS RUPTREG3        D.P. ALPHA(2) SCALED AT PI(2)/64 R/S(2)
 1430   SF1      EQUALS RUPTREG3        S.P. VARIABLE SCALE FACTORS WHICH ARE
 1431   SF2      EQUALS RUPTREG4        S.P. - REALLY SINGLE BITS (OR ZERO)
 1432   OMEGA.K  EQUALS ITEMP1          D.P. OMEGA*K SUPERCEDES K AND K(2)
 1433   KCENTRAL EQUALS ITEMP1          S.P. K FROM KQ OR KR FIRST AT PI/2(8)
 1434   K2CNTRAL EQUALS ITEMP2          S.P. K(2) FROM Q OR R 1ST AT PI(2)/2(16)
 1435   WCENTRAL EQUALS ITEMP3          S.P. OMEGA SCALED AT PI/4 RADIANS/SECOND
 1436   ACENTRAL EQUALS ITEMP4          S.P. ALPHA SCALED AT PI/8 RAD/SEC(2)
 1437   DEL      EQUALS ITEMP5          S.P. SGN(FUNCTION)
 1438  2QRCNTR   EQUALS ITEMP6          S.P. COUNTER: Q,Y=0, R,Z=2
R1439  2THE ABOVE QUANTITIES ARE ONLY NEEDED ON A VERY TEMPORARY BASIS AND HAVE
 1440  9BEEN PROVEN TO BE NON-CONFLICTING.
 1441   TJSR     ERASE
 1442  2MULTFLAG ERASE                  INDICATOR FOR SPDPMULT ROUTINE
 1443  2FUNCTION ERASE   +1             D.P. WORD FOR DRIVE FUNCTIONS
 1444   NEGUQ    ERASE   +2             NEGATIVE OF Q-AXIS GIMBAL DRIVE
 1445  2NEGUR    EQUALS NEGUQ +2        NEGATIVE OF R-AXIS GIMBAL DRIVE
 1446   KQ       ERASE   +3             .3ACCDOTQ SCALED AT PI/2(8)
 1447   KQ2      EQUALS KQ +1           KQ2 = KQ*KQ
 1448   KRDAP    EQUALS KQ +2           .3 ACCDOTR SCALED AT PI/2(8)
 1449  2KR2      EQUALS KQ +3           KR2 = KR*KR
 1450   ACCDOTQ  ERASE   +3             Q-JERK SCALED AT PI/2(7) UNSIGNED
 1451   QACCDOT  EQUALS ACCDOTQ +1      Q-JERK SCALED AT PI/2(7) SIGNED
 1452   ACCDOTR  EQUALS ACCDOTQ +2      R-JERK SCALED AT PI/2(7) UNSIGNED
 1453  2RACCDOT  EQUALS ACCDOTQ +3      R-JERK SCALED AT PI/2(7) SIGNED
 1454   QDIFF    EQUALS QERROR          ATTITUDE ERRORS:
 1455  2RDIFF    EQUALS RERROR          SCALED AT PI RADIANS
 1456   TIMEOFFQ ERASE                  TIMES TO GO UNTIL TRIM GIMBAL TURN-OFF,
 1457  2TIMEOFFR ERASE                  ZERO MEANS NO ACTION, SCALED AS WAITLIST
P1458  2KALMAN FILTER ERASABLES.
 1459   STORCDUY ERASE                  THIS S.P. PAIR IS USED TO SAVE CDUY,Z
 1460  2STORCDUZ ERASE                  FOR THE GTS RUPT
 1461   CDU      EQUALS RUPTREG3        RUPTREG3,4 USED AS D.P. WORD FOR CDU
A1462  2                                VALUE WITHIN FILTER 1S COMP AT 2PI RAD
 1463   CDUDOT   EQUALS ITEMP1          ITEMP1,2 USED AS D.P. WORD FOR CDUDOT
A1464  2                                VALUE WITHIN FILTER SCALED AT PI/4
 1465   CDU2DOT  EQUALS ITEMP3          ITEMP3,4 USED AS D.P. WORD FOR CDU2DOT
A1466  2                                VALUE WITHIN FILTER SCALED AT PI/8
 1467   DT       ERASE                  TIME ELAPSED SCALED AT 1/8: NOMINAL=50MS
 1468  2DAPTIME  ERASE                  USED TO RECORD LAST TIME FROM CHANNEL 4
 1469  2STEERADR ERASE                  DTCALC SWITCH IN FILTER INITIALIZATION
 1470   DPDIFF   ERASE   +1             D.P. WEIGHTING VECTOR FACTOR AT PI
 1471   WPOINTER ERASE                  POINTER TO WEIGHTING VECTOR TABLE
 1472   W0       ERASE   +2             THETA WEIGHT
 1473   W1       EQUALS W0 +1           OMEGA WEIGHT
 1474  2W2       EQUALS W1 +1           ALPHA WEIGHT
 1475   CDUYFIL  ERASE   +1             Y-AXIS D.P. FILTERED THETA AT 2PI
 1476   CDUZFIL  ERASE   +1             Z-AXIS D.P. FILTERED THETA AT 2PI
 1477   DCDUYFIL ERASE   +1             Y-AXIS D.P. FILTERED OMEGA AT PI/4
 1478   DCDUZFIL ERASE   +1             Z-AXIS D.P. FILTERED OMEGA AT PI/4
 1479   D2CDUYFL ERASE   +1             Y-AXIS D.P. FILTERED ALPHA AT PI/8
 1480   D2CDUZFL ERASE   +1             Z-AXIS D.P. FILTERED ALPHA AT PI/8
 1481   Y3DOT    ERASE                  Y-AXIS S.P. JERK AT PI/2(7)
 1482   CDU3DOT  ERASE                                    LOOP REGISTER (SPACER)
 1483  2Z3DOT    ERASE                  Z-AXIS S.P. JERK AT PI/2(7)
 1484   PFILTADR ERASE   +1             2CADR FOR FILTER RUPT 30 MS AFTER P-AXIS
 1485   PFRPTLST ERASE   +7             POST FILTER RUPT LIST
R1486  2TORQUE VECTOR RECONSTRUCTION VARIABLES:
 1487   JETRATE  ERASE   +2             WEIGHTED RATES DUE TO JETS APPLIED IN
 1488   JETRATEQ EQUALS JETRATE +1      THE LAST CONTROL SAMPLE PERIOD OF 100 MS
 1489  2JETRATER EQUALS JETRATE +2      SCALED AT PI/4 RADIANS/SECOND
 1490   NO.QJETS ERASE   +1             NUMBER OF Q AND R JETS THAT ARE GIVEN
 1491  2NO.RJETS EQUALS NO.QJETS +1     BY THE JET SELECT LOGIC
 1492   TP       ERASE   +1             TIME CALCULATED BY TJETLAW FOR P, QR
 1493  2TQR      EQUALS TP +1           SCALED AS TIME6, THEN TQR RESCALED TO 1
 1494   1JACC    ERASE   +4             ACCELERATIONS DUE TO 1 JET TORQUING
 1495   1JACCQ   EQUALS 1JACC +1        SCALED AT PI/4 RADIANS/SECOND
 1496   1JACCR   EQUALS 1JACC +2
 1497   1JACCU   EQUALS 1JACC +3        FOR U,V-AXES THE SCALE FACTOR IS  DIFF:
 1498  21JACCV   EQUALS 1JACC +4        SCALED AT PI/2 RADIANS/SECOND (FOR ASC)
 1499   INERCTR  ERASE
 1500   INERCTRX ERASE
R1501  2ASCENT VARIABLES:
 1502   SAVRATEQ ERASE   +1             UN-WEIGHTED JETRATE FOR LAST CSP BEFORE
 1503  2SAVRATER EQUALS SAVRATEQ +1     AOSTASK.  INITIAL VALUES FOR SUMRATES.
 1504   SUMRATEQ ERASE   +1             SUM OF UN-WEIGHTED JETRATE TERMS
 1505  2SUMRATER EQUALS SUMRATEQ +1     SCALED AT PI/4 RADIANS/SECOND
 1506   OLDWFORQ ERASE   +1             OMEGA VALUE 2 SECONDS AGO
 1507  2OLDWFORR EQUALS OLDWFORQ +1     SCALED AT PI/4 RADIANS/SECOND
 1508   DBMINIMP ERASE   +1             MINIMUM IMPULSE DEADBANDS (EQUAL IN DESC
 1509   MINIMPDB EQUALS DBMINIMP +1     AT .3 DEG, 0,-DB RESPECTIVELY FOR ASC)
 1510  2DBMNMPAX ERASE                  P-AXIS VALUE: SCALED AT PI RADIANS.
 1511   .5ACCMNE ERASE   +4             (1/2)(1/ACCMIN) WHICH IS THE INVERSE OF
 1512   .5ACCMNQ EQUALS .5ACCMNE +1     THE MINIMUM ACCELERATION (A CONSTANT FOR
 1513   .5ACCMNR EQUALS .5ACCMNE +2     DESCENT AND A VARIABLE FOR ASCENT DAP)
 1514   .5ACCMNU EQUALS .5ACCMNE +3     SCALED AT 2(+8)/PI
 1515  2.5ACCMNV EQUALS .5ACCMNE +4     IN UNITS OF SECONDS(2)/RADIAN
 1516   WFORP    ERASE   +1             W = K/(NOMINAL DT)
 1517  2WFORQR   EQUALS WFORP +1        SCALED AT 16
 1518   (1-K)    ERASE  +1              1-K SCALED AT 1
 1519  2(1-K)/8  EQUALS (1-K) +1        1-K SCALED AT 8
 1520   1/NJTSQ  ERASE   +3             1/NJETACC FOR EACH AXIS
 1521   1/NJTSR  EQUALS 1/NJTSQ +1      FOR DESCENT THIS IS ALWAYS 1/2JTS
 1522   1/NJTSU  EQUALS 1/NJTSQ +2      FOR ASCENT WITH HIGH OFFSET: 1/4JTS
 1523  21/NJTSV  EQUALS 1/NJTSQ +3      SCALED AT 2(8)/PI SEC(2)/RAD
 1524  4KCOEFCTR ERASE                  COUNTER FOR ASCENT DAP
 1525   DLCDUIDX ERASE                  SAVE RATE INDEX, = 1, 0
 1526   PJUMPADR ERASE   +1
 1527   QJUMPADR EQUALS PJUMPADR +1     IN THE LM DAP T5RUPTS TO SKIP P-AXIS
 1528   CH5TEMP  ERASE
 1529  2-.06R/S2 ERASE                  DESCENT VAL.=0, ASCENT VAL.= -.06 RAD/S
 1530   100MSPTQ ERASE
 1531   QR.1STOQ =      100MSPTQ
 1532  4NO.PJETS ERASE
R1533   THE FOLLOWING LM DAP ERASABLES ARE ZEROED IN THE STARTDAP SECTION OF THE
 1534  9 DAPIDLER PROGRAM AND THE COASTASC
R1535   SECTION OF THE AOSTASK.  THE ORDER MUST BE PRESERVED FOR THE INDEXING ME
 1536  9THODS WHICH ARE EMPLOYED IN THOSE
R1537  2SECTIONS AND ELSEWHERE.
 1538   AOSQ     ERASE   +3             ASCENT OFFSET ACCELERATION ESTIMATES:
 1539   AOSR     EQUALS AOSQ +1         ESTIMATED EVERY 2 SECONDS BY AOSTASK.
 1540   AOSU     EQUALS AOSQ +2         U,V-AXES ACCS FORMED BY VECTOR ADDITION.
 1541  2AOSV     EQUALS AOSQ +3         SCALED AT PI/2 RADIANS/SECOND(2).
 1542   AOSQTERM ERASE   +1             (.1-.05K)AOS
 1543  2AOSRTERM EQUALS AOSQTERM +1     SCALED AT PI/4 RADIANS/SECOND.
 1544   NJ+Q     ERASE   +7             2 JET OVER-RIDE FLAGS:
 1545   NJ-Q     EQUALS NJ+Q +1         WHENEVER THE OFFSET ACCELERATION ABOUT
 1546   NJ+R     EQUALS NJ+Q +2         AN AXIS IS SO HIGH THAT 2 JETS COULD NOT
 1547   NJ-R     EQUALS NJ+Q +3         CONTROL ATTITUDE SUCCESSFULLY, THEN NJ
 1548   NJ+U     EQUALS NJ+Q +4         FOR THAT AXIS (IN THE DIRECTION OPPOSING
 1549   NJ-U     EQUALS NJ+Q +5         AOS) IS SET TO 1.  OTHERWISE, THE VALUE
 1550   NJ+V     EQUALS NJ+Q +6         IS ZERO.  THESE FLAGS PREVENT TWO JETS
 1551  2NJ-V     EQUALS NJ+Q +7         FROM BEING REQUESTED TO FIGHT THE AOS.
 1552   1/NET+2Q ERASE   +15D
 1553   1/NET+4Q EQUALS 1/NET+2Q +1
 1554   1/NET-2Q EQUALS 1/NET+2Q +2
 1555   1/NET-4Q EQUALS 1/NET+2Q +3
 1556   1/NET+2R EQUALS 1/NET+2Q +4
 1557   1/NET+4R EQUALS 1/NET+2Q +5
 1558   1/NET-2R EQUALS 1/NET+2Q +6
 1559   1/NET-4R EQUALS 1/NET+2Q +7
 1560   1/NET+1U EQUALS 1/NET+2Q +8D
 1561   1/NET+2U EQUALS 1/NET+2Q +9D
 1562   1/NET-1U EQUALS 1/NET+2Q +10D
 1563   1/NET-2U EQUALS 1/NET+2Q +11D
 1564   1/NET+1V EQUALS 1/NET+2Q +12D
 1565   1/NET+2V EQUALS 1/NET+2Q +13D
 1566   1/NET-1V EQUALS 1/NET+2Q +14D
 1567   1/NET-2V EQUALS 1/NET+2Q +15D
 1568   SIGNTAG  ERASE
 1569  21/NETACS EQUALS 1/NET+1U
 1570   1/ACCQ   ERASE   +1             INVERSE NET ACCELERATIONS FOR URGENCY.
 1571  21/ACCR   EQUALS 1/ACCQ +1       SCALED AT 2(+8)/PI SECONDS(2)/RADIAN.
 1572   1/AMINQ  ERASE   +1             INVERSE MIN ACCELERATIONS FOR URGENCY.
 1573   1/AMINR  EQUALS 1/AMINQ +1      SCALED AT 2(+8)/PI SECONDS(2)/RADIAN.
 1574   1/AMINU  ERASE
 1575  21/AMINV  ERASE
 1576   URGRATQ  ERASE  +1              URGENCY FUNCTION CORRECTION FACTOR RATIO
 1577   URGRATR  EQUALS URGRATQ +1      SCALED AT 1.
 1578   SRTEMP   ERASE                  SCRATCH CELLS FOR DAPSQRT
 1579   SQRTTEMP ERASE                  SCRATCH CELLS FOR DAPSQRT
 1580  2SQRTTEMQ ERASE                  SCRATCH CELLS FOR DAPSQRT
 1581   AOSCOUNT ERASE
 1582  2QUOTTEMP EQUALS SRTEMP          SCRATCH CELL FOR Q,R-AXIS TJETLAW.
 1583   QACDOTMP ERASE  +2              Q(R)ACCDOT VALUES STORED HERE BETWEEN
 1584  2RACDOTMP EQUALS QACDOTMP +2     GTS,DGTS BEFORE THE FILTER CAN USE THEM
R1585  2SPACING BETWEEN RACDOTMP AND QACDOTMP IS USED IN INDEXING.
 15851  PASSCTR  ERASE                  COUNT REQUIRED KALMAN FILTER PASSES LEFT
 15852  SLECTLAW ERASE                  CONTROL FLOW SWITCHING CELL.
 15853  HOLDCDUY ERASE   +1             TWO CELLS HOLD CDUS DURING INITIAL RATE
 15854  HOLDCDUZ EQUALS HOLDCDUY +1     CALCULATION IN KALMAN FILTER.
 15855  STEERAD2 ERASE                  CONTROL FLOW SWITCHING CELL.
 15856 2COUNTBOX ERASE                  LOAD FOR INITIALIZING PASSCTR.
R1585652START CODING FOR MODULE 3 REMAKE, AUGUST 1967***START CODING FOR MODULE
 15856693 REMAKE, AUGUST 1967*******************
 158570 TRIMCNTR ERASE                  COUNTER TO ENSURE A GTS PASS SHORTLY
A158571                                   BEFORE THROTTLE-UP. (LOADED NEGATIVE)
 158572 GTSMNITR ERASE                  FLAG TO FORCE A GTS PASS SOON AFTER DPS
A1585732                                  ENGINE-ON. (LOADED +0)
R1585742PARAMETERS IN ERASABLE LOAD:
 158575 FORCETRM ERASE                  PLACED IN TRIMCNTR WHEN DPS TURNED ON.
 158576 DRIVELIM ERASE                  MAX GIMBAL DRIVE TIME SCALED AT 16 SEC.
 158577 DRIVFACQ ERASE  +2              RESCALING AND DAMPING FACTORS FOR GIMBAL
 158580 DRIVFACR =      DRIVFACQ +2       DRIVE TIMES.
 158581 QGIMTIMR ERASE  +1              GIMBAL DRIVE TIMERS
 158582 RGIMTIMR =      QGIMTIMR +1
 158583 MAXTIME  ERASE
 158584 /TEMP2/  ERASE
 158585 /TEMP3/  ERASE  +1
 158586 /TEMP5/  ERASE  +1
 158587 TMINAPS  ERASE
 158590 SIMPCNTR ERASE                  POSITIVE FOR GTS SIMPCTRL. DECISECONDS
 158595 SIMPINIT ERASE                  INITIALIZES SIMPCNTR.  DECISECONDS
 1585982BIGBOX   ERASE                  USED FOR PASSCTR DURING FORCED SIMPCNTRL
R1586002**END CODING FOR MODULE 3 REMAKE, AUGUST 1967*****END CODING FOR MODULE
 15860193 REMAKE, AUGUST 1967*******************
R15865 2ITEMP AND RUPTREG ASSIGNMENTS IN LM DAP:
R1587  2FOR EIGHTBAL SECTION:
 1588   AXISCNTR EQUALS ITEMP1          LOOPCTR AND VARIABLE INDEXER.
 1589  2TEMPERR  EQUALS ITEMP2          TEMPORARY STORAGE FOR BOUNDED ERROR.
R1590  2FOR P-AXIS PROGRAM:
 1591   REL      EQUALS ITEMP5          TABLE INDEX USED BY P JET SELECT ROUTINE
 1592  2CTR      EQUALS ITEMP6          TABLE ENTRY COUNTER USED BY P JET SELECT
R1593  2FOR POLTYPEP PROGRAM:
 1594   TRANONLY EQUALS RUPTREG1        FLAG FOR PURE TRANSLATION REQUESTS
 1595   ANYTRANS EQUALS RUPTREG2        FLAG TO INDICATE DIRECTION OF TRAN..
 1596   TRANSNOW EQUALS RUPTREG3        FLAG TO INDICATE TRANS. W/ ROT. POSSIBLE
 1597   TRANSAVE EQUALS RUPTREG4        FLAG AND HOLDER FOR SAVED TRANS. POLICY
 1598   NETACNDX EQUALS ITEMP1          INDEX TO INDICATE AXIS, NO., AND DIRECT.
 1599   TJETADR  EQUALS ITEMP2          GENADR OF RETURN TO TJETLAW
 1600   POLRELOC EQUALS ITEMP3          POLICY TABLE INDEX (RELATIVE ADDRESS)
 1601   LOOPCTR  EQUALS ITEMP4          NUMBER OF ALTERNATE POLICIES.
 1602   THISPOLY EQUALS ITEMP5          STORED POLICY TO ELIMINATE INDEXING.
 1603  21/NETACC EQUALS ITEMP6          INV. NET ACC. FOR TJETLAW.
 1604  21/NJETAC =      1/NETACC
 1605   1/2JTSQ  =      1/NET+2Q
 1606   1/2JTSR  =      1/NET+2R
 1607   1/2JETSU =      1/NET+2U
 1608  41/2JETSV =      1/NET+2V
R1609  2FOR AOSTASK PROGRAM:
 1610   K        EQUALS ITEMP1
 1611   .1-.05K  EQUALS ITEMP1
 1612   COEFFA   EQUALS ITEMP2
 1613  2.5-.5COF EQUALS ITEMP2
R1614  2MPAC DESIGNATIONS FOR AOSJOB:
 1615   JOBAXES  EQUALS MPAC            ADJACENT ENTRY INDEXER.
 1616   NJPLACE  EQUALS MPAC +1         ONE APART ENTRY INDEXER.
 1617   TABPLACE EQUALS MPAC +2         THREE APART ENTRY INDEXER.
 1618   TEMPAOS  EQUALS MPAC +3         - AOS TEMPORARY STORAGE (SCALED AT PI/2)
 1619   TEMPACC  EQUALS MPAC +4         JET ACCELERATION TEMP.  (SCALED AT PI/2)
 1620   TEMPNET  EQUALS MPAC +5         NET ACCELERATION TEMP.  (SCALED AT PI/2)
 1621   ABVLAOSQ EQUALS MPAC +6         -ABVAL(AOSQ) SCALED AT PI/2 RAD/SEC(2).
 1622   ABVLAOSR EQUALS MPAC +7         -ABVAL(AOSR) SCALED AT PI/2 RAD/SEC(2).
L      2INPUT/OUTPUT CHANNELS
 0001   HISCALAR EQUALS 3
 0002   LOSCALAR EQUALS 4
 00025  SUPERBNK EQUALS 7               SUPER-BANK.
 0003   OUT0     EQUALS 10
 0004   DSALMOUT EQUALS 11
 0005   CHAN12   EQUALS 12
 0006   CHAN13   EQUALS 13
 0007   CHAN14   EQUALS 14
 0008   MNKEYIN  EQUALS 15
 0009   NAVKEYIN EQUALS 16
 0010   CHAN33   EQUALS 33
 0011   DNTM1    EQUALS 34
 0012   DNTM2    EQUALS 35
R0013   END OF CHANNEL ASSIGNMENTS
L      2INTERRUPT LEAD INS
 0001  2         SETLOC 4000
 0002            INHINT                 GO
 0003            CAF    GOBB
 0004            XCH    BBANK
 0005  2         TCF    GOPROG
 0006            DXCH   ARUPT           T6RUPT
 0007            EXTEND
 0008            DCA    T6ADR
 0009  2         DTCB
 0010            DXCH   ARUPT           T5RUPT
 0011            EXTEND
 0012            DCA    T5ADR
 0013  2         DTCB
 0014            DXCH   ARUPT           T3RUPT
 0015            CAF    T3RPTBB
 0016            XCH    BBANK
 0017  2         TCF    T3RUPT
 0018            DXCH   ARUPT           T4RUPT
 0019            CAF    T4RPTBB
 00195           XCH    BBANK
 0020  2         TCF    T4RUPT
 0023            DXCH   ARUPT           KEYRUPT1
 0024            CAF    KEYRPTBB
 0025            XCH    BBANK
 0026  2         TCF    KEYRUPT1
 0027            DXCH   ARUPT           KEYRUPT2
 0028            CAF    MKRUPTBB
 0029            XCH    BBANK
 0030  2         TCF    MARKRUPT
 0031            DXCH   ARUPT           UPRUPT
 0032            CAF    UPRPTBB
 0033            XCH    BBANK
 0034  2         TCF    UPRUPT
 0035            DXCH   ARUPT           DOWNRUPT
 0036            CAF    DWNRPTBB
 0037            XCH    BBANK
 0038  2         TCF    DODOWNTM
 0039            DXCH   ARUPT           RADAR RUPT
 0040            CAF    RDRPTBB
 0041            XCH    BBANK
 0042  2         TCF    NOQRSM +1       WAS TCF RADAREAD (NO RADAR IN 206).
R00421  TRAPS 31B AND 32 SHOULD NEVER BE SET. THEREFORE-
R00422  RUPT 10 WILL ALWAYS REFER TO THE HAND CONTROLLER LPD OR MINIMUM IMPULSE
R00423 2USE. SEE GEORGE CHERRY FOR RATIONALE REGARDING THE AFORESAID.
 0043            DXCH   ARUPT           RUPT 10 USED FOR RHC MINIMP MODE ONLY.
 0044            CAF    TWO
 0045            TS     DELAYCTR
 0046  2         TCF    NOQBRSM
 0047            EBANK= LST1            RESTART USES E0, E3
 0048  2GOBB     BBCON  GOPROG
 0049            EBANK= TIME1
 0050  2T6RPTBB  BBCON  RESUME          ***FIX LATER***
 0051            EBANK= LST1
 0052  2T3RPTBB  BBCON  T3RUPT
 0053            EBANK= KEYTEMP1
 0054  2KEYRPTBB BBCON  KEYRUPT1
 0055            EBANK= AOTAZ
 0056  2MKRUPTBB BBCON  MARKRUPT
 0057  2UPRPTBB  =      KEYRPTBB
 0058            EBANK= DNTMBUFF
 0059  2DWNRPTBB BBCON  DODOWNTM
 0060            EBANK= RADMODES
 0061  2RDRPTBB  BBCON  RADAREAD
 0062            EBANK= M11
 0063   T4RPTBB  BBCON  T4RUPTA
L      2RESTART TABLES AND RESTARTS ROUTINE
R0001   RESTART TABLES
R0002    DO NOT REMOVE FROM THE BEGINNING OF THIS BANK
R0003  2------------------
R0004   THERE ARE TWO FORMS OF RESTART TABLES FOR EACH GROUP.  THEY ARE KNOWN AS
 0005  9 THE EVEN RESTART TABLES AND THE ODD
R0006   RESTART TABLES.  THE ODD TABLES HAVE ONLY ONE ENTRY OF THREE LOCATIONS W
 0007  9HILE THE EVEN TABLES HAVE TWO ENTRIES
R0008   EACH USING THREE LOCATIONS. THE INFORMATION AS TO WHETHER IT IS A JOB, W
 0009  9AITLIST, OR A LONGCALL IS GIVEN BY THE
R0010   WAY THINGS ARE PUT INTO THE TABLES.
R0011        A JOB HAS ITS PRIORITY STORED IN PRDTTAB OF THE CORRECT PHASE SPOT
 0012  9WITH ITS 2CADR IN THE CADRTAB. FOR
R0013  2EXAMPLE,
A0014   5.7SPOT  OCT    23000
A0015  2         2CADR  SOMEJOB
R0016  2A RESTART OF GROUP 5 WITH PHASE SEVEN WOULD THEN CAUSE SOMEJOB TO BE RES
 0017  9TARTED WITH A PRIORITY OF 23.
R0018   A LONGCALL HAS ITS GENADR OF ITS 2CADR STORED NEGATIVELY AND ITS BBCON S
 0019  9TORED POSITIVELY.  IN ITS PRDTTAB IS
R0020   PLACED THE LOCATION OF A DP REGISTER THAT CONTAINS THE DELTA TIME THAT L
 0021  9ONGCALL HAD BEEN ORIGINALLY STARTED
R0022  2WITH.  EXAMPLE,
A0023   3.6SPOT  GENADR DELTAT
A0024           -GENADR LONGTASK
A0025  2         BBCON  LONGTASK
A0026            OCT    31000
A0027  2         2CADR  JOBAGAIN
R0028   THIS WOULD START UP LONGTASK AT THE APPROPRIATE TIME, OR IMMEDIATELY IF
 0029  9THE TIME HAD ALREADY PASSED. IT SHOULD
R0030   BE NOTED THAT IF DELTAT IS IN A SWITCHED E BANK, THIS INFORMATOIN SHOULD
 0031  9 BE IN THE BBCON OFTHE 2CADR OF THE
R0032  2TASK.  FROM ABOVE, WE SEE THAT THE SECOND PART OF THIS PHASE WOULD BE ST
 0033  9ARTED AS A JOB WITH A PRIORITY OF 31.
R0034   WAITLIST CALLS ARE IDENTIFIED BY THE FACT THAT THEIR 2CADR IS STORED NEG
 0035  9ATIVELY. IF PRDTTAB OF THE PHASE SPOT
R0036   IS POSITIVE, THEN IT CONTAINS THE DELTA TIME, IF PRDTTAB IS NEGATIVE THE
 0037  9N IT IS THE -GENADR OF AN ERASABLE
R0038   LOCATION CONTAINING THE DELTA TIME, THAT IS, THE TIME IS STORED INDIRECT
 0039  9LY.  IT SHOULD BE NOTED AS ABOVE, THAT
R0040   IF THE TIME IS STORED INDIRECTLY, THE BBCON MUST CONTAIN THE NECESSARY E
 0041  9 BANK INFORMATION IF APPLICABLE.  WITH
R0042   WAITLIST WE HAVE ONE FURTHER OPTION, IF -0 IS STORED IN PRDTTAB, IT WILL
 0043  9 CAUSE AN IMMEDIATE RESTART OF THE
R0044  2TASK.  EXAMPLES,
A0045            OCT    77777           THIS WILL CAUSE AN IMMEDIATE RESTART
A0046  2        -2CADR  ATASK           OF THE TASK :ATASK:
A0047            DEC    200             IF THE TIME OF THE 2 SECONDS SINCE DUMMY
A0048           -2CADR  DUMMY           WAS PUT ON WAITLIST IS UP, IT WILL BEGIN
A0049                                   IN 10 MS, OTHERWISE IT WILL BEGIN WHEN
A0050  2                                IT NORMALLY WOULD HAVE BEGUN.
A0051           -GENADR DTIME           WHERE DTIME CONTAINS THE DELTA TIME
A0052  2        -2CADR  TASKTASK        OTHERWISE THIS IS AS ABOVE
R0053  2*****    NOW THE TABLES THEMSELVES *****
 0054   PRDTTAB  EQUALS 24000           USED TO FIND THE PRIORITY OR DELTA TIME
 0055   CADRTAB  EQUALS 24001           THIS AND THE NEXT LOCATION (RELATIVE)
A0056  2                                    CONTAIN THE RESTART CADR
 0057  2         BANK   06
 0058  2         EBANK= LST1            GOPROG MUST SWITCH IN THIS EBANK
 0059   PHS2CADR GENADR PHSPART2        DO NOT REMOVE THE FOLLOWING 6 LOCATIONS
 0060   PRT2CADR GENADR GETPART2            FROM BEGINNING OF BANK
 0061   LGCLCADR GENADR LONGCALL
 0062   FVACCADR GENADR FINDVAC
 0063   WTLTCADR GENADR WAITLIST
 0064  2RTRNCADR TC     SWRETURN
 0065   1.2SPOT  OCT    10000           TEMPORARY ENTRY TO ESTABLISH TABLE
 0066            EBANK= LST1
 0067            2CADR  DUMMYJOB
 0068            OCT    10000
 0069            EBANK= LST1
 0070  2         2CADR  DUMMYJOB
R0071  2ANY MORE GROUP 1.EVEN RESTART VALUES SHOULD GO HERE
 0072   1.3SPOT  DEC    195
 0073            EBANK= ETHROT
 0074           -2CADR  PCNTOVER
R0075  2ANY MORE GROUP 1.ODD RESTART VALUES SHOULD GO HERE
 0076   2.2SPOT  OCT    20000
 0077            EBANK= TDEC
 0078            2CADR  11REDO2
 0079            GENADR TDECTEMP
 0080           -GENADR TIG11-30
 0081            EBANK= TDEC
 0082  2         BBCON  TIG11-30
 0083   2.4SPOT  DEC    7000
 0084            EBANK= TDEC
 0085           -2CADR  POSTKALC
 0086            OCT    20000
 0087            EBANK= TDEC
 0088            2CADR  CALLKALC
R0089  2ANY MORE GROUP 2.EVEN RESTART VALUES SHOULD GO HERE
 0090   2.3SPOT  OCT    77777           MISSION SCHEDULING PACKAGE TO SET UP
 0091            EBANK= LST1
 0092           -2CADR  REDOMDUE
 0093   2.5SPOT  DEC    5500
 0094            EBANK= TDEC
 0095           -2CADR  SIVB2
 0096   2.7SPOT  OCT    77777
 0097            EBANK= TDEC
 0098           -2CADR  SBORBA
 0099   2.11SPOT DEC    400
 0100            EBANK= TDEC
 0101           -2CADR  SBORB8
 0102   2.13SPOT-GENADR DT-LIFT
 0103            EBANK= TGRR
 0104           -2CADR  LIFTOFF
 0105   2.15SPOT DEC    700
 0106            EBANK= TDEC
 0107           -2CADR  TIG4-41
 0108   2.17SPOT DEC    200
 0109            EBANK= TDEC
 0110           -2CADR  TIG4-34
 0111   2.21SPOT OCT    77777
 0112            EBANK= TDEC
 0113           -2CADR  DPSTART
 0114   2.23SPOT DEC    750
 0115            EBANK= TDEC
 0116           -2CADR  TIG11
 0117   2.25SPOT OCT    77777
 0118            EBANK= TDEC
 0119           -2CADR  MP11HOLD
 0120   2.27SPOT DEC    100
 0121            EBANK= TDEC
 0122           -2CADR  MP11OUT
 0123   2.31SPOT OCT    20000
 0124            EBANK= TDEC
 0125            2CADR  11REDO1
 0126   2.33SPOT OCT    20000
 0127            EBANK= TDEC
 0128            2CADR  INTRTN
 0129   2.35SPOT GENADR TDECTEMP
 0130           -GENADR TIG11-30
 0131            EBANK= TDEC
 0132  2         BBCON  TIG11-30
 0133   2.37SPOT OCT    77777
 0134            EBANK= TDEC
 0135           -2CADR  MOVENDX
 0136   2.41SPOT DEC    1000
 0137            EBANK= TDEC
 0138           -2CADR  CCSMPRET
 0139   2.43SPOT DEC    7000
 0140            EBANK= TDEC
 0141           -2CADR  POSTKALC
 0142   2.45SPOT DEC    1100
 0143            EBANK= TDEC
 0144           -2CADR  182LMP
 0145   2.47SPOT DEC    5000
 0146            EBANK= TDEC
 0147           -2CADR  228LMP
 0148   2.51SPOT DEC    50
 0149            EBANK= AVGEXIT
 0150           -2CADR  9ULLOFF
 0151   2.53SPOT DEC    250
 0152            EBANK= AVGEXIT
 0153           -2CADR  9EDBATT
 0154   2.55SPOT-GENADR TDECTEMP
 0155            EBANK= TDEC
 0156           -2CADR  CUTOFF
 0157   2.57SPOT DEC    500
 0158            EBANK= TDEC
 0159           -2CADR  87LMP
 0160   2.61SPOT OCT    77777
 0161            EBANK= TGRR
 0162           -2CADR  REDO2.61
 0163   2.63SPOT OCT    77777
 0164            EBANK= TGRR
 0165           -2CADR  REDO2.63
R0166  2ANY MORE GROUP 2.ODD RESTART VALUES SHOULD GO HERE
 0167   3.2SPOT  EQUALS 1.2SPOT
R0168  2ANY MORE GROUP 3.EVEN RESTART VALUES SHOULD GO HERE
 0169   3.3SPOT  DEC    50
 0170            EBANK= TDEC
 0171           -2CADR  ABMON
 0172   3.5SPOT  OCT    77777
 0173            EBANK= TDEC
 0174           -2CADR  TUMTASK
 0175   3.7SPOT  GENADR DT-LETJT
 0176           -GENADR POSTLET
 0177            EBANK= TGRR
 0178  2         BBCON  POSTLET
 0179   3.11SPOT OCT    77777
 0180            EBANK= MTIMER4
 0181           -2CADR  REDO3.11
 0182   3.13SPOT DEC    100
 0183            EBANK= MTIMER4
 0184           -2CADR  MMAINT
 0185   3.15SPOT DEC    1200
 0186            EBANK= TDEC
 0187           -2CADR  NEXLMP
 0188   3.17SPOT DEC    200
 0189            EBANK= TDEC
 0190           -2CADR  NEXLMP1
 0191   3.21SPOT DEC    100
 0192            EBANK= TDEC
 0193           -2CADR  NEXLMP2
 0194   3.23SPOT DEC    6000
 0195            EBANK= TDEC
 0196           -2CADR  NEXLMP3
 0197   3.25SPOT DEC    100
 0198            EBANK= TDEC
 0199           -2CADR  MP11TASK
 0200   3.27SPOT OCT    20000
 0201            EBANK= XSM
 0202            2CADR  REDO3.27
 0203   3.31SPOT OCT    77777
 0204            EBANK= TTGO
 0205           -2CADR  DUMMY13
 0206   3.33SPOT DEC    2500
 0207            EBANK= TTGO
 0208           -2CADR  TRMDMY13
R0209  2ANY MORE GROUP 3.ODD RESTART VALUES SHOULD GO HERE
 0210  24.2SPOT  EQUALS 1.2SPOT
R0211  2ANY MORE GROUP 4.EVEN RESTART VALUES SHOULD GO HERE
 0212   4.3SPOT  OCT    30000
 0213            EBANK= ETHROT
 0214            2CADR  ACCLJOB
 0215   4.5SPOT  OCT    10000
 0216            EBANK= RATEINDX
 0217            2CADR  COLDSOAK
 0218   4.7SPOT  OCT    15000
 0219            EBANK= TGRR
 0220            2CADR  MP2JOB
 0221   4.11SPOT OCT    25000
 0222            EBANK= ETHROT
 0223            2CADR  PCNTJOB
 0224   4.13SPOT GENADR TDECTEMP
 0225           -GENADR TIG9-66
 0226            EBANK= TDEC
 0227  2         BBCON  TIG9-66
 0228   4.15SPOT OCT    27000
 0229            EBANK= TDEC
 0230            2CADR  ORBINTJB
 0231   4.17SPOT-GENADR TDECTEMP +1
 0232            EBANK= AVGEXIT
 0233           -2CADR  TIG9-0
R0234  2ANY MORE GROUP 4.ODD RESTART VALUES SHOULD GO HERE
 0235   5.2SPOT  OCT    21000
 0236            EBANK= RAVEGON
 0237            2CADR  NORMLIZE
 0238            DEC    200
 0239            EBANK= DVCNTR
 0240           -2CADR  REREADAC
 0241   5.4SPOT  DEC    200
 0242            EBANK= BMEMORY
 0243           -2CADR  PREREAD
 0244            OCT    32000
 0245            EBANK= LST1
 0246            2CADR  LASTBIAS
 0247   5.6SPOT  DEC    200
 0248            EBANK= DVCNTR
 0249           -2CADR  REREADAC
 0250            OCT    20000
 0251            EBANK= DVCNTR
 0252            2CADR  SERVICER
R0253  2ANY MORE GROUP 5.EVEN RESTART VALUES SHOULD GO HERE
 0254   5.3SPOT  DEC    200
 0255            EBANK= DVCNTR
 0256           -2CADR  REREADAC
 0257   5.5SPOT  2DEC   0               5.5 SPOT NOT USED
 0258  2         DEC    0
 0259   5.7SPOT  OCT    20000
 0260            EBANK= XSM
 0261            2CADR  RSTGTS1
 0262   5.11SPOT OCT    77777
 0263            EBANK= XSM
 0264           -2CADR  ALLOOP1
 0265   5.13SPOT OCT    20000
 0266            EBANK= XSM
 0267            2CADR  WTLISTNT
 0268   5.15SPOT OCT    20000
 0269            EBANK= XSM
 0270            2CADR  NOCHORLD
 0271   5.17SPOT OCT    20000
 0272            EBANK= XSM
 0273            2CADR  GEOSTRT4
 0274   5.21SPOT OCT    20000
 0275            EBANK= XSM
 0276            2CADR  ALFLT1
 0277   5.23SPOT OCT    77777
 0278            EBANK= XSM
 0279           -2CADR  SPECSTS
 0280   5.25SPOT OCT    20000
 0281            EBANK= XSM
 0282            2CADR  RESTAIER
 0283   5.27SPOT DEC    400
 0284            EBANK= DVTOTAL
 0285           -2CADR  PREREAD
 0286   5.31SPOT OCT    77777
 0287            EBANK= NEGXDV
 0288           -2CADR  REDO5.31
 0289   5.33SPOT OCT    77777
 0290            EBANK= DVCNTR
 0291           -2CADR  PREREAD
 0292   5.35SPOT-GENADR RSDTTEMP
 0293            EBANK= DVTOTAL
 0294           -2CADR  PREREAD
 0295   5.37SPOT OCT    77777
 0296            EBANK= TGRR
 0297           -2CADR  SETPIPDT
R0298  2ANY MORE GROUP 5.ODD RESTART VALUES SHOULD GO HERE
 0299   6.2SPOT  DEC    500
 029901          EBANK= DNTMBUFF
 029902         -2CADR  DAPOFF
 029903          OCT    30000
 029904          EBANK= DNTMBUFF
 029905          2CADR  TGOFF
R0300  2ANY MORE GROUP 6.EVEN RESTART VALUES SHOULD GO HERE
 0301   6.3SPOT  DEC    500
 0302            EBANK= DNTMBUFF
 0303           -2CADR  DAPOFF
 0304   6.5SPOT  OCTAL  33000
 0305            EBANK= STBUFF
 0306            2CADR  I=4.CONT
 0307   6.7SPOT  OCT    30000
 0308            EBANK= STBUFF
 0309            2CADR  UPQUITRM
 030901 6.11SPOT-GENADR DAPOFFDT
 030902          EBANK= DNTMBUFF
 030903         -2CADR  11DAPOFF
R0310  2ANY MORE GROUP 6.ODD RESTART VALUES SHOULD GO HERE
 0311   SIZETAB  GENADR 1.2SPOT -24006
 0312            GENADR 1.3SPOT -24004
 0313            GENADR 2.2SPOT -24006
 0314            GENADR 2.3SPOT -24004
 0315            GENADR 3.2SPOT -24006
 0316            GENADR 3.3SPOT -24004
 0317            GENADR 4.2SPOT -24006
 0318            GENADR 4.3SPOT -24004
 0319            GENADR 5.2SPOT -24006
 0320            GENADR 5.3SPOT -24004
 0321            GENADR 6.2SPOT -24006
 0322            GENADR 6.3SPOT -24004
P0323
 0324   RESTARTS CA     MPAC +5         GET GROUP NUMBER -1
 0325            DOUBLE                 SAVE FOR INDEXING
 0326  2         TS     TEMP2G
 0327            CA     FVACCADR        LET:S ASSUME THIS IS A JOB, THIS WILL
 0328            TS     GOLOC -1        SAVE US A COUPLE OF LOCATIONS, BUT NOT
A0329  2                                NECESSARIALY ANY TIME  - SO BE IT -
 0330            CA     PHS2CADR        SET UP EXIT IN CASE IT IS AN EVEN
 0331  2         TS     TEMPSWCH        TABLE PHASE
 0332            CA     RTRNCADR        TO SAVE TIME ASSUME IT WILL GET NEXT
 0333  2         TS     GOLOC +2        GROUP AFTER THIS
 0334            CA     TEMPPHS
 0335            MASK   OCT1400
 0336            CCS    A               IS IT A VARIABLE OR TABLE RESTART
 0337  2         TCF    ITSAVAR         IT:S A VARIABLE RESTART
 0338   GETPART2 CCS    TEMPPHS         IS IT AN X.1 RESTART
 0339            CCS    A
 0340  2         TCF    ITSATBL         NO, ITS A TABLE RESTART
 0341            CA     PRIO14          IT IS AN X.1 RESTART, THEREFORE START
 0342            TC     FINDVAC         THE DISPLAY RESTART JOB
 0343            EBANK= LST1
 0344            2CADR  INITDSP
 0345  2         TC     RTRNCADR        FINISHED WITH THIS GROUP, GET NEXT ONE
 0346  2INITDSP  EQUALS ENDOFJOB
 0347   ITSAVAR  MASK   OCT1400         IS IT TYPE B ?
 0348            CCS    A
 0349  2         TCF    ITSLIKEB        YES,IT IS TYPE B
 0350            EXTEND                 STORE THE JOB (OR TASK) 2CADR FOR EXIT
 0351            NDX    TEMP2G
 0352            DCA    PHSNAME1
 0353  2         DXCH   GOLOC
 0354            CA     TEMPPHS         SEE IF THIS IS A JOB, TASK, OR A LONGCAL
 0355            MASK   OCT7
 0356            AD     MINUS2
 0357            CCS    A
 0358  2         TCF    ITSLNGCL        ITS A LONGCALL
 0359  2OCT37776 OCT    37776           CANT GET HERE
 0360  2         TCF    ITSAWAIT
 0361  2         TCF    ITSAJOB         ITS A JOB
 0362   ITSAWAIT CA     WTLTCADR        SET UP WAITLIST CALL
 0363  2         TS     GOLOC -1
 0364            NDX    TEMP2G          DIRECTLY STORED
 0365            CA     PHSPRDT1
 0366   TIMETEST CCS    A               IS IT AN IMMEDIATE RESTART
 0367            INCR   A               NO,
 0368  2         TCF    FINDTIME        FIND OUT WHEN IT SHOULD BEGIN
 0369  2         TCF    ITSINDIR        STORED INDIRECTLY
 0370  2         TCF    IMEDIATE        IT WANTS AN IMMEDIATE RESTART
R0371  2***** THIS MUST BE IN FIXED FIXED *****
 0372            BLOCK  02
 0373   ITSINDIR LXCH   GOLOC +1        GET THE CORRECT E BANK IN CASE THIS IS
 0374  2         LXCH   BB              SWITCHED ERRASIBLE
 0375            NDX    A               GET THE TIME INDIRECTLY
 0376  2         CA     1
 0377            LXCH   BB              RESTORE THE BB AND GOLOC
 0378  2         LXCH   GOLOC +1
 0379  2         TCF    FINDTIME        FIND OUT WHEN IT SHOULD BEGIN
R0380  2***** YOUB MAY RETURN TO  SWITCHED FIXED *****
 0381            BANK   06
 0382   FINDTIME COM                    MAKE NEGATIVE SINCE IT WILL BE SUBTRACTD
 0383            TS     L               AND SAVE
 0384            NDX    TEMP2G
 0385            CS     TBASE1
 0386            EXTEND
 0387            SU     TIME1
 0388            CCS    A
 0389            COM
 0390            AD     OCT37776
 0391            AD     ONE
 0392            AD     L
 0393            CCS    A
 0394            CA     ZERO
 0395            TCF    +2
 0396            TCF    +1
 0397   IMEDIATE AD     ONE
 0398            TC     GOLOC -1
 0399   ITSLIKEB CA     RTRNCADR        TYPE B,             SO STORE RETURN IN
 0400  2         TS     TEMPSWCH        TEMPSWCH IN CASE OF AN EVEN PHASE
 0401            CA     PRT2CADR        SET UP EXIT TO GET TABLE PART OF THIS
 0402  2         TS     GOLOC +2        VARIABLE TYPE OF PHASE
 0403            CA     TEMPPHS         MAKE THE PHASE LOOK RIGHT FOR THE TABLE
 0404            MASK   OCT177          PART OF THIS VARIABLE PHASE
 0405  2         TS     TEMPPHS
 0406            EXTEND
 0407            NDX    TEMP2G          OBTAIN THE JOB:S 2CADR
 0408            DCA    PHSNAME1
 0409  2         DXCH   GOLOC
 0410   ITSAJOB  NDX    TEMP2G          NOW ADD THE PRIORITY AND LET:S GO
 0411            CA     PHSPRDT1
 0412  2         TC     GOLOC -1
 0413   ITSATBL  TS     CYR             FIND OUT IF THE PHASE IS ODD OR EVEN
 0414            CCS    CYR
 0415            TCF    +1              IT:S EVEN
 0416  2         TCF    ITSEVEN
 0417            CA     RTRNCADR        IN CASE THIS IS THE SECOND PART OF A
 0418  2         TS     GOLOC +2        TYPE B RESTART, WE NEED PROPER EXIT
 0419            CA     TEMPPHS         SET UP POINTER FOR FINDING OUR PLACE IN
 0420            TS     SR              THE RESTART TABLES
 0421            AD     SR
 0422            NDX    TEMP2G
 0423            AD     SIZETAB +1
 0424  2         TS     POINTER
 0425   CONTBL2  EXTEND                 FIND OUT WHAT:S IN THE TABLE
 0426            NDX    POINTER
 0427  2         DCA    CADRTAB         GET THE 2CADR
 0428  2         LXCH   GOLOC +1        STORE THE BB INFORMATION
 0429            CCS    A               IS IT A JOB OR IS IT  TIMED
 0430            INCR   A               POSITIVE, MUST BE A JOB
 0431  2         TCF    ITSAJOB2
 0432            INCR   A               MUST BE EITHER A WAITLIST OR LONGCALL
 0433  2         TS     GOLOC           LET-S STORE THE CORRECT CADR
 0434            CA     WTLTCADR        SET UP OUR EXIT TO WAITLIST
 0435  2         TS     GOLOC -1
 0436            CA     GOLOC +1        NOW FIND OUT IF IT IS A WAITLIST CALL
 0437            MASK   BIT10           THIS SHOULD BE ONE IF WE HAVE -BB
 0438            CCS    A               FOR THAT MATTER SO SHOULD BE BITS 9,8,7,
A0439                                   6,5, AND LAST BUT NOT LEAST (PERHAPS NOT
A0440                                   IN IMPORTANCE ANYWAY. BIT 4
 0441  2         TCF    ITSWTLST        IT IS A WAITLIST CALL
 0442            NDX    POINTER         OBTAIN THE ORIGINAL DELTA T
 0443  2         CA     PRDTTAB         ADDRESS FOR THIS LONGCALL
 0444  2         TCF    ITSLGCL1        NOW GO GET THE DELTA TIME
R0445  2***** THIS MUST BE IN FIXED FIXED *****
 0446            BLOCK  02
 0447   ITSLGCL1 LXCH   GOLOC +1        OBTAIN THE CORRECT E BANK
 0448            LXCH   BB
 0449  2         LXCH   GOLOC +1        AND PRESERVE OUR E AND F BANKS
 0450            EXTEND                 GET THE DELTA TIME
 0451            NDX    A
 0452  2         DCA    0
 0453            LXCH   GOLOC +1        RESTORE OUR E AND F BANK
 0454            LXCH   BB              RESTORE THE TASKS E AND F BANKS
 0455  2         LXCH   GOLOC +1        AND PRESERVE OUR L
 0456  2         TCF    ITSLGCL2        NOW LET:S PROCESS THIS LONGCALL
R0457  2***** YOUB MAY RETURN TO  SWITCHED FIXED *****
 0458            BANK   06
 0459  2ITSLGCL2 DXCH   LONGTIME
 0460            EXTEND                 CALCULATE TIME LEFT
 0461            DCS    TIME2
 0462            DAS    LONGTIME
 0463            EXTEND
 0464            DCA    LONGBASE
 0465  2         DAS    LONGTIME
 0466            CCS    LONGTIME        FIND OUT HOW THIS SHOULD BE RESTARTED
 0467            TCF    LONGCLCL
 0468            TCF    +2
 0469            TCF    IMEDIATE -3
 0470            CCS    LONGTIME +1
 0471            TCF    LONGCLCL
 0472            NOOP                   CAN:T GET HERE    *********
 0473            TCF    IMEDIATE -3
 0474  2         TCF    IMEDIATE
 0475   LONGCLCL CA     LGCLCADR        WE WILL GO TO LONGCALL
 0476  2         TS     GOLOC -1
 0477            EXTEND                 PREPARE OUR ENTRY TO LONGCALL
 0478            DCA    LONGTIME
 0479  2         TC     GOLOC -1
 0480   ITSLNGCL CA     WTLTCADR        ASSUME IT WILL GO TO WAITLIST
 0481  2         TS     GOLOC -1
 0482            NDX    TEMP2G
 0483  2         CS     PHSPRDT1        GET THE DELTA T ADDRESS
 0484  2         TCF    ITSLGCL1        NOW GET THE DELTA TIME
 0485   ITSWTLST CS     GOLOC +1        CORRECT THE BBCON INFORMATION
 0486  2         TS     GOLOC +1
 0487            NDX    POINTER         GET THE DT AND FIND OUT IF IT WAS STORED
 0488  2         CA     PRDTTAB         DIRECTLY OR INDIRECTLY
 0489  2         TCF    TIMETEST        FIND OUT HOW THE TIME IS STORED
 0490  2ITSAJOB2 XCH    GOLOC           STORE THE CADR
 0491            CA     FVACCADR        STORE TC FINDVAC.
 0492  2         TS     GOLOC -1
 0493            NDX    POINTER         ADD THE PRIORITY AND LET:S GO
 0494  2         CA     PRDTTAB
 0495  2         TC     GOLOC -1
 0496   ITSEVEN  CA     TEMPSWCH        SET UP FOR EITHER THE SECOND PART OF THE
 0497  2         TS     GOLOC +2        TABLE, OR A RETURN FOR THE NEXT GROUP
 0498            NDX    TEMP2G          SET UP POINTER FOR OUR LOCATION WITHIN
 0499            CA     SIZETAB         THE TABLE
 0500            AD     TEMPPHS         THIS MAY LOOK BAD BUT LET:S SEE YOU DO
 0501            AD     TEMPPHS         BETTER IN TIME OR NUMBERR OF LOCATIONS
 0502            AD     TEMPPHS
 0503  2         TS     POINTER
 0504  2         TCF    CONTBL2         NOW PROCESS WHAT IS IN THE TABLE
 0505   PHSPART2 CA     THREE           SET THE POINTER FOR THE SECOND HALF OF
 0506  2         ADS    POINTER         THE TABLE
 0507            CA     RTRNCADR        THIS WILL BE OUR LAST TIME THROUGH THE
 0508            TS     GOLOC +2        EVEN TABLE , SO AFTER IT  GET THE NEXT
A0509                                   GROUP
 0510  2         TCF    CONTBL2         SO LET:S GET THE SECOND ENTRY IN THE TBL
 0511   TEMPPHS  EQUALS MPAC
 0512   TEMP2G   EQUALS MPAC +1
 0513   POINTER  EQUALS MPAC +2
 0514   TEMPSWCH EQUALS MPAC +3
 0515   GOLOC    EQUALS VAC5 +20D
 0516   MINUS2   EQUALS NEG2
 0517  4OCT177   EQUALS LOW7
R0518  2SETRSTRT - RESTART FLAG UP OR DOWN DEPENDING ON CONTENTS OF ERASABLE RST
 0519  9RTWRD.
R0520   CALLING SEQUENCE
A0521            CAF    BITX            USE BIT CORRESPONDING TO MISS PHASE NUM.
A0522  4         TC     SETRSTRT
 0523  2         BLOCK  02
 0524   SETRSTRT LXCH   Q
 0525            MASK   RSTRTWRD
 0526            EXTEND
 0527  2         BZF    +4
 0528            TC     FLAG1UP         USER MISSION PHASE IS RESTARTABLE
 0529            OCT    04000
 0530  2         TC     L
 0531   +4       TC     FLAG1DWN        USER MISSION PHASE NOT RESTARTABLE
 0532            OCT    04000
 0533            TC     L
L      2PHASE TABLE MAINTENANCE
P0056  2         SUBROUTINE TO UPDATE THE PROGRAM NUMBER DISPLAY ON THE DSKY.
 00569           BLOCK  02
 0057   NEWMODEX INDEX  Q               UPDATE MODREG. ENTRY FOR MODE IN FIXED.
 0058            CAF    0
 0059  2         INCR   Q
 0060   NEWMODEA XCH    MODREG          ENTRY FOR MODE IN A
 0061            COM                    IF NO CHANGE IN MODE, RETURN IMMEDIATELY
 0062            AD     MODREG
 0063            EXTEND
 0064  2         BZF    TCQ
 00645           CAF    +3              CALL PINBALL SUBROUTINE
 0065   PREBJUMP LXCH   BBANK           PUTS BBANK IN L
 0066            TCF    BANKJUMP        PUTS Q INTO A
 0067  2         CADR   SETUPDSP
R0068  2         RETURN TO CALLER +3 IF MODE = THAT AT CALLER +1. OTHERWISE RETU
 0069  9RN TO CALLER +2.
 0070   CHECKMM  INDEX  Q
 0071            CS     0
 0072            AD     MODREG
 0073            EXTEND
 0074            BZF    Q+2
 0075  2         TCF    Q+1             NO MATCH
 0078  2TCQ      =      Q+2 +1
 00781 2         BANK   35
 00782  SETUPDSP INHINT
 007824          DXCH   RUPTREG1        SAVE CALLER-S RETURN 2CADR
 00783           CAF    PRIO30            EITHER A TASK OR JOB CAN COME TO
 00784           TC     NOVAC             NEWMODEX
 00785           EBANK= MODREG
 00786           2CADR  DSPMMJOB
 007864          DXCH   RUPTREG1
 00787           RELINT
 00788 2         DXCH   Z               RETURN
 007892 DSPMMJOB TC     BANKCALL
 007894          CADR   DSPMM1
 0078962         TCF    ENDOFJOB
 0078982         BLOCK  02
P0079   PHASCHNG IS THE MAIN WAY OF MAKING PHASE CHANGES FOR RESTARTS.  THERE AR
 0080  9E THREE FORMS OF PHASCHNG, KNOWN AS TYPE
R0081  2A, TYPE B, AND TYPE C. THEY ARE ALL CALLED AS FOLLOWS, WHERE OCT XXXXX
 0082  9 CONTAINS THE PHASE INFORMATION,
A0083            TC     PHASCHNG
A0084  2         OCT    XXXXX
R0085   TYPE A IS CONCERNED WITH FIXED PHASE CHANGES, THAT IS, PHASE INFORMATION
 0086  9THAT IS STORED PERMANENTLY.  THESE
R0087  2OPTIONS ARE, WHERE G STANDS FOR A GROUP AND .X FOR THE PHASE,
R0088                   G.0             INACTIVE, WILLNOT PERMIT A GROUP G RESTA
 0089  9RT
R00891                  G.1             WILL CAUSE THE LAST DISPLAY TO BE REACTI
 0090  9VATED, USED MAINLY IN MANNED FLIGHTS
R0091                   G.EVEN          A DOUBLE TABLE RESTART, CAN CAUSE ANY CO
 0092  9MBINATION OF TWO JOBS, TASKS, AND/OR
R0093                                   LONGCALL TO BE RESTARTED.
R0094  2                G.ODD NOT .1    A SINGLE TABLE RESTART, CAN CAUSE EITHER
 00941 9 A JOB, TASK, OR LONGCALL RESTART
R0095  2THIS INFORMATION IS PUT INTO THE OCTAL WORD AFTER TC PHASCHNG AS FOLLOWS
R0096  2                TL0 00P PPP PPP GGG
 0097  9,
R0099   WHERE EACH LETTER OR NUMBER STANDS FOR A BIT.  THE G:S STAND FOR THE GRO
 0100  9UP, OCTAL 1 - 7, THE P:S FOR THE PHASE,
R0101   OCTAL 0 - 127.  0:S MUST BE 0.              IF ONE WISHES TO HAVE THE TB
 0102  9ASE OF GROUP G TO BE SET AT THIS TIME,
R0104   T IS SET TO 1, OTHERWISE IT IS SET TO 0.  SIMIARLY IF ONE WISHES TO SET
 0105  9LONGBASE, THEN L IS SET TO 1, OTHERWISE
R0106  2IT IS SET TO 0.  SOME EXAMPLES,
A0107            TC     PHASCHNG        THIS WILL CAUSE GROUP 3 TOBE SET TO 0,
A0108  2         OCT    00003           MAKING GROUP 3 INACTIVE
A0109            TC     PHASCHNG        IF A RESTART OCCURS THIS WOULD CAUSE
A0110  2         OCT    00012           GROUP 2 TO RESTART THE LAST DISPLAY
A0111            TC     PHASCHNG        THIS SETS THE TBASE OF GROUP 4 AND IN
A0112            OCT    40064           CASE OF A RESTART WOULD START UP THE TWO
A0113                                   THINGS LOCATED IN THE DOUBLE 4.6 RESTART
A0114                                   LOCATION
A0115            TC     PHASCHNG        THIS SETS LONGBASE AND UPON A RESTART
A0116            OCT    20135           CAUSES 5.13 TO BE RESTARTED  (SINCE
A0117                                   LONGBASE WAS SET THIS SINGLE ENTRY
A0118                                   SHOULD BE A LONGCALL)
A0119            TC     PHASCHNG        SINCE BOTH TBASE4 AND LONGBASE ARE SET,
A0120            OCT    60124           4.12 SHOULD CONTAIN BOTH A TASK AND A
A0121  2                                LONGCALL TO BE RESTARTED
R0122   TYPE C PHASCHNG CONTAINS THE VARIABLE TYPE OF PHASCHNG INFORMATION. INST
 0123  9EAD OF THE INFORMATION BEING IN A
R0124  2PERMANENT FORM, ONE STORES THE DESIRED RESTART INFORMATION IN A VARIABKE
 0125  9 LOCATION. THE BITS ARE AS FOLLOWS,
R0126  2                TL0 1AD XXX CJW GGG
R0127   WHERE EACH LETTER OR NUMBER STANDS FOR A BIT.  THE G:S STAND FOR THE GRO
 0128  9UP, OCTAL 1 - 7.  IF THE RESTART IS TO
R0129   BE BY WAITLIST, W IS SET TO 1, IF IT IS A JOB, J IS SET TO 1, IF IT IS A
 0130  9 LONGCALL, C IS SET TO 1. ONLY ONE OF
R0131   THESE THREE BIT S MAY BE SET.  X:S ARE IGNORED  1 MUST BE 1, AND 0 MUST
 0132  9 BE 0.  AGAIN T STANDS FOR THE TBASE,
R0133   AND L FOR LONGBASE.  THE BITS A AND D ARE CONCERNED WITH THE VARIABLE IN
 0134  9FORMATION. IF D IS SET TO 1, A PRIORITY
R0135   OR DELTA TIME WILL BE READ FROM THE NEXT LOCATION AFTER THE OCTAL INFORM
 0136  9ATION, IF THIS IS TO BE INDIRECT, THAT
R0137   IS, THE NAME OF A LOCATION CONTAINING THE INFORMATION (DELTA TIME ONLY),
 0138  9 THEN THIS IS GIVEN AS THE -GENADR OF
R0139   THAT LOCATION WHICH CONTAINS THE DELTA TIME.  IF THE OLD PRIORITY OR DEL
 0140  9TA TIME IS TO BE USED, THAT WHICH IS
R0141   ALREADY IN THE VARIABLE STORAGE, THEN D IS SET TO 0. NEXT THE A BIT IS U
 0142  9SED.  IF IT IS SET TO 0, THE ADDRESS
R0143   THAT WOULD BE RESTARTED DURING A RESTART IS THE NEXT LOCATION AFTER THE
 0144  9 PHASE INFORMATION, THAT IS, EITHER
R0145   (TC PHASCHNG) +2 OR +3, DEPENDING ON WHETHER D HAD BEEN SET OR NOT.  IF
 0146  9A IS SET TO 1, THEN THE ADDRESS THAT
R0147  2WOULD BE RESTARTED IS THE 2CADR THAT IS READ FROM THE NEXT TWO LOCATIONS
 0148  9.  EXAMPLES,
A0149   AD       TC     PHASCHNG        THIS WOULD CAUSE LOCATION AD +3 TO BE
A0150   AD+1     OCT    05023           RESTARTED BY GROUP THREE WITHA PRIORITY
A0151   AD+2     OCT    23000           OF 23.  NOTE UPON RETURNING IT WOULD
A0152  2AD+3                            ALSO GO TO AD+3
A0153   AD       TC     PHASCHNG        GROUP  1 WOULD CAUSE CAUSE CALLCALL TO
A0154   AD+1     OCT    27441           BE STARTED AS A LONGCALL FROM THE TIME
A0155   AD+2    -GENADR DELTIME         STORED IN LONGBASE (LONGBASE WAS SET) BY
A0156   AD+3     2CADR  CALLCALL        A DELTATIME STORED IN DELTIME.  THE
A0157   AD+4                            BBCON OF THE 2CADR SHOULD CONTAIN THE E
A0158   AD+5                            BANK OF DELTIME. PHASCHNG RETURNS TO
A0159  2                                LOCATION AD+5
R0160   TYPE B PHASCHNG IS A COMBINATION OF VARIABLE AND FIXED PHASE CHANGES. IT
 0161  9 WILL START UP A JOB AS INDICATED
R0162   BELOW AND ALSO START UP ONE FIXED RESTART, THAT IS EITHER AN G.1 OR  A G
 0163  9.ODD OR THE FIRST ENTRY OF G.EVEN
R0164  2DOUBLE ENTRY.  THE BIT INFORMATION IS AS FOLLOWS,
R0165  2                TL1 DAP PPP PPP GGG
R0166   WHERE EACH LETTER OR NUMBER STANDS FOR A BIT.  THE G:S STAND FOR THE GRO
 0167  9UP, OCTAL 1 - 7. THE P:S FOR THE FIXED
R0168   PHASE INFORMATION, OCTAL 0 - 127. 1 MUST BE 1.  AND AGAIN T STANDS FOR T
 0169  9HE TBASE AND L FOR LONGBASE. D THIS
R0170   TIME STANDS ONLY FOR PRIORITY SINCE THIS WILL BE CONSIDERED A JOB, AND I
 0171  9T MUST BE GIVEN DIRECTLY IF GIVEN.
R0172   AGAIN A STANDS FOR THE ADDRESS OF THE LOCATION TO BE RESTARTED, 1 IF THE
 0173  9 2CADR IS GIVEN , OR 0 IF IT IS TO BE
R0174  2THE NEXT LOCATION.(THE RETURN LOCATION OF PHASCHNG) EXAMPLES,
A0175   AD       TC     PHASCHNG        TBASE IS SET AND ARESTART CAUSE GROUP 3
A0176   AD+1     OCT    56043           TO START THE JOB AJOBAJOB WITH PRIORITY
A0177   AD+2     OCT    31000           31 AND THE FIRST ENTRY OF 3.4SPOT(WE CAN
A0178   AD+3     2CADR  AJOBAJOB        ASSUME IT IS A TASK SINCE WE SET TBASE3)
A0179   AD+4                            UPON RETURN FROM PHASCHNG CONTROL WOULD
A0180  2AD+5                            GO TO AD+5
A0181   AD       TC     PHASCHNG        UPON A RESTART THE LAST DISPLAY WOULD BE
A0182   AD+1     OCT    10015           RESTARTED AND A JOB WITH THE PREVIOUSLY
A0183   AD+2                            STORED PRIORITY WOULD BE BEGUN AT AD+2
A0184  2                                BY MEANS OF GROUP 5
R0185  2SUMMARY OF BITS
R0186  2TYPE A          TL0 00P PPP PPP GGG
R0187  2TYPE B          TL1 DAP PPP PPP GGG
R0188  2TYPE C          TL0 1AD XXX CJW GGG
P0189   2PHSCHNG IS USED WHEN ONE WISHES TO START UP A GROUP OR CHANGE A GROUP W
 0190  9HILE UNDER THE CONTROL OF A DIFFERENT
R0191   GROUP. FOR EXAMPLE, CHANGE THE PHASE OF GROUP 3 WHILE THE PORTION OF THE
 0192  9 PROGRAM IS UNDER GROUP 5. ALL 2PHSCHNG
R0193  2CALLS ARE MADE IN THE FOLLOWING MANNER,
A0194            TC     2PHSCHNG
A0195            OCT    XXXXX
A0196  2         OCT    YYYYY
R0197   WHERE OCT XXXXX MUST BE OF TYPE A AND OCT YYYYY MAY BE OF EITHER TYPE A
 0198  9OR TYPE B OR TYPEC.  THERE IS ONE
R0199   DIFFERENCE --- NOTE- IF LONGBASE IS TO BE SET THIS INFORMATION IS GIVEN
 0200  9IN THE OCT YYYYY INFORMATION, IT WILL
R0201  2BE DISREGARDED IF GIVEN WITH THE OCT XXXXX INFORMATION. A COUPLE OF EXAM
 0202  9PLES MAY HELP,
A0203   AD       TC     2PHSCHNG        SET TBASE3 AND IF A RESTART OCCURS START
A0204   AD+1     OCT    40083           THE TWO ENTRIES IN 3.8 TABLE LOCATION
A0205   AD+2     OCT    05025           THIS IS OF TYPE C, SET THE JOB TO BE
A0206   AD+3     OCT    18000           TO BE LOCATION AD+4, WITH A PRIORITY 18,
A0207  2AD+4                            FOR GROUP 5 PHASE INFORMATION
 0209   2PHSCHNG INHINT                  THE ENTRY FOR A DOUBLE PHASE CHANGE
 0210            NDX    Q
 0211            CA     0
 0212            INCR   Q
 0213  2         TS     TEMPP2
 0214            MASK   OCT7
 0215            DOUBLE
 0216  2         TS     TEMPG2
 0217            CA     TEMPP2
 0218            MASK   OCT17770        NEED ONLY 1770, BUT WHY GET A NEW CONST.
 0219            EXTEND
 0220            MP     BIT12
 0221  2         XCH    TEMPP2
 0222            MASK   BIT15
 0223  2         TS     TEMPSW2         INDICATES WHETHER TO SET TBASE OR NOT
 0224  3         TCF    PHASCHNG +3
 0225   PHASCHNG INHINT
 0226            CA     ONE             INDICATESWE CAME FROM A PHASCHNG ENTRY
 0227  2         TS     TEMPSW2
 0228            NDX    Q
 0229            CA     0
 0230            INCR   Q
 0231  2         TS     TEMPSW
 0232            EXTEND
 0233            DCA    ADRPCHN2        OFF TO SWITCHED BANK
 0234  2         DTCB
 02345           EBANK= LST1
 0235  3ADRPCHN2 2CADR  PHSCHNG2
 0236   ONEORTWO LXCH   TEMPBBCN
 0237            LXCH   BBANK
 0238  2         LXCH   TEMPBBCN
 0239            MASK   OCT14000        SEE WHAT KIND OF PHASE CHANGE IT IS
 0240            CCS    A
 0241  2         TCF    CHECKB           IT IS OF TYPE :B:
 0242            CA     TEMPP
 0243            MASK   BIT7
 0244            CCS    A                SHALL WE USE THE OLD PRIORITY
 0245  2         TCF    GETPRIO          NO GET A NEW PRIORITY (OR DELTA T)
 0246   OLDPRIO  NDX    TEMPG            USE THE OLD PRIORITY (OR DELTA T)
 0247            CA     PHSPRDT1 -2
 0248  2         TS     TEMPPR
 0249   CON1     CA     TEMPP           SEE IF A 2CADR IS GIVEN
 0250            MASK   BIT8
 0251            CCS    A
 0252  2         TCF    GETNEWNM
 0253            CA     Q
 0254            TS     TEMPNM
 0255            CA     BB
 0256  2         TS     TEMPBB
 0257   TOCON2   CA     CON2ADR         BACK TO SWITCHED BANK
 0258            LXCH   TEMPBBCN
 0259  2         DTCB
 0260  2CON2ADR  GENADR CON2
 0261   GETPRIO  NDX    Q               DON:T CARE IF DIRECT OR INDIRECT
 0262            CA     0               LEAVE THAT DECISION TO RESTARTS
 0263            INCR   Q               OBTAIN RETURN ADDRESS
 0264  2         TCF    CON1 -1
 02645  GETNEWNM EXTEND
 0265            INDEX  Q
 0266            DCA    0
 0267            DXCH   TEMPNM
 0268            CA     TWO
 0269  2         ADS    Q               OBTAIN RETURN ADDRESS
 0270  2         TCF    TOCON2
 0271   OCT17770 OCT    17770
 0272   OCT14000 EQUALS PRIO14
 0273   OCT7     EQUALS SEVEN
 0274   TEMPG    EQUALS ITEMP1
 0275   TEMPP    EQUALS ITEMP2
 0276   TEMPNM   EQUALS ITEMP3
 0277   TEMPBB   EQUALS ITEMP4
 0278   TEMPSW   EQUALS ITEMP5
 0279   TEMPSW2  EQUALS ITEMP6
 0280   TEMPPR   EQUALS RUPTREG1
 0281   TEMPG2   EQUALS RUPTREG2
 0282  2TEMPP2   EQUALS RUPTREG3
 0283   TEMPBBCN EQUALS RUPTREG4
 0284  4BB       EQUALS BBANK
 0285  2         BANK   06
 02855           EBANK= PHSNAME1
 0286   PHSCHNG2 LXCH   TEMPBBCN
 0287            CA     TEMPSW
 0288            MASK   OCT7
 0289            DOUBLE
 0290  2         TS     TEMPG
 0291            CA     TEMPSW
 0292            MASK   OCT17770
 0293            EXTEND
 0294            MP     BIT12
 0295  2         TS     TEMPP
 0296            CA     TEMPSW
 0297            MASK   OCT60000
 0298            XCH    TEMPSW
 0299            MASK   OCT14000
 0300  2         CCS    A
 0301  2         TCF    ONEORTWO
 0302            CA     TEMPP           START STORING THE PHASE INFORMATION
 0303            NDX    TEMPG
 0304  2         TS     PHASE1 -2
 0305   BELOW1   CCS    TEMPSW2         IS IT A PHASCHNG OR A 2PHSCHNG
 0306  2         TCF    BELOW2          IT:S A PHASCHNG
 0307            TCF    +1              IT:S A 2PHSCHNG
 0308            CS     TEMPP2
 0309            LXCH   TEMPP2
 0310            NDX    TEMPG2
 0311  2         DXCH   -PHASE1 -2
 0312            CCS    TEMPSW2
 0313            NOOP                   CAN:T GET HERE
 0314  2         TCF    BELOW2
 0315            CS     TIME1
 0316            NDX    TEMPG2
 0317  2         TS     TBASE1 -2
 0318   BELOW2   CCS    TEMPSW          SEE IF WE SHOULD SET TBASE OR LONGBASE
 0319            TCF    BELOW3          SET LONGBASE ONLY
 0320  2         TCF    BELOW4          SET NEITHER
 0321            CS     TIME1           SET TBASE TO BEGIN WITH
 0322            NDX    TEMPG
 0323  2         TS     TBASE1 -2
 0324            CA     TEMPSW           SHALL WE NOW SET LONGBASE
 0325            AD     BIT14COM
 0326            CCS    A
 0327   OCT60000 OCT    60000           ***** CANT GET HERE *****
 0328   BIT14COM OCT    17777           ***** CANT GET HERE *****
 0329  2         TCF    BELOW4          NO WE NEED ONLY SET TBASE
 0330   BELOW3   EXTEND                 SET LONGBASE
 0331            DCA    TIME2
 0332  2         DXCH   LONGBASE
 0333   BELOW4   CS     TEMPP           AND STORE THE FINAL PART OF THE PHASE
 0334            NDX    TEMPG
 0335  2         TS     -PHASE1 -2
 0336            CA     Q
 0337            LXCH   TEMPBBCN
 03375           RELINT
 0338            DTCB
 0339  2CON2     LXCH   TEMPBBCN
 0340            CA     TEMPP
 0341            NDX    TEMPG
 0342  2         TS     PHASE1 -2
 0343            CA     TEMPPR
 0344            NDX    TEMPG
 0345  2         TS     PHSPRDT1 -2
 0346            EXTEND
 0347            DCA    TEMPNM
 0348            NDX    TEMPG
 0349  2         DXCH   PHSNAME1 -2
 0350  2         TCF    BELOW1
 03505           BLOCK  02
 0351   CHECKB   MASK   BIT12           SINCE THIS IS OF TYPE B, THIS BIT SHOULD
 0352            CCS    A                BE HERE IF WE ARE TO GET A NEW PRIORITY
 0353  2         TCF    GETPRIO         IT IS, SO GET NEW PRIORITY
 0354  2         TCF    OLDPRIO         IT ISN:T, USE THE OLD PRIORITY
P0355   PROGRAM DESCRIPTION: NEWPHASE
 0356  9DATE: 11 NOV 1966
R03565  MOD: 1
 03566 9ASSEMBLY: SUNBURST REV
R03567  MOD BY: COPPS
 03568 9LOG SECTION: PHASE TABLE MAINTENANCE
R03570  FUNCTIONAL DESCRIPTION:
R03571                NEWPHASE IS THE QUICK WAY TO MAKE A NON VARIABLE PHASE CHA
 03572 9NGE. IT INCLUDES THE OPTION OF SETTING
R03573 2         TBASE OF THE GROUP. IF TBASE IS TO BE SET,  -C(TIME1) IS STORED
 03574 9 IN THE TBASE TABLE AS FOLLOWS:
R03575                  (L-1) TBASE0
R03576                  (L)   TBASE1 (IF GROUP=1)
R03577                  (L+1)
R03578                  (L+2) TBASE2 (IF GROUP=2)
R03579                  -----
R03580                  (L+6) TBASE4 (IF GROUP=4)
R03581                  (L+7)
R03582 2                (L+8) TBASE5 (IF GROUP=5)
R03590           IN ANY CASE, THE NEGATIVE OF THE PHASE, FOLLOWED (IN THE NEXT R
 03591 9EGISTER)  BY THE PHASE, IS STORED IN THE
R03592 2         PHASE TABLE AS FOLLOWS:
R03593                  (L)   -PHASE1 (IF GROUP=1)
R03594                  (L+1) PHASE1
R03595                  (L+2) -PHASE2 (IF GROUP=2)
R03596                  (L+3) PHASE2
R03597                  -----
R03598                  (L+7) PHASE 4
R03599                  (L+8) -PHASE5 (IF GROUP=5)
R03600 2                (L+9) PHASE5
R03601  CALLING SEQUENCE:
R0361  2              EXAMPLE IS FOR PLACING A PHASE OF FIVE INTO GROUP THREE:
R03615           1) IF TBASE IS NOT TO BE SET:
A0362   L-1      CA     FIVE
A0363   L        TC     NEWPHASE
A0364  2L+1      OCT    00003
R03645           2) IF TBASE IS TO BE SET:
A0365   L-1      CS     FIVE
A0366   L        TC     NEWPHASE
A0367  2L+1      OCT    00003
R03680 2SUBROUTINES CALLED: NONE
R03685 2NORMAL EXIT MODE: AT L+2 OF CALLING SEQUENCE
R03690 2ALARM OR ABORT EXITS: NONE
R03695 2OUTPUT: PHASE TABLE AND TBASE TABLE UPDATED
R03700 2ERASABLE INITIALIZATION REQ,D: NONE
R03705 2DEBRIS: A,L,TEMPG
R03706 2***WARNING*** THIS PROGRAM IS TO BE PLACED IN FIXED-FIXED AND UNSWITCHED
 03707 9 ERASABLE.
 0371            BLOCK  02
 0372  2NEWPHASE INHINT
 0373  2         TS     L               SAVE FOR FURTHER USE
 0374            NDX    Q               OBTAIN THE GROUP NUMBER
 0375            CA     0
 0376            INCR   Q               OBTAIN THE RETURN ADDRESS
 0377            DOUBLE                 SAVE THE GROUP IN A FORM USED FOR
 0378  2         TS     TEMPG           INDEXING
 0379            CCS    L               SEE IF WE ARE TO SET TBASE
 0380            TCF    +7              NO, THE DELTA T WAS POSITIVE
 0381  2         TCF    +6
 0382   NUFAZ+10 INCR   A               SET TBASE AND STORE PHASE CORRECTLY
 0383  2         TS     L
 0384            CS     TIME1           SET TBASE
 0385            NDX    TEMPG
 0386  2         TS     TBASE1 -2
 0387            CS     L               NOW PUT THE PHASE IN THE RIGHT TABLE LOC
 0388            NDX    TEMPG
 0389  2         DXCH   -PHASE1 -2
 03895           RELINT
 0390            TC     Q               NOW RETURN TO CALLER
L      2FRESH START AND RESTART
 0010            BANK   01
 0015  2         EBANK= LST1
 0020   SLAP1    INHINT                 FRESH START. COMES HERE FROM PINBALL.
 0025  2         TC     STARTSUB        SUBROUTINE DOES MOST OF THE WORK.
 0030  2STARTSW  TCF    GOON            PATCH FOR SIMULATIONS
 0035  2STARTSIM CAF    BIT14
 0040            TC     FINDVAC
 0045            EBANK= ITEMP1
 0050  2         2CADR  BEGIN206
 0055   GOON     CAF    BIT15           TURN OFF ALL DSPTAB +11D LAMPS ONLY ON
 0060  2         TS     DSPTAB +11D     REQUESTED FRESH START.
 0065            CS     ZERO
 0066            TS     RSTRTWRD
 0067            TS     THRUST          INITIALIZE THROTTLE COUNTER.
 0068            TS     DAPOFFDT        OVERWRITE IN ERASABLE LOAD IF DESIRED.
 0070  2         TS     JETRESET        PROPERTY OF RCSMONIT.
 0075            CA     EBANK5
 0080            TS     L
 0085            LXCH   EBANK
 0090            EBANK= ABDELV
 0095            CA     ZERO
 0100            TS     ABDELV          FOR DAP INITIALIZATION
 0105            TS     ABDELV +1
 0110            EBANK= LST1
 0115  2         LXCH   EBANK
 0120            TS     THISCH32
 0125            TS     LMPJFAIL
 0130            TS     CH5MASK
 0135  2         TS     CH6MASK
 0145            TS     REDOCTR
 0150            TS     FAILREG
 0155            TS     FAILREG +1
 0160  2         TS     FAILREG +2
 0180            CA     TWO             SET UP VALUES FOR DVCNTR.  THESE MAY
 0185            TS     STARTDVC        BE OVERWRITTEN IN ERASABLE LOAD IF
 0190  2         TS     STOPDVC         ANYBODY WANTS TO.
 0195            CA     POSMAX          TENTATIVELY LOAD WITH INFINITY.  MAY
 0200  2         TS     SLOSHCTR        BE REPLACED VIA ERASABLE LOAD.
 0220   DOFSTART CS     ZERO            MAKE ALL MTIMER/MPHASE PAIRS AVAILABLE.
 0225            TS     MTIMER4
 0230            TS     MTIMER3
 0235            TS     MTIMER2
 0240            TS     MTIMER1
 0245            TS     MPHASE4
 0250            TS     MPHASE3
 0255            TS     MPHASE2
 0260  2         TS     MPHASE1
 0275            CS     ONE
 0280  2         TS     LMPOUTT
R0285  2INITIALIZE SWITCH REGISTERS INCLUDING DAPBOOLS:
 0290            CA     FOUR            INITIALIZE STATE THRU STATE +4 ONLY.
 0295   INITSW   TS     L
 0300            INDEX  L
 0305            CA     SWINIT
 0310            INDEX  L
 0315            TS     STATE
 0320            CCS    L
 0325  2         TCF    INITSW
 0326            TS     SMODE
 0327            TS     ERESTORE
 0330            TS     LMPCMD          RESET LMP COMMAND AREA.
 0335            TS     LMPCMD +1
 0340            TS     LMPCMD +2
 0345            TS     LMPCMD +3
 0350            TS     LMPCMD +4
 0355            TS     LMPCMD +5
 0360            TS     LMPCMD +6
 0365            TS     LMPCMD +7
 0370            TS     LMPIN
 0375  2         TS     LMPOUT
 0380            EXTEND                 TURN THE RCS JETS OFF.
 0385            WRITE  5
 0390            EXTEND
 0395  2         WRITE  6
 0400            CAF    IM30INIF        FRESH START IMU INITIALIZATION.
 0405  2         TS     IMODES30
 0410            CAF    BIT10           REMOVE IMU FAIL INHIBIT IN 5 SECS.
 0415            TC     WAITLIST
 0420            EBANK= LST1
 0425            2CADR  IFAILOK
 0440            EXTEND                 SETTING T5RUPT FOR SETIDLER PROGRAM
 0445            DCA    SETADR          THE SETIDLER PROGRAM ASSURES 1 SECOND
 0450  2         DXCH   T5ADR           DELAY BEFORE THE DAPIDLER BEGINS.
 0451            CAF    LNORMT4
 0452  2         TS     T4LOC
 0453            CA     LDNTMGO
 0454            TS     L
 0455  2         LXCH   EBANK
 0456  2         EBANK= DNTMGOTO
 0457            CA     LDNPHAS1
 0458  2         TS     DNTMGOTO
 0459            CA     SETCDULM
 0460  2         TS     CDULMIT         OVERWRITE IN ERASABLE LOAD IF DESIRED.
 0461            CA     IDNCDUN
 0462  2         TS     DNCDUN          OVERWRITE IN ERASABLE LOAD IF DESIRED.
 0463  2         LXCH   EBANK
 0464  2         EBANK= LST1
 0465  2         TC     MR.CLEAN        DEACTIVATE ALL RESTART GROUPS.
 0466            RELINT                 LET AN INTERRUPT IN.
 0467            NOOP
 0468  2         INHINT
 0469            TC     IBNKCALL
 0470  2         CADR   1STENGOF
 0472   POOH3    CA     ZERO
 0475            TS     MODREG
 0480  2         TS     PHASENUM
 0482   ENDRSTRT RELINT
 0485            TC     BANKCALL        DISPLAY MAJOR MODE.
 0490  2         CADR   DSPMM
 0495            TC     FLAG1UP         TURN ON RESTARTABILITY FLAG.
 0500  2         OCT    4000
 0505  4         TCF    DUMMYJOB +2     DONT ZERO NEWJOB
 0525   MR.CLEAN CAF    ELEVEN          INITIALIZE PHASE TABLE.  DO IT THIS WAY
 0530  2 +1      TS     BUF             TO MINIMIZE THE TIME OF PHASE TABLE
 0535            CS     ZERO            DISAGREEMENT.
 0540            ZL
 0545            INDEX  BUF
 0550  2         DXCH   -PHASE1 -1
 0555            CCS    BUF
 0560            CCS    A
 0565  2         TCF    MR.CLEAN +1
 0570            TC     Q
P0600  2         COMES HERE FROM LOCATION 4000, GOJAM. RESTART ANY PROGRAMS WHIC
 0605  9H MAY HAVE BEEN RUNNING AT THE TIME.
 0610  2GOPROG   INCR   REDOCTR         ANOTHER RESTART.
 0611            LXCH   Q
 0612  2         DXCH   RSBB&Q          SAVE BBANK & Q FOR RESTART ANALYSIS.
 0615  2         TC     STARTSUB
 0620            CA     BIT15           TEST THE OSC FAIL BIT TO SEE IF WE HAVE
 0622            EXTEND                 HAD A POWER TRANSIENT.  IF SO, ATTEMPT
 0625            WAND   33              A RESTART.  IF NOT, CHECK THE PRESENT
 0627            EXTEND                 STATE OF AGC WARNING.
 0630  2         BZF    LIGHTSET
 0632            CA     BIT14           IF AGC WARNING ON (BIT = 0), DO A FRESH
 0635            EXTEND                 START ON THE ASSUMPTION THAT WE'RE IN A
 0637            RAND   33              RESTART LOOP.
 0640            EXTEND
 0642  2         BZF    DOFSTART
 0645   LIGHTSET EXTEND                 DONT TRY TO RESTART IF ERROR
 0650            READ   15              AND MARK REJECT BUTTONS DEPRESSED.
 0655            AD     -ELR
 0660            EXTEND
 0665            BZF    +2
 0670  2         TCF    +7
 0675            CAF    BIT5
 0680            EXTEND
 0685            RAND   16
 0690            AD     -MKREJ
 0695            EXTEND
 0700  2         BZF    DOFSTART
 0705            CA     ERESTORE        IF SELF-CHECK ERASABLE-MEMORY TEST WAS
 0710            EXTEND                 INTERRUPTED BY A RESTART, DOUBT ERASABLE
 0715            BZF    +2              AND DO A FRESH START.
 0720  2         TCF    DOFSTART
 0725            CA     9,6,4           LEAVE PROG ALARM, GIMBAL LOCK & NO ATT
 0730            MASK   DSPTAB +11D     LAMPS INTACT ON RESTART.
 0735            AD     BIT15
 0740            XCH    DSPTAB +11D     IF NO ATT LAMP WAS ON, LEAVE ISS IN
 0745            MASK   BIT4            COARSE ALIGN.
 0750            EXTEND
 0755  2         WOR    12
 0760            CAF    IFAILINH        LEAVE IMU FAILURE INHIBITS INTACT ON
 0765            MASK   IMODES30        RESTART, RESETTING ALL FAILURE CODES.
 0770            AD     IM30INIR        THE RECORD OF THE ISS OPERATE BIT IS
 0775  2         TS     IMODES30        ALSO LEFT ALONE (206 ONLY).
 0780            EXTEND                 SETTING T5RUPT FOR DAPIDLER PROGRAM
 0785            DCA    IDLEADR
 0790  2         DXCH   T5ADR
 0795            CAF    PRIO37          DISPLAY FAILREG AS INDICATION OF RESTART
 0800            TC     NOVAC           OR TO DISPLAY ABORT CODE AS ABOVE.
 0805            EBANK= LST1
 0810            2CADR  DOALARM
 0815            CS     T4LOC           SEE IF LMP COMMAND WAS SITTING IN CH 10
 0820            AD     LLMPRS2         WHEN RESTART OCCURRED. IF SO, SET BIT 15
 0825            EXTEND                 BACK TO ZERO SO THE COMMAND WILL BE
 0830  2         BZF    LMPRUPT         RESENT.
 0835            CCS    LMPOUTT         IF NOT, SEE IF UPDATE OF REFERENCE
 0840            AD     ONE             POINTER (LMPOUT) WAS IN PROCESS. IF SO,
 0845            TS     LMPOUT          LMPOUTT IS NON-NEGATIVE.
 0850            CS     ONE             SHOW LMPOUT UPDATED.
 0855            TS     LMPOUTT
 0860  2         TCF    T4LOCRST
 0865   LMPRUPT  INDEX  LMPOUT
 0870            CS     LMPCMD
 0875            MASK   BIT15
 0880            INDEX  LMPOUT
 0885  2         ADS    LMPCMD
 0890   T4LOCRST CAF    LNORMT4
 0895  2         TS     T4LOC
 0896            CA     BIT4            TURN THROTTLE COUNTER ON.  (IF EMPTY,
 0897            EXTEND                 NO HARM DONE.  IF NON-EMPTY, ASSUME
 0898  2         WOR    14              CONTENTS ARE VALID.)
 0900            CAF    BIT12           TEST THE RESTARTABILITY FLAG.
 0905            MASK   FLAGWRD1
 0910            CCS    A
 0915            TCF    +3              RESTARTABLE.
 0920            TC     POSTJUMP        NOT RESTARTABLE.  DO A FAKESTART.
 0925  2         CADR   FAKESTRT
 0930   GOPROG2  RELINT
 0935            NOOP                   LET AN INTERRUPT IN
 0940  2         INHINT
 0945            CAF    NUMGRPS         VERIFY PHASE TABLE AGREEMENT.
 0950   PCLOOP   TS     MPAC +5
 0955            DOUBLE
 0960            EXTEND
 0965            INDEX  A
 0970            DCA    -PHASE1         COMPLEMENT INTO A, DIRECT INTO L.
 0975            EXTEND
 0980            RXOR   L               RESULT MUST BE -0 FOR AGREEMENT.
 0985            CCS    A
 0990            TCF    PTBAD           RESTART FAILURE.
 0995            TCF    PTBAD
 1000  2         TCF    PTBAD
 1005            CCS    MPAC +5         PROCESS ALL RESTART GROUPS.
 1010  2         TCF    PCLOOP
 1015  2         TS     MPAC +6         SET TO +0.
 1020            CAF    NUMGRPS         SEE IF ANY GROUPS RUNNING.
 1025   NXTRST   TS     MPAC +5
 1030            DOUBLE
 1035            INDEX  A
 1040            CCS    PHASE1
 1045            TCF    PACTIVE         PNZ - GROUP ACTIVE.
 1050  2         TCF    PINACT          +0 - GROUP NOT RUNNING.
 1055   PACTIVE  TS     MPAC
 1060            INCR   MPAC            ABS OF PHASE.
 1065            INCR   MPAC +6         INDICATE GROUP DEMANDS PRESENT.
 1070            CA     RACTCADR        GO TO RESTARTS AND PROCESS PHASE INFO.
 1075  2         TC     SWCALL          MUST RETURN TO SWRETURN.
 1080   PINACT   CCS    MPAC +5         PROCESS ALL RESTART GROUPS.
 1085  2         TCF    NXTRST
 1090            CCS    MPAC +6         SEE IF ANY GROUPS WERE ACTIVE.
 1095  2         TCF    ENDRSTRT        YES, THERE WERE.
 1100            TC     ALARM           RESTART WITH NO ACTIVE GROUPS.
 1105  2         OCT    1110
 1110            CS     FLAGWRD1        WAS THE RESTARTABILITY FLAG SET?
 1115            MASK   BIT12
 1120            CCS    A
 1125            TCF    POOH2           NO.
 1130            TS     MODREG          YES.  SET MAJOR MODE TO 00.
 1132  2         TCF    ENDRSTRT
 1135   PTBAD    TC     ALARM           SET ALARM TO SHOW PHASE TABLE FAILURE.
 1140  2         OCT    1107
 1142            INHINT
 1145  2         TCF    DOFSTART
 1150  2RACTCADR CADR   RESTARTS
 1151   ENEMA    INHINT                 HAVING PRESET PHASE REGISTERS, DO A
 1152            TC     STARTSB2        PSEUDO-RESTART.  (THE RESTARTABILITY
 1153            TCF    GOPROG2         FLAG MUST BE SET WHEN ENEMA IS CALLED.)
P1155  2         INITIALIZATION COMMON TO BOTH FRESH START AND RESTART.
 1185   STARTSUB CA     ZERO
 1190            EXTEND                 TURN THE RCS JETS OFF.
 1195            WRITE  5
 1200            EXTEND
 1205  2         WRITE  6
 1210            EXTEND
 1215  2         WRITE  12              TURN OFF TRIM GIMBAL.
 1220            CA     POSMAX
 1225            TS     TIME3           37777 TO TIME3.
 1230            AD     MINUS2
 1235            TS     TIME4           37775 TO TIME4.
 1240            AD     NEGONE
 1245  2         TS     TIME5           37774 TO TIME5.
 1250   STARTSB2 CAF    ZERO            ENTRY FROM P00 AND FORGETIT.
 1255            EXTEND
 1260            WRITE  7               NOTHING IN SUNBURST IS IN BANKS 40 - 43.
 1265            EXTEND
 1270            WRITE  11
 1275            EXTEND
 1280  2         WRITE  14
 1285            CA     TRIMGIMB        TURN OFF ALL BITS BUT TRIM GIMBAL.
 1290            EXTEND
 1295  2         WAND   12
 1300            CAF    PRIO34          ENABLE INTERRUPTS.
 1305            EXTEND
 1310  2         WRITE  13
 1315  2         EBANK= LST1
 1320            CAF    STARTEB
 1325  2         TS     EBANK           SET FOR E3
 1330            CAF    NEG1/2          INITIALIZE WAITLIST DELTA-TS.
 1335            TS     LST1 +7
 1340            TS     LST1 +6
 1345            TS     LST1 +5
 1350            TS     LST1  +4
 1355            TS     LST1  +3
 1360            TS     LST1  +2
 1365            TS     LST1  +1
 1370  2         TS     LST1
 1375            CS     ENDTASK
 1380            TS     LST2
 1385            TS     LST2 +2
 1390            TS     LST2 +4
 1395            TS     LST2 +6
 1400            TS     LST2 +8D
 1405            TS     LST2 +10D
 1410            TS     LST2 +12D
 1415            TS     LST2 +14D
 1420            TS     LST2 +16D
 1425            CS     ENDTASK +1
 1430            TS     LST2 +1
 1435            TS     LST2 +3
 1440            TS     LST2 +5
 1445            TS     LST2 +7
 1450            TS     LST2 +9D
 1455            TS     LST2 +11D
 1460            TS     LST2 +13D
 1465            TS     LST2 +15D
 1470  2         TS     LST2 +17D
 1475            CS     ZERO            MAKE ALL EXECUTIVE REGISTER SETS
 1480            TS     PRIORITY        AVAILABLE.
 1485            TS     PRIORITY +12D
 1490            TS     PRIORITY +24D
 1495            TS     PRIORITY +36D
 1500            TS     PRIORITY +48D
 1505            TS     PRIORITY +60D
 1510  2         TS     PRIORITY +72D
 1515  2         TS     NEWJOB          SHOWS NO ACTIVE JOBS.
 1520            CAF    VAC1ADRC        MAKE ALL VAC AREAS AVAILABLE.
 1525            TS     VAC1USE
 1530            AD     LTHVACA
 1535            TS     VAC2USE
 1540            AD     LTHVACA
 1545            TS     VAC3USE
 1550            AD     LTHVACA
 1555            TS     VAC4USE
 1560            AD     LTHVACA
 1565  2         TS     VAC5USE
 1570            CAF    TEN             TURN OFF ALL DISPLAY SYSTEM RELAYS.
 1575            TS     DIDFLG          DISPLAY INERTIAL DATA FLAG.
 1580   DSPOFF   TS     MPAC
 1585            CS     BIT12
 1590            INDEX  MPAC
 1595            TS     DSPTAB
 1600            CCS    MPAC
 1605            TCF    DSPOFF
 1615            TS     INLINK
 1620            TS     DSPCNT
 1625            TS     CADRSTOR
 1630            TS     REQRET
 1635            TS     CLPASS
 1640            TS     DSPLOCK
 1645            TS     MONSAVE         KILL MONITOR
 1650            TS     MONSAVE1
 1655            TS     GRABLOCK
 1660            TS     VERBREG
 1665            TS     NOUNREG
 1670            TS     DSPLIST
 1675            TS     DSPLIST +1
 1680  2         TS     DSPLIST +2
 1685            TS     MARKSTAT
 1690            TS     EXTVBACT        MAKE EXTENDED VERBS AVAILABLE
 1695            TS     IMUCADR
 1700            TS     OPTCADR
 1705            TS     RADCADR
 1710            TS     ATTCADR
 1720            TS     LGYRO
 1725            TS     DSRUPTSW
 1730            CAF    NOUTCON
 1735  2         TS     NOUT
 1740            CS     ONE             NO RADAR DESIGNATION.
 1745  2         TS     SAMPLIM         NO RADAR RUPTS EXPECTED.
 1750            CAF    IM33INIT        NO PIP OR TM FAILS.
 1755  2         TS     IMODES33
 1760            CAF    BIT6            SET LR POS.
 1765            EXTEND
 1770            RAND   33
 1775            AD     RMODINIT
 1780  2         TS     RADMODES
 1785            CAF    LESCHK          SELF CHECK GO-TO REGISTER.
 1790  2         TS     SELFRET
 1795            CS     VD1
 1800  2         TS     DSPCOUNT
 1805            CAF    NOMTMLST        SET UP NOMINAL DOWNLINK LIST.
 1810  2         TS     DNLSTADR
 1815  2         TC     Q
 1820   LDNPHAS1 GENADR DNPHASE1
 1825   LDNTMGO  ECADR  DNTMGOTO
 1830   NOMTMLST GENADR NOMDNLST
 1832   SETCDULM DEC    0.05555555      10 DEGREES, SCALED IN HALF-REVS.
 1833   IDNCDUN  DEC    198             199 CDU SAMPLES + ONE ID = 4 SECS.
 1835   LESCHK   GENADR SELFCHK
 1840   LLMPRS2  GENADR LMPRESET
 1845   VAC1ADRC ADRES  VAC1USE
 1850   LTHVACA  DEC    44
 1855   STARTEB  ECADR  LST1
 1860   NUMGRPS  EQUALS FIVE            SIX GROUPS CURRENTLY.
 1865   -ELR     OCT    -22             -ERROR LIGHT RESET KEY CODE.
 1870   -MKREJ   OCT    -20             - MARK REJECT.
 1875   TRIMGIMB OCT    07400           TRIM GIMBAL DRIVE BITS IN CHANNEL 12.
 1880   IM30INIF OCT    37411           INHIBITS IMU FAIL FOR 5 SEC AND PIP ISSW
 1885   IFAILINH OCT    435             ISS OPERATE, & FAILURE INHIBIT BITS.
 1890   IM30INIR OCT    37000           LEAVE FAIL INHIBITS & OPERATE ALONE.
 1895   IM33INIT OCT    16000           NO PIP OR TM FAIL SIGNALS.
 1900   9,6,4    OCT    450
 1905  2RMODINIT OCT    00102
 1910   SWINIT   OCT    0
 1915            OCT    0
 1920            OCT    00005
 1925   DAPINIT  OCT    40512           DB SET IN SETIDLE
 1930  2         OCT    0
 1935            EBANK= DT
 1940   IDLEADR  2CADR  DAPIDLER
 1945            EBANK= DT
 1950   SETADR   2CADR  SETIDLE
P1955  2PROGRAM TO REVERT TO IDLING MODE (P 00).
R1960  2CALLING SEQUENCE:  TC (OR TCF)   POOH     UNDER EXEC (NOT INTERRUPTED).
 1965  2         BLOCK  2
 1970   POOH     TC     POSTJUMP
 1975  4         CADR   POOH2           DO A PARTIAL FRESH START.
 1980  2         BANK   01
 1985   POOH2    INHINT
 1990  2         TC     STARTSB2
 1995            TC     IBNKCALL
 2000  2         CADR   STOPRATE
 2005            TC     IBNKCALL
 2010  2         CADR   SETMAXDB
 2015            TC     FLAG1DWN        FOR A MOMENT, INDICATE NON-RESTART-
 2020  2         OCT    4000            ABILITY, SO A RESTART HERE WILL DO POOH.
 2025            TC     FLAG2DWN
 2030  2         OCT    20              TURN OFF MISSION TIMER FLAG.
 2035            INHINT
 2040  2         TC     MR.CLEAN        DEACTIVATE ALL RESTART GROUPS.
 2045            CA     LPOOH3          PICK UP RETURN FOR MSTART.
 2050            TC     MSTART -1       START MISSION TIMERS COUNTING.
A2055  4                                WE GET A RELINT AT MSTART.
 2060   LPOOH3   ADRES  POOH3
P2065  2FAKESTRT IS ENTERED FROM GOPROG WHEN A RESTART OCCURS AND THE RESTARTABI
 2070  9LITY FLAG IS OFF.
 2075            BANK   7
 2080   FAKESTRT TC     ALARM
 2085  2         OCT    0316            FAKESTRT ALARM
 2090  4         TCF    FORGET2
R2095   FORGETIT IS ENTERED FROM:
R2100            1)  FAKESTRT (VIA FORGET2).
R2105            2)  VERB 74 UPLINK COMMAND.
R2110            3)  ILLEGAL MISSION PHASE COMES DUE IN MISSION SCHEDULING ROUTI
 2115  9NE.
R2120            4)  ENGINE FAILURE, ETC.
R2125
 2130   DOV74    INHINT
 2131            TC     IBNKCALL
 2132  2         CADR   STARTSB2
 2133  2         TCF    FORGET2         BYPASS THE PROGRAM ALARM & 315 DISPLAY.
 2135   FORGETIT INHINT
 2140            TC     IBNKCALL
 2145  2         CADR   STARTSB2
 2150            TC     ALARM
 2155  2         OCT    315             UNIQUE ALARM FOR FORGETIT.
 2160   FORGET2  TC     FLAG1DWN        ENTRY FROM FAKESTRT.
 2165  2         OCT    04000           KNOCK DOWN RESTART FLAG TO PERMIT POOH.
 2170            INHINT
 2175            EXTEND
 2180            DCA    KILLCAD
 2185  2         DXCH   DVMNEXIT
 2190            EXTEND
 2195            DCA    CADAVER
 2200  2         DXCH   AVGEXIT
 2205            CAF    PINGSMON
 2207            TS     OLDDVSEL
 2210  2         TS     DVSELECT
 2215            TC     IBNKCALL
 2220  2         CADR   ENGINOFF
 2225            TC     IBNKCALL
 2230  2         CADR   STOPRATE
 2232            TC     IBNKCALL
 2233  2         CADR   NOULLAGE
 2235            TC     IBNKCALL
 2240  2         CADR   SETMAXDB
 2245            CS     BGIMBALS        TURN OFF TRIM GIMBALS
 2250            EXTEND
 2255  2         WAND   12
 2280            CS     ZERO            MAKE ALL RESTART PHASES INACTIVE EXCEPT
 2285            ZL                     SERVICER AND STATE VECTOR COPY.
 2290            DXCH   -PHASE2
 2295            CS     ZERO
 2300            ZL
 2305            DXCH   -PHASE3
 2310            CS     ZERO
 2315            ZL
 2320            DXCH   -PHASE4
 2321            CS     ZERO
 2323            ZL
 2325  2         DXCH   -PHASE6
 2328            CS     ZERO
 2330            TS     MPHASE1         SET TIMER/PHASE PAIRS TO IDLE STATE
 2335            TS     MPHASE2
 2340            TS     MPHASE3
 2345            TS     MPHASE4
 2350            TS     MTIMER4
 2355            TS     MTIMER3
 2360            TS     MTIMER2
 2365  2         TS     MTIMER1
 2390            TC     POSTJUMP
 2395  4         CADR   GOPROG2
 2400   AVEGKILL TC     FLAG1DWN        COMES HERE WHEN ENGINE OFF
 2405  2         OCT    00041           KNOCK DOWN POOH FLAG AND AVERAGEG FLAG
 2420  4         TCF    ENDOFJOB
 2440  2BGIMBALS OCT    7400
 2445   PINGSMON GENADR PGNCSMON
 2450            EBANK= LST1
 2455   CADAVER  2CADR  SERVEXIT
 2460            EBANK= LST1
 2465   KILLCAD  2CADR  AVEGKILL
L      2T4RUPT PROGRAM
 0001            BANK   12
 0002            EBANK= M11
 0003  2T4RUPT   TS     BANKRUPT
 0004            CA     ZERO
 0005            EXTEND                 ZERO OUT0 EVERY T4RUPT.
 0006  2         WRITE  OUT0
 0007            INDEX  T4LOC           NORMALLY TO NORMT4, BUT TO LMPRESET OR
 0008  2         TCF    0               DSKYRSET AFTER OUT0 COMMAND.
 0009   NORMT4   CCS    DSRUPTSW        GOES 7(-1)0.
 0010            TCF    +2
 0011            CAF    SEVEN
 0012  2         TS     DSRUPTSW
 0013  2         TCF    T4RUPTA
 0014   LMPRESET CAF    LNORMT4         DO THINGS IN THIS ORDER FOR RESTART
 0015            TS     T4LOC           PROTECTION.
 0016            CA     LMPOUTT         NEW VALUE OF OUTPUT POINTER.
 0017            TS     LMPOUT
 0018            CS     ONE             TO SHOW OUTPUT POINTER ALREADY UPDATED.
 0019            TS     LMPOUTT
 0020            CAF    90MRUPT
 0021  2         TCF    +4
 0022   DSKYRSET CAF    LNORMT4         20 MS ON / 100 MS OFF.
 0023            TS     T4LOC
 0024            CAF    100MRUPT
 0025    +4      TS     TIME4
 0026            TCF    NOQRSM
 0027            BLOCK  02
 0028   90MRUPT  DEC    16375
 0029   100MRUPT DEC    16374
 0030   LNORMT4  ADRES  NORMT4
 0031  274K      OCT    74000
R0032   RELTAB IS A PACKED TABLE. RELAYWORD CODE IN UPPER 4 BITS, RELAY CODE
R0033  2IN LOWER 5 BITS.
 0034   RELTAB   OCT    04025
 0035            OCT    10003
 0036            OCT    14031
 0037            OCT    20033
 0038            OCT    24017
 0039            OCT    30036
 0040            OCT    34034
 0041            OCT    40023
 0042            OCT    44035
 0043            OCT    50037
 0044            OCT    54000
 0045  4RELTAB11 OCT    60000
P0046  2         SWITCHED-BANK PORTION.
 0047            BANK   12
 0048   T4RUPTA  EXTEND
 0049  2         QXCH   QRUPT
 0050            INDEX  LMPOUT          SEE IF LMP COMMAND TO BE PUT OUT.
 0051            CCS    LMPCMD
 0052            TCF    CDRVE           BIT 15 = 1 AND (UP TO) BITS 1 - 11
 0053  2         TCF    CDRVE           CONTAIN THE COMMAND.
 0054            CAF    LLMPRS          SET T4 FOR SPECIAL RUPT AND SHOW LMP
 0055  2         TS     T4LOC           COMMAND IN PROGRESS IF RESTART.
 0056            CAF    LOW11
 0057            INDEX  LMPOUT
 0058            MASK   LMPCMD          LEAVE COMMAND PORTION INTACT.
 0059            INDEX  LMPOUT
 0060            TS     LMPCMD
 0061            AD     74K
 0062            EXTEND
 0063  2         WRITE  OUT0
 0064            CCS    LMPOUT          PREDICT NEW VALUE OF LMPOUT BUT DONT
 0065            TCF    +2              UPDATE IT UNTIL COMMAND SENT (IN CASE OF
 0066            CAF    SEVEN           RESTART.)
 0067  2         TS     LMPOUTT
 0068            CAF    30MRUPT
 0069  2         TCF    SETTIME4
 0070   CDRVE    CCS    DSPTAB +11D
 0071            TC     DSPOUT
 0072  2         TC     DSPOUT
 0073            XCH    DSPTAB +11D
 0074            MASK   LOW11
 0075            TS     DSPTAB +11D
 0076            AD     RELTAB11
 0077            TC     DSPLAYC
P0078  2DSPOUT PROGRAM. PUTS OUT DISPLAYS.
 0079   DSPOUT   CCS    NOUT            DRIVE DISPLAY SYSTEM RELAYS.
 0080  2         TCF    +3
 0081   NODSPOUT CAF    120MRUPT        SET FOR RUPT IN 120 MS IF NO RELAYS.
 0082  2         TCF    SETTIME4
 0083            TS     NOUT
 0084            CS     ZERO
 0085            TS     DSRUPTEM        SET TO -0 FOR 1ST PASS THRU DSPTAB
 0086            XCH    DSPCNT
 0087            AD     NEG0            TO PREVENT +0
 0088            TS     DSPCNT
 0089   DSPSCAN  INDEX  DSPCNT
 0090            CCS    DSPTAB
 0091            CCS    DSPCNT          IF DSPTAB ENTRY +, SKIP
 0092            TC     DSPSCAN -2      IF DSPCNT +, AGAIN
 0093            TC     DSPLAY          IF DSPTAB ENTRY -, DISPLAY
 0094   TABLNTH  OCT    12              DEC 10   LENGTH OF DSPTAB
 0095            CCS    DSRUPTEM        IF DSRUPTEM=+0,2ND PASS THRU DSPTAB
 0096   120MRUPT DEC    16372           (DSPCNT = 0). +0 INTO NOUT.
 0097            TS     NOUT
 0098            TCF    NODSPOUT
 0099            TS     DSRUPTEM        IF DSRUPTEM=-0,1ST PASS THRU DSPTAB
 0100            CAF    TABLNTH         (DSPCNT=0). +0 INTO DSRUPTEM. PASS AGAIN
 0101  2         TC     DSPSCAN -1
 0102   DSPLAY   AD     ONE
 0103            INDEX  DSPCNT
 0104            TS     DSPTAB          REPLACE POSITIVELY
 0105            MASK   LOW11           REMOVE BITS 12 TO 15
 0106            TS     DSRUPTEM
 0107            CAF    HI5
 0108            INDEX  DSPCNT
 0109            MASK   RELTAB          PICK UP BITS 12 TO 15 OF RELTAB ENTRY
 0110            AD     DSRUPTEM
 0111   DSPLAYC  EXTEND
 0112  2         WRITE  OUT0
 0113            CAF    LDSKYRS
 0114            TS     T4LOC
 0115  2         CAF    20MRUPT
 0116   SETTIME4 TS     TIME4
P0117  2         JUMP TO APPROPRIATE ONCE-PER SECOND (.96 SEC ACTUALLY) ACTIVITY
 0118   T4JUMP   INDEX  DSRUPTSW
 0119  2         TCF    +1
 0120            TC     RCSMONIT
 0121            TC     NORRGMON        WAS TCF RRAUTCHK (NO RADAR IN 206).
 0122            TCF    IMUMON
 0123            TCF    DAPT4S
 0124            TCF    RESUME
 0125            TC     NORRGMON        WAS TCF RRAUTCHK (NO RADAR IN 206).
 0126            TCF    IMUMON
 0127  2         TCF    DAPT4S
 0128   LDSKYRS  ADRES  DSKYRSET
 0129  2LLMPRS   ADRES  LMPRESET
 0130   30MRUPT  DEC    16381
 0131   20MRUPT  DEC    16382
P0132  4THIS ROUTINE SERVICES THE METER OUTPUTS.
R0133   DIDFLG INDICATES THE STATE OF THE PROGRAM..............
R0134   IF GREATER THAN ZERO, THEN UNABLE TO DISPLAY DATA
R0135   IF EQUAL TO ZERO, THEN THE PROGRAM IS IN USE
R0136  2IF LESS THAN ZERO, THEN THE PROGRAM IS ABLE TO BE USED............
 0137   ALTOUT   TC     DISINDAT
 0138            CS     BIT2
 0139            EXTEND
 0140            WAND   14              SET UP OUTPUT FOR ALTITUDE
 0141            CCS    ALT             -1 IF OLD DATA TO BE EXTRAPOLATED.
 0142            TCF    +4              NEW DATA.
 0143            TCF    +3
 0144  2         TCF    OLDDATA
 0145            TS     ALT             CHANGE -0 IN ALT TO +0.
 0146            CS     ONE             RESET ALTSAVE.
 0147            DXCH   ALT
 0148   ZDATA2   DXCH   ALTSAVE
 0149  2         TCF    NEWDATA
 0150   OLDDATA  CA     ALTRATE         USE ALTRATE TO EXTRAPOLATE.
 0151            EXTEND
 0152            MP     ARTOA           RATE APPLIES FOR .96 SEC.
 0153            AD     ALTSAVE +1
 0154            TS     ALTSAVE +1      AND MAYBE SKIP.
 0155            CAF    ZERO
 0156  2         ADS    ALTSAVE
 0157            CAF    POSMAX          FORCE SIGN AGREEMENT ASSUMING ALTSAVE IS
 0158            AD     ONE             NOT NEGATIVE. IF IT IS, THE FINAL TS
 0159            AD     ALTSAVE +1      WILL NOT SKIP AND WE CAN SET ALTSAVE TO
 0160            TS     ALTSAVE +1      ZERO IN THAT CASE.
 0161            CAF    ZERO
 0162            AD     POSMAX
 0163            AD     ALTSAVE
 0164            TS     ALTSAVE
 0165  2         TCF    ZERODATA        ALTSAVE NEGATIVE - SET TO ZERO.
 0166   NEWDATA  CCS    ALTSAVE         MAKE UP 15 BIT UNSIGNED OUTPUT.
 0167            CAF    BIT15           MAJOR PART +1 OR +0.
 0168            AD     ALTSAVE +1
 0169   METEROUT TS     ALTM
 0170            CAF    BITSET
 0171            EXTEND
 0172            WOR    14
 0173  2         TCF    DONEDID
 0174   ALTROUT  TC     DISINDAT
 0175            CAF    BIT2
 0176            EXTEND
 0177            WOR    14              SET UP OUTPUT FOR ALT. RATE
 0178            CA     ALTRATE
 0179  2         TCF    METEROUT
 0180   DISINDAT CCS    DIDFLG
 0181            TCF    ALLDONE         NOTE THAT THIS SHOULD ALWAYS GO TO
A0182                                   ALLDONE AND NOT DONEDID SINCE THE
A0183                                   AVAILABILITY OF DATA MAY DISAPPEAR WHILE
A0184                                   THE ASTRONAUT HAS THE BUTTON DOWN.
 0185            NOOP
 0186            CAF    BIT6
 0187            EXTEND
 0188            RAND   30              CHECK DISPLAY INERTIAL DATA BIT
 0189            CCS    A
 0190            TCF    ALLDONE
 0191            CCS    DIDFLG
 0192            NOOP
 0193  2         TCF    GOAGN
 0194   FIRSTIME CAF    BIT8
 0195            EXTEND
 0196            WOR    12              ENABLE DISPLAY INERTIAL DATA
 0197            CAF    ZERO
 0198            TS     DIDFLG
 0199            TS     LASTXCMD
 0200            TS     LASTYCMD
 0201            CAF    SIX
 0202            TC     WAITLIST
 0203            EBANK= M11
 0204            2CADR  INTLZE
 0205  2         TC     DONEDID
 0206   INTLZE   CAF    BIT2
 0207            EXTEND
 0208            WOR    12              ENABLE RR ERROR COUNTER
 0209  2         TC     TASKOVER
 0210   GOAGN    CS     LASTXCMD
 0211            AD     FORVEL
 0212            TS     OPTXCMD
 0213            CA     FORVEL
 0214            TS     LASTXCMD
 0215            CS     LASTYCMD
 0216            AD     LATVEL
 0217            TS     OPTYCMD
 0218            CA     LATVEL
 0219            TS     LASTYCMD
 0220  2         TC     Q
 0221   ALLDONE  CS     DIDRESET        REMOVE DISPLAY INERTIAL DATA AND ECTR.
 0222            EXTEND
 0223            WAND   12              RESET RR ERROR COUNTER
 0224  2DONEDID  TCF    RESUME          ** FIX LATER**
 0225   ZERODATA CAF    ZERO
 0226            TS     L
 0227  2         TCF    ZDATA2
 0228   ARTOA    DEC    .20469          ALT DUE TO ALTRATE FOR .96 SEC.
 0229  2BITSET   OCT    6004
 0230   DIDRESET OCT    202
P0231  2PROGRAM NAME:  IMUMON
R0232   FUNCTIONAL DESCRIPTION:  THIS PROGRAM IS ENTERED EVERY 480 MS.  IT DETEC
 0233  9TS CHANGES OF THE IMU STATUS BITS IN
R0234  2CHANNEL 30 AND CALLS THE APPROPRIATE SUBROUTINES.  THE BITS PROCESSED AN
 0235  9D THEIR RELEVANT SUBROUTINES ARE:
R0236            FUNCTION               BIT    SUBROUTINE CALLED
R0237            --------               ---    -----------------
R0238            TEMP IN LIMITS          15    TLIM
R0239            ISS TURN-ON REQUEST     14    ITURNON
R0240            IMU FAIL                13    IMUFAIL (SETISSW)
R0241            IMU CDU FAIL            12    ICDUFAIL (SETISSW)
R0242            IMU CAGE                11    IMUCAGE
R0243  2         IMU OPERATE              9    IMUOP
R0244            THE LAST SAMPLED STATE OF THESE BITS IS LEFT IN IMODES30.  ALSO
 0245  9, EACH SUBROUTINE CALLED FINDS THE NEW
R0246  2VALUE OF THE BIT IN A, WITH Q SET TO THE PROPER RETURN LOCATION, NXTIFAI
 0247  9L.
R0248  2CALLING SEQUENCE:  T4RUPT EVERY 480 MILLISECONDS.
R0249  2JOBS OR TASKS INITIATED:  NONE.
R0250  2SUBROUTINES CALLED:  TLIM, ITURNON, SETISSW, IMUCAGE, IMUOP.
R0251   ERASABLE INITIALIZATION:
R0252            FRESH START OR RESTART WITH NO GROUPS ACTIVE: C(IMODES30) = OCT
 0253  9 37411.
R0254            RESTART WITH ACTIVE GROUPS: C(IMODES30) = (B(IMODES30)AND(OCT 0
 0255  90035)) PLUS OCT 37400.
R0256  2                                     THIS LEAVES IMU FAIL BITS INTACT.
R0257  2ALARMS:  NONE.
R0258  2EXIT:  TNONTEST.
R0259  2OUTPUT:  UPDATED IMODES30 WITH CHANGES PROCESSED BY APPROPRIATE SUBROUTI
 0260  9NE.
 0269   IMUMON   CA     IMODES30        SEE IF THERE HAS BEEN A CHANGE IN THE
 0270            EXTEND                 RELEVANT BITS OF CHAN 30.
 0271            RXOR   30
 0272            MASK   30RDMSK
 0273            EXTEND
 0274  2         BZF    TNONTEST        NO CHANGE IN STATUS.
 0275            TS     RUPTREG1        SAVE BITS WHICH HAVE CHANGED.
 0276            LXCH   IMODES30        UPDATE IMODES30.
 0277            EXTEND
 0278            RXOR   L
 0279  2         TS     IMODES30
 0280            CS     ONE
 0281            XCH    RUPTREG1
 0282            EXTEND
 0283            BZMF   TLIM            CHANGE IN IMU TEMP.
 0284  2         TCF    NXTIFBIT        BEGIN BIT SCAN.
 0285    -1      AD     ONE             (RE-ENTERS HERE FROM NXTIFAIL.)
 0286   NXTIFBIT INCR   RUPTREG1        ADVANCE BIT POSITION NUMBER.
 0287    +1      DOUBLE
 0288            TS     A               SKIP IF OVERFLOW.
 0289  2         TCF    NXTIFBIT        LOOK FOR BIT.
 0290            XCH    RUPTREG2        SAVE OVERFLOW-CORRECTED DATA.
 0291            INDEX  RUPTREG1        SELECT NEW VALUE OF THIS BIT.
 0292            CAF    BIT14
 0293            MASK   IMODES30
 0294            INDEX  RUPTREG1
 0295  2         TC     IFAILJMP
 0296   NXTIFAIL CCS    RUPTREG2        PROCESS ANY ADDITIONAL CHANGES.
 0297  2         TCF    NXTIFBIT -1
P0298  2PROGRAM NAME:  TNONTEST.
R0299   FUNCTIONAL DESCRIPTION:  THIS PROGRAM HONORS REQUESTS FOR ISS INITIALIZA
 0300  9TION.  ISS TURN-ON (CHANNEL 30 BIT 14)
R0301   AND ISS OPERATE (CHANNEL 30 BIT 9) REQUESTS ARE TREATED AS A PAIR AND PR
 0302  9OCESSING TAKES PLACE .480 SECONDS
R0303  2AFTER EITHER ONE APPEARS.  THIS INITIALIZATION TAKES ON ONE OF THE FOLLO
 0304  9WING THREE FORMS:
R0305            1)  ISS TURN-ON:  IN THIS SITUATION THE COMPUTER IS OPERATING W
 0306  9HEN THE ISS IS TURNED ON.  NOMINALLY,
R0307            BOTH ISS TURN-ON AND ISS OPERATE APPEAR.  THE PLATFORM IS CAGED
 0308  9 FOR 90 SECONDS AND THE ICDU'S ZEROED
R0309  2         SO THAT AT THE END OF THE PROCESS THE GIMBAL LOCK MONITOR WILL
 0310  9FUNCTION PROPERLY.
R0311            2)  ICDU INITIALIZATION:  IN THIS CASE THE COMPUTER WAS PROBABL
 0312  9Y TURNED ON WITH THE ISS IN OPERATE OR
R0313            A FRESH START WAS DONE WITH THE ISS IN OPERATE.  IN THIS CASE O
 0314  9NLY ISS OPERATE IS ON.  THE ICDU'S ARE
R0315            ZEROED SO THE GIMBAL LOCK MONITOR WILL FUNCTION.  AN EXCEPTION
 0316  9IS IF THE ISS IS IN GIMBAL LOCK AFTER
R0317  2         A RESTART, THE ICDU'S WILL NOT BE ZEROED.
R0318            3)  RESTART WITH RESTARTABLE PROGRAM USING THE IMU:  IN THIS CA
 0319  9SE, NO INITIALIZATION TAKES PLACE SINCE
R0320  2         IT IS ASSUMED THAT THE USING PROGRAM DID THE INITIALIZATION AND
 0321  9 THEREFORE T4RUPT SHOULD NOT INTERFERE.
R0322   IMODES30 BIT 7 IS SET = 1 BY THE FIRST BIT (CHANNEL 30 BIT 14 OR 9) WHIC
 0323  9H ARRIVES.  FOLLOWING THIS. TNONTEST IS
R0324   ENTERED, FINDS BIT 7 = 1 BUT BIT 8 = 0, SO IT SETS BIT 8 = 1 AND EXITS.
 0325  9 THE NEXT TIME IT FINDS BIT 8 = 1 AND
R0326   PROCEEDS, SETTING BITS 8 AND 7 = 0.  AT PROCTNON, IF ISS TURN-ON REQUEST
 0327  9 IS PRESENT, THE ISS IS CAGED (ZERO +
R0328   COARSE).  IF ISS OPERATE IS NOT PRESENT PROGRAM ALARM 00213 IS ISSUED.
 0329  9AT THE END OF A 90 SECOND CAGE, BIT 2
R0330   OF IMODES30 IS TESTED.  IF IT IS = 1, ISS TURN-ON WAS NOT PRESENT FOR TH
 0331  9E ENTIRE 90 SECONDS.  IN THAT CASE, IF
R0332   THE ISS TURN-ON REQUEST IS PRESENT THE 90 SECOND WAIT IS REPEATED, OTHER
 0333  9WISE NO ACTION OCCURS UNLESS A PROGRAM
R0334   WAS WAITING FOR THE INITIALIZATION IN WHICH CASE THE PROGRAM IS GIVEN AN
 0335  9 IMUSTALL ERROR RETURN.  IF THE DELAY
R0336   WENT PROPERLY, THE ISS DELAY OUTBIT IS SENT AND THE ICDU'S ZEROED.  A TA
 0337  9SK IS INITIATED TO REMOVE THE PIPA FAIL
R0338  2INHIBIT BIT IN 10.24 SECONDS.  IF A MISSION PROGRAM WAS WAITING IT IS IN
 0339  9FORMED VIA ENDIMU.
R0340   AT PROCTNON, IF ONLY ISS OPERATE IS PRESENT (OPONLY), THE CDU'S ARE ZERO
 0341  9ED UNLESS THE PLATFORM IS IN COARSE
R0342  2ALIGN (= GIMBAL LOCK HERE) OR A MISSION PROGRAM IS USING THE IMU (IMUSEF
 0343  9LG = 1).
R0344  2CALLING SEQUENCE:  T4RUPT EVERY 480 MILLISECONDS AFTER IMUMON.
R0345   JOBS OR TASKS INITIATED:  1) ENDTNON, 90 SECONDS AFTER CAGING STARTED.
 0346  92) ISSUP, 4 SECONDS AFTER CAGING DONE.
R0347            3) PFAILOK, 10.24 SECONDS AFTER INITIALIZATION COMPLETED.  4) U
 0348  9NZ2, 320 MILLISECONDS AFTER ZEROING
R0349  2         STARTED.
R0350  2SUBROUTINES CALLED:  CAGESUB, CAGESUB2, ZEROICDU, ENDIMU, IMUBAD, NOATTO
 0351  9FF, SETISSW, VARDELAY.
R0352  2ERASABLE INITIALIZATION:  SEE IMUMON.
R0353  2ALARMS:  PROGRAM ALARM 00213 IF ISS TURN-ON REQUESTED WITHOUT ISS OPERAT
 0354  9E.
R0355   EXIT:  ENDTNON EXITS TO C33TEST.  TASKS HAVING TO DO WITH INITIALIZATION
 0356  9 EXIT AS FOLLOWS:  MISSION PROGRAM
R0357   WAITING AND INITIALIZATION COMPLETE, EXIT TO ENDIMU, MISSION PROGRAM WAI
 0358  9TING AND INITIALIZATION FAILED, EXIT TO
R0359  2IMUBAD, IMU NOT IN USE, EXIT TO TASKOVER.
R0360  2OUTPUT:  ISS INITIALIZED.
 0361   TNONTEST CS     IMODES30        AFTER PROCESSING ALL CHANGES, SEE IF IT
 0362            MASK   BIT7            IS TIME TO ACT ON A TURN-ON SEQUENCE.
 0363            CCS    A
 0364  2         TCF    C33TEST         NO - EXAMINE CHANNEL 33.
 0365            CAF    BIT8            SEE IF FIRST SAMPLE OR SECOND.
 0366            MASK   IMODES30
 0367            CCS    A
 0368  2         TCF    PROCTNON        REACT AFTER SECOND SAMPLE.
 0369            CAF    BIT8            IF FIRST SAMPLE, SET BIT TO REACT NEXT
 0370            ADS    IMODES30        TIME.
 0371  2         TCF    C33TEST
R0372  2         PROCESS IMU TURN-ON REQUESTS AFTER WAITING 1 SAMPLE FOR ALL SIG
 0373  9NALS TO ARRIVE.
 0374   PROCTNON CS     BITS7&8
 0375            MASK   IMODES30
 0376            TS     IMODES30
 0377            MASK   BIT14           SEE IF TURN-ON REQUEST.
 0378            CCS    A
 0379  2         TCF    OPONLY          OPERATE ON ONLY.
 0380            CS     IMODES30        IF TURN-ON REQUEST, WE SHOULD HAVE IMU
 0381            MASK   BIT9            OPERATE.
 0382            CCS    A
 0383  2         TCF    +3
 0384            TC     ALARM           ALARM IF NOT.
 0385  2         OCT    213
 0386    +3      TC     CAGESUB
 0387            CAF    90SECS
 0388            TC     WAITLIST
 0389            EBANK= M11
 0390            2CADR  ENDTNON
 0391  2         TCF    C33TEST
 0392   RETNON   CAF    90SECS
 0393  2         TC     VARDELAY
 0394   ENDTNON  CS     BIT2            RESET TURN-ON REQUEST FAIL BIT.
 0395            MASK   IMODES30
 0396            XCH    IMODES30
 0397            MASK   BIT2            IF IT WAS OFF, SEND ISS DELAY COMPLETE.
 0398            EXTEND
 0399  2         BZF    ENDTNON2
 0400            CAF    BIT14           IF IT WAS ON AND TURN-ON REQUEST NOW
 0401            MASK   IMODES30        PRESENT, RE-ENTER 90 SEC DELAY IN WL.
 0402            EXTEND
 0403  2         BZF    RETNON
 0404            CS     STATE           IF IT IS NOT ON NOW, SEE IF A PROG WAS
 0405            MASK   IMUSEFLG        WAITING.
 0406            CCS    A
 0407            TCF    TASKOVER
 0408            TC     POSTJUMP
 0409  2         CADR   IMUBAD          UNSUCCESSFUL TURN-ON.
 0410   ENDTNON2 CAF    BIT15           SEND ISS DELAY COMPLETE.
 0411            EXTEND
 0412  2         WOR    12
 0413            TC     IBNKCALL        TURN OFF NO ATT LAMP.
 0414  2         CADR   NOATTOFF
 0415  2UNZ2     TC     ZEROICDU
 0416            CS     BITS4&5         REMOVE ZERO AND COARSE.
 0417            EXTEND
 0418  2         WAND   12
 0419            CAF    4SECS           WAIT 4 SECS FOR COUNTERS TO FIND GIMBALS
 0420  2         TC     VARDELAY
 0421   ISSUP    CS     OCT54           REMOVE CAGING, IMU FAIL INHIBIT, AND
 0422            MASK   IMODES30        ICDUFAIL INHIBIT FLAGS.
 0423  2         TS     IMODES30
 0424  2         TC     SETISSW         ISS WARNING MIGHT HAVE BEEN INHIBITED.
 0425            CS     BIT15           REMOVE IMU DELAY COMPLETE DISCRETE.
 0426            EXTEND
 0427  2         WAND   12
 0428            CAF    BIT11           DONT ENABLE PROG ALARM ON PIP FAIL FOR
 0429            TC     WAITLIST        ANOTHER 10 SECS.
 0430            EBANK= M11
 0431            2CADR  PFAILOK
 0432            CS     STATE           SEE IF ANYONE IS WAITING FOR THE IMU AT
 0433            MASK   IMUSEFLG        IMUZERO. IF SO, WAKE THEM UP.
 0434            CCS    A
 0435  2         TCF    TASKOVER
 0436            TC     POSTJUMP
 0437  2         CADR   ENDIMU
 0438   OPONLY   CAF    BIT4            IF OPERATE ON ONLY, AND WE ARE IN COARSE
 0439            EXTEND                 ALIGN, DONT ZERO THE CDUS BECAUSE WE
 0440            RAND   12              MIGHT BE IN GIMBAL LOCK.
 0441            CCS    A
 0442  2         TCF    C33TEST
 0443            CAF    IMUSEFLG        OTHERWISE, ZERO THE COUNTERS
 0444            MASK   STATE           UNLESS SOMEONE IS USING THE IMU.
 0445            CCS    A
 0446  2         TCF    C33TEST
 0447  2         TC     CAGESUB2        SET TURNON FLAGS.
 0448            CAF    BIT5
 0449            EXTEND
 0450  2         WOR    12
 0451            CAF    BIT6            WAIT 300 MS FOR AGS TO RECEIVE SIGNAL.
 0452            TC     WAITLIST
 0453            EBANK= M11
 0454            2CADR  UNZ2
 0455            TCF    C33TEST
P0456  2PROGRAM NAME:  C33TEST
R0457   FUNCTIONAL DESCRIPTION:  THIS PROGRAM MONITORS THREE FLIP-FLOP INBITS OF
 0458  9 CHANNEL 33 AND CALLS THE APPROPRIATE
R0459   SUBROUTINE TO PROCESS A CHANGE.  IT IS ANALOGOUS TO IMUMON, WHICH MONITO
 0460  9RS CHANNEL 30, EXCEPT THAT IT READS
R0461   CHANNEL 33 WITH A WAND INSTRUCTION BECAUSE A 'WRITE' PULSE IS REQUIRED T
 0462  9O RESET THE FLIP-FLOPS.  THE BITS
R0463  2PROCESSED AND THE SUBROUTINES CALLED ARE:
R0464            BIT    FUNCTION                SUBROUTINE
R0465            ---    --------                ----------
R0466             13    PIPA FAIL               PIPFAIL
R0467             12    DOWNLINK TOO FAST       DNTMFAST
R0468  2          11    UPLINK TOO FAST         UPTMFAST
R0469  2UPON ENTRY TO THE SUBROUTINE, THE NEW BIT STATE IS IN A.
R0470  2CALLING SEQUENCE:  EVERY 480 MILLISECONDS AFTER TNONTEST.
R0471  2JOBS OR TASKS INITIATED:  NONE.
R0472  2SUBROUTINES CALLED:  PIPFAIL, DNTMFAST AND UPTMFAST ON BIT CHANGES.
R0473   ERASABLE INITIALIZATION:  C(IMODES33) = OCT 16000 ON A FRESH START OR RE
 0474  9START, THEREFORE, THESE ALARMS WILL
R0475  2REAPPEAR IF THE CONDITIONS PERSIST.
R0476  2ALARMS:  NONE.
R0477  2EXIT:  GLOCKMON.
R0478  2OUTPUT:  UPDATED BITS 13, 12 AND 11 OF IMODES33 WITH CHANGES PROCESSED.
 0479   C33TEST  CA     IMODES33        SEE IF RELEVANT CHAN 33 BITS HAVE
 0480            MASK   33RDMSK
 0481            TS     L               CHANGED.
 0482            CAF    33RDMSK
 0483            EXTEND
 0484            WAND   33              RESETS FLIP-FLOP INPUTS.
 0485            EXTEND
 0486            RXOR   L
 0487            EXTEND
 0488  2         BZF    GLOCKMON        ON NO CHANGE.
 0489            TS     RUPTREG1        SAVE BITS WHICH HAVE CHANGED.
 0490            LXCH   IMODES33
 0491            EXTEND
 0492            RXOR   L
 0493  2         TS     IMODES33        UPDATED IMODES33.
 0494            CAF    ZERO
 0495            XCH    RUPTREG1
 0496            DOUBLE
 0497  2         TCF    NXTIBT +1       SCAN FOR BIT CHANGES.
 0498    -1      AD     ONE
 0499   NXTIBT   INCR   RUPTREG1
 0500    +1      DOUBLE
 0501            TS     A               (CODING IDENTICAL TO CHAN 30).
 0502  2         TCF    NXTIBT
 0503            XCH    RUPTREG2
 0504            INDEX  RUPTREG1        GET NEW VALUE OF BIT WHICH CHANGED.
 0505            CAF    BIT13
 0506            MASK   IMODES33
 0507            INDEX  RUPTREG1
 0508  2         TC     C33JMP
 0509   NXTFL33  CCS    RUPTREG2        PROCESS POSSIBLE ADDITIONAL CHANGES.
 0510            TCF    NXTIBT -1
P0511  2PROGRAM NAME:  GLOCKMON
R0512   FUNCTIONAL DESCRIPTION:  THIS PROGRAM MONITORS THE CDUZ COUNTER TO DETER
 0513  9MINE WHETHER THE ISS IS IN GIMBAL LOCK
R0514  2AND TAKES ACTION IF IT IS.  THREE REGIONS OF MIDDLE GIMBAL ANGLE (MGA) A
 0515  9RE USED:
R0516            1) ABS(MGA) LESS THAN OR EQUAL TO 70 DEGREES - NORMAL MODE.
R0517            2) ABS(MGA) GREATER THAN 70 DEGREES AND LESS THAN OR EQUAL TO 8
 0518  95 DEGREES - GIMBAL LOCK LAMP TURNED ON.
R0519  2         3) ABS(MGA) GREATER THAN 85 DEGREES - ISS PUT IN COARSE ALIGN A
 0520  9ND NO ATT LAMP TURNED ON.
R0521  2CALLING SEQUENCE:  EVERY 480 MILLISECONDS AFTER C33TEST.
R0522  2JOBS OR TASKS INITIATED:  NONE.
R0523   SUBROUTINES CALLED:  1) SETCOARS WHEN ABS(MGA) GREATER THAN 85 DEGREES A
 0524  9ND ISS NOT IN COARSE ALIGN.
R0525  2                     2) LAMPTEST BEFORE TURNING OFF GIMBAL LOCK LAMP.
R0526   ERASABLE INITIALIZATION:
R0527            1) FRESH START OR RESTART WITH NO GROUPS ACTIVE:  C(CDUZ) = 0,
 0528  9IMODES30 BIT 6 = 0, IMODES33 BIT 1 =  0.
R0529            2) RESTART WITH GROUPS ACTIVE:  SAME AS FRESH START EXCEPT C(CD
 0530  9UZ) NOT CHANGED SO GIMBAL MONITOR
R0531  2                                         PROCEEDS AS BEFORE.
R0532   ALARMS:  1) MGA REGION (2) CAUSES GIMBAL LOCK LAMP TO BE LIT.
R0533            2) MGA REGION (3) CAUSES THE ISS TO BE PUT IN COARSE ALIGN AND
 0534  9THE NO ATT LAMP TO BE LIT IF EITHER NOT
R0535  2            SO ALREADY.
 0536   GLOCKMON CCS    CDUZ
 0537            TCF    GLOCKCHK        SEE IF MAGNITUDE OF MGA IS GREATER THAN
 0538            TCF    SETGLOCK        70 DEGREES.
 0539            TCF    GLOCKCHK
 0540  2         TCF    SETGLOCK
 0541   GLOCKCHK AD     -70DEGS
 0542            EXTEND
 0543  2         BZMF   SETGLOCK -1     NO LOCK.
 0544            AD     -15DEGS         SEE IF ABS(MGA) GREATER THAN 85 DEGREES.
 0545            EXTEND
 0546  2         BZMF   NOGIMRUN
 0547            CAF    BIT4            IF SO, SYSTEM SHOULD BE IN COARSE ALIGN
 0548            EXTEND                 TO PREVENT GIMBAL RUNAWAY.
 0549            RAND   12
 0550            CCS    A
 0551  2         TCF    NOGIMRUN
 0552            TC     IBNKCALL
 0553  2         CADR   SETCOARS
 0554   NOGIMRUN CAF    BIT6            TURN ON GIMBAL LOCK LAMP.
 0555  2         TCF    SETGLOCK
 0556    -1      CAF    ZERO
 0557   SETGLOCK AD     DSPTAB +11D     SEE IF PRESENT STATE OF GIMBAL LOCK LAMP
 0558            MASK   BIT6            AGREES WITH DESIRED STATE BY HALF ADDING
 0559            EXTEND                 THE TWO.
 0560  2         BZF    GLOCKOK         OK AS IS.
 0561            MASK   DSPTAB +11D     IF OFF, DONT TURN ON IF IMU BEING CAGED.
 0562            CCS    A
 0563  2         TCF    GLAMPTST        TURN OFF UNLESS LAMP TEST IN PROGRESS.
 0564            CAF    BIT6
 0565            MASK   IMODES30
 0566            CCS    A
 0567  2         TCF    GLOCKOK
 0568   GLINVERT CS     DSPTAB +11D     INVERT GIMBAL LOCK LAMP.
 0569            MASK   BIT6
 0570            AD     BIT15           TO INDICATE CHANGE IN DSPTAB +11D.
 0571            XCH    DSPTAB +11D
 0572            MASK   OCT37737
 0573            ADS    DSPTAB +11D
 0574  2         TCF    GLOCKOK
 0575   GLAMPTST TC     LAMPTEST        TURN OFF UNLESS LAMP TEST IN PROGRESS.
 0576            TCF    GLOCKOK
 0577  2         TCF    GLINVERT
 0578   -70DEGS  DEC    -.38888         -70 DEGREES SCALED IN HALF-REVOLUTIONS.
 0579   -15DEGS  DEC    -.08333
 0580   OCT37737 OCT    37737
P0581  2PROGRAM NAME:  TLIM.
R0582   FUNCTIONAL DESCRIPTION:  THIS PROGRAM MAINTAINS THE TEMP LAMP (BIT 4 OF
 0583  9CHANNEL 11) ON THE DSKY TO AGREE WITH
R0584   THE TEMP SIGNAL FROM THE ISS (BIT 15 OF CHANNEL 30).  HOWEVER, THE LIGHT
 0585  9 WILL NOT BE TURNED OFF IF A LAMP TEST
R0586  2IS IN PROGRESS.
R0587  2CALLING SEQUENCE:  CALLED BY IMUMON ON A CHANGE OF BIT 15 OF CHANNEL 30.
R0588  2JOBS OR TASKS INITIATED:  NONE.
R0589  2SUBROUTINES CALLED:  LAMPTEST.
R0590  2ERASABLE INITIALIZATION:  FRESH START AND RESTART TURN THE TEMP LAMP OFF
 0591  9.
R0592  2ALARMS:  TEMP LAMP TURNED ON WHEN IMU TEMP GOES OUT OF LIMITS.
R0593  2EXIT:  NXTIFAIL.
R0594  2OUTPUT:  SERVICE OF TEMP LAMP.
 0595  9IN A, EXCEPT FOR TLIM.
 0596   TLIM     MASK   POSMAX          REMOVE BIT FROM WORD OF CHANGES AND SET
 0597  2         TS     RUPTREG2        DSKY TEMP LAMP ACCORDINGLY.
 0598            CCS    IMODES30
 0599            TCF    TEMPOK
 0600  2         TCF    TEMPOK
 0601            CAF    BIT4            TURN ON LAMP.
 0602            EXTEND
 0603            WOR    11
 0604  2         TCF    NXTIFAIL
 0605   TEMPOK   TC     LAMPTEST        IF TEMP NOW OK, DONT TURN OFF LAMP IF
 0606  2         TCF    NXTIFAIL        LAMP TEST IN PROGRESS.
 0607            CS     BIT4
 0608            EXTEND
 0609            WAND   11
 0610  2         TCF    NXTIFAIL
P0611  2PROGRAM NAME:  ITURNON.
R0612   FUNCTIONAL DESCRIPTION:  THIS PROGRAM IS CALLED BY IMUMON WHEN A CHANGE
 0613  9OF BIT 14 OF CHANNEL 30 (ISS TURN-ON
R0614   REQUEST) IS DETECTED.  UPON ENTRY, ITURNON CHECKS IF A TURN-ON DELAY SEQ
 0615  9UENCE HAS FAILED, AND IF SO, IT EXITS.
R0616   IF NOT, IT CHECKS WHETHER THE TURN-ON REQUEST CHANGE IS TO ON OR OFF.  I
 0617  9F ON, IT SETS BIT 7 OF IMODES30 TO 1 SO
R0618   THAT TNONTEST WILL INITIATE THE ISS INITIALIZATION SEQUENCE.  IF OFF, TH
 0619  9E TURN-ON DELAY SIGNAL, CHANNEL 12 BIT
R0620   15, IS CHECKED AND IF IT IS ON, ITURNON EXITS.  IF THE DELAY SIGNAL IS O
 0621  9FF, PROGRAM ALARM 00207 IS ISSUED, BIT 2
R0622   OF IMODES30 IS SET TO 1 AND THE PROGRAM EXITS.
R0623            THE SETTING OF BIT 2 OF IMODES30 (ISS DELAY SEQUENCE FAIL) INHI
 0624  9BITS THIS ROUTINE AND IMUOP FROM
R0625   PROCESSING ANY CHANGES.  THIS BIT WILL BE RESET BY THE ENDTNON ROUTINE W
 0626  9HEN THE CURRENT 90 SECOND DELAY PERIOD
R0627  2ENDS.
R0628  2CALLING SEQUENCE:  FROM IMUMOM WHEN ISS TURN-ON REQUEST CHANGES STATE.
R0629  2JOBS OR TASKS INITIATED:  NONE.
R0630  2SUBROUTINES CALLED:  ALARM, IF THE ISS TURN-ON REQUEST IS NOT PRESENT FO
 0631  9R 90 SECONDS.
R0632   ERASABLE INITIALIZATION:  FRESH START AND RESTART SET BIT 15 OF CHANNEL
 0633  912 AND BITS 2 AND 7 OF IMODES30 TO 0,
R0634  2AND BIT 14 OF IMODES30 TO 1.
R0635  2ALARMS:  PROGRAM ALARM 00207 IS ISSUED IF THE ISS TURN-ON REQUEST SIGNAL
 0636  9 IS NOT PRESENT FOR 90 SECONDS.
R0637  2EXIT:  NXTIFAIL.
R0638   OUTPUT:  BIT 7 OF IMODES30 TO START ISS INITIALIZATION, OR BIT 2 OF IMOD
 0639  9ES30 AND PROGRAM ALARM 00207 TO INDICATE
R0640  2A FAILED TURN-ON SEQUENCE.
 0641   ITURNON  CAF    BIT2            IF DELAY REQUEST HAS GONE OFF
 0642            MASK   IMODES30        PREMATURELY, DO NOT PROCESS ANY CHANGES
 0643            CCS    A               UNTIL THE CURRENT 90 SEC WAIT EXPIRES.
 0644  2         TCF    NXTIFAIL
 0645            CAF    BIT14           SEE IF JUST ON OR OFF.
 0646            MASK   IMODES30
 0647            EXTEND
 0648  2         BZF    ITURNON2        IF JUST ON.
 0649            CAF    BIT15
 0650            EXTEND                 SEE IF DELAY PRESENT DISCRETE HAS BEEN
 0651            RAND   12              SENT. IF SO, ACTION COMPLETE.
 0652            EXTEND
 0653            BZF    +2
 0654  2         TCF    NXTIFAIL
 0655            CAF    BIT2            IF NOT, SET BIT TO INDICATE REQUEST NOT
 0656            ADS    IMODES30        PRESENT FOR FULL DURATION.
 0657            TC     ALARM
 0658            OCT    207
 0659  2         TCF    NXTIFAIL
 0660   ITURNON2 CS     BIT7            SET BIT 7 TO INITIATE WAIT OF 1 SAMPLE.
 0661            MASK   IMODES30
 0662            AD     BIT7
 0663            TS     IMODES30
 0664  2         TCF    NXTIFAIL
P0665  2PROGRAM NAME:  IMUCAGE.
R0666   FUNCTIONAL DESCRIPTION:  THIS PROGRAM PROCESSES CHANGES OF THE IMUCAGE I
 0667  9NBIT, CHANNEL 30 BIT 11.  IF THE BIT
R0668   CHANGES TO 0 (CAGE BUTTON PRESSED), THE ISS IS CAGED (ICDU ZERO + COARSE
 0669  9 ALIGN + NO ATT LAMP) UNTIL THE
R0670   ASTRONAUT SELECTS ANOTHER PROGRAM TO ALIGN THE ISS.  ANY PULSE TRAINS TO
 0671  9 THE ICDU'S AND GYRO'S ARE TERMINATED,
R0672   THE ASSOCIATED OUTCOUNTERS ARE ZEROED AND THE GYRO'S ARE DE-SELECTED.  N
 0673  9O ACTION OCCURS WHEN THE BUTTON IS
R0674  2RELEASED (INBIT CHANGES TO 1).
R0675  2CALLING SEQUENCE:  BY IMUMON WHEN IMU CAGE BIT CHANGES.
R0676  2JOBS OR TASKS INITIATED:  NONE.
R0677  2SUBROUTINES CALLED:  CAGESUB.
R0678  2ERASABLE INITIALIZATION:  FRESH START AND RESTART SET BIT 11 OF IMODES30
 0679  9 TO 1.
R0680  2ALARMS:  NONE.
R0681  2EXIT:  NXTIFAIL.
R0682  2OUTPUT:  ISS CAGED, COUNTERS ZEROED, PULSE TRAINS TERMINATED AND NO ATT
 0683  9LAMP LIT.
 0684   IMUCAGE  CCS    A               NO ACTION IF GOING OFF.
 0685  2         TCF    NXTIFAIL
 0686            CS     OCT71000        TERMINATE ICDU AND GYRO PULSE TRAINS.
 0687            EXTEND
 0688  2         WAND   14
 0689  2         TC     CAGESUB
 0690            CS     ZERO            ZERO COMMAND OUT-COUNTERS
 0691            TS     CDUXCMD
 0692            TS     CDUYCMD
 0693            TS     CDUZCMD
 0694  2         TS     GYROCMD
 0695            CS     OCT1700         HAVING WAITED AT LEAST 27 MCT FROM
 0696            EXTEND                 GYRO PULSE TRAIN TERMINATION, WE CAN
 0697  2         WAND   14              DE-SELECT THE GYROS.
 0698  2         TCF    NXTIFAIL
P0699  2PROGRAM NAME:  IMUOP.
R0700   FUNCTIONAL DESCRIPTION:  THIS PROGRAM PROCESSES CHANGES IN THE ISS OPERA
 0701  9TE DISCRETE, BIT 9 OF CHANNEL 30.
R0702   IF THE INBIT CHANGES TO 0, INDICATING ISS ON, IMUOP GENERALLY SETS BIT 7
 0703  9 OF IMODES30 TO 1 TO REQUEST ISS
R0704   INITIALIZATION VIA TNONTEST.  AN EXCEPTION IS DURING A FAILED ISS DELAY
 0705  9DURING WHICH BIT 2 OF IMODES30 IS SET
R0706   TO 1 AND NO FURTHER INITIALIZATION IS REQUIRED.  WHEN THE INBIT CHANGES
 0707  9TO 1, INDICATING ISS OFF, IMUSEFLG IS
R0708  2TESTED TO SEE IF ANY PROGRAM WAS USING THE ISS.  IF SO, PROGRAM ALARM 00
 0709  9214 IS ISSUED.
R0710  2CALLING SEQUENCE:  BY IMUMON WHEN BIT 9 OF CHANNEL 30 CHANGES.
R0711  2JOBS OR TASKS INITIATED:  NONE.
R0712  2SUBROUTINES CALLED:  ALARM, IF ISS IS TURNED OFF WHILE IN USE.
R0713   ERASABLE INITIALIZATION:  ON FRESH START AND RESTART, BIT 9 OF IMODES30
 0714  9IS SET TO 1 EXCEPT WHEN THE GIMBAL LOCK
R0715  2LAMP IS ON, IN WHICH CASE IT IS SET TO 0.  THIS PREVENTS ICDU ZERO BY TN
 0716  9ONTEST WITH THE ISS IN GIMBAL LOCK.
R0717  2ALARMS:  PROGRAM ALARM 00214 IF THE ISS IS TURNED OFF WHILE IN USE.
R0718  2EXIT:  NXTIFAIL.
R0719  2OUTPUT:  ISS INITIALIZATION REQUEST (IMODES30 BIT 7) OR PROGRAM ALARM 00
R0720  9214.
 0721   IMUOP    EXTEND
 0722  2         BZF    IMUOP2
 0723            CS     STATE           IF GOING OFF, ALARM IF PROG USING IMU.
 0724            MASK   IMUSEFLG
 0725            CCS    A
 0726  2         TCF    NXTIFAIL
 0727            TC     ALARM
 0728            OCT    214
 0729  2         TCF    NXTIFAIL
 0730   IMUOP2   CAF    BIT2            SEE IF FAILED ISS TURN-ON SEQ IN PROG.
 0731            MASK   IMODES30
 0732            CCS    A
 0733            TCF    NXTIFAIL        IF SO, DONT PROCESS UNTIL PRESENT 90
 0734  2         TCF    ITURNON2        SECONDS EXPIRES.
P0735  2PROGRAM NAME:  PIPFAIL
R0736   FUNCTIONAL DESCRIPTION:  THIS PROGRAM PROCESSES CHANGES OF BIT 13 OF CHA
 0737  9NNEL 33, PIPA FAIL.  IT SETS BIT 10 OF
R0738   IMODES30 TO AGREE.  IT CALLS SETISSW IN CASE A PIPA FAIL NECESSITATES AN
 0739  9 ISS WARNING.  IF NOT,I.E., IMODES30
R0740  2BIT 1 = 1, AND A PIPA FAIL IS PRESENT AND THE ISS IS NOT BEING INITIALIZ
 0741  9ED, PROGRAM ALARM 00212 IS ISSUED.
R0742  2CALLING SEQUENCE:  BY C33TEST ON CHANGES OF CHANNEL 33 BIT 13.
R0743  2JOBS OR TASKS INITIATED:  NONE.
R0744  2SUBROUTINES CALLED:  1) SETISSW, AND 2) ALARM (SEE FUNCTIONAL DESCRIPTIO
 0745  9N).
R0746  2ERASABLE INITIALIZATION:  SEE IMUMON FOR INITIALIZATION OF IMODES30.  TH
 0747  9E RELAVANT BITS ARE 5, 7, 8, 9, AND 10.
R0748   ALARMS:  PROGRAM ALARM 00212 IF PIPA FAIL IS PRESENT BUT NEITHER ISS WAR
 0749  9NING IS TO BE ISSUED NOR THE ISS IS
R0750  2BEING INITIALIZED.
R0751  2EXIT:  NXTFL33.
R0752  2OUTPUT:  PROGRAM ALARM 00212 AND ISS WARNING MAINTENANCE.
 0753   PIPFAIL  CCS    A               SET BIT10 IN IMODES30 SO ALL ISS WARNING
 0754            CAF    BIT10           INFO IS IN ONE REGISTER.
 0755            XCH    IMODES30
 0756            MASK   -BIT10
 0757  2         ADS    IMODES30
 0758  2         TC     SETISSW
 0759            CS     IMODES30        IF PIP FAIL DOESNT LIGHT ISS WARNING, DO
 0760            MASK   BIT1            A PROGRAM ALARM IF IMU OPERATING BUT NOT
 0761            CCS    A               CAGED OR BEING TURNED ON.
 0762  2         TCF    NXTFL33
 0763            CA     IMODES30
 0764            MASK   OCT1720
 0765            CCS    A
 0766  2         TCF    NXTFL33         ABOVE CONDITION NOT MET.
 0767            TC     ALARM
 0768            OCT    212
 0769  2         TCF    NXTFL33
P0770  2PROGRAM NAMES:  DNTMFAST, UPTMFAST
R0771   FUNCTIONAL DESCRIPTION:  THESE PROGRAMS PROCESS CHANGES OF BITS 12 AND 1
 0772  91 OF CHANNEL 33.  IF A BIT CHANGES TO A
R0773   0, A PROGRAM ALARM IS ISSUED.  THE ALARMS ARE:
R0774            BIT    ALARM           CAUSE
R0775            ---    -----           -----
R0776             12    01105           DOWNLINK TOO FAST
R0777  2          11    01106           UPLINK TOO FAST
R0778  2CALLING SEQUENCE:  BY C33TEST ON A BIT CHANGE.
R0779  2SUBROUTINES CALLED:  ALARM, IF A BIT CHANGES TO A 0.
R0780  2ERASABLE INITIALIZATION:  FRESH START OR RESTART, BITS 12 AND 11 OF IMOD
 0781  9ES33 ARE SET TO 1.
R0782  2ALARMS:  SEE FUNCTIONAL DESCRIPTION.
R0783  2EXIT:  NXTFL33.
R0784  2OUTPUT:  PROGRAM ALARM ON A BIT CHANGE TO 0.
 0785   DNTMFAST CCS    A               DO PROG ALARM IF TM TOO FAST.
 0786  2         TCF    NXTFL33
 0787            TC     ALARM
 0788            OCT    1105
 0789  2         TCF    NXTFL33
 0790   UPTMFAST CCS    A               SAME AS DNLINK TOO FAST WITH DIFFERENT
 0791  2         TCF    NXTFL33         ALARM CODE.
 0792            TC     ALARM
 0793            OCT    1106
 0794  2         TCF    NXTFL33
P0795  2PROGRAM NAME:  SETISSW
R0796   FUNCTIONAL DESCRIPTION:  THIS PROGRAM TURNS THE ISS WARNING LAMP ON AND
 0797  9OFF (CHANNEL 11 BIT 1 = 1 FOR ON,
R0798   0 FOR OFF) DEPENDING ON THE STATUS OF IMODES30 BITS 13 (IMU FAIL) AND 4
 0799  9(INHIBIT IMU FAIL), 12 (ICDU FAIL) AND
R0800   3 (INHIBIT ICDU FAIL), AND 10 (PIPA FAIL) AND 1 (INHIBIT PIPA FAIL).  TH
 0801  9E LAMP IS LEFT ON IF A LAMP TEST IS IN
R0802  2PROGRESS.
R0803   CALLING SEQUENCE:  CALLED BY IMUMON ON CHANGES TO IMU FAIL AND ICDU FAIL
 0804  9.  CALLED BY IFAILOK AND PFAILOK UPON
R0805   REMOVAL OF THE FAIL INHIBITS.  CALLED BY PIPFAIL WHEN THE PIPA FAIL DISC
 0806  9RETE CHANGES.  IT IS CALLED BY PIPUSE
R0807   SINCE THE PIPA FAIL PROGRAM ALARM MAY NECESSITATE AN ISS WARNING, AND LI
 0808  9KEWISE BY PIPFREE WHEN THE ALARM DEPARTS
R0809  2AND IT IS CALLED BY IMUZERO3 AND ISSUP AFTER THE FAIL INHIBITS HAVE BEEN
 0810  9 REMOVED.
R0811  2JOBS OR TASKS INITIATED:  NONE.
R0812  2SUBROUTINES CALLED:  NONE.
R0813  2ERASABLE INITIALIZATION:
R0814            1) IMODES30 - SEE IMUMON.
R0815  2         2) IMODES33 BIT 1 = 0 (LAMP TEST NOT IN PROGRESS).
R0816  2ALARMS:  ISS WARNING.
R0817  2EXIT:  VIA Q.
R0818  2OUTPUT:  ISS WARNING LAMP SET PROPERLY.
 0819   SETISSW  CAF    OCT15           SET ISS WARNING USING THE FAIL BITS IN
 0820            MASK   IMODES30        BITS 13, 12, AND 10 OF IMODES30 AND THE
 0821            EXTEND                 FAILURE INHIBIT BITS IN POSITIONS
 0822            MP     BIT10           4, 3, AND 1.
 0823            CA     IMODES30
 0824            EXTEND
 0825            ROR    L               0 INDICATES FAILURE.
 0826            COM
 0827            MASK   OCT15000
 0828            CCS    A
 0829  2         TCF    ISSWON          FAILURE.
 0830   ISSWOFF  CAF    BIT1            DONT TURN OFF ISS WARNING IF LAMP TEST
 0831            MASK   IMODES33        IN PROGRESS.
 0832            CCS    A
 0833  2         TC     Q
 0834            CS     BIT1
 0835            EXTEND
 0836            WAND   11
 0837  2         TC     Q
 0838   ISSWON   CAF    BIT1
 0839            EXTEND
 0840            WOR    11
 0841  2         TC     Q
 0842   CAGESUB  CS     BITS6&15        SET OUTBITS AND INTERNAL FLAGS FOR
 0843            EXTEND                 SYSTEM TURN-ON OR CAGE. DISABLE THE
 0844            WAND   12              ERROR COUNTER AND REMOVE IMU DELAY COMP.
 0845            CAF    BITS4&5         SEND ZERO AND COARSE.
 0846            EXTEND
 0847  2         WOR    12
 0848            CS     OC40010         TURN ON NO ATT LAMP.
 0849            MASK   DSPTAB +11D
 0850            AD     OC40010
 0851  2         TS     DSPTAB +11D
 0852   CAGESUB2 CS     OCT75           SET FLAGS TO INDICATE CAGING OR TURN-ON,
 0853            MASK   IMODES30        AND TO INHIBIT ALL ISS WARNING INFO.
 0854            AD     OCT75
 0855  2         TS     IMODES30
 0859  2         TC     Q
 0862   IMUFAIL  EQUALS SETISSW
 0863   ICDUFAIL EQUALS SETISSW
P0864  2         JUMP TABLES AND CONSTANTS.
 0865   IFAILJMP TCF    ITURNON         CHANNEL 30 DISPATCH.
 0866            TCF    IMUFAIL
 0867            TCF    ICDUFAIL
 0868            TCF    IMUCAGE
 0869   30RDMSK  OCT    76400           (BIT 10 NOT SAMPLED HERE).
 0870  2         TCF    IMUOP
 0871   C33JMP   TCF    PIPFAIL         CHANNEL 33 DISPATCH.
 0872            TCF    DNTMFAST
 0873  2         TCF    UPTMFAST
R0874            SUBROUTINE TO SKIP IF LAMP TEST NOT IN PROGRESS.
 0875   LAMPTEST CS     IMODES33        BIT 1 OF IMODES33 = 1 IF LAMP TEST IN
 0876            MASK   BIT1            PROGRESS.
 0877            CCS    A
 0878            INCR   Q
 0879  2         TC     Q
 0880   33RDMSK  EQUALS PRIO16
 0881   OCT15    OCT    15
 0882   OC40010  OCT    40010
 0883   BITS4&5  OCT    30
 0884   OCT54    OCT    54
 0885   OCT75    OCT    75
 0886   BITS7&8  OCT    300
 0887   OCT1720  OCT    1720
 0888   OCT1700  OCT    1700
 0889   OCT15000 EQUALS PRIO15
 0890   OCT71000 OCT    71000
 0891   BITS6&15 OCT    40040
 0892  2-BIT10   OCT    -1000
 0893   90SECS   DEC    9000
 0894  2120MS    DEC    12
 0895   GLOCKOK  EQUALS RESUME
P0897  2         RR INBIT MONITOR.
 0898   RRAUTCHK CA     RADMODES        SEE IF CHANGE IN RR AUTO MODE BIT.
 0899            EXTEND
 0900            RXOR   33
 0901            MASK   BIT2
 0902            EXTEND
 0903  2         BZF    RRCDUCHK
 0904            LXCH   RADMODES        UPDATE RADMODES.
 0905            EXTEND
 0906            RXOR   L
 0907            TS     RADMODES
 0908            MASK   BIT2            SEE IF JUST ON.
 0909            CCS    A
 0910  2         TCF    RROFF           OFF.
 0911            CAF    BIT7            IF JUST ON AND SOME PROGRAM IS USING THE
 0912            MASK   STATE           RR, DONT ZERO THE CDUS.
 0913            CCS    A
 0914  2         TCF    RRCDUCHK
 0915            CS     OCT10001        SET BITS TO INDICATE ZERO AND TURNON
 0916            MASK   RADMODES        IN PROGRESS.
 0917            AD     OCT10001
 0918  2         TS     RADMODES
 0919            CAF    ONE
 0920            TC     WAITLIST
 0921            EBANK= M11
 0922            2CADR  RRTURNON
 0923  2         TCF    NORRGMON
 0924  2OCT10001 OCT    10001
 0925   RROFF    CS     STATE           IF SOMEONE WAS USING THE RR, DISPLAY AN
 0926            MASK   BIT7            ALARM IF THE RR GOES OUT OF AUTO MODE.
 0927            CCS    A
 0928  2         TCF    RRCDUCHK
 0929            TC     ALARM
 0930            OCT    514
P0931  2         CHECK FOR RR CDU FAIL.
 0932   RRCDUCHK CA     RADMODES        LAST SAMPLED BIT IN RADMODES.
 0933            EXTEND
 0934            RXOR   30
 0935            MASK   BIT7
 0936            EXTEND
 0937  2         BZF    RRGIMON
 0938            CAF    BIT2            IF RR NOT IN AUTO MODE, DONT CHANGE BIT
 0939            MASK   RADMODES        7 OF RADMODES. IF THIS WERE NOT DONE,
 0940            CCS    A               THE TRACKER FAIL MIGHT COME ON WHEN
 0941  2         TCF    NORRGMON        JUST READING LR DATA.
 0942            CAF    BIT7            SET BIT 7 OF RADMODES FOR SETTRKF.
 0943            LXCH   RADMODES        UPDATE RADMODES.
 0944            EXTEND
 0945            RXOR   L
 0946  2         TS     RADMODES
 0947   TRKFLCDU TC     SETTRKF         UPDATE TRACKER FAIL LAMP ON DSKY.
P0948            THE RR GIMBAL LIMIT MONITOR IS ENABLED WHENEVER THE RR IS IN TH
 0949  9E AUTO MODE EXCEPT WHEN THE RR CDUS ARE
R0950   BEING ZEROED, OR DURING A REMODE OR MONITOR REPOSITION OPERATION. THE LA
 0951  9TTER IS INITIATED BY THIS MONITOR WHEN
R0952   THE GIMBALS EXCEED THE LIMITS FOR THE CURRENT MODE. A ROUTINE IS INITIAT
 0953  9ED TO DRIVE THE GIMBALS TO T = 0 AND
R0954  2S = 0 IF IN MODE 1 AND T = 180 WITH S = -90 FOR MODE 2.
 0955   RRGIMON  CAF    OCT32002        INHIBITED BY REMODE, ZEROING, MONITOR,
 0956            MASK   RADMODES        OR RR NOT IN AUTO.
 0957            CCS    A
 0958  2         TCF    NORRGMON
 0959            TC     RRLIMCHK        SEE IF ANGLES IN LIMITS.
 0960  2         ADRES  OPTY
 0961  2         TCF    MONREPOS
 0962  2         TCF    NORRGMON        (ADDITIONAL CODING MAY GO HERE).
 0963   MONREPOS CAF    BIT11           SET FLAG TO SHOW REPOSITION IN PROGRESS.
 0964  2         ADS    RADMODES
 0965            CS     OCT20002        DISABLE TRACKER AND ERROR COUNTER.
 0966            EXTEND
 0967  2         WAND   12
 0968            CAF    TWO
 0969            TC     WAITLIST
 0970            EBANK= M11
 0971            2CADR  DORREPOS
 0972  2         TCF    NORRGMON
 0973   OCT32002 OCT    32002
 0974   OCT20002 OCT    20002
P0975  2PROGRAM NAME: GPMATRIX (DAPT4S) MOD. NO. 2  DATE: OCTOBER 27, 1966
R0976  2AUTHOR: JONATHAN D. ADDELSTON (ADAMS ASSOCIATES)
R0977   THIS PROGRAM CALCULATES ALL THE SINGLE-PRECISION MATRIX ELEMENTS WHICH A
 0978  9RE USED BY LEM DAP TO TRANSFORM VECTORS
R0979   FROM GIMBAL TO PILOT (BODY) AXES AND BACK AGAIN.  THESE ELEMENTS ARE USE
 0980  9D EXCLUSIVELY BY BASIC LANGUAGE ROUTINES
R0981  2AND THEREFORE ARE NOT ARRAYED FOR USE BY INTERPRETIVE PROGRAMS.
R0982   CALLING SEQUENCE: GPMATRIX IS TRANSFERRED TO FROM DAPT4S AND IS THUS EXE
 0983  9CUTED 4 TIMES A SECOND BY T4RUPT.
R0984  2DAPT4S IS LISTED IN T4JUMP TABLE TWICE EXPLICITLY AND ALSO OCCURS AFTER
 0985  9RRAUTCHK (WHICH IS ALSO LISTED TWICE).
R0986  2SUBROUTINES CALLED: SPSIN, SPCOS.
R0987  2NORMAL EXIT: RESUME.
R0988   ALARM/ABORT MODE: THERE ARE NO REAL ALARMS OR ABORTS.  HOWEVER, WHEN THE
 0989  9 MIDDLE GIMBAL ANGLE NEARS GIMBAL LOCK,
R0990   A DIVISION BY COS(MG) WILL CAUSE OVERFLOW (I.E. A BAD QUOTIENT).  THIS C
 0991  9ONDITION IS PREVENTED BY TESTING COS(MG)
R0992  2AND SUBSTITUTING POSMAX/NEGMAX FOR THE INCALCULABLE QUANTITIES.
R0993   INPUT: CDUX,CDUY,CDUZ.          OUTPUT: M11,M21,M31,M22,M32,MR12,MR13.
R0994  2                                        (ALSO MR22=M22,MR23=M32)
R0995  2AOG = CDUX, AIG = CDUY, AMG = CDUZ: MNEMONIC IS: OIM = XYZ
R0996      *       *    SIN(MG)        0         1  *
R0997      M   =   *    COS(MG)COS(OG) SIN(OG)   0  *
R0998  2    GP     *   -COS(MG)SIN(OG) COS(OG)   0  *
R0999      *       *  0    COS(OG)/COS(MG)        -SIN(OG)/COS(MG)         *
R1000      M   =   *  0    SIN(OG)                 COS(OG)                 *
R1001  2    PG     *  1   -SIN(MG)COS(OG)/COS(MG)  SIN(MG)SIN(OG)/COS(MG)  *
R1002  2THIS CODING TRANSFERS CONTROL TO THE DAP FIXED BANK FOR GPMATRIX:
 1003            BANK   12
 10031 2         EBANK= M11
 1004   DAPT4S   EXTEND                 GET 2CADR OF GPMATRIX
 1005            DCA    DAPT4
 1006  2         DTCB                   CROSS BANKS
 10065 2NORRGMON EQUALS DAPT4S
 1007            EBANK= M11
 1008   DAPT4    2CADR  GPMATRIX
P1009  2T4RUPT DAP LOGIC:
 1010            BANK   20
 10101 2         EBANK= M11
 1011   GPMATRIX CAE    CDUZ            SINGLE ENTRY POINT
 1012            TC     SPSIN           SIN(CDUZ) = SIN(MG)
 1013  2         TS     M11             SCALED AT 1
 1014            CAE    CDUZ
 1015            TC     SPCOS           COS(CDUZ) = COS(MG)
 1016  2         TS     COSMG           SCALED AT 1 (ONLY A FACTOR)
 1017            CAE    CDUX
 1018            TC     SPSIN           SIN(CDUX) = SIN(OG)
 1019  2         TS     M22             SCALED AT 1 (ALSO IS MR22)
 1020            CS     M22
 1021            EXTEND
 1022            MP     COSMG           -SIN(OG)COS(MG)
 1023  2         TS     M31             SCALED AT 1
 1024            CAE    CDUX
 1025            TC     SPCOS           COS(CDUX) = COS(OG)
 1026  2         TS     M32             SCALED AT 1 (ALSO IS MR23)
 1027            EXTEND
 1028            MP     COSMG           COS(OG)COS(MG)
 1029  2         TS     M21             SCALED AT 1
 1030            CS     COSMG           CHECK FOR CDUZ GREATER THAN 60 DEGREES.
 1031            AD     BIT14
 1032            EXTEND
 1033            BZMF   +3
 10332           CAF    BIT14           USE 60 DEG. FOR CDUZ-HENCE COS(CDUZ)=1/2
 10334           TS     COSMG           (SINMG NOT SIMILARLY LIMITED)
 1034   +3       CAE    M32
 1035            EXTEND
 1036            MP     BIT14           SCALE FOR DIVISION
 1037            EXTEND
 1038            DV     COSMG           COS(OG)/COS(MG)
 1039  2         TS     MR12            SCALED AT 2
 1040            CS     M22
 1041            EXTEND
 1042            MP     BIT14           SCALE FOR DIVISION
 1043            EXTEND
 1044            DV     COSMG           -SIN(OG)/COS(MG)
 1045            TS     MR13            SCALED AT 2
 1046            TCF    RESUME
L      2IMU MODE SWITCHING ROUTINES
 0001            BLOCK  02
 0002  2         EBANK= COMMAND
R0003  2         FIXED-FIXED ROUTINES.
 0004   ZEROICDU CAF    ZERO            ZERO ICDU COUNTERS.
 0005            TS     CDUX
 0006            TS     CDUY
 0007            TS     CDUZ
 0008  2         TC     Q
 00085  4SECS    DEC    400
 0009  23SECS    DEC    300
P0011  2         IMU ZEROING ROUTINE.
 0012  2         BANK   13
 0013   IMUZERO  INHINT                 ROUTINE TO ZERO ICDUS.
 00131           CS     DSPTAB +11D     DONT ZERO CDUS IF IMU IN GIMBAL LOCK AND
 00132           MASK   BITS4&6         COARSE ALIGN.
 00133           CCS    A
 00134 2         TCF    IMUZEROA
 00135           TC     ALARM           IF SO.
 00136 2         OCT    206
 00137 2         TCF    CAGETSTJ +4
 0014   IMUZEROA CS     IMUSEFLG
 0015            MASK   STATE           PROGRAM IS USING THE IMU.
 0016            AD     IMUSEFLG
 0017  2         TS     STATE
 0018            TC     CAGETSTQ        IF IMU COMING UP, TURN-ON PROGRAM WILL
 0019  2         TCF    MODEEXIT        DO ALL THE WORK.
 0020            CS     BITS3&4         INHIBIT ICDUFAIL AND IMUFAIL (IN CASE WE
 0021            MASK   IMODES30        JUST CAME OUT OF COARSE ALIGN).
 0022            AD     BITS3&4
 0023  2         TS     IMODES30
 0024            CS     BITS4&6         SEND ZERO ENCODE WITH COARSE AND ERROR
 0025            EXTEND                 COUNTER DISABLED.
 0026  2         WAND   12
 00261 2         TC     NOATTOFF        TURN OFF NO ATT LAMP.
 0027            CAF    BIT5
 0028            EXTEND
 0029  2         WOR    12
 0030            CAF    BIT6            WAIT 320 MS TO GIVE AGS ADEQUATE TIME TO
 0031            TC     WAITLIST        RECEIVE ITS PULSE TRAIN.
 00315           EBANK= COMMAND
 0032            2CADR  IMUZERO2
 0033            CS     IMODES30        SEE IF IMU OPERATING AND ALARM IF NOT.
 0034            MASK   BIT9
 0035            CCS    A
 0036  2         TCF    MODEEXIT
 0037            TC     ALARM
 0038  2         OCT    210
 0039   MODEEXIT RELINT                 GENERAL MODE-SWITCHING EXIT.
 0040  8         TCF    SWRETURN
 0041   IMUZERO2 TC     CAGETSTQ        POSSIBLY SWITCH TO TURN-ON PROGRAM.
 0042  2         TCF    TASKOVER
 0043            TC     ZEROICDU        ZERO COUNTERS.
 0044            CS     BIT5            REMOVE ZERO DISCRETE.
 0045            EXTEND
 0046  2         WAND   12
 0047            CAF    4SECS
 0048  2         TC     VARDELAY
 0049   IMUZERO3 TC     CAGETSTQ
 0050  2         TCF    TASKOVER
 0051            CS     BITS3&4         REMOVE IMUFAIL AND ICDUFAIL INHIBIT.
 0052            MASK   IMODES30
 0053  2         TS     IMODES30
 0054            TC     IBNKCALL        SET ISS WARNING IF EITHER OF ABOVE ARE
 0055  2         CADR   SETISSW         PRESENT.
 0056            TCF    ENDIMU
P0057  2         IMU COARSE ALIGN MODE.
 0058   IMUCOARS INHINT
 0059  2         TC     SETCOARS
 0066            CAF    SIX
 0067            TC     WAITLIST
 00675           EBANK= COMMAND
 0068            2CADR  COARS
 0069  2         TCF    MODEEXIT
 0070   COARS    TC     CAGETEST
 0071            CAF    BIT6            ENABLE ALL THREE ISS CDU ERROR COUNTERS
 0072            EXTEND
 0073  2         WOR    CHAN12
 0074            CAF    TWO             SET CDU INDICATOR
 0075  2COARS1   TS     CDUIND
 0076            INDEX  CDUIND          COMPUTE THETAD - THETAA IN 1:S
 0077            CA     THETAD            COMPLEMENT FORM
 0078            EXTEND
 0079            INDEX  CDUIND
 0080            MSU    CDUX
 0081            EXTEND
 0082            MP     BIT13           SHIFT RIGHT 2
 0083            XCH    L               ROUND
 0084            DOUBLE
 0085            TS     ITEMP1
 0086            TCF    +2
 0087  2         ADS    L
 0088            INDEX  CDUIND          DIFFERENCE TO BE COMPUTED
 0089            LXCH   COMMAND
 0090            CCS    CDUIND
 0091  2         TC     COARS1
 0092            CAF    TWO             MINIMUM OF 4 MS WAIT
 0093  8         TC     VARDELAY
 0094   COARS2   TC     CAGETEST        DONT CONTINUE IF CAGED.
 0095            TS     ITEMP1          SETS TO +0.
 0096            CAF    TWO             SET CDU INDICATOR
 0097  2 +3      TS     CDUIND
 0098            INDEX  CDUIND
 0099            CCS    COMMAND         NUMBER OF PULSES REQUIRED
 0100            TC     COMPOS          GREATER THAN MAX ALLOWED
 0101            TC     NEXTCDU +1
 0102            TC     COMNEG
 0103  2         TC     NEXTCDU +1
 0104   COMPOS   AD     -COMMAX         COMMAX = MAX NUMBER OF PULSES ALLOWED
 0105            EXTEND                   MINUS ONE
 0106            BZMF   COMZERO
 0107            INDEX  CDUIND
 0108            TS     COMMAND         REDUCE COMMAND BY MAX NUMBER OF PULSES
 0109  2         CS     -COMMAX-          ALLOWED
 0110   NEXTCDU  INCR   ITEMP1
 01105           AD     NEG0            PREVENT +0 IN OUTPUT COUNTER
 0111            INDEX  CDUIND
 0112  2         TS     CDUXCMD         SET UP COMMAND REGISTER.
 0113            CCS    CDUIND
 0114  2         TC     COARS2 +3
 0115            CCS    ITEMP1          SEE IF ANY PULSES TO GO OUT.
 0116  2         TCF    SENDPULS
 0117            TC     FIXDELAY        WAIT FOR GIMBALS TO SETTLE.
 0118  8         DEC    150
 0119            CAF    TWO             AT END OF COMMAND, CHECK TO SEE THAT
 0120   CHKCORS  TS     ITEMP1          GIMBALS ARE WITHIN 2 DEGREES OF THETAD.
 0121            INDEX  A
 0122            CA     CDUX
 0123            EXTEND
 0124            INDEX  ITEMP1
 0125            MSU    THETAD
 0126            CCS    A
 0127            TCF    COARSERR
 0128            TCF    CORSCHK2
 0129  2         TCF    COARSERR
 0130   CORSCHK2 CCS    ITEMP1
 0131            TCF    CHKCORS
 0132            TS     GCOMP           ZERO GYRO COMPENSATION REGISTERS IN
 0133            TS     GCOMP +1        PREPARATION FOR COMPENSATION.
 0134            TS     GCOMP +2
 0135            TS     GCOMP +3
 0136            TS     GCOMP +4
 0137  2         TS     GCOMP +5
 0138  2         TCF    ENDIMU          END OF COARSE ALIGNMENT.
 0139   COARSERR AD     COARSTOL        2 DEGREES.
 0140            EXTEND
 0141  2         BZMF   CORSCHK2
 0142            TC     ALARM           COARSE ALIGN ERROR.
 0143  2         OCT    211
 0144  2         TCF    IMUBAD
 0145  8COARSTOL DEC    -.01111         2 DEGREES SCALED AT HALF-REVOLUTIONS.
 0146   COMNEG   AD     -COMMAX
 0147            EXTEND
 0148            BZMF   COMZERO
 0149            COM
 0150            INDEX  CDUIND
 0151            TS     COMMAND
 0152            CA     -COMMAX-
 0153  2         TC     NEXTCDU
 0154   COMZERO  CAF    ZERO
 0155            INDEX  CDUIND
 0156            XCH    COMMAND
 0157  2         TC     NEXTCDU
 0158   SENDPULS CAF    13,14,15
 0159            EXTEND
 0160            WOR    CHAN14
 0161            CAF    600MS
 0162            TCF    COARS2 -1       AND THEN TO VARDELAY.
 01621  SETCOARS CS     BIT6            CLEAR ERROR COUNTER BEFORE MODE SWITCH.
 016212          EXTEND
 016214          WAND   12
 016216          CAF    BIT4            PUT ISS IN COARSE ALIGN.
 01622           EXTEND
 01623 2         WOR    12
 01624           CS     OCT40010        TURN ON NO ATT LAMP.
 01625           MASK   DSPTAB +11D
 01626           AD     OCT40010
 0162652         TS     DSPTAB +11D
 016270          CS     BIT4            INHIBIT IMU FAIL.
 016275          MASK   IMODES30
 016280          AD     BIT4
 0162852         TS     IMODES30
 0162902         TC     Q
 016295 OCT40010 OCT    40010
P0163  2         IMU FINE ALIGN MODE SWITCH.
 0164   IMUFINE  INHINT
 0165  2         TC     CAGETSTJ        SEE IF IMU BEING CAGED.
 0166            CS     BITS4-6         RESET ZERO, COARSE, AND ECTR ENABLE.
 0167            EXTEND
 0168  2         WAND   12
 01685 2         TC     NOATTOFF        TURN OFF NO ATT LAMP.
 0169            CAF    BIT10           IMU FAIL WAS INHIBITED DURING THE
 0170            TC     WAITLIST        PRESUMABLY PRECEDING COARSE ALIGN. LEAVE
 01705           EBANK= COMMAND
 0171            2CADR  IFAILOK         IT ON FOR THE FIRST 5 SECS OF FINE ALIGN
 0172            CAF    4SECS           GYRO RE-CENTERING TIME.
 0173            TC     WAITLIST
 01735           EBANK= COMMAND
 0174            2CADR  IMUFINED
 0175  2         TCF    MODEEXIT
 0176   IMUFINED TC     CAGETEST        SEE THAT NO ONE HAS CAGED THE IMU.
 0177  2         TCF    ENDIMU
 0178   IFAILOK  TC     CAGETSTQ        ENABLE IMU FIAL UNLESS IMU BEING CAGED.
 0179  2         TCF    TASKOVER        IT IS.
 0180            CAF    BIT4            DONT RESET IMU FAIL INHIBIT IF SOMEONE
 0181            EXTEND                 HAS GONE INTO COARSE ALIGN.
 0182            RAND   12
 0183            CCS    A
 0184  2         TCF    TASKOVER
 0185            CS     BIT4
 0186   PFAILOK2 MASK   IMODES30
 0187            TS     IMODES30
 01871           TC     IBNKCALL        THE ISS WARNING LIGHT MAY COME ON NOW
 01872           CADR   SETISSW         THAT THE INHIBIT HAS BEEN REMOVED.
 0188  2         TCF    TASKOVER
 0189   PFAILOK  TC     CAGETSTQ        ENABLE PIP FAIL PROG ALARM.
 0190  2         TCF    TASKOVER
 01901           CS     BIT10           MAKE PREVIOUS VALUE OF PIPA FAIL THE
 01902           MASK   IMODES30        NO FAIL STATE SO THAT IF THE FAILURE
 01903           AD     BIT10           INDICATION IS ON NOW, IT WILL BE PICKED
 01904 2         TS     IMODES30        UP (ROUTINE DETECTS ONLY CHANGES).
 01905           CS     BIT13           PIPA FAIL BIT IS KEPT IN TWO PLACES FOR
 01906           MASK   IMODES33
 01907           AD     BIT13
 01908 2         TS     IMODES33
 0191            CS     BIT5
 0192  2         TCF    PFAILOK2
 01921  NOATTOFF CS     OCT40010        TURN OFF NO ATT LAMP.
 01922           MASK   DSPTAB +11D
 01923           AD     BIT15
 01924 2         TS     DSPTAB +11D
 01925           TC     Q
P0193  2         ROUITNES TO INITIATE AND TERMINATE PROGRAM USE OF THE PIPAS. NO
 0194  9 IMUSTALL REQUIRED IN EITHER CASE.
 0195   PIPUSE   TC     CAGETSTQ        DONT ENABLE PIPA FAIL IF IMU BEING CAGED
 0196  2         TCF    SWRETURN
 0197            INHINT
 0198            CAF    ZERO            ZERO COUNTERS.
 0199            TS     PIPAX
 0200            TS     PIPAY
 0201  2         TS     PIPAZ
 0202            CS     BIT1            IF PIPA FAILS FROM NOW ON (UNTIL
 0203            MASK   IMODES30        PIPFREE), LIGHT ISS WARNING.
 0204  2         TS     IMODES30
 0205   PIPFREE2 TC     IBNKCALL        ISS WARNING MIGHT COME ON NOW.
 0206  2         CADR   SETISSW         (OR GO OFF ON PIPFREE).
 0207  2         TCF    MODEEXIT
 0208   PIPFREE  INHINT                 PROGRAM DONE WITH PIPAS. DONT LIGHT
 0209            CS     BIT1            ISS WARNING.
 0210            MASK   IMODES30
 0211            AD     BIT1
 0212  2         TS     IMODES30
 0213            MASK   BIT10           IF PIP FAIL ON, DO PROG ALSRM AND RESET
 0214            CCS    A               ISS WARNING.
 0215  2         TCF    MODEEXIT
 0216            TC     ALARM
 0217  2         OCT    212
 0218  2         INHINT
 0219            TCF    PIPFREE2
P0220            THE FOLLOWING ROUTINE TORQUES THE IRIGS ACCORDING TO DOUBLE PRE
 0221  9CISION INPUTS IN THE SIX REGISTERS
R0222   BEGINNING AT THE ECADR ARRIVING IN A. THE MINIMUM SIZE OF ANY PULSE TRAI
 0223  9N TO THE GYROS IS 1 PULSE. THE
R0224  2UNSENT PORTION OF THE COMMAND IS LEFT INTACT IN THE INPUT COMMAND REGIST
 0225  9ERS.
 0226  2         EBANK= 1400            VARIABLE, ACTUALLY.
 0227   IMUPULSE TS     MPAC +5         SAVE ARRIVING ECADR.
 0228  2         TC     CAGETSTJ        DONT PROCEED IF IMU BEING CAGED.
 0229            CCS    LGYRO           SEE IF GYROS BUSY.
 0230  2         TC     GYROBUSY        SLEEP.
 0231            TS     MPAC +2
 0232            CAF    BIT6            ENABLE THE POWER SUPPLY.
 0233            EXTEND
 0234  2         WOR    14
 0235            CAF    FOUR
 0236   GWAKE2   INHINT                 (IF A JOB WAS PUT TO SLEEP, THE POWER
 0237            TC     WAITLIST        SUPPLY IS LEFT ON BY THE WAKING JOB).
 02375           EBANK= COMMAND
 0238            2CADR  STRTGYRO
 0239            CA     MPAC +5         SET UP EBANK, SAVING CALLER'S EBANK FOR
 0240            XCH    EBANK           RESTORATION ON RETURN.
 0241            XCH    MPAC +5
 0242            TS     LGYRO           RESERVES GYROS.
 0243            MASK   LOW8
 0244  2         TS     ITEMP1
 0245            CAF    TWO             FORCE SIGN AGREEMENT ON INPUTS.
 0246   GYROAGRE TS     MPAC +3
 0247            DOUBLE
 0248            AD     ITEMP1
 0249            TS     MPAC +4
 0250            EXTEND
 0251            INDEX  A
 0252            DCA    1400
 0253            DXCH   MPAC
 0254            TC     TPAGREE
 0255            DXCH   MPAC
 0256            INDEX  MPAC +4
 0257  2         DXCH   1400
 0258            CCS    MPAC +3
 0259  2         TCF    GYROAGRE
 0260            CA     MPAC +5         RESTORE CALLER'S EBANK.
 0261            TS     EBANK
 0262            TCF    MODEEXIT
P0263  2         ROUTINES TO ALLOW TORQUING BY ONLY ONE JOB AT A TIME.
 0264   GYROBUSY EXTEND                 SAVE RETURN 2FCADR.
 0265            DCA    BUF2
 0266            DXCH   MPAC
 0267   REGSLEEP CAF    LGWAKE
 0268  2         TCF    JOBSLEEP
 0269   GWAKE    CCS    LGYRO           WHEN AWAKENED, SEE IF GYROS STILL BUSY.
 0270  2         TCF    REGSLEEP        IF SO, SLEEP SOME MORE.
 0271            TS     MPAC +2
 0272            EXTEND
 0273            DCA    MPAC
 0274            DXCH   BUF2            RESTORE SWRETURN INFO.
 0275            CAF    ONE
 0276  2         TCF    GWAKE2
 0277   LGWAKE   CADR   GWAKE
P0278  2         GYRO-TORQUING WAITLIST TASKS.
 0279   STRTGYRO CS     GDESELCT        DE-SELECT LAST GYRO.
 0280            EXTEND
 0281  2         WAND   14
 0282  2         TC     CAGETEST
 0283   STRTGYR2 CA     LGYRO           JUMP ON PHASE COUNTER IN BITS 13-14.
 0284            EXTEND
 0285            MP     BIT4
 0286            INDEX  A
 0287            TCF    +1
 0288            TC     GSELECT         =0. DO Y GYRO.
 0289  2         OCT    00202
 0290            TC     GSELECT         =1. DO Z GYRO.
 0291  2         OCT    00302
 0292            TC     GSELECT -2      =2. DO X GYRO.
 0293  2         OCT    00100
 0294            CAF    ZERO            =3. DONE
 0295            TS     LGYRO
 0296            CAF    LGWAKE          WAKE A POSSIBLE SLEEPING JOB.
 0297  2         TC     JOBWAKE
 0308  8NORESET  TCF    IMUFINED        DO NOT RESET THE POWER SUPPLY
 0309    -2      CS     FOUR            SPECIAL ENTRY TO REGRESS LGYRO FOR X.
 0310  2         ADS    LGYRO
 0311   GSELECT  INDEX  Q               SELECT GYRO.
 0312            CAF    0               PACKED WORD CONTAINS GYRO SELECT BITS
 0313            TS     ITEMP4          AND INCREMENT TO LGYRO.
 0314            MASK   SEVEN
 0315            AD     BIT13
 0316            ADS    LGYRO
 0317            TS     EBANK
 0318            MASK   LOW8
 0319  2         TS     ITEMP1
 0320            CS     SEVEN
 0321            MASK   ITEMP4
 0322  2         TS     ITEMP4
 0323            EXTEND                 MOVE DP COMMAND TO RUPTREGS FOR TESTING.
 0324            INDEX  ITEMP1
 0325            DCA    1400
 0326  2         DXCH   RUPTREG1
 0327            CCS    RUPTREG1
 0328            TCF    MAJ+
 0329            TCF    +2
 0330  2         TCF    MAJ-
 0331            CCS    RUPTREG2
 0332            TCF    MIN+
 0333            TCF    STRTGYR2
 0334            TCF    MIN-
 0335  8         TCF    STRTGYR2
 0336   MIN+     AD     -GYROMIN        SMALL POSITIVE COMMAND. SEE IF AT LEAST
 0337            EXTEND                 1 GYRO PULSE.
 0338  2         BZMF   STRTGYR2
 0339   MAJ+     EXTEND                 DEFINITE POSITIVE OUTPUT.
 0340            DCA    GYROFRAC
 0341  2         DAS    RUPTREG1
 0342            CA     ITEMP4          SELECT POSITIVE TORQUING FOR THIS GYRO.
 0343            EXTEND
 0344  2         WOR    14
 0345            CAF    LOW7            LEAVE NUMBER OF POSSIBLE 8192 AUGMENTS
 0346            MASK   RUPTREG2        TO INITIAL COMMAND IN MAJOR PART OF LONG
 0347            XCH    RUPTREG2        TERM STORAGE AND TRUNCATED FRACTION
 0348   GMERGE   EXTEND                 IN MINOR PART. THE MAJOR PART WILL BE
 0349            MP     BIT8            COUNTED DOWN TO ZERO IN THE COURSE OF
 0350            TS     ITEMP2          PUTTING OUT THE ENTIRE COMMAND.
 0351            CA     RUPTREG1
 0352            EXTEND
 0353            MP     BIT9
 0354            TS     RUPTREG1
 0355            CA     L
 0356            EXTEND
 0357            MP     BIT14
 0358  2         ADS    ITEMP2          INITIAL COMMAND.
 0359            EXTEND                 SEE IF MORE THAN ONE PULSE TRAIN NEEDED
 0360            DCA    RUPTREG1        (MORE THAN 16383 PULSES).
 0361            AD     MINUS1
 0362            CCS    A
 0363            TCF    LONGGYRO
 0364  2-GYROMIN OCT    -177            MAY BE ADJUSTED TO SPECIFY MINIMUM CMD.
 0365  2         TCF    +4
 0366            CAF    BIT14
 0367            ADS    ITEMP2
 0368  2         CAF    ZERO
 0369    +4      INDEX  ITEMP1
 0370  8         DXCH   1400
 0371            CA     ITEMP2          ENTIRE COMMAND.
 0372   LASTSEG  TS     GYROCMD
 0373            EXTEND
 0374            MP     BIT10           WAITLIST DT
 0375            AD     THREE           TRUNCATION AND PHASE UNCERTAINTIES.
 0376            TC     WAITLIST
 03765           EBANK= COMMAND
 0377            2CADR  STRTGYRO
 0378   GYROEXIT CAF    BIT10           TURN ON GYRO ACTIVITY TO START TRAIN.
 0379            EXTEND
 0380            WOR    14
 0381  2         TCF    TASKOVER
 0382   LONGGYRO INDEX  ITEMP1
 0383            DXCH   1400            INITIAL COMMAND OUT PLUS N AUGMENTS OF
 0384            CAF    BIT14           8192. INITIAL COMMAND IS AT LEAST 8192.
 0385            AD     ITEMP2
 0386  2         TS     GYROCMD
 0387   AUG3     EXTEND                 GET WAITLIST DT TO TIME WHEN TRAIN IS
 0388            MP     BIT10           ALMOST OUT.
 0389            AD     NEG3
 0390            TC     WAITLIST
 03905           EBANK= COMMAND
 0391            2CADR  8192AUG
 0392  2         TCF    GYROEXIT
 0393  28192AUG  TC     CAGETEST
 0394            CA     LGYRO           ADD 8192 PULSES TO GYROCMD
 0395            TS     EBANK
 0396            MASK   LOW8
 0397  2         TS     ITEMP1
 0398            INDEX  ITEMP1          SEE IF THIS IS THE LAST AUG.
 0399            CCS    1400
 0400  2         TCF    AUG2            MORE TO COME.
 0401            CAF    BIT14
 0402            ADS    GYROCMD
 0403  2         TCF    LASTSEG +1
 0404   AUG2     INDEX  ITEMP1
 0405            TS     1400
 0406            CAF    BIT14
 0407            ADS    GYROCMD
 0408  8         TCF    AUG3            COMPUTE DT.
 0409   MIN-     AD     -GYROMIN        POSSIBLE NEGATIVE OUTPUT.
 0410            EXTEND
 0411  2         BZMF   STRTGYR2
 0412   MAJ-     EXTEND                 DEFINITE NEGATIVE OUTPUT.
 0413            DCS    GYROFRAC
 0414  2         DAS    RUPTREG1
 0415            CA     ITEMP4          SELECT NEGATIVE TORQUING FOR THIS GYRO.
 0416            AD     BIT9
 0417            EXTEND
 0418  2         WOR    14
 0419            CS     RUPTREG1        SET UP RUPTREGS TO FALL INTO GMERGE.
 0420            TS     RUPTREG1        ALL NUMBERS PUT INTO GYROCMD ARE
 0421            CS     RUPTREG2        POSITIVE - BIT9 OF CHAN 14 DETERMINES
 0422            MASK   LOW7            THE SIGN OF THE COMMAND.
 0423            COM
 0424            XCH    RUPTREG2
 0425            COM
 0426  2         TCF    GMERGE
 0427  2GDESELCT OCT    1700            TURN OFF SELECT AND ACTIVITY BITS.
 0428   GYROFRAC 2DEC   .215 B -21
P0429  2         IMU MODE SWITCHING ROUTINES COME HERE WHEN ACTION COMPLETE.
 0430   ENDIMU   EXTEND                 MODE IS BAD IF CAGE HAS OCCURED OR IF
 0431            READ   11              ISS WARNING IS ON.
 0432            MASK   BIT1
 0433            CCS    A
 0434  2         TCF    IMUBAD
 0435  2IMUGOOD  TCF    GOODEND         WITH C(A) = 0.
 0436   IMUBAD   CAF    ZERO
 0437  2         TCF    BADEND
 0438   CAGETEST CAF    BIT6            SUBROUTINE TO TERMINATE IMU MODE
 0439            MASK   IMODES30        SWITCH IF IMU HAS BEEN CAGED.
 0440            CCS    A
 0441            TCF    IMUBAD          DIRECTLY.
 0442  2         TC     Q               WITH C(A) = +0.
 0443   CAGETSTQ CS     IMODES30        SKIP IF IMU NOT BEING CAGED.
 0444            MASK   BIT6
 0445            CCS    A
 0446            INCR   Q
 0447  2         TC     Q
 0448   CAGETSTJ CS     IMODES30        IF DURING MODE SWITCH INITIALIZATION
 0449            MASK   BIT6            IT IS FOUND THAT THE IMU IS BEING CAGED,
 0450            CCS    A               SET IMUCADR TO -0 TO INDICATE OPERATION
 0451  2         TC     Q               COMPLETE BUT FAILED. RETURN IMMEDIATELY
 0452            CS     ZERO            TO SWRETURN.
 0453            TS     IMUCADR
 0454            TCF    MODEEXIT
P0455            GENERALIZED MODE SWITCHING TERMINATION. ENTER AT GOODEND FOR SU
 0456  9CCESSFUL COMPLETION OF AN I/O OPERATION
R0457  2OR AT BADEND FOR A N UNSUCCESSFUL ONE. C(A) OR ARRIVAL =0 FOR IMU, 1 FOR
 0458  9 AOT, 2 FOR RADARS, & 3 FOR ATT MANU.
 0459   BADEND   TS     RUPTREG2        DEVICE INDEX.
 0460            CS     ZERO            FOR FAILURE.
 0461  2         TCF    GOODEND +2
 0462   GOODEND  TS     RUPTREG2
 0463  2         CS     ONE             FOR SUCCESS.
 0464            TS     RUPTREG3
 0465            INDEX  RUPTREG2        SEE IF USING PROGRAM ASLEEP.
 0466            CCS    MODECADR
 0467            TCF    +2              YES - WAKE IT UP.
 0468  2         TCF    ENDMODE         IF 0, PROGRAM NOT IN YET.
 0469            CAF    ZERO            WAKE SLEEPING PROGRAM.
 0470            INDEX  RUPTREG2
 0471            XCH    MODECADR
 0472  2         TC     JOBWAKE
 0473            CS     RUPTREG3        ADVANCE LOC IF SUCCESSFUL.
 0474            INDEX  LOCCTR
 0475  2         ADS    LOC
 0476  2         TCF    TASKOVER
 0477   ENDMODE  CA     RUPTREG3        -0 INDICATES OPERATION COMPLETE BUT
 0478            INDEX  RUPTREG2        UNSUCCESSFUL - -1 INDICATES COMPLETE AND
 0479            TS     MODECADR        SUCCESSFUL.
 0480            TCF    TASKOVER
P0481  2         GENERAL STALLING ROUTINE. USING PROGRAMS COME HERE TO WAIT FOR
 0482  9I/O COMPLETION.
 04823  ATTSTALL CAF    THREE           ATTITUDE MANEUVER STALL
 04826 2         TCF    STALL
 0483   RADSTALL CAF    TWO             RR AND LR STALL.
 0484  2         TCF    STALL
 0485   AOTSTALL CAF    ONE             AOT.
 0486  2         TC     STALL
 0487  2OPTSTALL EQUALS AOTSTALL
 0489  2IMUSTALL CAF    ZERO            IMU.
 0490   STALL    INHINT
 0491            TS     RUPTREG2        SAVE DEVICE INDEX.
 0492            INDEX  A               SEE IF OPERATION COMPLETE.
 0493            CCS    MODECADR
 0494            TCF    MODABORT        ALLOWABLE STATES ARE +0, -1, AND -0.
 0495            TCF    MODESLP         OPERATION INCOMPLETE.
 0496  2         TCF    MODEGOOD        COMPLETE AND GOOD IF = -1.
 0497   MG2      INDEX  RUPTREG2        COMPLETE AND FAILED IF -0. RESET TO +0.
 0498            TS     MODECADR        RETURN TO CALLER.
 0499  2         TCF    MODEEXIT
 0500   MODEGOOD CCS    A               MAKE SURE INITIAL STATE -1.
 0501  2         TCF    MODABORT
 0502            INCR   BUF2            IF SO, INCREMENT RETURN ADDRESS AND
 0503  2         TCF    MG2             RETURN IMMEDIATELY, SETTING CADR = +0.
 0504   MODESLP  TC     MAKECADR        CALL FROM SWITCHABLE FIXED ONLY.
 0505            INDEX  RUPTREG2
 0506            TS     MODECADR
 0507  2         TCF    JOBSLEEP
 0508   MODABORT TC     ABORT           TWO PROGRAMS USING SAME DEVICE.
 0509            OCT    1210
P0510  2         CONSTANTS FOR MODE SWITCHING ROUTINES
 0511   BITS3&4  OCT    14
 0512   BITS4&6  OCT    00050
 0513   BITS4-6  OCT    00070
 0514   IMUSEFLG EQUALS BIT8            INTERPRETER SWITCH 7.
 0515  213,14,15 OCT    70000
 0516   -COMMAX  DEC    -191
 0517   -COMMAX- DEC    -192
 0518   600MS    DEC    60
 0519   3SECSM   EQUALS 3SECS
L      2AOTMARK
 0001            BANK   13
 0002            EBANK= AOTAZ
 0003   AOTMARK  INHINT
 0004            TS     RUPTREG2        BIT14=INFLIGHT  0=NONFLIGHT
 0005            CCS    MARKSTAT        ARE MARKS BUTTONS IN USE
 0006            TC     +2              MARKS BUTTONS NOT AVAILABLE
 0007            TC     MKVAC           FIND A VAC AREA
 0008            TC     ALARM
 0009            OCT    00105
 0010  2         TC     ENDOFJOB
 0011   MKVAC    CCS    VAC1USE
 0012            TC     MKVACFND
 0013            CCS    VAC2USE
 0014            TC     MKVACFND
 0015            CCS    VAC3USE
 0016            TC     MKVACFND
 0017            CCS    VAC4USE
 0018            TC     MKVACFND
 0019            CCS    VAC5USE
 0020            TC     MKVACFND
 0021            TC     ABORT           VAC AREAS OCCUPIED
 0022  2         OCT    01207
 0023   MKVACFND AD     TWO
 0024            TS     MARKSTAT
 0025            CAF    ZERO
 0026            TS     XYMARK          INITIALIZE MARK ID REGISTER
 0027            INDEX  MARKSTAT
 0028  2         TS     0 -1            SHOW VAC OCCUPIED
 0029            CA     RUPTREG2
 0030  2         ADS    MARKSTAT
 0031            CAF    PRIO32
 0032            TC     NOVAC
 00325           EBANK= AOTAZ
 0033            2CADR  GETMKS
 0034  2         TC     MODEEXIT
 0035   MKRELEAS CAF    ZERO
 0036            XCH    MARKSTAT        SET MARKSTAT  ZERO
 0037            CCS    A
 0038            INDEX  A
 0039            TS     0               SHOW VAC AREA AVAILABLE
 0040  8         TC     SWRETURN
 0041   GETMKS   CAF    ZERO
 0042            TS     XYMARK
 0043            CAF    BIT14           FIND IF IN-FLIGHT OR NON-FLIGHT
 0044            MASK   MARKSTAT
 0045            CCS    A
 0046            TC     MKVB53          IN-FLIGHT
 0047            CS     BIT11           NON-FLIGHT, SET Y MARK =1
 0048            MASK   MARKSTAT
 0049            AD     BIT11
 0050            TS     MARKSTAT
 0051            CAF    VB51            REQUEST X MARK
 0052            TC     +2
 0053   MKVB53   CAF    VB53            REQUEST X AND Y MARKS
 0054            TC     NVSBWAIT
 0055            TC     FLASHON
 0056            TC     ENDIDLE
 0057            TC     GETMKS +1
 0058  2         TC     GETMKS +1
 0059   MKCHEK   CAF    BIT10           WAS X MARK MADE
 0060            MASK   MARKSTAT
 0061            CCS    A
 0062            TC     +2              X MARK MADE-LOOK AT Y MARK
 0063            TC     MKALARM
 0064            CAF    BIT11
 0065            MASK   MARKSTAT
 0066            CCS    A
 0067  2         TC     GETDET          BOTH MARKS MADE-SHOW ACCEPT-GET DETENT
 0068   MKALARM  TC     ALARM           IF EITHER MARK IS MISSING AFTER ENTER
 0069            OCT    111
 0070            CS     PRIO17          SET BITS 10,11,12,13 TO ZERO IN MARKSTAT
 0071            MASK   MARKSTAT
 0072            TS     MARKSTAT
 0073  2         TC     GETMKS          GETMKS AGAIN
 0074   GETDET   CS     BIT12
 0075            MASK   MARKSTAT
 0076            AD     BIT12           SET BIT12=1 TO SHOW MARKS ACCEPTED
 0077            TS     MARKSTAT
 0078   DETVB21  CAF    V21N43E
 0079            TC     NVSBWAIT
 0080            TC     ENDIDLE
 0081            TC     DETVB21
 0082  2         TC     DETVB21
 0083            CS     OCT3
 0084            MASK   DETCODE
 0085            CCS    A
 0086            TC     DETVB21         BAD CODE, REQUEST AGAIN
 0087            TC     +3              LOOKS GOOD BUT COULD BE ZERO
 0088            TC     +1
 0089            TC     DETVB21
 0090            CAF    OCT3
 0091            MASK   DETCODE         SEE IF ZERO
 0092            CCS    A
 0093            TC     +2              GOOD CODE-STORE ANGLES
 0094  2         TC     DETVB21         ZERO-BAD CODE-REQUEST AGAIN
 0095            CAF    LOW9
 0096            MASK   MARKSTAT
 0097            TS     BASVAC          STORE VAC AREA ADDRESS
 0098            INDEX  DETCODE
 0099            CA     AOTEL -1
 0100            INDEX  BASVAC
 0101            TS     9D              STORE ELV ANGLE IN VAC +9
 0102            INDEX  DETCODE
 0103            CA     AOTAZ -1
 0104            INDEX  BASVAC
 0105  2         TS     8D              STORE AZIMUTH IN VAC +8
 01051           CA     AOTAZ +1        COMPENSATION FOR THE APPARENT TILT OF
 01052           EXTEND                 AOT FIELD OF VIEW IN THE LEFT AND RIGHT
 01053           INDEX  DETCODE         DETENTS IS STORED IN LOC 10D OF VAC
 01054           MSU    AOTAZ -1        IN ONES COMPLEMENT
 01055           INDEX  BASVAC
 01056 2         TS     10D             SINGLE PREC. TILT COMPENSATION  ANGLE
 0106            CAF    BIT14           IN-FLIGHT OR NON-FLIGHT
 0107            MASK   MARKSTAT
 0108            CCS    A
 0109            TC     MKOUT           IN-FLIGHT, NO MORE DATA NEEDED
 0110  2         TC     ROTVB24         NON-FLIGHT, GET ROTATION ANGLES
 0111   ROTVB24  CAF    V24N42E         REQUEST RETICLE ROTATION ANGLES
 0112            TC     NVSBWAIT
 0113            TC     ENDIDLE
 0114            TC     ROTVB24
 0115  2         TC     ROTVB24
 0116            CAF    LOW9
 0117            MASK   MARKSTAT
 0118            TS     BASVAC
 0119            CA     DSPTEM2         YROT
 0120            INDEX  BASVAC
 0121            TS     3               STORE Y RETICLE ROT ANGLE IN VAC +3
 0122            CA     DSPTEM2 +1      SROT
 0123            INDEX  BASVAC
 0124  2         TS     5               STORE SPIRAL ROT ANGLE VAC +5
 0125   MKOUT    CAF    LOW9
 0126            MASK   MARKSTAT
 0127  2         TS     MARKSTAT        SET HI5 ZERO
 0128            INHINT
 0129            CAF    ONE
 0130            TC     WAITLIST
 01305           EBANK= AOTAZ
 0131            2CADR  ENDMARKS
 0132  2         TC     ENDOFJOB
 0133   ENDMARKS CAF    ONE
 0134  8         TCF    GOODEND
 0135   MARKRUPT TS     BANKRUPT
 0136            CA     CDUY            STORE CDU DATA AND TIME IN TEMP
 0137            TS     ITEMP3
 0138            CA     CDUZ
 0139            TS     ITEMP4
 0140            CA     CDUX
 0141            TS     ITEMP5
 0142            EXTEND
 0143            DCA    TIME2
 0144            DXCH   ITEMP1
 0145            XCH    Q
 0146  2         TS     QRUPT
 0147            CAF    OCT34           SEE IF X OR Y MARK OR MKREJECT
 0148            EXTEND
 0149            RAND   NAVKEYIN
 0150            CCS    A
 0151            TC     +2              ITS A LIVE ONE-CHECK FOR ACCEPT
 0152  2         TC     SOMEKEY         SOME OTHER KEY
 0153            CAF    BIT12           HAVE MARKS BEEN ACCEPTED
 0154            MASK   MARKSTAT
 0155            CCS    A
 0156  2         TC     RESUME          MARKS MADE AND ACCEPTED - DO NOTHING
 0157            CCS    MARKSTAT        ARE MARKS BEING ACCEPTED
 0158            TC     FINDKEY
 0159            TC     ALARM           MARKS NOT BEING ACCEPTED
 0160            OCT    112
 0161  2         TC     RESUME
 0162   FINDKEY  CAF    BIT5
 0163            EXTEND
 0164            RAND   NAVKEYIN        CHANNEL 16
 0165            CCS    A
 0166            TC     MKREJ           ITS A MARK REJECT
 0167            CAF    BIT4
 0168            EXTEND
 0169            RAND   NAVKEYIN
 0170            CCS    A
 0171            TC     YMKRUPT         ITS A Y MARK
 0172            CAF    BIT3
 0173            EXTEND
 0174            RAND   NAVKEYIN
 0175            CCS    A
 0176            TC     XMKRUPT         ITS AN X MARK
 0177   SOMEKEY  CAF    OCT140          NOT MARK OR MARK REJECT
 0178            EXTEND
 0179            RAND   NAVKEYIN
 0180            EXTEND
 0181  2         BZF    +3              IF NO INBITS.
 0182            TC     POSTJUMP        IF DESCENT BITS.
 0183  2         CADR   DESCBITS
 0184    +3      TC     ALARM
 0185            OCT    113
 0186  2         TC     RESUME
 0187   XMKRUPT  CAF    ZERO
 0188            TS     RUPTREG1        SET X MARK STORE INDEX TO ZERO
 0189            CAF    BIT10
 0190            TC     +4
 0191   YMKRUPT  CAF    ONE
 0192            TS     RUPTREG1        SET Y MARK STORE INDEX TO ONE
 0193            CAF    BIT11
 0194  2         TS     XYMARK          SET MARK ID
 0195            MASK   MARKSTAT
 0196            CCS    A
 0197            TC     +2              MARK MADE BUT NOT DESIRED
 0198            TC     VACSTOR         MARK DESIRED AND MADE-STORE CDUS
 0199            TC     ALARM
 0200            OCT    114
 0201  2         TC     REMARK          RENEW REQUEST
 0202   VACSTOR  CAF    LOW9            STORE TIME AND CDUS IN VAC AREA
 0203            MASK   MARKSTAT
 0204            TS     RUPTREG2        PICK UP VAC ADR
 0205            EXTEND
 0206            DCA    ITEMP1
 0207            INDEX  RUPTREG2
 0208            DXCH   0               STORE TIME1 AND TIME2 IN VAC
 0209            CA     RUPTREG2
 0210            ADS    RUPTREG1        INCREMENT CDU STORE ADR BY MARK INDEX
 0211            CA     ITEMP3          PICK UP CDUY
 0212            INDEX  RUPTREG1
 0213            TS     2
 0214            CA     ITEMP4          PICK UP CDUZ
 0215            INDEX  RUPTREG1
 0216            TS     4
 0217            CA     ITEMP5          PICK UP CDUX
 0218            INDEX  RUPTREG1
 0219  2         TS     6
 0220            CAF    BIT13
 0221            AD     XYMARK
 0222            COM
 0223            MASK   MARKSTAT
 0224            AD     XYMARK          SET MARK MADE BIT IN MARKSTAT=1
 0225            TS     MARKSTAT        AND SET BIT13 ZERO TO SHOW MARK
 0226  8         TC     REMARK          MADE BEFORE A REJECT - GO REMARK
 0227   REMARK   CAF    ZERO
 0228            TS     MKDEX           MKDEX=0
 0229            CAF    BIT11           LOOK A Y MARK
 0230            MASK   MARKSTAT
 0231            CCS    A
 0232            TC     +3              Y MARK MADE
 0233            CAF    BIT8            Y MARK REQUIRED
 0234  2         TS     MKDEX
 0235            CAF    BIT10           LOOK AT X MARK
 0236            MASK   MARKSTAT
 0237            CCS    A
 0238            TC     MKJOB
 0239            CAF    BIT7            X MARK REQUIRED
 0240  2         ADS    MKDEX
 0241   MKJOB    CAF    PRIO32
 0242            TC     NOVAC           ENTER JOB TO PASTE VERB
 02425           EBANK= AOTAZ
 0243            2CADR  CHANGVB
 0244            CA     RUPTREG4
 0245            INDEX  LOCCTR
 0246            TS     MPAC
 0247  2         TC     RESUME
 0248   CHANGVB  CCS    MPAC
 0249            TC     SHOWVB
 0250            CAF    VB21N30E
 0251            TC     SHOWVB +2
 0252   SHOWVB   CAF    VB50
 0253            AD     MPAC
 0254            TS     NVTEMP
 0255            CA     CADRSTOR        NVSUB CLOBBERS THIS-USE LOC AS TEMP
 0256            TS     LOC
 0257            TC     NVSUB +3
 0258   VB51     OCT    5100
 0259            CA     LOC             RESTORE CADRSTOR
 0260            TS     CADRSTOR
 0261  2         TC     ENDOFJOB
 0262   MKREJ    CAF    BIT14           IN-FLIGHT OR NON-FLIGHT
 0263            MASK   MARKSTAT
 0264            CCS    A
 0265            TC     REJIN           IN-FLIGHT
 0266            CAF    BIT10           NON-FLIGHT, SEE IF X MARK MADE
 0267            MASK   MARKSTAT
 0268            CCS    A
 0269            TC     REJECT2         XMARK MADE-REJECT IT
 0270  2         TC     REJALARM        X MARK NOT MADE-ALARM-NO MARKS TO REJ
 0271   REJIN    CAF    PRIO3           WERE IN-FLIGHT MARKS MADE
 0272            MASK   MARKSTAT
 0273            CCS    A
 0274            TC     REJECT          MARKS MADE-REJECT ONE
 0275   REJALARM TC     ALARM           NO MARKS MADE TO REJECT-GET MARKS
 0276            OCT    115
 0277            TC     REJECT2
 0278   REJECT   CS     BIT13           SHOW MKREJECT AND SEE MARK MADE
 0279            MASK   MARKSTAT        SINCE LAST REJECT
 0280            AD     BIT13
 0281            XCH    MARKSTAT
 0282            MASK   BIT13
 0283            CCS    A
 0284            TC     REJECT2         ANOTHER REJECT
 0285            CS     XYMARK          MARK MADE SINCE LAST REJECT-REJECT IT
 0286            MASK   MARKSTAT
 0287            TS     MARKSTAT
 0288  2         TC     REMARK          GO REQUEST MARKS
 0289   REJECT2  CS     PRIO3           NO MARKS SINCE LAST REJECT SO SET
 0290            MASK   MARKSTAT        MARKSTAT TO WANT X AND Y MARKS
 0291            XCH    MARKSTAT
 0292            MASK   BIT14           IN-FLIGHT OR NON-FLIGHT
 0293            CCS    A
 0294            TC     REMARK          IN-FLIGHT, GO GET MARKS
 0295            CAF    BIT11           NON-FLIGHT, STILL REQUEST X MARK ONLY
 0296            ADS    MARKSTAT
 0297  2         TC     REMARK          GO GET X MARK
 0298   OCT3     EQUALS THREE
 0299   OCT34    OCT    00034
 0300   OCT140   OCT    00140
 0301   V21N43E  OCT    2143
 0302   V24N42E  OCT    2442
 0303   VB53     OCT    5300
 0304   MKDEX    EQUALS RUPTREG4
 0305   DETCODE  EQUALS XYMARK
 0306   BASVAC   EQUALS Q
 0307   VB21N30E OCT    2130
 0308   VB50     OCT    5000
L0001  2RADAR LEAD-IN ROUTINES
 0001            BLOCK  02
 0002  2         EBANK= RRRET
R0003            THE FOLLOWING SUBROUTINE RETURNS TO CALLER + 2 IF THE ABSOLUTE
 0004  9VALUE OF C(A) IS GREATER THAN THE
R0005  2NEGATIVE OF THE NUMBER AT CALLER +1. OTHERWISE IT RETURNS TO CALLER +3.
 0006  9MAY BE CALLED IN RUPT OR UNDER EXEC.
 0007   MAGSUB   EXTEND
 0008            BZMF   +2
 0009            TCF    +2
 0010  2         COM
 0011            INDEX  Q
 0012            AD     0
 0013            EXTEND
 0014            BZMF   Q+2             ABS(A) LEQ CONSTANT
 0015            TCF    Q+1             ABS(A) G CONSTANT
P0019            THE FOLLOWING SUBROUTINE CHECKS RR GIMBAL ANGLES TO SEE IF THEY
 0020  9 ARE IN THE LIMITS OF THE CURRENT MODE.
R0021  2CALLING SEQUENCE IS AS FOLLOWS:
A0022            TC     RRLIMCHK        (WITH INTERRUPT INHIBITED).
A0023  2         ADRES  T,S             (IN UNSWITCHED E OR CURRENT EBANK).
R0024  2         RETURN IS TO CALLER +2 IF NOT IN LIMITS AND TO CALLER +3 IF SO.
 0025   RRLIMCHK INDEX  Q               READ GIMBAL ANGLES INTO ITEMP STORAGE.
 0026            CAF    0
 0027            INCR   Q
 0028            EXTEND
 0029            INDEX  A
 0030            DCA    0
 0031            DXCH   ITEMP1
 0032  2         LXCH   Q               L(CALLER +2) TO L.
 0033            CAF    BIT12           SEE WHICH MODE RR IS IN.
 0034            MASK   RADMODES
 0035            CCS    A
 0036  2         TCF    MODE2CHK
 0037            CA     ITEMP1          MODE 1 IS DEFINED AS
 0038            TC     MAGSUB              1. ABS(T) L 55 DEGS.
 0039            DEC    -.30555             2. ABS(S + 5.5 DEGS) L 64.5 DEGS
 0040  2         TC     L                       (SHAFT LIMITS AT +59, -70 DEGS)
 0041            CAF    5.5DEGS
 0042            AD     ITEMP2          S
 0043            TC     MAGSUB
 0044            DEC    -.35833         64.5 DEGS
 0045            TC     L
 0046  2         TC     RRLIMOK         IN LIMITS.
 0047   MODE2CHK CAF    82DEGS          MODE 2 IS DEFINED AS
 0048            AD     ITEMP2              1. ABS(T) G 125 DEGS.
 0049            TC     MAGSUB              2. ABS(S + 82 DEGS) L 57 DEGS
 0050            DEC    -.31667                 (SHAFT LIMITS AT -25, -139 DEGS)
 0051  2         TC     L
 0052            CA     ITEMP1
 0053            TC     MAGSUB
 0054  2         DEC    -.69444         125 DEGS
 0055   RRLIMOK  INDEX  L
 0056  2         TC     L               ( = TC 1)
 00565  5.5DEGS  DEC    .03056
 0057   5DEGS    DEC    .02777          SCALED IN HALF-REVOLUTIONS.
 0058   82DEGS   DEC    .45556
P0059  2         THE FOLLOWING ROUTINE UPDATES THE TRACKER FAIL LAMP ON THE DSKY
 0060  9. IF EITHER:
R0061            1. N SAMPLES OF RR DATA COULD NOT BE OBTAINED FROM 2N TRIES
R0062            2. N SAMPLES OF LR DATA COULD NOT BE TAKEN IN 2N TRIES WITH EIT
 0063  9HER THE ALT OR VEL INFORMATION.
R0064  2         3. RR CDU FAILED WITH RR IN AUTO MODE AND RR CDU NOT BEING ZERO
 0065  9ED.
 0066   SETTRKF  CAF    BIT1            NO ACTION IF DURING LAMP TEST.
 0067            MASK   IMODES33
 0068            CCS    A
 0069  2         TC     Q
 0070            CAF    13,7,2          SEE IF CDU FAILED.
 0071            MASK   RADMODES
 0072            EXTEND
 0073  2         BZF    TRKFLON         CONDITION 3 ABOVE.
 0074            CS     RADMODES        SEE IF LR FAILED.
 0075            MASK   8,5
 0076            EXTEND
 0077  2         BZF    TRKFLON         CONDITION 2 ABOVE.
 0078            CAF    BIT4            SEE IF RR DATA FAILED.
 0079            MASK   RADMODES
 0080            CCS    A
 0081   TRKFLON  CAF    BIT8
 0082            AD     DSPTAB +11D     HALF ADD DESIRED AND PRESENT STATES.
 0083            MASK   BIT8
 0084            EXTEND
 0085  2         BZF    TCQ             NO CHANGE.
 0086            TS     L               INVERT BIT 8 AND SET BIT 15.
 0087            CA     DSPTAB +11D     CANT USE LXCH DSPTAB +11D (RESTART PROB)
 0088            EXTEND
 0089            RXOR   L
 0090            MASK   POSMAX
 0091            AD     BIT15
 0092            TS     DSPTAB +11D
 0093  2         TC     Q
 0094   13,7,2   OCT    10102
 0095  28,5      OCT    00220
 0096   ENDRMODF EQUALS
P0097  2         TURNON SEQUENCE TO ZERO THE CDUS AND DETERMINE THE RR MODE.
 0098  2         BANK   10
 0099   RRTURNON TC     RRZEROSB
 0100            TC     FIXDELAY        WAIT 1 SEC BEFORE REMOVING TURN ON FLAG
 0101            DEC    100             SO A MONITOR REPOSITION WONT ALARM.
 0102            CS     BIT1
 0103            MASK   RADMODES
 0104            TS     RADMODES
 0105            CS     STATE           SEE IF SOMEONE IS WAITING TO USE THE RR.
 0106            MASK   RRUSEFLG
 0107            CCS    A
 0108  2         TCF    TASKOVER
 0109            TCF    ENDRADAR        CHECK RR CDU FAIL BEFORE EXIT.
P0110  2         CLOSED SUBROUTINE TO ZERO THE RR CDUS.
 0111   RRZEROSB EXTEND
 0112            QXCH   RRRET
 0113            CAF    BIT1            BIT 13 OF RADMODES MUST BE SET BEFORE
 0114            EXTEND                 COMING HERE.
 0115            WOR    12
 0116            TC     FIXDELAY
 0117  2         DEC    2
 0118            CAF    ZERO
 0119            TS     OPTY
 0120            TS     OPTX
 0121            CS     ONE             REMOVE ZEROING BIT.
 0122            EXTEND
 0123            WAND   12
 0124            TC     FIXDELAY
 0125  2         DEC    400
 0126            CS     BIT13           REMOVE ZEROING IN PROCESS BIT.
 0127            MASK   RADMODES
 0128  2         TS     RADMODES
 0129            CA     OPTY
 0130            TC     MAGSUB
 0131            DEC    -.5
 0132  2         TCF    +3              IF MODE 2.
 0133            CAF    ZERO
 0134            TCF    +2
 0135            CAF    BIT12
 0136            XCH    RADMODES
 0137            MASK   -BIT12
 0138  2         ADS    RADMODES
 0139  2         TC     SETTRKF         TRACKER LAMP MIGHT GO ON NOW.
 0140  2         TC     RRRET           DONE.
 0141   -BIT12   EQUALS -1/8            IN SPROOT
P0142  2         SEQUENCE OF TASKS TO DRIVE THE RR TO A SAFE POSITION.
 0143  2DORREPOS TC     SETRRECR        SET UP RR CDU ERROR COUNTERS.
 0144            CAF    BIT1            DO AN ALARM UNLESS RR JUST TURNED ON.
 0145            MASK   RADMODES
 0146            CCS    A
 0147  2         TCF    +3
 0148            TC     ALARM
 0149            OCT    501
 0150            TC     FIXDELAY
 0151  2         DEC    2
 0152            CAF    BIT12           MANEUVER TRUNNION ANGLE TO NOMINAL POS.
 0153            MASK   RADMODES
 0154            CCS    A
 0155            CAF    BIT15           0 FOR MODE 1 AND 180 FOR MODE 2.
 0156  2         TC     RRTONLY
 0157            CAF    BIT12           NOW PUT SHAFT IN RIGHT POSITION.
 0158            MASK   RADMODES
 0159            CCS    A
 0160            CS     HALF            -90 FOR MODE 2.
 0161  2         TC     RRSONLY
 0162   REPOSRPT CS     BIT11           RETURNS HERE FROM RR1AXIS IF REMODE
A0163                                   REQUESTED DURING REPOSITION.
 0164            MASK   RADMODES        REMOVE REPOSITION BIT.
 0165            TS     RADMODES
 0166            MASK   BIT10           SEE IF SOMEONE IS WAITING TO DESIGNATE.
 0167            CCS    A
 0168            TCF    BEGDES
 0169            CS     BIT2            IF NO FURTHER ANTENNA CONTROL REQUIRED,
 0170            EXTEND                 REMOVE ERROR COUNTER ENABLE.
 0171            WAND   12
 0172  2         TCF    TASKOVER
 0173   SETRRECR CAF    BIT2            SET UP RR ERROR COUNTERS.
 0174            EXTEND
 0175  2         WOR    12
 0176            CAF    ZERO
 0177            TS     LASTYCMD
 0178            TS     LASTXCMD
 0179            TC     Q
P0180            GENERAL REMODING SUBROUTINE. DRIVES TRUNION TO 0 (180), THEN DR
 0181  9IVES SHAFT TO -45, AND FINALLY DRIVES
R0182   TRUNNION TO -130 (-50) BEFORE INITIATING 2-AXIS CONTROL. ALL RE-MODING I
 0183  9S DONE WITH SINGLE AXIS ROTATIONS (SEE
R01835 2RR1AXIS).
 0184   REMODE   CAF    BIT12           DRIVE TRUNNION TO 0 (180).
 0185            MASK   RADMODES        (ERROR COUNTER ALREADY ENABLED)
 0186            CCS    A
 0187            CAF    BIT15
 0188  2         TC     RRTONLY
 0189            CAF    -45DEGSR
 0190  2         TC     RRSONLY
 0191            CS     RADMODES
 0192            MASK   BIT12
 0193            CCS    A
 0194            CAF    -80DEGSR        GO TO T = -130 (-50).
 0195            AD     -50DEGSR
 0196  2         TC     RRTONLY
 0197  2         TC     RMODINV
 0198            CS     BIT14           END OF REMODE.
 0199            MASK   RADMODES
 0200  2         TS     RADMODES
 0201  2         TC     STDESIG         BEGIN 2-AXIS CONTROL.
 0202   -45DEGSR OCT    70000
 02025  -50DEGSR DEC    -.27778
 0203  2-80DEGSR DEC    -.44444
 0204   RMODINV  LXCH   RADMODES        INVERT THE MODE STATUS.
 0205            CAF    BIT12
 0206            EXTEND
 0207            RXOR   L
 0208            TS     RADMODES
 0209            TC     Q
P0210  2         SUBROUTINES FOR DOING SINGLE AXIS RR MANEUVERS FOR REMODE AND R
 0211  9EPOSITION. DRIVES TO WITHIN 1 DEGREE.
 0212   RRTONLY  TS     RDES            DESIRED TRUNION ANGLE.
 0213            CAF    ZERO
 0214  2         TCF    RR1AXIS
 0215   RRSONLY  TS     RDES            SHAFT COMMANDS ARE UNRESOLVED SINCE THIS
 0216  2         CAF    ONE             ROUTINE ENTERED ONLY WHEN T = 0 OR 180.
 0217   RR1AXIS  TS     RRINDEX
 0218            EXTEND
 0219            QXCH   RRRET
 0220  2         TCF    RR1AX2
 0221   NXTRR1AX TC     FIXDELAY
 0222  2         DEC    50              2 SAMPLES PER SECOND.
 0223   RR1AX2   CS     RADMODES        IF SOMEONE REQUESTES AS DESIGNATE WHICH
 0224            MASK   PRIO22          REQUIRES A REMODE AND A REPOSITION IS IN
 0225            EXTEND                 PROGRESS, INTERRUPT IT AND START THE
 0226  2         BZF    REPOSRPT        REMODE IMMEDIATELY.
 0227            CA     RDES
 0228            EXTEND
 0229            INDEX  RRINDEX
 0230            MSU    OPTY
 0231            TS     Q               SAVE ERROR SIGNAL.
 0232            EXTEND
 0233            MP     RRSPGAIN        TRIES TO NULL .7 OF ERROR OVER NEXT .5
 0234            TS     L
 0235            CA     Q               SEE IF WITHIN 1 DEGREE.
 0236            TC     MAGSUB
 0237  2         DEC    -.00555         SCALED IN HALF-REVS.
 0238            TCF    +2              NO.
 0239  2         TC     RRRET           RETURN TO CALLER.
 0240            CCS    RRINDEX         COMMAND FOR OTHER AXIS IS ZERO.
 0241            TCF    +2              SETTING A TO 0.
 0242            XCH    L
 0243  2         DXCH   TANG
 0244  2         TC     RROUT
 0245  2         TCF    NXTRR1AX        COME BACK IN .5 SECONDS.
 0246   RRSPGAIN DEC    .59062          NULL .7 ERROR IN .5 SEC.
P0247            THE FOLLOWING ROUTINE RECEIVES RR GYRO COMMANDS IN TANG,+1 IN E
 0248  9RROR COUNTER SCALING. RROUT LIMITS THEM
R0249  2AND GENERATES COMMANDS TO THE CDU TO ADJUST THE ERROR COUNTERS TO THE DE
 0250  9SIRED VALUES. RUPT MUST BE INHIBITED.
 0251   RROUT    LXCH   Q               SAVE RETURN.
 0252            CAF    ONE             LOOP TWICE.
 0253   RROUT2   TS     ITEMP2
 0254            INDEX  A
 0255            CA     TANG
 0256  2         TS     ITEMP1          SAVE SIGN OF COMMAND FOR LIMITING.
 0257            TC     MAGSUB          SEE IF WITHIN LMITS.
 0258   -RRLIMIT DEC    -384
 0259  2         TCF    RROUTLIM        LIMIT COMMAND TO MAG OF 384.
 0260   SETRRCTR CA     ITEMP1          COUNT OUT DIFFERENCE BETWEEN DESIRED
 0261            INDEX  ITEMP2          STATE AND PRESENT STATE AS RECORDED IN
 0262            XCH    LASTYCMD        LASTYCMD AND LASTXCMD
 0263            COM
 0264            AD     ITEMP1
 02645           AD     NEG0
 0265            INDEX  ITEMP2
 0266  2         TS     OPTYCMD
 0267            CCS    ITEMP2          PROCESS BOTH INPUTS.
 0268  2         TCF    RROUT2
 0269            CAF    PRIO6           ENABLE COUNTERS.
 0270            EXTEND
 0271  2         WOR    14
 0272  2         TC     L               RETURN.
 0273   RROUTLIM CCS    ITEMP1          LIMIT COMMAND TO ABS VAL OF 384.
 0274            CS     -RRLIMIT
 0275            TCF    +2
 0276            CA     -RRLIMIT
 0277            TS     ITEMP1
 0278            TCF    SETRRCTR +1
P0279  2         ROUTINE TO ZERO THE RR CDUS AND DETERMINE THE ANTENNA MODE.
 0280   RRZERO   INHINT
 0281            CS     RRUSEFLG        SET FLAG TO SHOW SOMEONE USING THE RR.
 0282            MASK   STATE
 0283            AD     RRUSEFLG
 0284  2         TS     STATE
 0285            CAF    BIT1            SEE IF RR COMING UP. IF SO, TURNON
 0286            MASK   RADMODES        PROGRAM WILL DO THE WORK.
 0287            CCS    A
 0288  2         TCF    ROADBACK
 0289            CAF    BIT11           SEE IF MONITOR REPOSITION IN PROGRESS.
 0290            MASK   RADMODES        IF SO, DONT RE-ZERO CDUS.
 0291            CCS    A
 0292  2         TCF    RADNOOP         (IMMEDIATE TASK TO RGOODEND).
 0293            CS     BIT13           SET FLAG TO SHOW ZEROING IN PROGRESS.
 0294            MASK   RADMODES
 0295            AD     BIT13
 0296  2         TS     RADMODES
 0297            CAF    ONE
 0298            TC     WAITLIST
 02985           EBANK= RRRET
 0299            2CADR  RRZ2
 0300            CS     RADMODES        SEE IF IN AUTO MODE.
 0301            MASK   BIT2
 0302            CCS    A
 0303            TCF    ROADBACK
 0304            TC     ALARM           AUTO DISCRETE NOT PRESENT - TRYING
 0305            OCT    510
 0306   ROADBACK RELINT
 0307  2         TCF    SWRETURN
 0308   RRZ2     TC     RRZEROSB        COMMON TO TURNON AND RRZERO.
 0309  2         TCF    ENDRADAR
 0310   RRUSEFLG EQUALS BIT7
 0311   LOKONFLG EQUALS BIT5
P0312            STABLE-MEMBER RR DESIGNATE ROUTINE. DESIGNATE TO A SM LOS VECTO
 0313  9R (HALF-UNIT) IN RRTARGET. REMODES IF
R0314  2REQUIRED. RETURNS TO CALLER IF MANEUVER REQUIRED FOR DES AND SKIPS IF IT
 0315  9 CAN BE DONE IN PRESENT VEH ATTITUDE.
 0316   RRDESSM  STQ    CLEAR
 0317                   DESRET
 0318                   RRNBSW
 0319            RTB    SSP             READ CDUS FOR SMNB.
 0320                   READCDUS
 0321                   S1
 0322                   20D
 0323            STOVL  20D
 0324                   RRTARGET
 0325            STCALL 32D
 0326  2                SMNB
 0327            CALL                   GET RR GIMBAL ANGLES IN PRESENT AND
 0328                   RRANGLES        ALTERNATE MODE.
 0329  2         EXIT
 0330            INHINT
 0331            TC     RRLIMCHK
 0332            ADRES  MODEA           CONFIGURATION FOR CURRENT MODE.
 0333  2         TCF    TRYSWS
 0334   OKDESSM  INCR   DESRET          INCREMENT SAYS NO VEHICLE MANEUVER REQ.
P0335            AT THIS POINT WE ARE READY TO BEGIN DESIGNATION. THE TARGET IS
 0336  9STORED AS A HALF-UNIT VECTOR IN RRTARGET
R0337   WITH RRNBSW SET IF IT IS REFERRED TO NAV BASE AXES. LOKONSW IS SET IF LO
 0338  9CKON IS DESIRED. BIT14 OF RADMODES IS
R0339   SET IF A REMODE IS REQUIRED. AT THIS TIME, THE ANTENNA MAY BE IN A MONIT
 0340  9OR REPOSITION OPERATION. IN THIS
R0341   CASE, IF A REMODE IS REQUIRED IT MAY HAVE ALREADY BEGUN BUT IT ANY CASE
 0342  9THE REPOSITION WILL BE INTERRUPTED.
R0343  2OTHERWISE, THE REPOSITION WILL BE COMPLETED BEFORE 2-AXIS DESIGNATION BE
 0344  9GINS.
 0345   STARTDES CAF    MAXTRIES        ALLOW 30 SECS.
 0346  2         TS     DESCOUNT
 0347            CAF    BIT10           SHOW DESIGNATE REQUIRED.
 0348            ADS    RADMODES
 0349            MASK   BIT11           SEE IF REPOSITION IN PROGRESS.
 0350            CCS    A
 0351  2         TCF    DESRETRN        ECTR ALREADY SET UP.
 0352  2         TC     SETRRECR        SET UP ERROR COUNTERS.
 0353            CAF    TWO
 0354            TC     WAITLIST
 03545           EBANK= RRRET
 0355            2CADR  BEGDES
 0356   DESRETRN RELINT                 RETURN VIA DESRET
 0357    +1      CA     DESRET
 0358  2         TCF    BANKJUMP
 0359   MAXTRIES DEC    60
P0360  2         SEE IF RRDESSM CAN BE ACCOMPLISHED AFTER A REMODE.
 0361   TRYSWS   TC     RMODINV         (NOTE RUPT INHIBIT)
 0362            TC     RRLIMCHK        TRY DIFFERENT MODE.
 0363            ADRES  MODEB
 0364  2         TCF    NODESSM         VEHICLE MANEUVER REQUIRED.
 0365            TC     RMODINV         RESET BIT12
 0366            CAF    BIT14           SET FLAG FOR REMODE.
 0367  2         ADS    RADMODES
 0368  2         TCF    OKDESSM
 0369   NODESSM  TC     RMODINV         RE-INVERT MODE AND RETURN WITHOUT IN-
 0370            TCF    DESRETRN        CREMENTING DESRET
P0371            DESIGNATE TO SPECIFIC RR GIMBAL ANGLES (INDEPENDENT OF VEHICLE
 0372  9MOTION). ENTER WITH DESIRED ANGLES IN
R0373  2TANG AND TANG +1.
 0374   RRDESNB  TC     MAKECADR
 0375  2         TS     DESRET
 0376            INHINT                 SEE IF CURRENT MODE OK.
 0377            TC     RRLIMCHK
 0378            ADRES  TANG
 0379  2         TCF    TRYSWN          SEE IF IN OTHER MODE.
 0380   OKDESNB  RELINT
 0381  2         TC     INTPRET
 0382            CALL                   GET LOS IN NB COORDS.
 0383                   RRNB
 0384  2         STORE  RRTARGET
 0385            SET    EXIT
 0386  2                RRNBSW
 0387            INHINT
 0388  2         TCF    STARTDES
 0389   TRYSWN   TC     RMODINV         SEE IF OTHER MODE WILL DO.
 0390            TC     RRLIMCHK
 0391            ADRES  TANG
 0392  2         TCF    NODESNB         NOT POSSIBLE.
 0393            TC     RMODINV
 0394            CAF    BIT14           CALL FOR REMODE.
 0395            ADS    RADMODES
 0396  2         TCF    OKDESNB
 0397   NODESNB  CAF    BIT1            CALL FOR ERROR RETURN.
 0398            TC     WAITLIST
 03985           EBANK= RRRET
 0399            2CADR  RDBADEND
 0400            TC     RMODINV
 0401            TC     ALARM           BAD GIMBAL ANGLE INPUTS.
 0402            OCT    502
 0403            TCF    DESRETRN +1     ALARM DID A RELINT.
P0404  2         WAITLIST TASKS TO RUN RR DESIGNATION.
 0405   BEGDES   CAF    BIT14           ENTER HERE FROM STARTDES OR REPOSRPT.
 0406            MASK   RADMODES        SEE IF REMODE REQUIRED.
 0407            CCS    A
 0408            TCF    REMODE
 0409  2         TCF    STDESIG
 0410   DESLOOP  TC     FIXDELAY        2 SAMPLES PER SECOND.
 0411  2         DEC    50
 0412   STDESIG  CAF    BIT11           ENTRY FROM BEGDES AND REMODE.
 0413            MASK   RADMODES        SEE IF GIMBAL LIMIT MONITOR HAS FOUND US
 0414            CCS    A               OUT OF BOUNDS. IF SO, THIS BIT SHOWS A
 0415  2         TCF    BADDES          REPOSITION TO BE IN PROGRESS.
 0416            CCS    RADMODES        SEE IF CONTINUOUS DESIGNATE WANTED.
 0417            TCF    +3              IF SO, DONT CHECK BIT 10 TO SEE IF IN
 0418            TCF    +2              LIMITS BUT GO RIGHT TO FINDVAC ENTRY.
 0419  2         TCF    MOREDES +1
 0420            CS     RADMODES        IF NON-CONTINUOUS, SEE IF END OF
 0421            MASK   BIT10           PROBLEM (DATA GOOD IF LOCK-ON WANTED OR
 0422            CCS    A               WITHIN LIMITS IF NOT). IF SO, EXIT AFTER
 0423  2         TCF    ENDRADAR        CHECKING RR CDU FAIL.
 0424            CCS    DESCOUNT        SEE IF TIME LIMIT HAS EXPIRED.
 0425  2         TCF    MOREDES
 0426            TC     ALARM           OUT OF TIME.
 0427            OCT    503
 0428            CS     B14+B2          IF OUT OF TIME, REMOVE ECR ENABLE + TRKR
 0429            EXTEND
 0430            WAND   12
 0431   BADDES   CS     BIT10           REMOVE DESIGNATE FLAG.
 0432            MASK   RADMODES
 0433            TS     RADMODES
 0434  2         TCF    RDBADEND
 0435   MOREDES  TS     DESCOUNT
 0436            CAF    PRIO26          UPDATE GYRO TORQUE COMMANDS.
 0437            TC     FINDVAC
 04375           EBANK= RRRET
 0438            2CADR  DODES
 0439  2         TCF    DESLOOP
 0440   B14+B2   OCT    20002
P0441  2         CALCULATE GYRO TORQUE COMMANDS.
 0442   DODES    EXTEND
 0443            DCA    OPTY
 0444  2         DXCH   TANG
 0445  2         TC     INTPRET
 0446            VLOAD                  MOVE TARGET VECTOR TO 32D.
 0447                   RRTARGET
 0448  2         STORE  32D
 0449            BON    RTB             DO STABLE-MEMBER TO NAVBASE TRANSFORMA-
 0450                   RRNBSW          TION IF TARGET IN SM COORDS. OTHERWISE,
 0451                   DONBRD          IN NB COORDS ALREADY.
 0452  2                READCDUS
 0453            SSP
 0454                   S1
 0455                   20D             LOC OF ICDUS.
 0456            STCALL 20D
 0457  8                SMNB
 0458   DONBRD   SETPD  SLOAD           DO NAVBASE TO RADAR DISH TRANSFORMATION.
 0459                   0
 0460                   TANG +1
 0461            RTB    PUSH            SHAFT COMMAND = V(32D).(COS(S), 0,
 0462                   CDULOGIC             (-SIN(S)).
 0463            SIN    PDDL            SIN(S) TO 0 AND COS(S) TO 2.
 0464            COS    PUSH
 0465            DMP    PDDL
 0466                   32D
 0467                   36D
 0468            DMP    BDSU
 0469                   0
 0470            STADR
 0471  2         STORE  TANG +1         SHAFT COMMAND
 0472            SLOAD  RTB
 0473                   TANG
 0474                   CDULOGIC
 0475            PUSH   COS             COS(T) TO 4.
 0476            PDDL   SIN
 0477            PUSH   DMP             SIN(T) TO 6.
 0478                   2
 0479            SL1    PDDL            DEFINE VECTOR U = (SIN(T)SIN(S))
 0480                   4                                 (COS(T)      )
 0481            PDDL   DMP                               (SIN(T)COS(S))
 0482                   6
 0483                   0
 0484            SL1    VDEF
 0485            DOT    EXIT            DOT U WITH LOS TO GET TRUNNION COMMAND.
 0486                   32D
P0487            AT THIS POINT WE HAVE A ROTATION VECTOR IN DISH AXES LYING IN T
 0488  9HE TS PLANE. CONVERT THIS TO A
R0489  2COMMANDED RATE AND ENABLE THE TRACKER IF WE ARE WITHIN 1 DEGREE OF THE T
 0490  9ARGET.
 0491            CS     MPAC            DOT WAS NEGATIVE OF DESIRED ANGLE.
 0492  2         TS     TANG
 0493            CS     RADMODES        A RELAY IN THE RR REVERSES POLARITY OF
 0494            MASK   BIT12           THE SHAFT COMMANDS IN MODE 2 SO THAT A
 0495            CCS    A               POSITIVE TORQUE APPLIED TO THE SHAFT
 0496  2         TCF    +3              GYRO CAUSES A POSITIVE CHANGE IN THE
 0497            CS     TANG +1         SHAFT ANGLE. COMPENSATE FOR THIS SWITCH
 0498  2         TS     TANG +1         BY CHANGING THE POLARITY OF OUR COMMAND.
 0499            CAF    ZERO
 0500            TS     MPAC +1
 0501  2         CAF    ONE
 0502   RRSCALUP TS     MPAC
 0503            INDEX  A
 0504            CA     TANG            TRUNNION COMPONENT OF ROTATION.
 0505            EXTEND
 0506            MP     RDESGAIN        SCALING ON INPUT ANGLE WAS 4 RADIANS.
 0507            INDEX  MPAC
 0508            XCH    TANG            MAKE EACH COMPONENT LESS THAN .7 DEGREES
 0509            TC     MAGSUB          BEFORE SENDING TRACK ENABLE.
 0510            DEC    -.00305
 0511  2         INCR   MPAC +1         IF OUT OF BOUNDS.
 0512            CCS    MPAC
 0513            TCF    RRSCALUP
P0514  2         SEE IF TRACKER SHOULD BE ENABLED OR DISABLED.
 0515  2         INHINT
 0516            CCS    RADMODES        IF CONTINUOUS DESIGNATE WANTED, PUT OUT
 0517            TCF    +3              COMMANDS WITHOUT CHECKING MAGNITUDE OF
 0518            TCF    +2              ERROR SIGNALS.
 0519  2         TCF    TRKOFF
 0520            CCS    MPAC +1         SEE IF BOTH AXES WERE WITHIN .7 DEGS.
 0521  2         TCF    TRKOFF
 0522            CS     STATE           IF WITHIN LIMITS AND NO LOCK-ON WANTED,
 0523            MASK   LOKONFLG        PROBLEM IS FINISHED.
 0524            CCS    A
 0525  2         TCF    RRDESDUN
 0526            CAF    BIT14           ENABLE THE TRACKER.
 0527            EXTEND
 0528  2         WOR    12
 0529            CAF    BIT4            SEE IF DATA GOOD RECEIVED YET.
 0530            EXTEND
 0531            RAND   33
 0532            CCS    A
 0533  2         TCF    DORROUT
 0534   RRDESDUN CS     BIT10           WHEN PROBLEM DONE, REMOVE BIT 10 SO NEXT
 0535            MASK   RADMODES        WAITLIST TASK WE WILL GO TO RGOODEND.
 0536  2         TS     RADMODES
 0537            CS     BIT2
 0538            EXTEND
 0539            WAND   12
 0540  2         TCF    ENDOFJOB        WITH ECTR DISABLED.
 0541   TRKOFF   CS     BIT14
 0542            EXTEND
 0543  2         WAND   12
 0544   DORROUT  CS     RADMODES        PUT OUT COMMAND UNLESS MONITOR
 0545            MASK   BIT11           REPOSITION HAS TAKEN OVER.
 0546            CCS    A
 0547  2         TC     RROUT
 0548  2         TCF    ENDOFJOB
 0549   RDESGAIN DEC    .53624          TRIES TO NULL .5 ERROR IN .5 SEC.
P0550  2RADAR READ INITIALIZATION
R0551  4RADAR DATA ARE READ BY A BANKCALL FOR THE APPROPRIATE LEAD-IN BELOW.
 0552   LRALT    TC     INITREAD -1     ONE SAMPLE PER READING.
 0553  2ALLREAD  OCT    17
 0554   LRVELZ   TC     INITREAD
 0555  2         OCT    16
 0556   LRVELY   TC     INITREAD
 0557  2         OCT    15
 0558   LRVELX   TC     INITREAD
 0559  2         OCT    14
 0560   RRRDOT   TC     INITREAD -1
 0561  2         OCT    12
 0562   RRRANGE  TC     INITREAD -1
 0563  8         OCT    11
 0564    -1      CAF    ONE             ENTRY TO TAKE ONLY 1 SAMPLE.
 0565  2INITREAD INHINT
 0566            TS     TIMEHOLD        GET DT OF MIDPOINT OF NOMINAL SAMPLING
 0567            EXTEND                 INTERVAL (ASSUMES NO BAD SAMPLES WILL BE
 0568            MP     BIT3            ENCOUNTERED).
 0569  2         DXCH   TIMEHOLD
 0570            CCS    A
 0571            TS     NSAMP
 0572            AD     ONE
R0573            INSERT FOLLOWING INSTRUCTION TO GET 2N TRIES FOR N SAMPLES.
A0574            DOUBLE
 0575  2         TS     SAMPLIM
 0576            CAF    DGBITS          READ CURRENT VALUE OF DATA GOOD BITS.
 0577            EXTEND
 0578            RAND   33
 0579  2         TS     OLDATAGD
 0580            CS     ALLREAD
 0581            EXTEND
 0582  2         WAND   13              REMOVE ALL RADAR BITS
 0583            INDEX  Q
 0584            CAF    0
 0585            EXTEND
 0586  2         WOR    13              SET NEW RADAR BITS
 0587            EXTEND
 0588            DCA    TIME2
 0589  2         DAS    TIMEHOLD        TIME OF NOMINAL MIDPOINT.
 0590            CAF    ZERO
 0591            TS     L
 0592            DXCH   SAMPLSUM
 0593  2         TCF    ROADBACK
 0594   DGBITS   OCT    230
P0595  2RADAR RUPT READER
R0596  2THIS ROUTINE STARTS FROM A RADARUPT. IT READS THE DATA $ LOTS MORE.
 0597   RADAREAD TS     BANKRUPT
 0598            EXTEND
 0599  2         QXCH   QRUPT
 0600   ANGLREAD EXTEND
 0601            DCA    OPTY
 0602  2         DXCH   OPTYHOLD        SAVE RAW CDU ANGLES
 0603   TRYCOUNT CCS    SAMPLIM
 0604            TCF    PLENTY
 0605            TCF    NOMORE
 0606            TC     ALARM
 0607            OCT    520
 0608  2         TC     RESUME
 0609   NOMORE   TC     ALARM
 0610            OCT    521
 0611   BADRAD   CS     ONE
 0612            TS     SAMPLIM
 0613  2         TC     RDBADEND -2
 0614   PLENTY   TS     SAMPLIM
 0615            CAF    BIT3
 0616            EXTEND
 0617            RAND   13              TO FIND OUT WHICH RADAR
 0618            EXTEND
 0619  2         BZF    RENDRAD
 0620   LRPOSCHK CA     RADMODES        SEE IF LR IN DESIRED POSITION.
 0621            EXTEND
 0622            RXOR   33
 0623            MASK   BIT6
 0624            EXTEND
 0625  2         BZF    VELCHK
 0626            TC     ALARM
 0627            OCT    522
 0628  2         TC     BADRAD
 0629   VELCHK   CAF    BIN3            = 00003 OCT
 0630            EXTEND
 0631            RXOR   13
 0632            MASK   BIN3
 0633            EXTEND
 0634  2         BZF    LRHEIGHT        TAKE A LR RANGE READING
 0635            CAF    POSMAX
 0636            MASK   RNRAD
 0637            AD     LVELBIAS
 0638            TS     L
 0639            CAE    RNRAD
 0640            DOUBLE
 0641            MASK   BIT1
 0642  2         DXCH   ITEMP3
 0643            CAF    BIT8            DATA GOOD ISNT CHECKED UNTIL AFTER READ-
 0644            TC     DGCHECK         ING DATA SO SOME RADAR TESTS WILL WORK
A0645  2                                INDEPENDENT OF DATA GOOD.
 0646            CCS    NSAMP
 0647            TC     NOEND
 0648   GOODRAD  CS     ONE
 0649            TS     SAMPLIM
 0650            CS     ITEMP1          WHEN ENOUGH GOOD DATA HAS BEEN GATHERED,
 0651            MASK   RADMODES        RESET DATA FAIL FLAGS FOR SETTRKF.
 0652            TS     RADMODES
 0653            TC     SETTRKF         LAMP MIGHT GO OFF IF DATA JUST GOOD.
 0654  2         TC     RGOODEND -2
 0655   NOEND    TS     NSAMP
 0656   RESAMPLE CCS    SAMPLIM         SEE IF ANY MORE TRIES SHOULD BE MADE.
 0657            TCF    +2
 0658            TCF    DATAFAIL        N SAMPLES NOT AVAILABLE.
 0659            CAF    BIT4            RESET ACTIVITY BIT.
 0660            EXTEND
 0661            WOR    13              RESET ACTIVITY BIT
 0662  4         TC     RESUME
 0663   LRHEIGHT CAF    BIT5
 0664  2         TS     ITEMP1          (POSITION OF DATA GOOD BIT IN CHAN 33)
 0665            CAF    BIT9
 0666  2         TC     SCALECHK -1
 0667   RENDRAD  CAF    BIT11           MAKE SURE ANTENNA HAS NOT GONE OUT OF
 0668            MASK   RADMODES        LIMITS.
 0669            CCS    A
 0670  2         TCF    BADRAD
 0671            CS     RADMODES        BE SURE RR CDU HASNT FAILED.
 0672            MASK   BIT7
 0673            CCS    A
 0674  2         TCF    BADRAD
 0684            CAF    BIT4            SEE IF DATA HAS BEEN GOOD.
 0685  2         TS     ITEMP1          (POSITION OF DATA GOOD BIT IN CHAN 33)
 0686            CAF    BIT1            SEE IF RR RDOT.
 0687            EXTEND
 0688            RAND   13
 0689            TS     Q               FOR LATER TESTING.
 0690            CCS    A
 0691            TCF    +2
 0692            TCF    RADIN           NO SCALE CHECK FOR RR RDOT.
 0693            CAF    BIT3
 0694  2         TS     L
 0695   SCALECHK EXTEND
 0696            RAND   33              SCALE STATUS NOW
 0697            XCH    L
 0698            MASK   RADMODES        SCALE STATUS BEFORE
 0699            EXTEND
 0700            RXOR   01              SEE IF THEY DIFFER
 0701            CCS    A
 0702  2         TC     SCALCHNG        THEY DIFFER
 0703   RADIN    CAF    POSMAX
 0704            MASK   RNRAD
 0705  2         TS     ITEMP4
 0706            CAE    RNRAD
 0707            DOUBLE
 0708            MASK   BIT1
 0709  2         TS     ITEMP3
 0710            CCS    Q               SEE IF RR RDOT.
 0711  2         TCF    SCALADJ         NO, BUT SCALE CHANGING MAY BE NEEDED.
 0712            EXTEND                 IF RR RANGE RATE, THROW OUT BIAS.
 0713            DCS    RDOTBIAS
 0714   DASAMPL  DAS    ITEMP3
 0715   DGCHECK2 CA     ITEMP1          SEE THAT DATA HAS BEEN GOOD BEFORE AND
 0716            TC     DGCHECK +1      AFTER TAKING SAMPLE.
 0717  2         TC     GOODRAD
 0718   SCALCHNG LXCH   RADMODES
 0719            AD     BIT1
 0720            EXTEND
 0721            RXOR   01
 0722            TS     RADMODES
 0723            CAF    DGBITS          UPDATE LAST VALUE OF DATA GOOD BITS.
 0724            EXTEND
 0725            RAND   33
 0726            TS     OLDATAGD
 0727            TCF    BADRAD
P0728  2         THE FOLLOWING ROUTINE INCORPORATES RR RANGE AND LR ALT SCALE IN
 0729  9FORMATION AND LEAVES DATA AT LO SCALE.
 0730   SCALADJ  CCS    L               L HAS SCALE INBIT FOR THIS RADAR.
 0731            TCF    +2              ON HIGH SCALE.
 0732  2         TCF    DGCHECK2
 0733            DXCH   ITEMP3
 0734            DDOUBL
 0735            DDOUBL
 0736            DDOUBL
 0737  2         DXCH   ITEMP3
 0738            CAF    BIT3            SEE IF LR OR RR.
 0739            EXTEND
 0740            RAND   13
 0741            EXTEND                 IF RR, NO MORE ACTION REQUIRED.
 0742  2         BZF    DGCHECK2
 0743            CAF    LRRATIO         IF LR, CONVERT TO LO SCALING.
 0744            EXTEND
 0745            MP     ITEMP4
 0746            TS     ITEMP4
 0747            CAF    ZERO            (SO SUBSEQUENT DAS WILL BE OK)
 0748            XCH    ITEMP3
 0749            EXTEND
 0750            MP     LRRATIO
 0751  8         TCF    DASAMPL
 0752   DGCHECK  TS     ITEMP1          UPDATE DATA GOOD BIT IN OLDATAGD AND
 0753            EXTEND                 MAKE SURE IT WAS ON BEFORE AND AFTER THE
 0754            RAND   33              SAMPLE WAS TAKEN BEFORE RETURNING. IF
 0755            TS     L               NOT, GOES TO RESAMPLE TO TRY AGAIN. IF
 0756            CS     ITEMP1          MAX NUMBER OF TRIES HAS BEEN REACHED,
 0757            MASK   OLDATAGD        THE BIT CORRESPONDING TO THE DATA GOOD
 0758            AD     L               WHICH FAILED TO APPEAR IS IN ITEMP1 AND
 0759            XCH    OLDATAGD        CAN BE USED TO SET RADMODES WHICH VIA
 0760            MASK   ITEMP1          SETTRKF SETS THE TRACKER FAIL LAMP.
 0761            AD     L
 0762            CCS    A               SHOULD BOTH BE ZERO.
 0763            TC     RESAMPLE
 0764            DXCH   ITEMP3          IF DATA GOOD BEFORE AND AFTER, ADD TO
 0765            DAS    SAMPLSUM        ACCUMULATION.
 0766  2         TC     Q
 0767   DATAFAIL CS     ITEMP1          IN THE ABOVE CASE, SET RADMODES BIT
 0768            MASK   RADMODES        SHOWING SOME RADAR DATA FAILED.
 0769            AD     ITEMP1
 0770  2         TS     RADMODES
 0771            DXCH   ITEMP3          IF WE HAVE BEEN UNABLE TO GATHER N
 0772  2         DXCH   SAMPLSUM        SAMPLES, USE LAST ONE ONLY.
 0773  2         TC     SETTRKF
 0774  2         TCF    NOMORE
 0775   LRRATIO  DEC    4.9977 B -3
 0776   LVELBIAS DEC    -12288          LANDING RADAR BIAS FOR 153.6 KC.
 0777   RDOTBIAS 2DEC   17000           BIAS COUNT FOR RR RANGE RATE
P0778  2THIS ROUTINE CHANGES THE LR POSITION, AND CHECKS THAT IT GOT THERE.
 0779  2LRPOS2   INHINT
 0780            CS     BIT6            DESIRED LR POSITION IS NOW 2.
 0781            MASK   RADMODES
 0782            AD     BIT6
 0783  2         TS     RADMODES
 0784            CAF    BIT7
 0785            EXTEND
 0786            RAND   33              SEE IF ALREADY THERE.
 0787            EXTEND
 0788  2         BZF    RADNOOP
 0789            CAF    BIT13
 0790            EXTEND
 0791  2         WOR    12              COMMAND TO POSITION 2
 0792            CAF    6SECS           START SCANNING FOR INBIT AFTER 7 SECS.
 0793            TC     WAITLIST
 07935           EBANK= RRRET
 0794            2CADR  LRPOSCAN
 0795  2         TC     ROADBACK
 07960  LRPOSNXT TS     SAMPLIM
 07965           TC     FIXDELAY        SCAN ONCE PER SECOND 15 TIMES MAX AFTER
 07970 2         DEC    100             INITIAL DELAY OF 7 SECONDS.
 07975           CAF    BIT7
 07980           EXTEND
 07985           RAND   33
 07990           EXTEND
 08000 2         BZF    LASTLRDT        IF THERE, WAIT FINAL SECOND FOR BOUNCE.
 08005           CCS    SAMPLIM         SEE IF MAX TIME UP.
 08010 2         TCF    LRPOSNXT
 08020           CS     BIT13           IF TIME UP, DISABLE COMMAND AND ALARM.
 08025           EXTEND
 0803  2         WAND   12
 0804            TC     ALARM           LR ANTENNA DIDNT MAKE IT.
 0805            OCT    523
 0806  2         TCF    RDBADEND
 0807   RADNOOP  CAF    ONE             NO FURTHER ACTION REQUESTED.
 0808            TC     WAITLIST
 08085           EBANK= RRRET
 0809            2CADR  RGOODEND
 0810  2         TC     ROADBACK
 0811   LASTLRDT TC     FIXDELAY        WAIT ONE SECOND AFTER RECEIPT OF INBIT
 08111 2         DEC    100             TO WAIT FOR ANTENNA BOUNCE TO DIE OUT.
 08112           CS     BIT13           REMOVE COMMAND
 08113           EXTEND
 08114           WAND   12
 08115 2         TCF    RGOODEND
 08116  LRPOSCAN CAF    BIT5            SET UP FOR 15 SAMPLES.
 08117 2         TCF    LRPOSNXT
 08118  6SECS    DEC    600
P0812  2         SEQUENCES TO TERMINATE RR OPERATIONS.
 0813   ENDRADAR CAF    BIT7            PROLOG TO CHECK RR CDU FAIL BEFORE END.
 0814            MASK   RADMODES
 0815            CCS    A
 0816            TCF    RGOODEND
 0817            TCF    RDBADEND
 0818    -2      CS     ZERO            RGOODEND WHEN NOT UNDER WAITLIST CONTROL
 0819  2         TS     RUPTAGN
 0820   RGOODEND CAF    TWO
 0821            TC     POSTJUMP
 0822  2         CADR   GOODEND
 0823    -2      CS     ZERO            RDBADEND WHEN NOT UNDER WAITLIST.
 0824            TS     RUPTAGN
 0825   RDBADEND CAF    TWO
 0826            TC     POSTJUMP
 0827  2         CADR   BADEND
 0828   BIN3     EQUALS THREE
L      2RADAR TEST PROGRAMS
 0001            BANK   10
 0002  2         EBANK= RSTKLOC
R0003  2         RADAR SAMPLING LOOP.
 0004   RADSAMP  CCS    RSAMPDT         TIMES NORMAL ONCE-PER-SECOND SAMPLING.
 0005  2         TCF    +2
 0006  2         TCF    TASKOVER        +0 INSERTED MANUALLY TERMINATES TEST.
 0007            TC     WAITLIST
 00075           EBANK= RSTKLOC
 0008            2CADR  RADSAMP
 0009            CAF    PRIO25
 0010            TC     NOVAC
 00105           EBANK= RSTKLOC
 0011            2CADR  DORSAMP
 0012            CAF    1/6             FOR CYCLIC SAMPLING, RTSTDEX =
 0013            EXTEND                 RTSTLOC/6 + RTSTBASE.
 0014            MP     RTSTLOC
 0015            AD     RTSTBASE        0 FOR RR, 2 FOR LR.
 0016  2         TS     RTSTDEX
 0017  2         TCF    TASKOVER
R0018  2         DO THE ACTUAL RADAR SAMPLE.
 0019   DORSAMP  TC     VARADAR         SELECTS VARIABLE RADAR CHANNEL.
 0020            TC     BANKCALL
 0021            CADR   RADSTALL
 0022  2         INCR   RFAILCNT        ADVANCE FAIL COUNTER BUT ACCEPT BAD DATA
 0023   DORSAMP2 INHINT                 YES - UPDATE TM BUFFER.
 0024            DXCH   SAMPLSUM
 0025            INDEX  RSTKLOC
 0026  2         DXCH   RSTACK
 0027            DXCH   OPTYHOLD
 0028            INDEX  RSTKLOC
 0029  2         DXCH   RSTACK +2
 0030            DXCH   TIMEHOLD
 0031            INDEX  RSTKLOC
 0032  2         DXCH   RSTACK +4
 0033            CS     RTSTLOC         CYCLE RTSTLOC.
 0034            AD     RTSTMAX
 0035            EXTEND
 0036            BZF    +3
 0037            CA     RSTKLOC
 0038            AD     SIX
 0039  2         TS     RSTKLOC
 0040            CCS    RSAMPDT         SEE IF TIME TO RE-SAMPLE.
 0041  2         TCF    ENDOFJOB        NO - WAIT FOR T3 (REGULAR SAMPLING).
 0042            TCF    ENDOFJOB        TEST TERMINATED.
 0043  2         TCF    DORSAMP         JUMP RIGHT BACK AND GET ANOTHER SAMPLE.
 0044  21/6      DEC    .17
R0045  2         VARIABLE RADAR DATA CALLER FOR ONE MEASUREMENT ONLY.
 0046   VARADAR  CAF    ONE             WILL BE SENT TO RADAR ROUTINE IN A BY
 0047            TS     BUF2            SWCALL.
 0048            INDEX  RTSTDEX
 0049            CAF    RDRLOCS
 0050  2         TCF    SWCALL          NOT TOUCHING Q.
 0051   RDRLOCS  CADR   RRRANGE         =0
 0052            CADR   RRRDOT          =1
 0053            CADR   LRVELX          =2
 0054            CADR   LRVELY          =3
 0055            CADR   LRVELZ          =4
 0056  2         CADR   LRALT           =5
L      2EXTENDED VERBS
 0001            BANK   11
 0002  2         EBANK= OGC
R0003  2FAN-OUT
R0004  2NOTE OF SPECIAL IMPORT CONCERNING RADAR 
R0005            SINCE 206 HAS NO RADARS, THE INTERRUPT LEAD IN AND T4RUPT SERVI
 0006  9CE ROUTINES HAVE BEEN DISCONNECTED IN
R0007   SUNBURST (REV 39).  THEREFORE, THE FOLLOWING VERBS SHOULD NOT BE USED:
 0008  940 WITH NOUN 40, 41 WITH NOUN 40, 45,
R0009  246, AND SEQUENCES 13 AND 14 OF VERB 57.
 0010   LST2FAN  TC     VBZERO          VB40 ZERO (USED WITH NOUN 20 OR 40 ONLY)
 0011            TC     VBCOARK         VB41 COARSE ALIGN (USED WITH NOUN 20 OR
A0012                                                                   40 ONLY)
 0013            TC     IMUFINEK        VB42 FINE ALIGN IMU
 0014            TC     IMUATTCK        VB43  LOAD IMU ATTITUDE ERROR METERS.
 0015            TC     ALM/END         VB44 SPARE
 0016            TCF    LRPOS2K         VB45 COMMAND LR TO POSITION 2.
 0017            TC     REGRSAMP        VB46 SAMPLE RADAR ONCE PER SECOND
 0018            TC     DOFCSTST        VB47 PERFORM LEM FCS TEST
 0019            TC     GOLOADLV        VB50 PLEASE PERFORM
 0020            TC     GOLOADLV        VB51 PLEASE MARK
 0021            TC     GOLOADLV        VB52 PLEASE MARK Y
 0022            TC     GOLOADLV        VB53 PLEASE MARK X OR Y.
 0023            TC     TORQGYRS        VB54 PULSE TORQUE GYROS
 0024            TC     ALINTIME        VB55 ALIGN TIME
 0025            TC     GOSHOSUM        VB56 PERFORM BANKSUM
 0026            TC     SYSTEST         VB57 PERFORM SYSTEM TEST
 0027            TC     PRESTAND        VB60 PREPARE FOR STANDBY
 0028            TC     POSTAND         VB61 RECOVER FROM STANDBY
 0029            TC     SETUPMSG        VB62 SCAM LEM INBITS
 0030            TCF    BEGINCDU        VB63 SEND SPECIAL CDU DOWNLIST
 0031            TCF    64UPDAT         VB64 SET TIMER TO GROUND ELAPSED TIME
 0032            TCF    65UPDAT         VB65 SET GUIDANCE REFERENCE RELEASE DISC
 0033            TCF    66UPDAT         VB66 INITIATE LGC DFI TLM CALIBRATE RTN
 0034            TCF    67UPDAT         VB67 SEND COMMAND TO LMP
 0035            TCF    70UPDAT         VB70 SET MISSION TIMER
 0036            TCF    71UPDAT         VB71 SET MISSION PHASE REGISTER
 0037            TCF    72UPDAT         VB72 SET MISSION PHASE REGISTER + TIMER
 0038            TCF    73UPDAT         VB73 RESET DPS OR RPS COLD SOAK DISC
 0039            TCF    74UPDAT         VB74 STOP MISSION TIMERS
 0040            TCF    75UPDAT         VB75 TARGET PARAMETER UPDATE
 0041            TCF    76UPDAT         VB76 STATE VECTOR UPDATE
 0042  2         TC     ALM/END
 0043   TESTXACT CAF    BIT3
 0044            MASK   EXTVBACT
 0045            CCS    A
 0046  2         TC     XACTALM
 0047   XACT1    CS     BIT3
 0048            INHINT
 0049            MASK   EXTVBACT
 0050            AD     BIT3
 0051            TS     EXTVBACT
 0052            RELINT
 0053  2         TC     Q
 0054   XACTALM  TC     FALTON
 0055  2         TC     ENDOFJOB
 0056  2TERMEXTV TC     FREEDSP         IF WE GET A TERMINATE INSTEAD OF A LOAD.
 0057   ENDEXTVB TC     XACT0
 0058  2         TC     ENDOFJOB
 0059   XACT0    CS     BIT3
 0060            INHINT
 0061            MASK   EXTVBACT
 0062            TS     EXTVBACT
 0063            RELINT
 0064  4XACT0Q   TC     Q
 0065   ALM/END  TC     FALTON
 0066  4         TC     ENDEXTVB
 0067   VBZERO   TC     OP/INERT
 0068            TC     IMUZEROK        RETURN HERE IF NOUN = ICDU(20)
 0069  2         TC     RRZEROK         RETURN HERE IF NOUN = RCDU(40)
 0070   VBCOARK  TC     OP/INERT
 0071            TC     IMUCOARK        RETURN HERE IF NOUN = ICDU(20)
 0072  2         TC     RRDESNBK        RETURN HERE IF NOUN = RCDU(40)
R0073  2         RETURNS TO L+1 IF IMU OR L+2 IF RR.
 0074   OP/INERT CS     BIT5            OCT20
 0075            AD     NOUNREG
 0076            EXTEND
 0077  2         BZF    XACT0Q          IF = 20.
 0078            INCR   Q
 0079            AD     RRIMUDIF        = -20 OCT.
 0080            EXTEND
 0081  2         BZF    XACT0Q
 0082  2         TC     ALM/END         ILLEGAL.
 0083   RRIMUDIF OCT    -20
P0084  2KEYBOARD REQUEST TO ZERO IMU ENCODERS
 0085   IMUZEROK TC     TESTXACT        ZERO ENCODERS.
 0086            TC     BANKCALL
 0087  2         CADR   IMUZERO
 0088            TC     BANKCALL        STALL
 0089            CADR   IMUSTALL
 0090  2         TC     +1
 0091            TC     ENDEXTVB
 0092   RRZEROK  TC     TESTXACT
 0093            TC     BANKCALL        ZERO RR CDUS.
 0094  2         CADR   RRZERO
 0095   RWAITK   TC     BANKCALL
 0096            CADR   RADSTALL
 0097            TCF    +1
 0098  2         TCF    ENDEXTVB
 0099   LRPOS2K  TC     TESTXACT        COMMAND LR TO POSITION 2.
 0100            TC     BANKCALL
 0101            CADR   LRPOS2
 0102            TCF    RWAITK
P0103  2KEYBOARD REQUEST TO COARSE ALIGN THE IMU
 0104   IMUCOARK TC     TESTXACT        COARSE ALIGN FROM KEYBOARD.
 0105            TC     GRABWAIT
 0106            CAF    VNLODCDU        CALL FOR THETAD LOAD
 0107            TC     NVSBWAIT
 0108            TC     ENDIDLE         STALL WAITING FOR THE LOAD
 0109            TC     TERMEXTV
 0110  2         TC     ICSDEL          PROCEED - ASK FOR INCREMENTAL LOAD.
 0111   ICORK2   CAF    IMUCOARV        RE-DISPLAY COARSE ALIGN VERB.
 0112            TC     NVSBWAIT
 0113  2         TC     FREEDSP         RELEASE THE DISPLAYS
 0114            TC     BANKCALL        CALL MODE SWITCHING PROG
 0115  2         CADR   IMUCOARS
 0116            TC     BANKCALL        STALL
 0117            CADR   IMUSTALL
 0118            TC     ENDEXTVB
 0119  2         TC     ENDEXTVB
 0120   VNLODCDU OCT    02522
 0121   IMUCOARV OCT    04100
P0122  2         PROVISION FOR COARSE ALIGN TO INCREMENTAL ANGLES.
 0123   ICSDEL   CAF    DELLOAD
 0124            TC     NVSBWAIT        REQUEST LOAD OF DELTA ICDU ANGLES.
 0125            TC     ENDIDLE
 0126            TC     TERMEXTV
 0127            TC     ICORK2          PROCEED WITHOUT DATA HERE TOO.
 0128            TC     INCLOOP         LOOP TO INCREMENT THETAD FROM DSPTEM2.
 0129  2         TC     ICORK2          RE-DISPLAY COARSE ALIGN VERB.
 0130   INCLOOP  XCH    Q               INCREMENTS THETADS IN 2S COMPLEMENT FROM
 0131            TS     MPAC             THREE ANGLE INCREMENTS IN DSPTEM2S.
 0132            CAF    LTHD+2
 0133            TS     BUF             SET UP FOR CDUINC.
 0134  2         CAF    TWO             THREE TIMES THROUGH.
 0135   INCLOOP2 TS     MPAC +1
 0136            INDEX  A
 0137            XCH    DSPTEM2         INCREMENT TO TEM2 FOR CDUINC.
 0138            TC     BANKCALL
 0139            CADR   CDUINC
 0140            CCS    BUF
 0141            TS     BUF
 0142            CCS    MPAC +1
 0143  2         TC     INCLOOP2
 0144  2         TC     MPAC            RETURN WHEN FINISHED.
 0145   DELLOAD  OCT    02523
 0146   LTHD+2   ADRES  THETAD +2
P0147  2KEYBOARD REQUEST TO FINE ALIGN AND GYRO TORQUE IMU
 0148   IMUFINEK TC     TESTXACT        FINE ALIGN WITH GYRO TORQUING.
 0149            TC     GRABWAIT
 0150            CAF    VNLODGYR        CALL FOR LOAD OF GYRO COMMANDS
 0151            TC     NVSBWAIT
 0152            TC     ENDIDLE         HOLD UP FOR THE DATA LOAD
 0153            TC     TERMEXTV
 0154  2         TC     +1              PROCEED WITHOUT A LOAD
 0155            CAF    IMUFINEV        RE-DISPLAY OUR OWN VERB
 0156            TC     NVSBWAIT
 0157  2         TC     FREEDSP         RELEASE DISPLAYS
 0158            TC     BANKCALL        CALL MODE SWITCH PROG
 0159  2         CADR   IMUFINE
 0160            TC     BANKCALL        HIBERNATION
 0161            CADR   IMUSTALL
 0162  2         TC     ENDEXTVB
 0163   FINEK2   CAF    LGYROBIN        PINBALL LEFT COMMANDS IN OGC REGIST5RS
 0164            TC     BANKCALL
 0165  2         CADR   IMUPULSE
 0166            TC     BANKCALL        WAIT FOR PULSES TO GET OUT.
 0167            CADR   IMUSTALL
 0168            TC     ENDEXTVB
 0169  2         TC     ENDEXTVB
 0170   VNLODGYR OCT    02567
 0171   IMUFINEV OCT    04200           FINE ALIGN VERB
P0172  2         DESIGNATE TO DESIRED GIMBAL ANGLES.
 0173   RRDESNBK TC     TESTXACT
 0174            TC     GRABWAIT
 0175            CAF    VNLDRCDU        ASK FOR GIMBAL ANGLES.
 0176            TC     NVSBWAIT
 0177            TC     ENDIDLE         WAIT FOR THE LOAD
 0178            TC     TERMEXTV
 0179  2         TC     +1              PROCEED
 0180            TC     BANKCALL        ASK OP FOR LOCK ON REQUIREMENTS.
 0181  2         CADR   AURLOKON
 0182            CAF    OPTCOARV        RE-DISPLAY OUR OWN VERB
 0183            TC     NVSBWAIT
 0184            INHINT                 FIRE UP JOB TO DO DESIGNATE.
 0185            CAF    PRIO20
 0186            TC     FINDVAC
 0187            EBANK= OGC
 0188            2CADR  RRDESK2
 0189  2         TCF    TERMEXTV        FREES DISPLAY.
 0190   VNLDRCDU OCT    2441
 0191  2OPTCOARV EQUALS IMUCOARV        DIFFERENT NOUNS.
 0192   RRDESK2  TC     BANKCALL
 0193  2         CADR   RRDESNB
 0194  2         TC     RWAITK
R0195   PLEASE PERFORM VERB AND PLEASE MARK VERB ----- PRESSING ENTER INDICATES
R0196   ACTION REQUESTED HAS BEEN PERFORMED, AND DOES SAME RECALL AS A COMPLETED
R0197   LOAD.  OPERATOR SHOULD DO VB PROCEED WITHOUT DATA IF HE WISHES NOT TO
R0198  2PERFORM THE REQUESTED ACTION.
 0199   GOLOADLV TC     FLASHOFF
 0200            TC     XACT0
 0201            TC     POSTJUMP
 0202            CADR   LOADLV1
P0203  4KEYBOARD REQUEST TO PULSE TORQUE IRIGA
 0204   TORQGYRS TC     TESTXACT        GYRO TORQUING WITH NO MODE-SWITCH.
 0205            TC     GRABWAIT
 0206            CAF    VNLODGYR
 0207            TC     NVSBWAIT
 0208            TC     ENDIDLE
 0209            TC     TERMEXTV
 0210            TC     +1
 0211            CAF    TORQGYRV        RE-DISPLAY OUR OWN VERB
 0212            TC     NVSBWAIT
 0213            TC     FREEDSP
 0214  2         TCF    FINEK2
 0215   LGYROBIN ECADR  DELVX
 0216   TORQGYRV OCT    05400
P0217   ALIGN TIME
 0218   ALINTIME CAF    VNLODDT         USES NVSUBMON. DOES NOT TEST DSPLOCK.
 0219            TS     NVTEMP          DOES NOT KILL MONITOR.
 0220            TC     NVSUBMON
 0221            TC     ENDOFJOB        IN CASE OF ALARM IN LOAD REQUEST SET UP.
 0222            TC     ENDIDLE
 0223            TC     ENDOFJOB        TERMINATE
 0224            TC     ENDOFJOB        PROCEED WITHOUT DATA
 0225            INHINT                 DELTA TIME IS IN DSPTEM1, +1.
 0226            CAF    ZERO
 0227            TS     MPAC +2         NEEDED FOR TP AGREE
 0228            TS     L               ZERO T1 & T2 WHILE ALIGNING.
 0229            DXCH   TIME2
 0230            DXCH   MPAC
 0231            DXCH   DSPTEM1         INCREMENT.
 0232  2         DAS    MPAC
 0233            TC     TPAGREE         FORCE SIGN AGREEMENT.
 0234            DXCH   MPAC            NEW CLOCK.
 0235            DAS    TIME2
 0236  2         TC     ENDOFJOB
 0237   VNLODDT  OCT    02124           V/N FOR LOAD DELTA TIME
P0238  2         SELECT AND INITIATE DESIRED SYSTEM TEST PROGRAM.
 0239  2         EBANK= QPLACE
 0240   SYSTEST  CCS    MODREG          DEMAND MODE 00.
 0241  2         TCF    XACTALM
 0242            TC     GRABWAIT
 0243   REDO     CAF    LQPL            ASK FOR TEST OPTION (1 - 7).
 0244            TS     MPAC +2
 0245            CAF    TESTNV
 0246            TC     NVSBWAIT
 0247            TC     ENDIDLE
 0248            TC     EJFREE
 0249  2         TC     REDO
 0250            TC     NEWMODEX
 0251  2         OCT    5               DISPLAY MAJOR MODE 5 - SYSTEM TESTS
 0252            INHINT
 0253            CAF    PRIO20
 0254            TC     FINDVAC
 0255            EBANK= OGC
 0256            2CADR  TSELECT
 0257  2         TC     ENDOFJOB        LEAVING DISPLAY GRABBED FOR SYSTEM TEST.
 0258   TSELECT  CS     LOW4              OCTAL 17 OPTIONS WITHOUT OPERATOR ERRO
 0259            AD     QPLACE
 0260            EXTEND
 0261            BZMF   +3
 0262            TC     FALTON
 0263            TC     REDO
 0264            INDEX  QPLACE
 0265            CAF    TESTCADR
 0266  2         TC     BANKJUMP
R0267  2         DON'T USE 13 OR 14 (SEE NOTE ON USER'S PAGE 1).
 0268   TESTCADR CADR   ALM/END         0  ILLEGAL
 0269            CADR   IMUTEST         1  GYRO DRIFT TEST
 0270            CADR   IMUBACK         2 REPEAT OF IMUTEST
 0271            CADR   AOTNBIMU        3  IMU ALIGNMENT TEST
 0272            CADR   OPCHK           4  IMU CHECK
 0273            CADR   GYRSFTST        5  GYRO TORQUING TEST
 0274            CADR   ALM/END         6  AVAILABLE
 0275            CADR   GTSCPSS         7. GYROCOMPASS
 0276            CADR   SAMODCHK        10 SEMI-AUTOMATIC MODING CHECK
 0277            CADR   SAUTOIFS        11 SEMI-AUTOMATIC INTERFACE TEST
 0278            CADR   AOTANGCK        12 AOT ANGLE CHECK
 0279            CADR   RDRINIT         13 RENDEZVOUS RADAR / ANTENNAE TRACKING
 0280  2         CADR   FSTRSAMP        14 HIGH SPEED RADAR SAMPLING.
 0281            CADR   ZEROERAS
 0282            CADR   DISINDT         DISPLAY INERTIAL DATA TEST.
 0283            CADR   ALM/END
 0284            CADR   ALM/END
 0285   TESTNV   OCT    2101
 0286   LQPL     ECADR  QPLACE
 0287   GOSHOSUM TC     POSTJUMP        START ROUTINE TO DISPLAY SUM OF EACH
 0288  2         CADR   SHOWSUM         BANK ON DSKY
 0289   DOFCSTST TC     POSTJUMP
 0290            CADR   FCSSTART
P0291  2         SET UP FOR RADAR SAMPLING.
 0292  2         EBANK= RSTKLOC
 0293   FSTRSAMP CAF    RSTKLIST        HIGH SPEED SAMPLING. SWITCH TO SPECIAL
 0294            TS     DNLSTADR        DOWNLIST.
 0295            CS     ONE             WANTS TM BUFFERING.
 0296  2         TCF    RSAMPTST
 0297   REGRSAMP TC     GRABWAIT
 0298  2         CAF    1SEC+1          SHOWS NO TM BUFFERING.
 0299   RSAMPTST TS     MPAC +2
 0300            INHINT
 0301            CS     LRPOSCAL        INITIALIZE SCALE AND LR POSITION BITS.
 0302            MASK   RADMODES
 0303  2         TS     RADMODES
 0304            CAF    LRPOSCAL
 0305            EXTEND
 0306            RAND   33
 0307  2         ADS    RADMODES
 0308            RELINT
 0309            CAF    LRTSTDEX
 0310            TS     EBANK
 0311            XCH    MPAC +2
 0312            TS     RSAMPDT         HI SPEED NNZ - LO SPEED PNZ.
 0313            CAF    ZERO
 0314            TS     RTSTLOC
 0315            TS     RFAILCNT        ZERO BAD SAMPLE COUNTER.
 0316            CAF    HISPMAX
 0317  2         TS     RTSTMAX
 0318            CAF    RTSTNV
 0319            TC     NVSBWAIT
 0320            TC     ENDIDLE
 0321            TC     EJFREE          ON TERMINATE.
 0322            TCF    RSEMIAUT        PROCEED MEANS SEMI-AUTO SEQUENCING.
 0323   RDRDFREE TC     FREEDSP
 0324            CCS    RSAMPDT         SEE IF HI OR LO SPEED SAMPLING.
 0325  2         TCF    +4
 0326  2LRTSTDEX ECADR  RTSTDEX
 0327            TC     POSTJUMP        EXEC. OTHERWISE, SET UP WAITLIST TIMING.
 0328  2         CADR   DORSAMP
 0329            CAF    SIX             FIND OUT WHICH RADAR WANTED.
 0330            MASK   RTSTDEX
 0331            CCS    A
 0332  2         TCF    LRCYCLE         LANDING RADAR ARE SERIALS 2 - 5.
 0333            TS     RTSTBASE        FOR RR BASE = 0, MAX = 1.
 0334            CAF    SIX
 0335  2         TCF    +4
 0336   LRCYCLE  CAF    TWO             FOR LR BASE = 2, MAX = 3.
 0337            TS     RTSTBASE
 0338  2         CAF    18R
 0339    +4      TS     RTSTMAX
 0340            INHINT
 0341            TC     WAITLIST
 0342            EBANK= RSTKLOC
 0343            2CADR  RADSAMP
 0344  2         TC     ENDOFJOB
 0345   18R      DEC    18
 0346   HISPMAX  DEC    66
 0347   RTSTNV   OCT    2101
 0348   RSTKLIST GENADR UPDNLIST
 0349   LRPOSCAL OCT    444
P0350  2         SEMI-AUTO RADAR TESTING.
 0351   RSEMIAUT INHINT
 0352            CAF    PRIO25          START HI SPEED SAMPLING.
 0353            TC     NOVAC
 0354            EBANK= RSTKLOC
 0355            2CADR  DORSAMP
 0356            RELINT
 0357            CAF    FIVE            SEQUENCE THROUGH ALL SIX CHANNELS.
 0358  2 -1      TS     RTSTDEX
 0359   33PASTE  CAF    RV33            ON ENTER, SWITCH TO NEXT CHANNEL.
 0360            TC     NVSBWAIT
 0361            TC     FLASHON
 0362            TC     ENDIDLE
 0363            TC     ENDRTST         ON TERMINATE.
 0364            TCF    +2
 0365  2         TCF    33PASTE         DONT ACCEPT DATA.
 0366            CCS    RTSTDEX
 0367  2         TCF    33PASTE -1
 0368   ENDRTST  CAF    ZERO            ENDTEST.
 0369            TS     RSAMPDT
 0370            TC     NEWMODEX
 0371            OCT    0
 0372  2         TC     EJFREE
 0373   RV33     OCT    3300
P0374            JOB TO: 1) TURN OFF USE OF TRIM GIMBAL.  2) 5 SECONDS LATER, TU
 0375  9RN OFF DAP, & SET UP SPECIAL DOWN-LINK
R0376   PROGRAM TO TRANSMIT A STEADY LIST OF CDUY & Z.  THE DOWN-LINK PROGRAM AL
 0377  9SO HAS THE DUTY OF TURNING THE DAP BACK
R0378  2ON AND ENABLING USE OF THE TRIM GIMBAL AGAIN.
 0379   BEGINCDU INHINT
 0380            CA     FIVESECS        TURN OFF DAP IN 5 SECS
 0381            TC     WAITLIST
 0382            EBANK= DNTMBUFF
 0383            2CADR  DAPOFF
 0384            CA     DVSELECT        SAVE OLD CONTENTS OF DVSELECT.
 0385  2         TS     OLDDVSEL
 0386            TC     PHASCHNG
 0387  2         OCT    40026           6.2 FOR DAPOFF TASK & TGOFF JOB.
 0388   TGOFF    INHINT
 0389            CS     DAPBOOLS        INHIBIT USE OF TRIM GIMBAL IMMEDIATELY.
 0390            MASK   USEQRJTS
 0391  2         ADS    DAPBOOLS
 0392            CA     LPNGSMON        PREVENT GIMBLMON FROM TURNING TRIM
 0393  2         TS     DVSELECT        GIMBAL BACK ON.
 0394            TC     PHASCHNG
 0395  2         OCT    00036           6.3 FOR DAPOFF TASK.
 0396  2         TCF    ENDOFJOB
 0397  2         EBANK= DNTMBUFF
 0398   DAPOFF   CA     LDNCDUS         SET DNTMGOTO TO INITIATE THE SENDING OF
 0399  2         TS     DNTMGOTO        CDUY & Z.
 0400            CS     GODAPGO         TURNING OFF GODAPGO TURNS OFF DAP.
 0401            MASK   DAPBOOLS
 0402  2         TS     DAPBOOLS
 0403            TC     PHASCHNG
 0404  2         OCT    00006
 0405  2         TCF    TASKOVER
 0406   LPNGSMON GENADR PGNCSMON
 0407   LDNCDUS  GENADR DNCDUS
 0408   FIVESECS DEC    500
P0409  2         VB 43  IMU ATTITUDE ERROR METER LOADER.
 0410   IMUATTCK TC     TESTXACT
 0411            CS     OCT50K          REMOVE COARSE AND ECTR ENABLE.
 0412            EXTEND
 0413  2         WAND   12
 0414            TC     GRABWAIT
 0415            CAF    VNLODCDU
 0416            TC     NVSBWAIT
 0417            TC     ENDIDLE
 0418            TC     TERMEXTV
 0419            TC     +1
 0420            CAF    V43K            REDISPLAY OUR VERB.
 0421            TC     NVSBWAIT
 0422            CAF    BIT6            ENABLE ERROR COUNTER.
 0423            EXTEND
 0424            WOR    12
 0425            CAF    TWO
 0426            INHINT
 0427            TC     WAITLIST        PUT OUT COMMAND IN .32 SECS.
 0428            EBANK= RSTKLOC
 0429            2CADR  ATTCK2
 0430  2         TCF    TERMEXTV        FREES DISPLAY.
 0431   ATTCK2   CAF    TWO             PUT OUT ALL COMMANDS - CDU WILL DO LIMIT
 0432            TS     Q               INCASE OF EXCESS DATA.
 0433            INDEX  A
 0434            CA     THETAD
 0435            EXTEND
 0436            MP     BIT13           SHIFT RIGHT 2.
 0437            AD     NEG0            PREVENT +0 IN OUTPUT COUNTER
 0438            INDEX  Q
 0439            TS     CDUXCMD
 0440            CCS    Q
 0441  2         TCF    ATTCK2 +1
 0442            CAF    OCT70K
 0443            EXTEND
 0444            WOR    14
 0445  2         TCF    TASKOVER
 0446   OCT50K   OCT    50
 0447   V43K     OCT    4300
 0448   OCT70K   OCT    70000
P0449  2         PROGRAM TO SCAN CHANNELS 30 - 32 FOR CHANGES IN SELECTED INBITS
 0450  9. CALLED BY SPECIAL VERB.
 0451  2         EBANK= MSGCNT
 0452   SETUPMSG CAF    BIT1            BEGIN SCAN.
 0453            INHINT
 0454            TC     WAITLIST
 0455            EBANK= RSTKLOC
 0456            2CADR  MSGSCAN +2
 0457  2         TC     ENDOFJOB
 0458   MSGSCAN  TC     FIXDELAY
 0459  2         DEC    50
 0460            CAF    TWO             SCAN ALL 3 CHANNELS FOR CHANGES.
 0461            TS     MSGCNT
 0462            INDEX  A
 0463            CA     LAST30          OLD VALUE OF INBITS.
 0464            EXTEND
 0465            INDEX  MSGCNT
 0466            RXOR   30
 0467            INDEX  MSGCNT
 0468            MASK   30MSGMSK
 0469            EXTEND
 0470  2         BZF    NOMSG
 0471            TS     Q               SAVE DIFFERENCE.
 0472            INDEX  MSGCNT
 0473            LXCH   LAST30          UPDATE OLD VALUE.
 0474            EXTEND
 0475            RXOR   L
 0476            INDEX  MSGCNT
 0477  2         TS     LAST30
 0478            COM
 0479            XCH    Q
 0480            MASK   Q               SEE IF ANY OF CHANGED BITS JUST ON.
 0481            EXTEND
 0482  2         BZF    NOMSG           NO MESSAGE IF SO.
R0483  2         NO ROTATIONAL HAND CONTROLLER IN 206.
 0484   NOTRHC   CAF    OKT30
 0485            AD     MSGCNT
 0486  2         TS     RUPTREG2
 0487            CS     Q
 0488  2         TC     VMESSAGE
 0489   NOMSG    CCS    MSGCNT
 0490            TCF    MSGSCAN +3
 0491  2         TCF    MSGSCAN
 0492   30MSGMSK OCT    17
 0493            OCT    77777
 0494  2         OCT    3777
 0495   OKT30    OCT    30
 0496   DESCBITS TC     MESSAGE         DESCENT BITS COME HERE IN A.
 0497            OCT    16
 0498  2         TC     RESUME
 0499   RHCMON   TC     GRABWAIT        FIRE UP DSKY MONITOR.
 0500            CAF    RHCMONVN
 0501            TC     NVSBWAIT
 0502  2         TC     EJFREE
 0503   RHCMONVN OCT    1645
P0504  2         MESSAGE DISPLAY - 3 COMPONENT OCTAL.
 0505   MESSAGE  TS     RUPTREG2        NEW CHANNEL CONTENTS ARRIVE IN A.
 0506            INDEX  Q               CHANNEL NUMBER IN OCTAL AT CALLER +1.
 0507            CAF    0
 0508            INCR   Q
 0509  2         XCH    RUPTREG2
 0510   VMESSAGE TS     RUPTREG1        FOR VARIABLE CHANNEL.
 0511            EXTEND
 0512            QXCH   RUPTREG3
 0513            CAF    PRIO27          FIRE UP SPECIAL JOB.
 0514            TC     NOVAC
 0515            EBANK= RSTKLOC
 0516            2CADR  DOMSG
 0517            DXCH   RUPTREG1        NEW CONTENTS TO MPAC - CHANNEL NUMBER TO
 0518            INDEX  LOCCTR          MPAC +1.
 0519            DXCH   MPAC
 0520            CA     TIME1
 0521            INDEX  LOCCTR
 0522            TS     MPAC +2
 0523  2         TC     RUPTREG3
 0524   DOMSG    TC     GRABWAIT
 0525            EXTEND
 0526            DCA    MPAC
 0527            DXCH   DSPTEM1
 0528            CA     MPAC +2
 0529            TS     DSPTEM1 +2
 0530            CAF    MSGVN
 0531            TC     NVSUB
 0532            TCF    MSGBUSY
 0533  2         TC     EJFREE
 0534   MSGBUSY  CAF    +2
 0535            TC     NVSUBUSY
 0536  2         CADR   DOMSG +1
 0537   MSGVN    OCT    0535
P0538  2         ROUTINE FOR AURORA ONLY TO ASK OPERATOR IF RR LOCK ON REQUESTED
 0539  9.
 0540   AURLOKON TC     MAKECADR
 0541            TS     DESRET
 0542            CAF    RV33            ASSUMES DSKY GRABBED.
 0543            TC     NVSBWAIT
 0544            TC     FLASHON
 0545            TC     ENDIDLE
 0546            TCF    +3              ON TERM.
 0547            CAF    LOKONFLG
 0548            TCF    +2
 0549            CAF    ZERO
 0550            INHINT
 0551            XCH    STATE
 0552            MASK   -LOKONFG
 0553  2         ADS    STATE
 0554            MASK   LOKONFLG        IF NO LOCK-ON CALLED FOR, SET BIT15 OF
 0555            CCS    A               RADMODES TO INDICATE THAT ARBITRARILY-
 0556  2         TCF    +3              LONG DESIGNATION IS WANTED (TO BE
 0557            CAF    BIT15           TERMINATED BY FRESH START).
 0558  2         ADS    RADMODES
 0559            RELINT
 0560            CA     DESRET
 0561  2         TCF    BANKJUMP
 0562   -LOKONFG OCT    -20
P0563  2         PROGRAM TO RUN DISPLAY INERTIAL DATA TEST.
 0564   DISINDT  CAF    FLVELVN         ASK FOR FORWARD, LATERAL VELOCITY.
 0565            TC     NVSBWAIT
 0566            TC     ENDIDLE
 0567            TCF    ENDDISIN
 0568            TCF    +1
 0569            CAF    ALT,R,VN        ASK FOR INITIAL AND FINIAL ALTITUDES AND
 0570            TC     NVSBWAIT        ALTITUDE RATE.
 0571            TC     ENDIDLE
 0572            TCF    ENDDISIN
 0573  2         TCF    +1
 0574            INHINT
 0575            CS     ONE
 0576  2         TS     DIDFLG
 0577            EXTEND
 0578            DCA    ALT             SO FOLLOWING MONITOR WORKS.
 0579  2         DXCH   ALTSAVE
 0580            CAF    ONE
 0581            TC     WAITLIST
 0582            EBANK= RSTKLOC
 0583            2CADR  DISINLUP +2
 0584  2         TCF    EJFREE
 0585   ENDDISIN TC     FREEDSP
 0586    +1      TC     NEWMODEX
 0587  2         OCT    0
 0588            TC     ENDOFJOB
P0589  2         WATCH ALTSAVE FOR END OF PROBLEM.
 0590   DISINLUP TC     FIXDELAY
 0591  2         DEC    50
 0592    +2      EXTEND
 0593            DCA    FINALT
 0594            DXCH   ITEMP1
 0595            EXTEND
 0596            DCS    ALTSAVE         LATEST ALTITUDE.
 0597  2         DAS    ITEMP1
 0598            CCS    ITEMP1
 0599            TCF    +DIF
 0600            TCF    +2
 0601  2         TCF    -DIF
 0602            CCS    ITEMP2
 0603            TCF    +DIF
 0604            TCF    +2
 0605  2         TCF    -DIF
 0606   DISINDUN CAF    ZERO
 0607            TS     ALTRATE
 0608            DXCH   FINALT
 0609            DXCH   ALT
 0610            CAF    PRIO20
 0611            TC     NOVAC
 0612            EBANK= RSTKLOC
 0613            2CADR  ENDDISIN +1
 0614  2         TCF    TASKOVER
 0615   +DIF     CA     ALTRATE
 0616            EXTEND
 0617            BZMF   DISINDUN
 0618  2         TCF    DISINLUP
 0619   -DIF     CS     ALTRATE
 0620  2         TCF    +DIF +1
 0621   FLVELVN  OCT    2444
 0622  2ALT,R,VN OCT    2564
 0623   MINIMP   INHINT
 0624            CS     BIT10           BIT 10 OF DAPBOOLS INDICATES MINIMP MODE
 0625            MASK   DAPBOOLS
 0626            AD     BIT10
 0627            TS     DAPBOOLS        BIT 10 OF DAPBOOLS NOW PRESENT.
 0628  2         TCF    ENDOFJOB
 0629   NOMINIMP INHINT
 0630            CS     BIT10
 0631            MASK   DAPBOOLS
 0632  2         TS     DAPBOOLS        A ZERO IN POSITION 10 OF DAPBOOLS NOW.
 0633            EXTEND
 0634            DCA    CDUX
 0635            DXCH   CDUXD
 0636            CA     CDUZ
 0637            TS     CDUZD
 0638            TCF    ENDOFJOB
P0639  2VB 60 PREPARE FOR STANDBY OPERATION
R0640   ROUTINE WRITTEN FOR TEST ROPES ONLY*** MUST BE UPDATED TO INCLUDE
R0641  2                                FLIGHT REQUIREMENTS FOR FLIGHT OPERATION
 0642  2         EBANK= LST1
 0643   PRESTAND CAF    EBANK3          COMES HERE FROM LST2FAN
 0644            XCH    EBANK           SET UP EBANK FOR BANK 3
 0645            INHINT
 0646            CA     TIME1
 0647            TS     TIMESAV         THIS ROUTINE WILL LOOK AT TIME1 UNTIL
 0648            CAF    OKT30            TIME1 IS INCREMENTED, THEN IT WILL
 0649   LONGER   TS     TIMAR           SNATCH THE MISSION TIME REGS AND STORE
 0650            CS     TIMESAV         THEN IN TIMESAV FOR LATER ISE IN ARITH.
 0651            AD     TIME1           OPERATIONS WHICH SHOULD FIND THE
 0652            EXTEND                 STANDING DIFFERENCE BETWEEN THE SCALAR
 0653  2         BZF    CHKTIME         AND THE TIME1-TIME2S REGS.
 0654            EXTEND
 0655            DCA    TIME2           READ AND STORE THE DP TIME AND GO
 0656            DXCH   TIMESAV         READ THE SCALAR USING THE EXISTING PROG
 0657  2         TCF    CATCHFIN        FINETIME.
 0658   CHKTIME  CCS    TIMAR           MUST WATCH THE TIME SPENT IN INHINT OR
 0659            TC     LONGER          THE COPS MIGHT CATCH US.
 0660            RELINT
 0661            CCS    NEWJOB
 0662            TC     CHANG1
 0663  2         TC     LONGER -1       GO BACK AND LOOK AGAIN
 0664   CATCHFIN TC     FINETIME        WILL READ CHANNELS 3 AND 4 AND RETURN
 0665            DXCH   SCALSAV         WITH 3 IN A AND 4 IN L..
 0666            RELINT
 0667            CS     BIT4
 0668            MASK   IMODES30        INHIBIT THE IMU FAIL LIGHT.
 0669            AD     BIT4
 0670  2         TS     IMODES30
 0671            CAF    BIT4            SET ALL CHAN 12 BITS EXCEPT C/A TO ZERO.
 0672            EXTEND                 THIS IS NECESSARY SO THAT THE GIMBALS DO
 0673  2         WAND   12              NOT DRIFT INTO GIMBALLOCK IF THE SYSTEM
 0674            CAF    BIT4            SHOULD BE IN OPERATE AT THE TIME STBY
 0675            EXTEND                 WAS STARTED.  THIS SECTION WILL MAKE
 0676  2         WOR    12              SURE THE IMU IS IN C/A.....
 0677            CAF    BIT11           WHEN BIT 11 IS PRESENT IN CHANNEL 13 THE
 0678            EXTEND                 DSKY PB. CAN THEN ENERGIZE THE STANDBY
 0679            WOR    13              RELAY IN THE CGC PWR SUPPLIES....
 0680            TC     ENDOFJOB        GO TO DUMMY JOB UNTIL YOU DIE...
P0681  2 VB 61 RECOVER FROM STANDBY OPERATION
R0682   ROUTINE WRITTEN FOR TEST ROPES ONLY**** MUST BE UPDATED TO INCLUDE
R0683  2                FLIGHT REQUIREMENTS FOR FLIGHT OPERATIONS SEQUENCES....
 0684   POSTAND  CAF    EBANK3          COMES HERE FROM LST2FAN
 0685            XCH    EBANK           SET UP EBANK FOR BANK 3
 0686            TC     FINETIME
 0687            DXCH   TIMAR           READ THE SCALAR AND SEE IF IT OVERFLOW-
 0688            RELINT                 ED WHILE THE CGC WAS IN STBY, IF SO
 0689            CAE    TIMAR           THE OVERFLOW MUST BE ADDED OR IT WILL
 0690            EXTEND                 SEEM THAT THE REALATIVITY THEORY WORKS
 0691            SU     SCALSAV         BETTER THAN IT SHOULD...
 0692            EXTEND
 0693  2         BZMF   ADDTIME         IF ITS NEG. IT MUST HAVE OV:FLWD..
 0694            TC     INTPRET
 0695            DLOAD  DSU             IF IT DID NOT OV-FLW. FIND OUT HOW LONG
 0696                   TIMAR           THE CGC WAS IN STBY BY SUBTRACTING THE
 0697                   SCALSAV         SCALAR AT THE START OF STBY FROM THE
 0698            SRR    RTB             SCALAR AT THE END OF STBY AND THEN ADD
 0699                   5               THE DIFFERENCE TO THE TIME EXISTING
 0700                   SGNAGREE        WHEN THE SCALAR WAS READ AT STBY ENTRY**
 0701            DAD
 0702                   TIMESAV
 0703            STORE  TIMAR
 0704  2         EXIT
 0705   CORCTTIM EXTEND
 0706            DCA    TIMAR           THIS IS THE CORRECTED TIME TO BE READ
 0707  2         DXCH   TIME2           INTO TIME1 AND TIME2 REGS. ADDR 24-25
 0708            CS     BIT11
 0709            EXTEND                 DISABLE THE DSKY STBY PUSHBUTTON.
 0710            WAND   13
 0711  2         TC     ENDOFJOB
 0712   ADDTIME  EXTEND
 0713            DCA    DPOSMAX         IF THE SCALAR OVERFLOWED, FIND OUT HOW
 0714            DXCH   TIMEDIFF        MUCH TIME REMAINED WHEN READ THE FIRST
 0715            TC     INTPRET         TIME AND THEN ADD THE PRESENT READING-
 0716            DLOAD  DSU             WHICH WILL BE THE TOTAL TIME SPENT IN
 0717                   TIMEDIFF        STANDBY, TO WHICH THE TIME AT STBY
 0718                   SCALSAV         MAY BE ADDED TO FIND THE PRESENT TIME
 0719            DAD    SRR             CORRECT TO 10 MSEC..
 0720                   TIMAR           **** THE TIME IN STANDBY MODE MUST NOT
 0721                   5               EXCEED 23 HOURS IF TIME IS TO BE
 0722            DAD                    CORRECTLY COMPUTED BY THIS ROUTINE.*****
 0723                   TIMESAV
 0724            STORE  TIMAR
 0725            EXIT
 0726  2         TC     CORCTTIM
L      2KEYRUPT, UPRUPT
 0001            BANK   13
 0002   KEYRUPT1 TS     BANKRUPT
 0003            XCH    Q
 0004            TS     QRUPT
 0005            TC     LODSAMPT        TIME IS SNATCHED IN RUPT FOR NOUN 65.
 0006            CAF    LOW5
 0007            EXTEND
 0008            RAND   MNKEYIN
 0009   KEYCOM   TS     RUPTREG4
 0010            CAF    CHRPRIO
 0011            TC     NOVAC
 0012            EBANK= DSPCOUNT
 0013            2CADR  CHARIN
 0014            CA     RUPTREG4
 0015            INDEX  LOCCTR
 0016            TS     MPAC            LEAVE 5 BIT KEY CDE IN MPAC FOR CHARIN
 0017            TC     RESUME
P0018  2UPRUPT PROGRAM
 0019   UPRUPT   TS     BANKRUPT
 0020            XCH    Q
 0021            TS     QRUPT
 0022            TC     LODSAMPT        TIME IS SNATCHED IN RUPT FOR NOUN 65.
 0023            CAF    ZERO
 0024            XCH    INLINK
 0025            TS     KEYTEMP1
 0026            CAF    BIT3            TURN ON UPACT LIGHT
 0027            EXTEND                 (BIT 3 OF CHANNEL 11)
 0028            WOR    DSALMOUT
 0029   UPRPT1   CAF    LOW5            TEST FOR TRIPLE CHAR REDUNDANCY
 0030            MASK   KEYTEMP1        LOW5 OF WORD
 0031            XCH    KEYTEMP1        LOW5 INTO KEYTEMP1
 0032            XCH    SR              WHOLE WORD INTO SR
 0033            TS     KEYTEMP2        ORIGINAL SR INTO KEYTEMP2
 0034            TC     SRGHT5
 0035            MASK   LOW5            MID 5
 0036            AD     HI10
 0037            TC     UPTEST
 0038            TC     SRGHT5
 0039            MASK   LOW5            HIGH 5
 0040            COM
 0041            TC     UPTEST
 0042   UPOK     TC     RESTORSR        CODE IS GOOD
 0043            CS     ELRCODE         IF CODE = ERROR LIGHT RESET, PUT +0
 0044            AD     KEYTEMP1        INTO BIT1 OF UPLOCK.
 0045            CCS    A               IF CODE NOT= ELR, PASS CODE ONLY IF
 0046            TC     TSTUPLOK        BIT1 OF UPLOCK = 0.
 0047   ELRCODE  OCT    22
 0048            TC     TSTUPLOK
 0049            CS     BIT3
 0050            MASK   FLAGWRD1
 0051            TS     FLAGWRD1
 0052            TC     ACCEPTUP
 0053   TSTUPLOK CAF    BIT3
 0054            MASK   FLAGWRD1
 0055            CCS    A
 0056            TC     RESUME          BIT1 OF UPLOCK = 1.
 0057   ACCEPTUP XCH    KEYTEMP1        BIT1 OF UPLOCK = 0.
 0058  2         TC     KEYCOM
 0059   TMFAIL2  TC     RESTORSR        CODE IS BAD
 0060            CS     BIT3
 0061            MASK   FLAGWRD1
 0062            AD     BIT3
 0063            TS     FLAGWRD1
 0064   TMFAIL1  TC     TMALM
 0065  2         TC     RESUME
 0066   RESTORSR XCH    KEYTEMP2
 0067            DOUBLE
 0068            TS     SR
 0069  2         TC     Q
 0070  2TMALM    =      RESUME          FOR NOW
 0071   SRGHT5   CS     SR
 0072            CS     SR
 0073            CS     SR
 0074            CS     SR
 0075            CS     SR
 0076            CS     A
 0077  2         TC     Q               DELIVERS WORD UNCOMPLEMENTED
 0078   UPTEST   AD     KEYTEMP1
 0079            CCS    A
 0080            TC     TMFAIL2
 0081   HI10     OCT    77740
 0082            TC     TMFAIL2
 0083  2         TC     Q
R0084  8UPACT IS TURNED OFF BY VBRELDSP, ALSO BY ERROR LIGHT RESET.
R0085   THE RECEPTION OF A BAD CODE BY UPLINK LOCKS OUT FURTHER UPLINK ACTIVITY
R0086   BY PLACING A 1 INTO BIT1 OF UPLOCK. BIT9 (ALONG WITH BIT11) OF TMKEYBUF
R0087   IS SET TO 1 TO SEND AN INDICATION OF THIS SITUATION DOWN THE DOWNLINK.
R0088   THE UPLINK INTERLOCK IS ALLOWED WHEN AN ERROR LIGHT RESET CODE IS SENT
R0089  4UP THE UPLINK, OR WHEN A FRESH START IS PERFORMED.
L      2PINBALL GAME  BUTTONS AND LIGHTS
R0001   PROGRAM NAME - KEYBOARD AND DISPLAY PROGRAM
 0002  9DATE - 22 NOV 1966
R0003   MOD NO - 0
 0004  9LOG SECTION - PINBALL GAME
R0005   MOD BY - FILENE
 0006  9              BUTTONS AND LIGHTS
R0007  2
 0008  9ASSEMBLY - SUNBURST REV 18
R0009  2FUNCTIONAL DESCRIPTION-
R0010      THE KEYBOARD AND DISPLAY SYSTEM PROGRAM OPERATES UNDER EXECUTIVE
R0011   CONTROL AND PROCESSES INFORMATION EXCHANGED BETWEEN THE AGC AND THE
R0012   COMPUTER OPERATOR.  THE INPUTS TO THE PROGRAM ARE FROM THE KEYBOARD,
R0013   FROM INTERNAL PROGRAMS, AND FROM THE UPLINK.
R0014      THE LANGUAGE OF COMMUNICATION WITH THE PROGRAM IS A PAIR OF WORDS
R0015   KNOWN AS VERB AND NOUN.  EACH OF THESE IS REPRESENTED BY A 2 CHARACTER
R0016   OCTAL NUMBER.  THE VERB CODE INDICATES WHAT ACTION IS TO BE TAKEN,
R0017   NOUN CODE INDICATES TO WHAT THIS ACTION IS APPLIED.  NOUNS USUALLY
R0018   REFER TO A GROUP OF ERASABLE REGISTERS.
R0019
R0020   VERBS ARE GROUPED INTO DISPLAYS, LOADS, MONITORS (DISPLAYS THAT ARE
R0021   UPDATED ONCE PER SECOND), SPECIAL FUNCTIONS, AND EXTENDED VERBS(THESE
R0022   ARE OUTSIDE OF THE DOMAIN OF PINBALL AND CAN BE FOUND UNDER LOG SECTION
R0023   :EXTENDED VERBS:).
R0024   A LIST OF VERBS AND NOUNS IS GIVEN IN LOG SECTION :ASSEMBLY AND
R0025  4OPERATION INFORMATION:.
R0026  2CALLING SEQUENCES-
R0027   KEYBOARD:
R0028      EACH DEPRESSION OF A KEYBOARD BUTTON ACTIVATES INTERRUPT KEYRUPT1
R0029   AND PLACES THE 5 BIT KEY CODE INTO CHANNEL 15.  KEYRUPT1 PLACES THE KEY
R0030   CODE INTO MPAC, ENTERS AN EXECUTIVE REQUEST FOR THE KEYBOARD AND DISPLAY
R0031  2PROGRAM (AT :CHARIN:), AND EXECUTES A RESUME.
R0032   UPLINK:
R0033      EACH WORD RECEIVED BY THE UPLINK ACTIVATES INTERRUPT UPRUPT WHICH
R0034   PLACES THE 5 BIT KEY CODE INTO MPAC, ENTERS AN EXECUTIVE REQUEST FOR THE
R0035  2KEYBOARD AND DISPLAY PROGRAM (AT:CHARIN:) AND EXECUTES A RESUME.
R0036   INTERNAL PROGRAMS:
R0037      INTERNAL PROGRAMS CALL PINBALL AT :NVSUB: WITH THE DESIRED VERB/NOUN
R0038   CODE IN A (LOW 6 BITS FOR NOUN, NEXT 6 BITS FOR VERB).  DETAILS
R0039   DESCRIBED ON REMARKS CARDS JUST BEFORE :NVSUB: AND :NVSUBWAIT: (SEE
R0040   SYMBOL TABLE FOR PAGE NUMBERS).
R0041      THERE IS AN INTERLOCK SYSTEM FOR INTERNAL PROGRAMS THAT MUST BE USED
R0042   IN CONJUNCTION WITH :NVSUB:.  THIS IS CALLED GRAB/FREE.  DETAILS
R0043   DESCRIBED ON REMARKS JUST BEFORE :GRABDSP:, :GRABWAIT: (SEE SYMBOL TABLE
R0044  4FOR PAGE NUMBERS).
R0045  2NORMAL EXIT MODES-
R0046  2   IF PINBALL WAS CALLED BY EXTERNAL ACTION, EXIT IS TO :ENDOFJOB:.
R0047      IF PINBALL WAS CALLED BY INTERNAL PROGRAMS, EXIT FROM PINBALL IS BACK
R0048   TO CALLING ROUTINE.  DETAILS DESCRIBED IN REMARKS CARDS JUST BEFORE
R0049  4:NVSUB: AND :NVSUBWAIT: (SEE SYMBOL TABLE FOR PAGE NUMBERS).
R0050  2ALARM OR ABORT EXIT MODES-
R0051   EXTERNAL INITIATION:
R0052      IF SOME IMPROPER SEQUENCE OF KEY CODES IS DETECTED, THE OPERATOR
R0053  2ERROR LIGHT IS TURNED ON AND EXIT IS TO :ENDOFJOB:.
R0054   INTERNAL PROGRAM INITIATION:
R0055      IF AN ILLEGAL V/N COMBINATION IS ATTEMPTED, AN ABORT IS CAUSED
R0056  2(WITH OCTAL 01501) AND EXIT TO :ENDOFJOB:.
R0057   CONDITIONS LEADING TO THE ABOVE ARE DESCRIBED IN DIGITAL DEVELOPMENT
R0058  4REPORT NO. 11.
R0059  2OUTPUT-
R0060      INFORMATION TO BE SENT TO THE DISPLAY PANEL IS LEFT IN THE :DSPTAB:
R0061   BUFFERS REGISTERS (UNDER EXEC CONTROL).  :DSPOUT: (A PART OF T4RUPT)
R0062   HANDLES THE PLACING OF THE :DSPTAB: INFORMATION INTO OUTPUT CHANNEL 10
R0063  4IN INTERRUPT.
R0064  2ERASABLE INITIALIZATION-
R0065      FRESH START AND RESTART INITIALIZE THE NECESSARY E REGISTERS FOR
R0066   PINBALL IN :STARTSUB:.   REGISTERS ARE:  DSPTAB BUFFER, CADRSTOR,
R0067   REQRET, CLPASS, DSPLOCK, MONSAVE, MONSAVE1, GRABLOCK, VERBREG, NOUNREG,
R0068  2DSPLIST, +1, +2, DSPCOUNT.
R0069   A COMPLETE LIST OF ALL THE ERASABLES (BOTH RESERVED AND TEMPORARIES) FOR
R0070  4PINBALL IS GIVEN BELOW.
R0071  2THE FOLLOWING ARE OF GENERAL INTEREST-
R0072      REMARKS CARDS PRECEDE THE REFERENCED SYMBOL DEFINITION.  SEE SYMBOL
R0073  2TABLE TO FIND APPROPRIATE PAGE NUMBERS.
R0074      NVSUB   CALLING POINT FOR INTERNAL USE OF PINBALL.
R0075                OF RELATED INTEREST   NVSUBWAIT
R0076                                      NVSUBSY
R0077  2                                   PRENVBSY
R0078      GRABDSP   INTERLOCK SYSTEM FOR INTERNAL PROGRAMS THAT MUST BE USED
R0079      FREEDSP   IN CONJUNCTION WITH :NVSUB:.
R0080                  OF RELATED INTEREST   GRABWAIT
R0081                                        GRABUSY
R0082  2                                     PREGBSY
R0083      ENDIDLE   ROUTINE FOR INTERNAL PROGRAMS WISHING TO GO TO SLEEP WHILE
R0084                AWAITING OPERATORS RESPONSE.
R0085  2               OF RELATED INTEREST   DATAWAIT
R0086  2   MONITOR   VERBS FOR PERIODIC ( 1 PER SEC) DISPLAY.
R0087      THE NOUN TABLE FORMAT IS DESCRIBED ON A PAGE OF REMARKS CARDS JUST
R0088  2   BEFORE :DSPABC: (SEE SYMBOL TABLE FOR PAGE NUMBER).
R0089  4   THE NOUN TABLES THEMSELVES ARE FOUND ON 7 PAGES STARTING AT :NNADTAB:
R0090   FOR FURTHER DETAILS ABOUT OPERATION OF THE KEYBOARD AND DISPLAY SYSTEM
R0091  8PROGRAM, SEE THE MISSION PLAN AND/OR DIGITAL DEVELOPMENT REPORT NO. 11.
R0150  4KEYBOARD AND DISPLAY PROGRAM
R0151  2THE FOLLOWING QUOTATION IS PROVIDED THROUGH THE COUTESY OF THE AUTHORS.
R0152         ::IT WILL BE PROVED TO THY FACE THAT THOU HAST MEN ABOUT THEE THAT
R0153   USUALLY TALK OF A NOUN AND A VERB, AND SUCH ABOMINABLE WORDS AS NO
R0154  2CHRISTIAN EAR CAN ENDURE TO HEAR.::
R0155  4                     HENRY 6, ACT 2, SCENE 4
R0156  4THE FOLLOWING ASSIGNMENTS FOR PINBALL ARE MADE ELSEWHERE
R0157  2RESERVED FOR PINBALL EXECUTIVE ACTION
R0158   DSPCOUNT ERASE                  DISPLAY POSITION INDICATOR
R0159   DECBRNCH ERASE                  +DEC, - DEC, OCT INDICATOR
R0160   VERBREG  ERASE                  VERB CODE
R0161   NOUNREG  ERASE                  NOUN CODE
R0162   XREG     ERASE                  R1 INPUT BUFFER
R0163   YREG     ERASE                  R2 INPUT BUFFER
R0164   ZREG     ERASE                  R3 INPUT BUFFER
R0165   XREGLP   ERASE                  LO PART OF XREG (FOR DEC CONV ONLY)
R0166   YREGLP   ERASE                  LO PART OF YREG (FOR DEC CONV ONLY)
R0167   ZREGLP   ERASE                  LO PART OF ZREG (FOR DEC CONV ONLY)
R0168   MODREG   ERASE                  MODE CODE
R0169   DSPLOCK  ERASE                  KEYBOARD/SUBROUTINE CALL INTERLOCK
R0170   REQRET   ERASE                  RETURN REGISTER FOR LOAD
R0171   LOADSTAT ERASE                  STATUS INDICATOR FOR LOADTST
R0172   CLPASS   ERASE                  PASS INDICATOR CLEAR
R0173   NOUT     ERASE                  ACTIVITY COUNTER FOR DSPTAB
R0174   NOUNCADR ERASE                  MACHINE CADR FOR NOUN
R0175   MONSAVE  ERASE                  N/V CODE FOR MONITOR. (= MONSAVE1-1)
R0176   MONSAVE1 ERASE                  NOUNCADR FOR MONITOR(MATBS) =MONSAVE +1
R0177   DSPTAB   ERASE          +13D    0-10,DISPLAY PANEL BUFFER.11-13,C RELAYS
R0178   CADRSTOR ERASE                  ENDIDLE STORAGE
R0179   GRABLOCK ERASE                  INTERNAL INTERLOCK FOR DISPLAY SYSTEM
R0180   NVQTEM   ERASE                  NVSUB STORAGE FOR CALLING ADDRESS
R0181                                   MUST = NVBNKTEM-1
R0182   NVBNKTEM ERASE                  NVSUB STORAGE FOR CALLING BANK
R0183                                   MUST = NVQTEM+1
R0184   DSPLIST  ERASE          +2      WAITING LIST FOR DSP SYST INTERNAL USE
R0185   EXTVBACT REASE                  EXTENDED VERB ACTIVITY INTERLOCK
R0186   DSPTEM1  ERASE          +2      BUFFER STORAGE AREA 1 (MOSTLY FOR TIME)
R0187   DSPTEM2  ERASE          +2      BUFFER STORAGE AREA 2 (MOSTLY FOR DEG)
R0188  4END OF ERASABLES RESERVED FOR PINBALL EXECUTIVE ACTION
R0189  2TEMPORARIES FOR PINBALL EXECUTIVE ACTION
R0190   DSEXIT   =      INTB15+         RETURN FOR DSPIN
R0191   EXITEM   =      INTB15+         RETURN FOR SCALE FACTOR ROUTINE SELECT
R0192  2BLANKRET =      INTB15+         RETURN FOR 2BLANK
R0193   WRDRET   =      INTBIT15        RETURN FOR 5BLANK
R0194   WDRET    =      INTBIT15        RETURN FOR DSPWD
R0195   DECRET   =      INTBIT15        RETURN FOR PUTCOM(DEC LOAD)
R0196  221/22REG =      INTBIT15        TEMP FOR CHARIN
R0197   UPDATRET =      POLISH          RETURN FOR UPDATNN, UPDATVB
R0198   CHAR     =      POLISH          TEMP FOR CHARIN
R0199   ERCNT    =      POLISH          COUNTER FOR ERROR LIGHT RESET
R0200  2DECOUNT  =      POLISH          COUNTER FOR SCALING AND DISPLAY (DEC)
R0201   SGNON    =      VBUF            TEMP FOR +,- ON
R0202   NOUNTEM  =      VBUF            COUNTER FOR MIXNOUN FETCH
R0203   DISTEM   =      VBUF            COUNTER FOR OCTAL DISPLAY VERBS
R0204  2DECTEM   =      VBUF            COUNTER FOR FETCH (DEC DISPLAY VERBS)
R0205   SGNOFF   =      VBUF    +1      TEMP FOR +,- ON
R0206   NVTEMP   =      VBUF    +1      TEMP FOR NVSUB
R0207  2SFTEMP1  =      VBUF    +1      STORAGE FOR SF CONST HI PART(=SFTEMP2-1)
R0208   CODE     =      VBUF    +2      FOR DSPIN
R0209  2SFTEMP2  =      VBUF    +2      STORAGE FOR SF CONST LO PART(=SFTEMP1+1)
R0210   MIXTEMP  =      VBUF    +3      FOR MIXNOUN DATA
R0211  2SIGNRET  =      VBUF    +3      RETURN FOR +,- ON
R0212  2ALSO MIXTEMP+1 = VBUF+4, MIXTEMP+2 = VBUF+5.
R0213  2ENTRET   =      DOTINC          EXIT FROM ENTER
R0214   WDCNT    =      DOTRET          CHAR COUNTER FOR DSPWD
R0215  2INREL    =      DOTRET          INPUT BUFFER SELECTOR ( X,Y,Z, REG )
R0216   DSPMMTEM =      MATINC          DSPCOUNT SAVE FOR DSPMM
R0217  2MIXBR    =      MATINC          INDICATOR FOR MIXED OR NORMAL NOUN
R0218   TEM1     ERASE                  EXEC TEMP
R0219  2DSREL    =      TEM1            REL ADDRESS FOR DSPIN
R0220   TEM2     ERASE                  EXEC TEMP
R0221   DSMAG    =      TEM2            MAGNITUDE STORE FOR DSPIN
R0222  2IDADDTEM =      TEM2            MIXNOUN INDIRECT ADDRESS STORAGE
R0223   TEM3     ERASE                  EXEC TEMP
R0224  2COUNT    =      TEM3            FOR DSPIN
R0225   TEM4     ERASE                  EXEC TEMP
R0226   LSTPTR   =      TEM4            LIST POINTER FOR GRABUSY
R0227   RELRET   =      TEM4            RETURN FOR RELDSP
R0228  2FREERET  =      TEM4            RETURN FOR FREEDSP
R0229   TEM5     ERASE                  EXEC TEMP
R0230  2NOUNADD  =      TEM5            TEMP STORAGE FOR NOUN ADDRESS
R0231   NNADTEM  ERASE                  TEMP FOR NOUN ADDRESS TABLE ENTRY
R0232   NNTYPTEM ERASE                  TEMP FOR NOUN TYPE TABLE ENTRY
R0233   IDAD1TEM ERASE                  TEMP FOR INDIR ADRESS TABLE ENTRY(MIXNN)
R0234                                   MUST = IDAD2TEM-1, = IDAD3TEM-2.
R0235   IDAD2TEM ERASE                  TEMP FOR INDIR ADRESS TABLE ENTRY(MIXNN)
R0236                                   MUST = IDAD1TEM+1, = IDAD3TEM-1.
R0237   IDAD3TEM ERASE                  TEMP FOR INDIR ADRESS TABLE ENTRY(MIXNN)
R0238                                   MUST = IDAD1TEM+2, = IDAD2TEM+1.
R0239   RUTMXTEM ERASE                  TEMP FOR SF ROUT TABLE ENTRY(MIXNN ONLY)
R0240  4END OF TEMPORARIES FOR PINBALL EXECUTIVE ACTION
R0241  2RESERVED FOR PINBALL INTERRUPT ACTION
R0242   DSPCNT   ERASE                  COUNTER FOR DSPOUT
R0243   UPLOCK   ERASE                  BIT1 = UPLINK INTERLOCK (ACTIVATED BY
A0244                                   RECEPTION OF A BAD MESSAGE IN UPLINK)
R0245  4END OF ERASABLES RESERVED FOR PINBALL INTERRUPT ACTION
R0246  2TEMPORARIES FOR PINBALL INTERRUPT ACTION
R0247   KEYTEMP1 =      WAITEXIT        TEMP FOR KEYRUPT, UPRUPT
R0248   DSRUPTEM =      WAITEXIT        TEMP FOR DSPOUT
R0249   KEYTEMP2 =      RUPTAGN         TEMP FOR KEYRUPT, UPRUPT
R0250  4END OF TEMPORARIES FOR PINBALL INTERRUPT ACTION
P0251   THE INPUT CODES ASSUMED FOR THE KEYBOARD ARE,
R0252   0        10000
R0253   1        00001
R0254   9        01001
R0255   VERB     10001
R0256   ERROR RES10010
R0257   KEY RLSE 11001
R0258   +        11010
R0259   -        11011
R0260   ENTER    11100
R0261   CLEAR    11110
R0262  4NOUN     11111
R0263   OUTPUT FORMAT FOR DISPLAY PANEL. SET OUT0 TO  AAAABCCCCCDDDDD.
R0264   A-S SELECT A RELAYWORD. THIS DETERMINES WHICH PAIR OF CHARACTERS ARE
R0265   ENERGIZED.
R0266   B FOR SPECIAL RELAYS SUCH AS SIGNS ETC.
R0267   C-S  5 BIT RELAY CODE FOR LEFT CHAR OF PAIR SELECTED BY RELAYWORD
R0268  2D-S  5 BIT RELAY CODE FOR RIGHTCHAR OF PAIR SELECTED BY RELAYWORD.
R0269   THE PANEL APPEARS AS FOLLOWS,
R0270   MD1    MD2                         (MAJOR MODE)
R0271   VD1    VD2 (VERB)    ND1    ND2    (NOUN)
R0272   R1D1   R1D2   R1D3   R1D4   R1D5   (R1)
R0273   R2D1   R2D2   R2D3   R2D4   R2D5   (R2)
R0274  2R3D1   R3D2   R3D3   R3D4   R3D5   (R3)
R0275   EACH OF THESE IS GIVEN A DSPCOUNT NUMBER FOR USE WITHIN COMPUTATION ONLY
R0276   MD1   25     R2D1  11         ALL ARE OCTAL
R0277   MD2   24     R2D2  10
R0278   VD1   23     R2D3   7
R0279   VD2   22     R2D4   6
R0280   ND1   21     R2D5   5
R0281   ND2   20     R3D1   4
R0282   R1D1  16     R3D2   3
R0283   R1D2  15     R3D3   2
R0284   R1D3  14     R3D4   1
R0285   R1D4  13     R3D5   0
R0286  4R1D5  12
R0287  2THERE IS AN 11 REGISTER TABLE (DSPTAB) FOR THE DISPLAY PANEL.
R0288   DSPTAB RELAYWD       BIT11     BITS 10-6     BITS 5-1
R0289   RELADD
R0290   10     1011                    MD1  (25)     MD2  (24)
R0291   9      1010                    VD1  (23)     VD2  (22)
R0292   8      1001                    ND1  (21)     ND2  (20)
R0293   7      1000                                  R1D1 (16)
R0294   6      0111          +R1       R1D2 (15)     R1D3 (14)
R0295   5      0110          -R1       R1D4 (13)     R1D5 (12)
R0296   4      0101          +R2       R2D1 (11)     R2D2 (10)
R0297   3      0100          -R2       R2D3 (7)      R2D4 (6)
R0298   2      0011                    R2D5 (5)      R3D1 (4)
R0299   1      0010          +R3       R3D2 (3)      R3D3 (2)
R0300   0      0001          -R3       R3D4 (1)      R3D5 (0)
R0301  4       0000   NO RELAYWORD
R0302   THE 5 BIT RELAY CODES ARE,
R0303   BLANK      00000
R0304   0          10101
R0305   1          00011
R0306   2          11001
R0307   3          11011
R0308   4          01111
R0309   5          11110
R0310   6          11100
R0311   7          10011
R0312   8          11101
R0313   9          11111
P0314  4START OF EXECUTIVE SECTION OF PINBALL
 0315  2         SETLOC 20000
 0316   GRABUSYB TC     GRABUSY1        STANDARD LEAD INS. DONT MOVE.
 0317  2NVSUBSYB TC     NVSUBSY1
 0318   CHARIN   CAF    ONE             BLOCK DISPLAY SYST
 0319            XCH    DSPLOCK         MAKE DSP SYST BUSY, BUT SAVE OLD
 0320            TS     21/22REG        C(DSPLOCK) FOR ERROR LIGHT RESET.
 0321            XCH    MPAC
 0322            TS     CHAR
 0323            INDEX  A
 0324            TC     +1              INPUT CODE     FUNCTION
 0325            TC     CHARALRM        0
 0326            TC     NUM             1
 0327            TC     NUM             2
 0328            TC     NUM             3
 0329            TC     NUM             4
 0330            TC     NUM             5
 0331            TC     NUM             6
 0332            TC     NUM             7
 0333            TC     89TEST          10                 8
 0334            TC     89TEST          11                 9
 0335            TC     CHARALRM        12
 0336            TC     CHARALRM        13
 0337            TC     CHARALRM        14
 0338            TC     CHARALRM        15
 0339            TC     CHARALRM        16
 0340            TC     CHARALRM        17
 0341            TC     NUM     -2      20                 0
 0342            TC     VERB            21                 VERB
 0343            TC     ERROR           22                 ERROR LIGHT RESET
 0344            TC     ABRT23GO        23                 SUBORBIT ABORT
 0345            TC     ABRT24GO        24                 CONORBIT ABORT
 0346            TC     CHARALRM        25
 0347            TC     CHARALRM        26
 0348            TC     CHARALRM        27
 0349            TC     CHARALRM        30
 0350            TC     VBRELDSP        31                 KEY RELEASE
 0351            TC     POSGN           32                 +
 0352            TC     NEGSGN          33                 -
 0353            TC     ENTERJMP        34                 ENTER
 0354            TC     CHARALRM        35
 0355            TC     CLEAR           36                 CLEAR
 0356  4         TC     NOUN            37                 NOUN
 0357   ENTERJMP TC     POSTJUMP
 0358  2         CADR   ENTER
 0359   ABRT23GO TC     RELDSP
 0360            TC     POSTJUMP
 0361            CADR   SUBABORT
 0362   ABRT24GO TC     RELDSP
 0363            TC     POSTJUMP
 0364  2         CADR   CONORBIT
 0365   89TEST   CAF    THREE
 0366            MASK   DECBRNCH
 0367            CCS    A
 0368            TC     NUM             IF DECBRNCH IS +, 8 OR 9 OK
 0369  4         TC     CHARALRM        IF DECBRNCH IS +0, REJECT 8 OR 9
R0370   NUM ASSEMBLES OCTAL 3 BITS AT A TIME. FOR DECIMAL IT CONVERTS INCOMING
R0371   WORD AS A FRACTION, KEEPING RESULTS TO DP.
R0372   OCTAL RESULTS ARE LEFT IN XREG, YREG, OR ZREG. HI PART OF DEC IN XREG,
R0373   YREG, ZREG. THE LOW PARTS IN XREGLP, YREGLP, OR ZREGLP)
R0374   DECBRNCH IS LEFT AT +0 FOR OCT, +1 FOR + DEC, +2 FOR - DEC.
R0375  2IF DSPCOUNT WAS LEFT -, NO MORE DATA IS ACCEPTED.
 0376            CAF    ZERO
 0377            TS     CHAR
 0378   NUM      CCS    DSPCOUNT
 0379            TC     +4              +
 0380            TC     +3              +0
 0381            TC     +1              -BLOCK DATA IN IF DSPCOUNT IS -
 0382            TC     ENDOFJOB        -0
 0383            TC     GETINREL
 0384            CCS    CLPASS          IF CLPASS IS + OR +0, MAKE IT +0.
 0385            CAF    ZERO
 0386            TS     CLPASS
 0387            TC     +1
 0388            INDEX  CHAR
 0389            CAF    RELTAB
 0390            MASK   LOW5
 0391            TS     CODE
 0392            CA     DSPCOUNT
 0393            TS     COUNT
 0394            TC     DSPIN
 0395            CAF    THREE
 0396            MASK   DECBRNCH
 0397            CCS    A               +0, OCTAL.  +1, + DEC.  +2, - DEC.
 0398            TC     DECTOBIN        +
 0399            INDEX  INREL           +0 OCTAL
 0400            XCH    VERBREG
 0401            TS     CYL
 0402            CS     CYL
 0403            CS     CYL
 0404            XCH    CYL
 0405            AD     CHAR
 0406            TC     ENDNMTST
 0407   DECTOBIN INDEX  INREL
 0408            XCH    VERBREG
 0409            TS     MPAC            SUM X 2EXP-14 IN MPAC
 0410            CAF    ZERO
 0411            TS     MPAC    +1
 0412            CAF    TEN             10 X 2EXP-14
 0413            TC     SHORTMP         10SUM X 2EXP-28 IN MPAC, MPAC+1
 0414            XCH    MPAC    +1
 0415            AD     CHAR
 0416            TS     MPAC    +1
 0417            TC     ENDNMTST        NO OF
 0418            ADS    MPAC            OF MUST BE 5TH CHAR
 0419            TC     DECEND
 0420   ENDNMTST INDEX  INREL
 0421            TS     VERBREG
 0422            CS     DSPCOUNT
 0423            INDEX  INREL
 0424            AD     CRITCON
 0425            EXTEND
 0426            BZF    ENDNUM          -0, DSPCOUNT = CRITCON
 0427            TC     MORNUM          - , DSPCOUNT G/ CRITCON
 0428   ENDNUM   CAF    THREE
 0429            MASK   DECBRNCH
 0430            CCS    A
 0431            TC     DECEND
 0432   ENDALL   CS     DSPCOUNT        BLOCK NUMIN BY PLACING DSPCOUNT
 0433            TC     MORNUM  +1      NEGATIVELY
 0434   DECEND   TC     DMP             MULT SUM X 2EXP-28 IN MPAC, MPAC+1 BY
 0435            ADRES  DECON           2EXP14/10EXP5. GIVES(SUM/10EXP5)X2EXP-14
 0436            CAF    THREE           IN MPAC, +1, +2.
 0437            MASK   DECBRNCH
 0438            INDEX  A
 0439            TC     +0
 0440            TC     +DECSGN
 0441            EXTEND                 - CASE
 0442            DCS    MPAC    +1
 0443            DXCH   MPAC    +1
 0444   +DECSGN  XCH    MPAC    +2
 0445            INDEX  INREL
 0446            TS     XREGLP  -2
 0447            XCH    MPAC    +1
 0448            INDEX  INREL
 0449            TS     VERBREG
 0450            TC     ENDALL
 0451   MORNUM   CCS    DSPCOUNT        DECREMENT DSPCOUNT
 0452            TS     DSPCOUNT
 0453  2         TC     ENDOFJOB
 0454   CRITCON  OCT    22              (DEC 18)
 0455            OCT    20              (DEC 16)
 0456            OCT    12              (DEC 10)
 0457            OCT    5
 0458  2         OCT    0
 0459  4DECON    2DEC   E-5 B14         2EXP14/10EXP5 = .16384 DEC
R0460   GETINREL GETS PROPER DATA REG REL ADDRESS FOR CURRENT C(DSPCOUNT) AND
R0461  2PUTS IN INTO INREL. +0 VERBREG, 1 NOUNREG, 2 XREG, 3 YREG, 4 ZREG.
 0462   GETINREL INDEX  DSPCOUNT
 0463            CAF    INRELTAB
 0464            TS     INREL           (A TEMP, REG)
 0465  2         TC     Q
 0466   INRELTAB OCT    4               R3D5 (DSPCOUNT = 0)
 0467            OCT    4               R3D4           =(1)
 0468            OCT    4               R3D3           =(2)
 0469            OCT    4               R3D2           =(3)
 0470            OCT    4               R3D1           =(4)
 0471            OCT    3               R2D5           =(5)
 0472            OCT    3               R2D4           =(6)
 0473            OCT    3               R2D3           =(7)
 0474            OCT    3               R2D2           =(8D)
 0475            OCT    3               R2D1           =(9D)
 0476            OCT    2               R1D5           =(10D)
 0477            OCT    2               R1D4           =(11D)
 0478            OCT    2               R1D3           =(12D)
 0479            OCT    2               R1D2           =(13D)
 0480            OCT    2               R1D1           =(14D)
 0481            TC     CCSHOLE         NO DSPCOUNT NUMBER = 15D
 0482            OCT    1               ND2            =(16D)
 0483            OCT    1               ND1            =(17D)
 0484            OCT    0               VD2            =(18D)
 0485  4         OCT    0               VD1            =(19D)
 0486   VERB     CAF    ZERO
 0487            TS     VERBREG
 0488            CAF    VD1
 0489   NVCOM    TS     DSPCOUNT
 0490            TC     2BLANK
 0491            CAF    ZERO
 0492            TS     DECBRNCH
 0493            TS     REQRET          SET FOR ENTPAS0
 0494            CAF    ENDINST         IF DSPALARM OCCURS BEFORE FIRST ENTPAS0
 0495            TS     ENTRET          OR NVSUB, ENTRET MUST ALREADY BE SET
A0496                                   TO TC ENDOFJOB
 0497            TC     ENDOFJOB
 0498   NOUN     CAF    ZERO
 0499            TS     NOUNREG
 0500            CAF    ND1             ND1, OCT 21 (DEC 17)
 0501  4         TC     NVCOM
 0502   NEGSGN   TC     SIGNTEST
 0503            TC     -ON
 0504            CAF    TWO
 0505   BOTHSGN  INDEX  INREL           SET DEC COMP BIT TO 1 (IN DECBRNCH)
 0506            AD     BIT7            BIT 5 FOR R1,  BIT 4 FOR R2,
 0507            ADS    DECBRNCH        BIT 3 FOR R3.
 0508   FIXCLPAS CCS    CLPASS          IF CLPASS IS + OR +0, MAKE IT +0.
 0509            CAF    ZERO
 0510            TS     CLPASS
 0511            TC     +1
 0512  2         TC     ENDOFJOB
 0513   POSGN    TC     SIGNTEST
 0514            TC     +ON
 0515            CAF    ONE
 0516  2         TC     BOTHSGN
 0517   +ON      LXCH   Q
 0518            TC     GETINREL
 0519            INDEX  INREL
 0520            CAF    SGNTAB  -2
 0521            TS     SGNOFF
 0522            AD     ONE
 0523            TS     SGNON
 0524   SGNCOM   CAF    ZERO
 0525            TS     CODE
 0526            XCH    SGNOFF
 0527            TC     11DSPIN
 0528            CAF    BIT11
 0529            TS     CODE
 0530            XCH    SGNON
 0531            TC     11DSPIN
 0532            TC     L
 0533   -ON      LXCH   Q
 0534            TC     GETINREL
 0535            INDEX  INREL
 0536            CAF    SGNTAB  -2
 0537            TS     SGNON
 0538            AD     ONE
 0539            TS     SGNOFF
 0540  2         TC     SGNCOM
 0541   SGNTAB   OCT    5               -R1
 0542            OCT    3               -R2
 0543  4         OCT    0               -R3
 0544   SIGNTEST LXCH   Q               ALLOWS +,- ONLY WHEN DSPCOUNT=R1D1,
 0545            CAF    THREE           R2D1, OR R3D1. ALLOWS ONLY FIRST OF
 0546            MASK   DECBRNCH        CONSEQUTIVE +/- CHARACTERS.
 0547            CCS    A               IF LOW 2 BITS OF DECBRNCH NOT = 0, SIGN
 0548            TC     ENDOFJOB        FOR THIS WORD ALREADY IN. REJECT.
 0549            CS     R1D1
 0550            TC     SGNTST1
 0551            CS     R2D1
 0552            TC     SGNTST1
 0553            CS     R3D1
 0554            TC     SGNTST1
 0555            TC     ENDOFJOB        NO MATCH FOUND. SIGN ILLEGAL
 0556   SGNTST1  AD     DSPCOUNT
 0557            EXTEND
 0558            BZF    +2              MATCH FOUND
 0559            TC     Q
 0560  4         TC     L               SIGN LEGAL
R0561   ERROR LIGHT RESET (RSET) TURNS OFF,
R0562   UPLINK ACTIVITY, AUTO, HOLD, FREE, NO ATT, OPERATOR ERROR,
R0563   PROG ALM, TRACKER FAIL.
R0564   LEAVES GIMBAL LOCK ALONE.
R0565   IT ALSO ZEROES THE :TEST ALARM: OUT BIT, WHICH TURNS OFF STBY,RESTART.
R0566   IT ALSO SETS :CAUTION RESET: TO 1.
R0567  2IT ALSO FORCES BIT 12 OF ALL DSPTAB ENTRIES TO 1.
 0568   ERROR    XCH    21/22REG        RESTORE ORIGINAL C(DSPLOCK). THUS ERROR
 0569            TS     DSPLOCK         LIGHT RESET LEAVES DSPLOCK UNCHANGED.
 0570            INHINT
 0571            CAF    BIT10           TURN ON :CAUTION RESET: OUTBIT
 0572            EXTEND
 0573            WOR    DSALMOUT        BIT10 CHAN 11
 0574            CAF    GL+NOATT        LEAVE GIMBAL LOCK AND NO ATT INTACT,
 0575            MASK   DSPTAB +11D     TURNING OFF AUTO, HOLD, FREE,
 0576            AD     BIT15           PROG ALARM, AND TRACKER.
 0577            TS     DSPTAB +11D
 0578            CS     PRIO16          RESET FAIL BITS WHICH GENERATE PROG
 0579            MASK   IMODES33        ALARM SO THAT IF THE FAILURE STILL
 0580            AD     PRIO16          EXISTS, THE ALARM WILL COME BACK.
 0581            TS     IMODES33
 0582            CS     BIT10
 0583            MASK   IMODES30
 0584            AD     BIT10
 0585  2         TS     IMODES30
 0586            CS     RFAILS
 0587            MASK   RADMODES
 0588            AD     BIT7
 0589  2         TS     RADMODES
 0590            CS     BIT10           TURN OFF :TEST ALARM: OUTBIT.
 0591            EXTEND
 0592            WAND   CHAN13
 0593            CS     ERCON           TURN OFF UPLINK ACTIVITY,
 0594            EXTEND                 OPERATOR ERROR.
 0595            WAND   DSALMOUT
 0596   TSTAB    CAF    BINCON          (DEC 10)
 0597            TS     ERCNT           ERCNT = COUNT
 0598            INHINT
 0599            INDEX  ERCNT
 0600            CCS    DSPTAB
 0601            AD     ONE
 0602            TC     ERPLUS
 0603            AD     ONE
 0604   ERMINUS  CS     A
 0605            MASK   NOTBIT12
 0606            TC     ERCOM
 0607   ERPLUS   CS     A
 0608            MASK   NOTBIT12
 0609            CS     A               MIGHT WANT TO RESET CLPASS, DECBRNCH,
 0610   ERCOM    INDEX  ERCNT           ETC.
 0611            TS     DSPTAB
 0612            RELINT
 0613            CCS    ERCNT
 0614            TC     TSTAB   +1
 0615            CAF    ZERO
 0616            TS     FAILREG
 0617            TS     FAILREG +1
 0618            TS     FAILREG +2
 0619            TS     SFAIL
 0620  2         TC     ENDOFJOB
 0621   ERCON    OCT    104             CHAN 11 BITS 3,7.
A0622                                   UPLINK ACTIVITY, AND OPERATOR ERROR.
 0623   RFAILS   OCT    330             RADAR CDU AND DATA FAIL FLAGS.
 0624   GL+NOATT OCT    00050           NO ATT AND GIMBAL LOCK LAMPS
 0625  4NOTBIT12 OCT    73777
R0626   CLEAR BLANKS WHICH R1, R2, R3 IS CURRENT OR LAST TO BE DISPLAYED(PERTINE
R0627   NT XREG,YREG,ZREG IS CLEARED). SUCCESSIVE CLEARS TAKE CARE OF EACH RX
R0628  2L/ RC UNTIL R1 IS DONE. THEN NO FURTHER ACTION
R0629   THE SINGLE COMPONENT LOAD VERBS ALLOW ONLY THE SINGLE RC THAT IS
R0630  2APPROPRIATE TO BE CLEARED.
R0631   CLPASS   +0  PASS0, CAN BE BACKED UP
R0632            +NZ  HIPASS, CAN BE BACKED UP
R0633  2         -NZ  PASS0, CANNOT BE BACKED UP
 0634   CLEAR    CCS    DSPCOUNT
 0635            AD     ONE
 0636            TC     +2
 0637            AD     ONE
 0638            INDEX  A               DO NOT CHANGE DSPCOUNT BECAUSE MAY LATER
 0639            CAF    INRELTAB        FAIL LEGALTST.
 0640            TS     INREL           MUST SET INREL, EVEN FOR HIPASS.
 0641            CCS    CLPASS
 0642            TC     CLPASHI         +
 0643            TC     +2              +0    IF CLPASS IS +0 OR -, IT IS PASS0
 0644            TC     +1              -
 0645            CA     INREL
 0646            TC     LEGALTST
 0647            TC     CLEAR1
 0648   CLPASHI  CCS    INREL
 0649            TS     INREL
 0650            TC     LEGALTST
 0651            CAF    DOUBLK +2       +3 TO - NUMBER. BACKS DATA REQUESTS.
 0652            ADS    REQRET
 0653            CA     INREL
 0654            TS     MIXTEMP         TEMP STORAGE FOR INREL
 0655            EXTEND
 0656            DIM    VERBREG         DECREMENT VERB AND RE-DISPLAY
 0657            TC     BANKCALL
 0658            CADR   UPDATVB
 0659            CA     MIXTEMP
 0660            TS     INREL           RESTORE INREL
 0661   CLEAR1   TC     CLR5
 0662            INCR   CLPASS          ONLY IF CLPASS IS + OR +0,
 0663            TC     ENDOFJOB        SET FOR HIGHER PASS.
 0664   CLR5     LXCH   Q               USES 5BLANK  BUT AVOIDS ITS TC GETINREL
 0665            TC     5BLANK  +2
 0666   LEGALTST AD     NEG2
 0667            CCS    A
 0668            TC     Q               LEGAL  INREL G/ 2
 0669            TC     CCSHOLE
 0670            TC     ENDOFJOB        ILLEGAL   INREL= 0,1
 0671  4         TC     Q               LEGAL    INREL = 2
R0672   5BLANK BLANKS 5 CHAR DISPLAY WORD IN R1, R2, OR R3. IT ALSO ZEROES XREG,
R0673   YREG, OR ZREG.PLACE ANY + DSPCOUNT NUMBER FOR PERTINENT RC INTO DSPCOUNT
R0674  2DSPCOUNT IS LEFT SET TO LEFT MOST DSP NUMB FOR RC JUST BLANKED.
 0675   5BLANK   LXCH   Q
 0676            TC     GETINREL
 0677            CAF    ZERO
 0678            INDEX  INREL
 0679            TS     VERBREG         ZERO X, Y, Z REG.
 0680            INDEX  INREL
 0681            TS     XREGLP  -2
 0682            TS     CODE
 0683            INDEX  INREL           ZERO PERTINENT DEC COMP BIT.
 0684            CS     BIT7            PROTECT OTHERS
 0685            MASK   DECBRNCH
 0686            MASK   BRNCHCON        ZERO LOW 2 BITS.
 0687            TS     DECBRNCH
 0688            INDEX  INREL
 0689            CAF    SINBLANK -2     BLANK ISOLATED CHAR SEPARATELY
 0690            TS     COUNT
 0691            TC     DSPIN
 0692   5BLANK1  INDEX  INREL
 0693            CAF    DOUBLK  -2
 0694            TS     DSPCOUNT
 0695            TC     2BLANK
 0696            CS     TWO
 0697            ADS    DSPCOUNT
 0698            TC     2BLANK
 0699            INDEX  INREL
 0700            CAF    R1D1    -2
 0701            TS     DSPCOUNT        SET DSPCOUNT TO LEFT MOST DSP NUMBER
 0702  2         TC     L               OF REG. JUST BLANKED
 0703   SINBLANK OCT    16              DEC 14
 0704            OCT    5
 0705            OCT    4
 0706   DOUBLK   OCT    15              DEC 13
 0707            OCT    11              DEC 9
 0708  2         OCT    3
 0709  2BRNCHCON OCT    77774
R0710   2BLANK BLANKS TWO CHAR. PLACE DSP NUMBER OF LEFT CHAR  OF THE PAIR INTO
R0711  2DSPCOUNT. THIS NUMBER IS LEFT IN DSPCOUNT
 0712   2BLANK   CA     DSPCOUNT
 0713            TS     SR
 0714            CS     BLANKCON
 0715            INHINT
 0716            INDEX  SR
 0717            XCH    DSPTAB
 0718            EXTEND
 0719            BZMF   +2              IF OLD CONTENTS -, NOUT OK
 0720            INCR   NOUT            IF OLD CONTENTS +, +1 TO NOUT
 0721            RELINT                 IF -,NOUT OK
 0722            TC     Q
 0723  2BLANKCON OCT    4000
P0724   ENTER PASS 0 IS THE EXECUTE FUNCTION. HIGHER ORDER ENTERS ARE TO LOAD
R0725   DATA. THE SIGN OF REQRET DETERMINES THE PASS, + FOR PASS 0,- FOR HIGHER
R0726  4PASSES.
R0727   MACHINE CADR TO BE SPECIFIED (MCTBS) NOUNS DESIRE AN ECADR TO BE LOADED
R0728   WHEN USED WITH LOAD VERBS, MONITOR VERBS, OR DISPLAY VERBS (EXCEPT
R0729  4VERB = FIXED MEMORY DISPLAY, WHICH REQUIRES AN FCADR).
 0730  2         SETLOC 22000
 0731   NVSUBB   TC     NVSUB1          STANDARD LEAD INS. DONT MOVE.
 0732   DSPMM    TCF    DSPMM1
 0733   LOADLV1  TC     LOADLV
A0734  4                                END OF STANDARD LEAD INS.
 0735   ENTER    CAF    ZERO
 0736            TS     CLPASS
 0737            CAF    ENDINST
 0738            TS     ENTRET
 0739            CCS    REQRET
 0740            TC     ENTPAS0         IF +, PASS 0
 0741            TC     ENTPAS0         IF +, PASS 0
 0742            TC     +1              IF -, NOT PASS 0
 0743            CAF    THREE           IF DEC, ALARM IF LESS THAN 5 CHAR IN,
 0744            MASK   DECBRNCH        BUT LEAVE REQRET - AND FLASH ON, SO
 0745            CCS    A               OPERATOR CAN SUPPLY MISSING NUMERICAL
 0746            TC     +2              CHARACTERS AND CONTINUE.
 0747            TC     ACCEPTWD        OCTAL. ANY NUMBER OF CHAR OK.
 0748            CCS    DSPCOUNT
 0749            TC     GODSPALM        LESS THAN 5 CHAR DEC(DSPCOUNT IS +)
 0750            TC     GODSPALM        LESS THAN 5 CHAR DEC(DSPCOUNT IS +)
 0751            TC     +1              5 CHAR IN (DSPCOUNT IS -)
 0752   ACCEPTWD CS     REQRET          5 CHAR IN (DSPCOUNT IS -)
 0753            TS     REQRET          SET REQRET +.
 0754            TC     FLASHOFF
 0755  2         TC     REQRET
 0756  2ENTEXIT  =      ENTRET
 0757  2LOWVERB  OCT    30              LOWER VERB THAT AVOIDS NOUN TEST
 0758   ENTPAS0  CAF    ZERO             NOUN VERB SUB ENTERS HERE
 0759            TS     DECBRNCH
 0760   TESTVB   CS     VERBREG         IF VERB IS 30-77, SKIP NOUN TEST
 0761            AD     LOWVERB         30-VB
 0762            EXTEND
 0763            BZMF   VERBFAN         VERB G/E 30
 0764   TESTNN   EXTEND                 VERB L/ 30
 0765            DCA    LODNNLOC        SWITCH BANKS TO NOUN TABLE READING
 0766            DXCH   Z               ROUTINE.
 0767            INDEX  MIXBR
 0768            TC     +0
 0769            TC     +2              NORMAL
 0770            TC     MIXNOUN         MIXED
 0771            CCS    NNADTEM         NORMAL
 0772            TC     VERBFAN -2           NORMAL IF +
 0773            TC     GODSPALM        NOT IN USE   IF +0
 0774            TC     REQADD          SPECIFY MACHINE CADR IF -
 0775            INCR   NOUNCADR        AUGMENT MACHINE CADR IF -0
 0776            TC     SETNADD         ECADR FROM NOUNCADR. SETS EB, NOUNADD.
 0777            TC     INTMCTBS +2
 0778   REQADD   CAF    BIT15           SET CLPASS FOR PASS0 ONLY
 0779            TS     CLPASS
 0780            CS     ENDINST         TEST IF REACHED HERE FROM INTERNAL OR
 0781            AD     ENTEXIT                     FROM EXTERNAL
 0782            EXTEND
 0783            BZF    +2              EXTERNAL MACH CADR TO BE SPECIFIED
 0784            TC     INTMCTBS
 0785            TC     REQDATZ         EXTERNAL MACH CADR TO BE SPECIFIED
 0786            CCS    DECBRNCH
 0787            TC     GODSPALM        ALARM IF DECIMAL USED FOR MCTBS
 0788            XCH    ZREG            OCTAL USED    OK
 0789            TC     SETNCADR        ECADR INTO NOUNCADR. SET EB, NOUNADD.
 0790            EXTEND
 0791            DCA    LODNNLOC        SWITCH BANKS TO NOUN TABLE READING
 0792            DXCH   Z               ROUTINE.
 0793  2         TC     VERBFAN
 0794            EBANK= DSPCOUNT
 0795   LODNNLOC 2CADR  LODNNTAB
 0796  2NEG5     OCT    77772
 0797   INTMCTBS CA     MPAC    +2      INTERNAL MACH CADR TO BE SPECIFIED.
 0798            TC     SETNCADR        ECADR INTO NOUNCADR. SET EB, NOUNADD.
 0799            CS     BIT4            NVSUB CALL LEFT CADR IN MPAC+2 FOR MACH
 0800            MASK   VERBREG         CADR TO BE SPECIFIED.
 0801            AD     NEG5            MASKING MAKES VB15 LOOK LIKE VB05.
 0802            EXTEND
 0803            BZF    VERBFAN         VB = 05 OR 15, DO NOT DISPLAY CADR.
 0804            CAF    R3D1            VB NOT = 05 OR 15, DISPLAY CADR.
 0805            TS     DSPCOUNT
 0806            CA     NOUNCADR
 0807            TC     DSPOCTWD
 0808  2         TC     VERBFAN
 0809            AD     ONE
 0810            TC     SETNCADR        ECADR INTO NOUNCADR. SETS EB, NOUNADD.
 0811   VERBFAN  CS     LST2CON
 0812            AD     VERBREG         VERB-LST2CON
 0813            CCS    A
 0814            AD     ONE             VERB G/ LST2CON
 0815            TC     +2
 0816            TC     VBFANDIR        VERB L/ LST2CON
 0817            TS     MPAC
 0818            TC     RELDSP          RELEASE DISPLAY SYST
 0819            XCH    MPAC            ALSO TURN OFF RELEASE DISPLAY SYST LIGHT
 0820            AD     LST2CADR
 0821            TC     BANKJUMP
 0822   LST2CON  OCT    40              FIRST LST2 VERB
 0823  2LST2CADR CADR   LST2FAN
 0824   VBFANDIR INDEX  VERBREG
 0825            CAF    VERBTAB
 0826  2         TC     BANKJUMP
 0827   VERBTAB  CADR   GODSPALM        VB00 ILLEGAL
 0828            CADR   DSPA            VB01 DISPLAY OCT COMP 1 (R1)
 0829            CADR   DSPB            VB02 DISPLAY OCT COMP 2 (R1)
 0830            CADR   DSPC            VB03 DISPLAY OCT COMP 3 (R1)
 0831            CADR   DSPAB           VB04 DISPLAY OCT COMP 1,2 (R1,R2)
 0832            CADR   DSPABC          VB05 DISPLAY OCT COMP 1,2,3 (R1,R2,R3)
 0833            CADR   DECDSP          VB06 DECIMAL DISPLAY
 0834            CADR   DSPDPDEC        VB07 DP DECIMAL DISPLAY (R1,R2)
 0835            CADR   DSPALARM        VB10 SPARE
 0836            CADR   MONITOR         VB11 MONITOR OCT COMP 1 (R1)
 0837            CADR   MONITOR         VB12 MONITOR OCT COMP 2 (R1)
 0838            CADR   MONITOR         VB13 MONITOR OCT COMP 3 (R1)
 0839            CADR   MONITOR         VB14 MONITOR OCT COMP 1,2 (R1,R2)
 0840            CADR   MONITOR         VB15 MONITOR OCT COMP 1,2,3 (R1,R2,R3)
 0841            CADR   MONITOR         VB16 MONITOR DECIMAL
 0842            CADR   MONITOR         VB17 MONITOR DP DEC  (R1,R2)
 0843            CADR   GODSPALM        VB20 SPARE
 0844            CADR   ALOAD           VB21 LOAD COMP 1 (R1)
 0845            CADR   BLOAD           VB22 LOAD COMP 2 (R2)
 0846            CADR   CLOAD           VB23 LOAD COMP 3 (R3)
 0847            CADR   ABLOAD          VB24 LOAD COMP 1,2 (R1,R2)
 0848            CADR   ABCLOAD         VB25 LOAD COMP 1,2,3 (R1,R2,R3)
 0849            CADR   GODSPALM        VB26 SPARE
 0850            CADR   DSPFMEM         VB27 FIXED MEMORY DISPLAY
A0851                                   THE FOLLOWING VERBS MAKE NO NOUN TEST
 0852   REQEXLOC CADR   VBRQEXEC        VB30 REQUEST EXECUTIVE
 0853            CADR   VBRQWAIT        VB31 REQUEST WAITLIST
 0854            CADR   BUMP            VB32 C(R2) INTO R3, C(R1) INTO R2
 0855            CADR   VBPROC          VB33 PROCEED WITHOUT DATA
 0856            CADR   VBTERM          VB34 TERMINATE CURRENT TEST OR LOAD REQ
 0857            CADR   VBTSTLTS        VB35 TEST LIGHTS
 0858            CADR   SLAP1           VB36 FRESH START
 0859  4ENDVBFAN CADR   MMCHANG         VB37 CHANGE MAJOR MODE
R0860   THE LIST2 VERBFAN IS LOCATED IN THE EXTENDED VERB BANK.
P0861   NNADTAB CONTAINS A RELATIVE ADDRESS, IDADDREL(IN LOW 10 BITS), REFERRING
R0862   TO WHERE 3 CONSECUTIVE ADDRESSES ARE STORED (IN IDADDTAB).
R0863   MIXNOUN GETS DATA AND STORES IN MIXTEMP,+1,+2. IT SETS NOUNADD FOR
R0864  2 MIXTEMP.
 0865   MIXNOUN  CCS    NNADTEM
 0866            TC     +4              +  IN USE
 0867            TC     GODSPALM        +0  NOT IN USE
 0868            TC     +2              -  IN USE
 0869            TC     +1              -0  IN USE
 0870            CS     SIX
 0871            AD     VERBREG
 0872            EXTEND
 0873            BZMF   +2              VERB L/E 6
 0874            TC     VERBFAN         AVOID MIXNOUN SWAP IF VB NOT = DISPLAY
 0875            CAF    TWO
 0876   MIXNN1   TS     DECOUNT
 0877            AD     MIXAD
 0878            TS     NOUNADD         SET NOUNADD TO MIXTEMP + K
 0879            INDEX  DECOUNT         GET IDADDTAB ENTRY FOR COMPONENT K
 0880            CA     IDAD1TEM        OF NOUN.
 0881            TS     NOUNTEM
A0882                                   TEST FOR DP(FOR OCT DISPLAY). IF SO, GET
A0883                                     MINOR PART ONLY.
 0884            TC     SFRUTMIX        GET SF ROUT NUMBER IN A
 0885            TC     DPTEST
 0886            TC     MIXNN2          NO DP
 0887            INCR   NOUNTEM         DP  GET MINOR PART
 0888   MIXNN2   CA     NOUNTEM
 0889            MASK   LOW11           ESUBK (NO DP)  OR (ESUBK)+1    FOR DP
 0890            TC     SETEBANK        SET EBANK, LEAVE EADRES IN A.
 0891            INDEX  A               PICK UP C(ESUBK)  NOT DP
 0892            CA     0               OR C((ESUBK)+1)  FOR DP MINOR PART
 0893            INDEX  NOUNADD
 0894            XCH    0               STORE IN MIXTEM + K
 0895            CCS    DECOUNT
 0896            TC     MIXNN1
 0897  2         TC     VERBFAN
 0898  4MIXAD    TC     MIXTEMP
R0899   DPTEST   ENTER WITH SF ROUT NUMBER IN A.
R0900            RETURNS TO L+1 IF NO DP.
R0901  2         RETURNS TO L+2 IF DP.
 0902   DPTEST   INDEX  A
 0903            TCF    +1
 0904            TC     Q               OCTAL ONLY  NO DP
 0905            TC     Q               FRACT NO DP
 0906            TC     Q               DEG  NO DP
 0907            TC     Q               ARITH  NO DP
 0908            TCF    DPTEST1         DP1OUT
 0909            TCF    DPTEST1         DP2OUT
 0910            TC     Q               OPDEG  NO DP
 0911            TCF    DPTEST1         DP3OUT
 0912   DPTEST1  INDEX  Q
 0913  4         TC     1               RETURN TO L+2
 0914   REQDATX  CAF    R1D1
 0915            TCF    REQCOM
 0916   REQDATY  CAF    R2D1
 0917            TCF    REQCOM
 0918   REQDATZ  CAF    R3D1
 0919   REQCOM   TS     DSPCOUNT
 0920            CS     Q
 0921            TS     REQRET
 0922            TC     BANKCALL
 0923            CADR   5BLANK
 0924            TC     FLASHON
 0925            CS     ENDINST
 0926            AD     ENTEXIT
 0927            EXTEND
 0928            BZF    ENDRQDAT        ENTEXIT = ENDOFJOB. EXTERNALLY INITIATED
 0929            CS     ZERO            ENTEXIT NOT ENDOFJOB. NVSUB INITIATED
 0930            TS     CADRSTOR        NVSUB INITIATED LOAD. SET CADRSTOR TO -0
 0931  2ENDRQDAT TC     ENTEXIT
R0932   IF NVSUB INITIATED LOAD, SET CADRSTOR TO -0 TO TELL RECALTST TO RELEASE
R0933  4DISPLAY IF ENDIDLE WAS NOT USED. (NECESSARY FOR DATAWAIT)
 0934            TS     NOUNREG
 0935   UPDATNN  XCH    Q
 0936            TS     UPDATRET
 0937            EXTEND
 0938            DCA    LODNNLOC        SWITCH BANKS TO NOUN TABLE READING
 0939            DXCH   Z               ROUTINE.
 0940            CCS    NNADTEM
 0941            AD     ONE             NORMAL
 0942            TCF    PUTADD
 0943            TCF    PUTADD  +1      MCTBS  DONT CHANGE NOUNADD
 0944            TCF    PUTADD  +1      MCTBI  DONT CHANGE NOUNADD
 0945   PUTADD   TC     SETNCADR        ECADR INTO NOUNCADR. SETS EB, NOUNADD.
 0946            CAF    ND1
 0947            TS     DSPCOUNT
 0948            CA     NOUNREG
 0949  2         TCF    UPDAT1
 0950            TS     VERBREG
 0951   UPDATVB  XCH    Q
 0952            TS     UPDATRET
 0953            CAF    VD1
 0954            TS     DSPCOUNT
 0955            CA     VERBREG
 0956   UPDAT1   TC     DSP2BIT
 0957  4         TC     UPDATRET
 0958   GODSPALM TC     POSTJUMP
 0959            CADR   DSPALARM
P0960            NOUN   TABLES
R0961   NOUN CODE L/ 55, NORMAL CASE.  NOUN CODE G/E 55, MIXED NOUN CASE.
R0962   FOR NORMAL CASE, NNADTAB CONTAINS ONE       ECADR     FOR EACH NOUN.
R0963   +0 INDICATES NOUN NOT USED.   - ENTRY INDICATES MACHINE CADR(E OR F) TO
R0964   BE SPECIFIED. -1 INDICATES CHANNEL TO BE SPECIFIED. -0 INDICATES AUGMENT
R0965  2OF LAST MACHINE CADR SUPPLIED.
R0966   FOR MIXED CASE, NNADTAB CONTAINS ONE INDIRECT ADDRESS(IDADDREL) IN LOW
R0967  210 BITS, AND THE COMPONENT CODE NUMBER IN THE HIGH 5 BITS.
R0968  2NNTYPTAB IS A PACKED TABLE OF THE FORM MMMMMNNNNNPPPPP.
R0969   FOR THE NORMAL CASE, M-S ARE THE COMPONENT CODE NUMBER.
R0970                        N-S ARE THE SF ROUTINE CODE NUMBER.
R0971  2                     P-S ARE THE SF CONSTANT CODE NUMBER.
R0972   MIXED CASE,M-S ARE THE SF CONSTANT3 CODE NUMBER     3 COMPONENT CASE
R0973              N-S ARE THE SF CONSTANT2 CODE NUMBER
R0974              P-S ARE THE SF CONSTANT1 CODE NUMBER
R0975              N-S ARE THE SF CONSTANT2 CODE NUMBER     2 COMPONENT CASE
R0976              P-S ARE THE SF CONSTANT1 CODE NUMBER
R0977  2           P-S ARE THE SF CONSTANT1 CODE NUMBER      1 COMPONENT CASE
R0978   THERE IS ALSO AN INDIRECT ADDRESS TABLE(IDADDTAB) FOR MIXED CASE ONLY.
R0979   EACH ENTRY CONTAINS ONE ECADR.    IDADDREL IS THE RELATIVE ADDRESS OF
R0980   THE FIRST OF THESE ENTRIES.
R0981   THERE IS ONE ENTRY IN THIS TABLE FOR EACH COMPONENT OF A MIXED NOUN
R0982  2THEY ARE LISTED IN ORDER OF ASCENDING K.
R0983   THERE IS ALSO A SCALE FACTOR ROUTINE NUMBER TABLE( RUTMXTAB ) FOR MIXED
R0984   CASE ONLY. THERE IS ONE ENTRY PER MIXED NOUN. THE FORM IS,
R0985         QQQQQRRRRRSSSSS
R0986   Q-S ARE THE SF ROUTINE 3 CODE NUMBER     3 COMPONENT CASE
R0987   R-S ARE THE SF ROUTINE 2 CODE NUMBER
R0988   S-S ARE THE SF ROUTINE 1 CODE NUMBER
R0989   R-S ARE THE SF ROUTINE 2 CODE NUMBER     2 COMPONENT CASE
R0990  4S-S ARE THE SF ROUTINE 1 CODE NUMBER
R0991   IN OCTAL DISPLAY AND LOAD (OCT OR DEC) VERBS, EXCLUDE USE OF VERBS WHOSE
R0992   COMPONENT NUMBER IS GREATER THAN THE NUMBER OF COMPONENTS IN NOUN.
R0993   ALL MACHINE ADDRESS TO BE SPECIFIED NOUNS ARE 1 COMPONENT.
R0994   ONLY EXCEPTION IS NOUN 01 TO ALLOW OCTAL DISPLAYS AND LOADS OF
R0995  4AN UNCONTOLLED NUMBER OF COMPONENTS.
R0996   IN MULTI-COMPONENT LOAD VERBS, NO MIXING OF OCTAL AND DECIMAL DATA
R0997  2COMPONENT WORDS IS ALLOWED. ALARM IF VIOLATION.
R0998   IN DECIMAL LOADS OF DATA, 5 NUMERICAL CHARACTERS MUST BE KEYED IN
R0999   BEFORE EACH ENTER. IF NOT, ALARM.
P1000            DISPLAY  VERBS
 1001   DSPABC   CS     TWO
 1002            TC     COMPTEST
 1003            INDEX  NOUNADD
 1004            CS     2
 1005            XCH    BUF     +2
 1006   DSPAB    CS     ONE
 1007            TC     COMPTEST
 1008            INDEX  NOUNADD
 1009            CS     1
 1010            XCH    BUF     +1
 1011   DSPA     TC     TSTFORDP
 1012            INDEX  NOUNADD
 1013            CS     0
 1014   DSPCOM1  XCH    BUF
 1015            TC     DSPCOM2
 1016   DSPB     CS     ONE
 1017            TC     COMPTEST
 1018            INDEX  NOUNADD
 1019            CS     1
 1020            TC     DSPCOM1
 1021   DSPC     CS     TWO
 1022            TC     COMPTEST
 1023            INDEX  NOUNADD
 1024            CS     2
 1025            TC     DSPCOM1
 1026   DSPCOM2  CS     TWO             A  B  C  AB  ABC
 1027            AD     VERBREG         -1 -0 +1 +2  +3   IN A
 1028            CCS    A               +0 +0 +0 +1  +2    IN A AFTER CCS
 1029            TC     DSPCOM3
 1030            TC     ENTEXIT
 1031            TC     +1
 1032   DSPCOM3  TS     DISTEM          +0,+1,+2 INTO DISTEM
 1033            INDEX  A
 1034            CAF    R1D1
 1035            TS     DSPCOUNT
 1036            INDEX  DISTEM
 1037            CS     BUF
 1038            TC     DSPOCTWD
 1039            XCH    DISTEM
 1040  2         TC     DSPCOM2 +2
R1041   COMPTEST ALARMS IF COMPONENT NUMBER OF VERB(LOAD OR OCT DISPLAY) IS
R1042   GREATER THAN THE HIGHEST COMPONENT NUMBER OF NOUN.
R1043   NOUN 01 IS EXCLUDED FROM TEST.
 1044   COMPTEST TS     SFTEMP1         - VERB COMP
 1045            LXCH   Q
 1046   COMPTST1 CS     ONE
 1047            AD     NOUNREG
 1048            EXTEND
 1049            BZF    NDCMPTST        NOUN = 01, ANY COMP OK
 1050            INDEX  MIXBR           NOUN NOT = 01.
 1051            CAF    COMPICK -1
 1052            INDEX  A
 1053            CA     0
 1054            MASK   HI5
 1055            TC     LEFT5           NOUN COMP
 1056            AD     SFTEMP1         NOUN COMP - VERB COMP
 1057            CCS    A
 1058            TC     L               NOUN COMP G/ VERB COMP
 1059            TC     CCSHOLE
 1060            TC     GODSPALM        NOUN COMP L/ VERB COMP
 1061  4NDCMPTST TC     L               NOUN COMP = VERB COMP
 1062   TSTFORDP LXCH   Q               TEST FOR DP. IF SO, GET MINOR PART ONLY.
 1063            CA     NNADTEM
 1064            AD     ONE             IF NNADTEM = -1, CHANNEL TO BE SPECIFIED
 1065            EXTEND
 1066            BZF    CHANDSP
 1067            INDEX  MIXBR
 1068            TC     +0
 1069            TC     +2              NORMAL
 1070            TC     L               MIXED CASE ALREADY HANDLED IN MIXNOUN
 1071            TC     SFRUTNOR
 1072            TC     DPTEST
 1073            TC     L               NO DP
 1074            INCR   NOUNADD         DP    E+1 INTO NOUNADD FOR MINOR PART.
 1075  4         TC     L
 1076   CHANDSP  EXTEND
 1077            INDEX  NOUNCADR
 1078            READ   0
 1079            CS     A
 1080  4         TCF    DSPCOM1
 1081   COMPICK  ADRES  NNTYPTEM
 1082  2         ADRES  NNADTEM
 1083   DECDSP   INDEX  MIXBR           NORMAL                MIXED
 1084            CAF    COMPICK -1      ADRES NNTYPTEM        ADRES NNADTEM
 1085            INDEX  A
 1086            CA     0               C(NNTYPTEM)           C(NNADTEM)
 1087            MASK   HI5             GET HI5 OF NNTYPTAB(NORM)OF NNADTAB(MIX)
 1088            TC     LEFT5
 1089            TS     DECOUNT         COMP NUMBER INTO DECOUNT
 1090   DSPDCGET TS     DECTEM          PICKS UP DATA
 1091            AD     NOUNADD         DECTEM  1COMP +0, 2COMP +1, 3COMP +2
 1092            INDEX  A
 1093            CS     0
 1094            INDEX  DECTEM
 1095            XCH    XREG            CANT USE BUF SINCE DMP USES IT.
 1096            CCS    DECTEM
 1097            TC     DSPDCGET        MORE TO GET
 1098   DSPDCPUT CAF    ZERO            DISPLAYS DATA
 1099            TS     MPAC    +1      DECOUNT 1COMP +0, 2COMP +1, 3COMP +2
 1100            TS     MPAC    +2
 1101            INDEX  DECOUNT
 1102            CAF    R1D1
 1103            TS     DSPCOUNT
 1104            INDEX  DECOUNT
 1105            CS     XREG
 1106            TS     MPAC
 1107            TC     SFCONUM         2X( SF CON NUMB ) IN A
 1108            TS     SFTEMP1
 1109            EXTEND                 SWITCH BANKS TO SF CONSTANT TABLE
 1110            DCA    GTSFOUTL           READING ROUTINE.
 1111            DXCH   Z               LOADS SFTEMP1, SFTEMP2.
 1112            INDEX  MIXBR
 1113            TC     +0
 1114            TC     DSPSFNOR
 1115            TC     SFRUTMIX
 1116  2         TC     DECDSP3
 1117   DSPSFNOR TC     SFRUTNOR
 1118  2         TC     DECDSP3
 1119            EBANK= DSPCOUNT
 1120  4GTSFOUTL 2CADR  GTSFOUT
 1121   DSPDCEND TC     BANKCALL        ALL SFOUT ROUTINES END HERE
 1122            CADR   DSPDECWD
 1123            CCS    DECOUNT
 1124            TC     +2
 1125            TC     ENTEXIT
 1126            TS     DECOUNT
 1127  4         TC     DSPDCPUT        MORE TO DISPLAY
 1128   DECDSP3  INDEX  A
 1129            CAF    SFOUTABR
 1130  2         TC     BANKJUMP
 1131   SFOUTABR CADR   DSPALARM        ALARM IF DEC DISP WITH OCTAL ONLY NOUN
 1132            CADR   DSPDCEND
 1133            CADR   DEGOUTSF
 1134            CADR   ARTOUTSF
 1135            CADR   DP1OUTSF
 1136            CADR   DP2OUTSF
 1137            CADR   OPDEGOUT
 1138            CADR   DP3OUTSF
 1139  4ENDRTOUT EQUALS
R1140           THE FOLLOWING IS ATYPICAL SF ROUTINE . IT USES MPAC. LEAVES RESU
R1141  4LTS IN MPAC, MPAC+1. ENDS WITH TC DSPDCEND
 1142  2         SETLOC BLANKCON +1
R1143      DEGOUTSF SCALES BY .18 THE LOW 14 BITS OF ANGLE , ADDING .18 FOR
R1144  2NUMBERS IN THE NEGATIVE (AGC) RANGE.
 1145   DEGOUTSF CAF    ZERO
 1146            TS     MPAC    +2      SET INDEX FOR FULL SCALE
 1147            TC     FIXRANGE
 1148            TC     +2              NO AUGMENT NEEDED (SFTEMP1 AND 2 ARE 0)
 1149            TC     SETAUG          SET AUGMENTER ACCORDING TO C(MPAC +2)
 1150  2         TC     DEGCOM
R1151  2OPDEGOUT SCALES BY .45 (THE RANGE IS 90 DEGREES) AND ADDS A 20 DEG BIAS.
 1152   OPDEGOUT CCS    MPAC            RANGE IS 90 DEG
 1153            XCH    MPAC            IF POS OR POS 0 THEN ADD BIAS AND
 1154            TC     +3              CORRECT FOR POSSIBLE OVERFLOW
 1155            TC     NEGOPT          IF NEG NON ZERO
 1156            AD     NEG1            IF NEG ZERO SUBTRACT 1
 1157            AD     20BIAS
 1158   BIASCOM  TS     MPAC            TEST FOR OVERFLOW
 1159            TC     +3              NO OVFLOW
 1160            CAF    BIT15           IF OVFLOW
 1161            ADS    MPAC
 1162            CAF    TWO             SET MULTIPLIER TO .45
 1163  2         TC     DEGOUTSF +1
 1164   NEGOPT   XCH    MPAC            NEGATIVE CASE
 1165            AD     20BIAS
 1166            CCS    A
 1167            TC     BIASCOM         IF POS THEN SUBTRACT 1 BECAUSE OF 2SCOM
 1168            TC     CCSHOLE
 1169            AD     ONE             IF NEG RESTORE SUM
 1170            COM                    IF NEG 0 LEAVE NEG 0
 1171  2         TC     BIASCOM
 1172   SETAUG   EXTEND                 LOADS SFTEMP1 AND SFTEMP2 WITH THE
 1173            INDEX  MPAC    +2      DP AUGMENTER CONSTANT
 1174            DCA    DEGTAB
 1175            DXCH   SFTEMP1
 1176  2         TC     Q
 1177   FIXRANGE CCS    MPAC            IF MPAC IS + RETURN TO L+1
 1178            TC     Q               IF MPAC IS - RETURN TO L+2 AFTER
 1179            TC     Q               MASKING OUT THE SIGN BIT
 1180            TCF    +1
 1181            CS     BIT15
 1182            MASK   MPAC
 1183            TS     MPAC
 1184            INDEX  Q
 1185  2         TC     1
 1186   DEGCOM   EXTEND                 LOADS MULTIPLIER , DOES SHORTMP, AND
 1187            INDEX  MPAC    +2      ADDS AUGMENTER.
 1188            DCA    DEGTAB
 1189            DXCH   MPAC            ADJUSTED ANGLE IN A
 1190            TC     SHORTMP
 1191            DXCH   SFTEMP1
 1192            DAS    MPAC
 1193  4         TC     SCOUTEND
 1194   DEGTAB   OCT    05605           HI PART OF     .18
 1195            OCT    03656           LOW PART OF    .18
 1196            OCT    16314           HI PART OF     .45
 1197  2         OCT    31463           LO PART OF     .45
 1198  220BIAS   OCT    16040           20 DEG BIAS FOR OPTICS
 1199   ARTOUTSF DXCH   SFTEMP1         ASSUMES POINT AT LEFT OF DP SFCON
 1200            DXCH   MPAC
 1201            TC     SHORTMP
 1202   SCOUTEND TC     POSTJUMP
 1203  2         CADR   DSPDCEND
 1204   DP1OUTSF TC     DPOUT           SCALES MPAC, MPAC +1 BY DP SCALE FACTOR
 1205            XCH    MPAC    +2      IN SFTEMP1, SFTEMP2.  THEN SCALE RESULT
 1206            XCH    MPAC    +1      BY B14.
 1207            TS     MPAC
 1208  4         TC     SCOUTEND
 1209   DP2OUTSF TC     DPOUT           SCALES MPAC , MPAC +1 BY DP SCALE FACTOR
 1210  4         TC     SCOUTEND
 1211   DP3OUTSF TC     DPOUT           ASSUMES POINT BETWEEN BITS 7-8 OF HIGH
 1212            TC     TPLEFT7         PART OF SFCON. SHIFTS RESULTS LEFT 7.
 1213  4         TC     SCOUTEND
R1214   DPOUT PICKS UP FRESH DATA FOR BOTH HI AND LO COMPONENTS.
R1215  2THIS IS NEEDED FOR TIME DISPLAY.
 1216   DPOUT    XCH    Q
 1217            TS     OVFIND
 1218            INDEX  MIXBR
 1219            TC     +0
 1220            TC     DPOUTNOR
 1221            INDEX  DECOUNT         GET IDADDTAB ENTRY FOR COMPONENT K
 1222            CA     IDAD1TEM            OF NOUN.
 1223            MASK   LOW11           E SUBK
 1224            TC     SETEBANK        SET EB, LEAVE EADRES IN A.
 1225   DPOUTCOM EXTEND
 1226            INDEX  A               MIXED         NORMAL
 1227            DCA    0               C(ESUBK)      C(E)
 1228            DXCH   MPAC            C((E SUBK)+1)      C(E+1)
 1229            TC     TPAGREE
 1230            TC     DMP
 1231            ADRES  SFTEMP1
 1232  2         TC     OVFIND
 1233   DPOUTNOR CA     NOUNADD         E
 1234  4         TC     DPOUTCOM
R1235   THIS IS A SPECIAL PURPOSE VERB FOR DISPLAYING A DOUBLE PRECISION AGC
R1236   WORD AS 10 DECIMAL DIGITS ON THE AGC DISPLAY PANEL.  IT CAN BE USED WITH
R1237   ANY NOUN, EXCEPT MIXED NOUNS. IT DISPLAYS THE CONTENTS
R1238   OF THE REGISTER NOUNADD IS POINTING TO .  IF USED WITH NOUNS WHICH ARE
R1239   INHERENTLY NOT DP SUCH AS THE CDU COUNTERS THE DISPLAY WILL BE GARBAGE.
R1240  4DISPLAY IS IN R1 AND R2 ONLY WITH THE SIGN IN R1.
 1241   DSPDPDEC INDEX  MIXBR
 1242            TC     +0
 1243            TC     +2              NORMAL NOUN
 1244            TC     DSPALARM
 1245            EXTEND
 1246            INDEX  NOUNADD
 1247            DCA    0
 1248            DXCH   MPAC
 1249            CAF    R1D1
 1250            TS     DSPCOUNT
 1251            CAF    ZERO
 1252            TS     MPAC  +2
 1253            TC     TPAGREE
 1254            TC     DSP2DEC
 1255   ENDDPDEC TC     ENTEXIT
P1256  4         LOAD   VERBS
 1257  2         SETLOC ENDRTOUT
 1258   ABCLOAD  CS     TWO
 1259            TC     COMPTEST
 1260            CAF    VBSP1LD
 1261            TC     UPDATVB  -1
 1262            TC     REQDATX
 1263            CAF    VBSP2LD
 1264            TC     UPDATVB  -1
 1265            TC     REQDATY
 1266            CAF    VBSP3LD
 1267            TC     UPDATVB -1
 1268  4         TC     REQDATZ
 1269   PUTXYZ   CS     SIX             TEST THAT THE 3 DATA WORDS LOADED ARE
 1270            TC     ALLDC/OC        ALL DEC OR ALL OCT.
 1271            EXTEND
 1272            DCA    LODNNLOC        SWITCH BANKS TO NOUN TABLE READING
 1273            DXCH   Z               ROUTINE.
 1274            CAF    ZERO            X COMP
 1275            TC     PUTCOM
 1276            INDEX  NOUNADD
 1277            TS     0
 1278            CAF    ONE             Y COMP
 1279            TC     PUTCOM
 1280            INDEX   NOUNADD
 1281            TS     1
 1282            CAF    TWO             Z COMP
 1283            TC     PUTCOM
 1284            INDEX  NOUNADD
 1285            TS     2
 1286  2         TC     LOADLV
 1287   ABLOAD   CS     ONE
 1288            TC     COMPTEST
 1289            CAF    VBSP1LD
 1290            TC     UPDATVB -1
 1291            TC     REQDATX
 1292            CAF    VBSP2LD
 1293            TC     UPDATVB -1
 1294            TC     REQDATY
 1295   PUTXY    CS     FIVE            TEST THAT THE 2 DATA WORDS LOADED ARE
 1296            TC     ALLDC/OC        ALL DEC OR ALL OCT.
 1297            EXTEND
 1298            DCA    LODNNLOC        SWITCH BANKS TO NOUN TABLE READING
 1299            DXCH   Z               ROUTINE.
 1300            CAF    ZERO            X COMP
 1301            TC     PUTCOM
 1302            INDEX  NOUNADD
 1303            TS     0
 1304            CAF    ONE             Y COMP
 1305            TC     PUTCOM
 1306            INDEX  NOUNADD
 1307            TS     1
 1308  2         TC     LOADLV
 1309   ALOAD    TC     REQDATX
 1310            EXTEND
 1311            DCA    LODNNLOC        SWITCH BANKS TO NOUN TABLE READING
 1312            DXCH   Z               ROUTINE.
 1313            CAF    ZERO            X COMP
 1314            TC     PUTCOM
 1315            INDEX  NOUNADD
 1316            TS     0
 1317  2         TC     LOADLV
 1318   BLOAD    CS     ONE
 1319            TC     COMPTEST
 1320            CAF    BIT15           SET CLPASS FOR PASS0 ONLY
 1321            TS     CLPASS
 1322            TC     REQDATY
 1323            EXTEND
 1324            DCA    LODNNLOC        SWITCH BANKS TO NOUN TABLE READING
 1325            DXCH   Z               ROUTINE.
 1326            CAF    ONE
 1327            TC     PUTCOM
 1328            INDEX  NOUNADD
 1329            TS     1
 1330  2         TC     LOADLV
 1331   CLOAD    CS     TWO
 1332            TC     COMPTEST
 1333            CAF    BIT15           SET CLPASS FOR PASS0 ONLY
 1334            TS     CLPASS
 1335            TC     REQDATZ
 1336            EXTEND
 1337            DCA    LODNNLOC        SWITCH BANKS TO NOUN TABLE READING
 1338            DXCH   Z               ROUTINE.
 1339            CAF    TWO
 1340            TC     PUTCOM
 1341            INDEX  NOUNADD
 1342            TS     2
 1343  2         TC     LOADLV
 1344   LOADLV   CAF    ZERO
 1345            TS     DECBRNCH
 1346            CS     ZERO
 1347            TS     LOADSTAT
 1348            CS     VD1             TO BLOCK NUMERICAL CHARACTERS AND
 1349            TS     DSPCOUNT        CLEARS AFTER A COMPLETED LOAD
 1350            TC     POSTJUMP        AFTER COMPLETED LOAD, GO TO RECALTST
 1351  2         CADR   RECALTST        TO SEE IF THERE IS RECALL FROM ENDIDLE.
 1352   VBSP1LD  OCT    21              VB21 = ALOAD
 1353   VBSP2LD  OCT    22              VB22 = BLOAD
 1354  4VBSP3LD  OCT    23              VB23 = CLOAD
 1355   ALLDC/OC TS     DECOUNT         TESTS THAT DATA WORDS LOADED ARE EITHER
 1356            CS     DECBRNCH        ALL DEC OR ALL OCT. ALARMS IF NOT.
 1357            TS     SR
 1358            CS     SR
 1359            CS     SR              SHIFTED RIGHT 2
 1360            CCS    A               DEC COMP BITS IN LOW 3
 1361            TCF    +2              SOME ONES IN LOW 3
 1362            TC     Q               ALL ZEROS. ALL OCTAL.  OK
 1363            AD     DECOUNT         DEC COMP = 7 FOR 3COMP, =6 FOR 2COMP
 1364            EXTEND                 (BUT IT HAS BEEN DECREMENTED BY CCS)
 1365            BZF    +2              MUST MATCH 6 FOR 3COMP, 5 FOR 2COMP.
 1366            TC     GODSPALM
 1367  4GOQ      TC     Q               ALL REQUIRED ARE DEC. OK
 1368   SFRUTNOR XCH    Q               GETS SF ROUTINE NUMBER FOR NORMAL CASE
 1369            TS     EXITEM          CANT USE L FOR RETURN. TSTFORDP USES L.
 1370            CAF    MID5
 1371            MASK   NNTYPTEM
 1372            TC     RIGHT5
 1373  2         TC     EXITEM          SF ROUTINE NUMBER IN A
 1374   SFRUTMIX XCH    Q               GETS SF ROUTINE NUMBER FOR MIXED CASE
 1375            TS     EXITEM
 1376            INDEX  DECOUNT
 1377            CAF    DISPLACE        PUT TC GOQ, TC RIGHT5, OR TC LEFT5 IN L
 1378            TS     L
 1379            INDEX  DECOUNT
 1380            CAF    LOW5            LOW5, MID5, OR HI5 IN A
 1381            MASK   RUTMXTEM        GET HI5, MID5, OR LOW5 OF RUTMXTAB ENTRY
 1382            INDEX  L
 1383            TC     0
R1384   DO TC GOQ(DECOUNT=0), DO TC RIGHT5(DECOUNT=1), DO TC LEFT5(DECOUNT=2).
 1385  2SFRET1   TC     EXITEM          SF ROUTINE NUMBER IN A
 1386   SFCONUM  XCH    Q               GETS 2X( SF CONSTANT NUMBER)
 1387            TS     EXITEM
 1388            INDEX  MIXBR
 1389            TC     +0
 1390            TC     CONUMNOR        NORMAL NOUN
 1391            INDEX  DECOUNT         MIXED NOUN
 1392            CAF    DISPLACE
 1393            TS     L               PUT TC GOQ, TC RIGHT5, OR TC LEFT5 IN L
 1394            INDEX  DECOUNT
 1395            CAF    LOW5
 1396            MASK   NNTYPTEM
 1397            INDEX  L
 1398            TC     0
R1399   DO TC GOQ(DECOUNT=0), DO TC RIGHT5(DECOUNT=1), DO TC LEFT5(DECOUNT=2).
 1400   SFRET    DOUBLE                 2X(SF CONSTANT NUMBER ) IN A
 1401  2         TC     EXITEM
 1402   DISPLACE TC     GOQ
 1403            TC     RIGHT5
 1404  2         TC     LEFT5
 1405   CONUMNOR CAF    LOW5            NORMAL NOUN ALWAYS GETS LOW 5 OF
 1406            MASK   NNTYPTEM        NNTYPTAB FOR SF CONUM.
 1407            DOUBLE
 1408  4         TC     EXITEM          2X( SF CONSTANT NUMBER) IN A
 1409   PUTCOM   TS     DECOUNT
 1410            XCH    Q
 1411            TS     DECRET
 1412            CAF    ZERO
 1413            TS     OVFIND
 1414            INDEX  DECOUNT
 1415            XCH    XREGLP
 1416            TS     MPAC  +1
 1417            INDEX  DECOUNT
 1418            XCH    XREG
 1419            TS     MPAC
 1420            INDEX  MIXBR
 1421            TC     +0
 1422            TC     PUTNORM         NORMAL NOUN
R1423   IF MIXNOUN, PLACE ADDRESS FOR COMPONENT K INTO NOUNADD, SET EBANK BITS.
 1424            INDEX  DECOUNT         GET IDADDTAB ENTRY FOR COMPONENT K
 1425            CA     IDAD1TEM                OF NOUN.
 1426            MASK   LOW11           (ECADR)SUBK FOR CURRENT COMP OF NOUN
 1427            TC     SETNCADR        ECADR INTO NOUNCADR. SETS EB, NOUNADD.
 1428            EXTEND                 C(NOUNADD) IN A UPON RETURN
 1429            SU     DECOUNT         PLACE (ESUBK)-K INTO NOUNADD
 1430            TS     NOUNADD
 1431            CCS    DECBRNCH
 1432            TC     PUTDECSF        +  DEC
 1433            TC     SFRUTMIX        +0  OCTAL
 1434            TC     DPTEST
 1435            TC     PUTCOM2         NO DP
A1436                                   TEST FOR DP SCALE FOR OCT LOAD. IF SO,
A1437                                   +0 INTO MAJOR PART. SET NOUNADD FOR
A1438                                   LOADING OCTAL WORD INTO MINOR PART.
 1439   PUTDPCOM INCR   NOUNADD         DP  (ESUBK)-K+1  OR  E+1
 1440            CA     NOUNADD         NOUNADD NOW SET FOR MINOR PART
 1441            ADS    DECOUNT         (ESUBK)+1  OR  E+1  INTO DECOUNT
 1442            CAF    ZERO            NOUNADD SET FOR MINOR PART
 1443            INDEX  DECOUNT
 1444            TS     0       -1      ZERO MAJOR PART(ESUBK OR E)
 1445  2         TC     PUTCOM2
 1446   PUTNORM  TC     SETNADD         ECADR FROM NOUNCADR. SETS EB, NOUNADD.
 1447            CCS    DECBRNCH
 1448            TC     PUTDECSF        +  DEC
 1449            TC     SFRUTNOR        +0  OCTAL
 1450            TC     DPTEST
 1451            TC     PUTCOM2 -4      NO DP
 1452            CAF    ZERO            DP
 1453            TS     DECOUNT
 1454  2         TC     PUTDPCOM
 1455            CA     NNADTEM
 1456            AD     ONE             IF NNADTEM = -1, CHANNEL TO BE SPECIFIED
 1457            EXTEND
 1458            BZF    CHANLOAD
 1459   PUTCOM2  XCH    MPAC
 1460  2         TC     DECRET
 1461            EBANK= DSPCOUNT
 1462  4GTSFINLC 2CADR  GTSFIN
 1463   CHANLOAD XCH    MPAC
 1464            EXTEND
 1465            INDEX  NOUNCADR
 1466            WRITE  0
 1467  4         TC     LOADLV
R1468  2PUTDECSF FINDS MIXBR AND DECOUNT STILL SET FROM PUTCOM
 1469   PUTDECSF TC     SFCONUM         2X(SF CON NUMB) IN A
 1470            TS     SFTEMP1
 1471            EXTEND                 SWITCH BANKS TO SF CONSTANT TABLE
 1472            DCA    GTSFINLC        READING ROUTINE.
 1473            DXCH   Z               LOADS SFTEMP1, SFTEMP2.
 1474            INDEX  MIXBR
 1475            TC     +0
 1476            TC     PUTSFNOR
 1477            TC     SFRUTMIX
 1478            TC     PUTDCSF2
 1479  2PUTSFNOR TC     SFRUTNOR
 1480   PUTDCSF2 INDEX  A
 1481            CAF    SFINTABR
 1482            TC     BANKJUMP        SWITCH BANKS FOR EXPANSHION ROOM
 1483   SFINTABR CADR   DSPALARM        ALARM IF DEC LOAD WITH OCTAL ONLY NOUN
 1484            CADR   BINROUND
 1485            CADR   DEGINSF
 1486            CADR   ARTHINSF
 1487            CADR   DPINSF
 1488            CADR   DPINSF2
 1489            CADR   OPTDEGIN
 1490            CADR   DPINSF          SAME AS ARITHDP1
 1491  4ENDRUTIN EQUALS
R1492   SCALE FACTORS FOR THOSE ROUTINES NEEDING THEM ARE AVAILABLE IN SFTEMP1.
R1493  4ALL SFIN ROUTINES USE MPAC MPAC+1. LEAVE RESULT IN A. END WITH TC DECRET
 1494  2         SETLOC ENDDPDEC +1
R1495  2DEGINSF APPLIES 1000/180 =5.55555(10) = 5.43434(8)
 1496   DEGINSF  TC     DMP             SF ROUTINE FOR DEC DEGREES
 1497            ADRES  DEGCON1         MULT BY 5.5  5(10)X2EXP-3
 1498            CCS    MPAC    +1      THIS ROUNDS OFF MPAC+1 BEFORE SHIFT
 1499            CAF    BIT11           LEFT 3, AND CAUSES 360.00 TO OF/UF
 1500            TC     +2              WHEN SHIFTED LEFT AND ALARM.
 1501            CS     BIT11
 1502            AD     MPAC    +1
 1503            TC     2ROUND  +2
 1504            TC     TPSL1           LEFT 1
 1505   DEGINSF2 TC     TPSL1           LEFT 2
 1506            TC     TESTOFUF
 1507            TC     TPSL1           RETURNS IF NO OF/UF (LEFT3)
 1508            CCS    MPAC
 1509            TC     SIGNFIX         IF+, GO TO SIGNFIX
 1510            TC     SIGNFIX         IF +0, GO TO SIGNFIX
 1511            COM                    IF - , USE -MAGNITUDE +1
 1512            TS     MPAC            IF -0, USE +0
 1513   SIGNFIX  CCS    OVFIND
 1514            TC     SGNTO1          IF OVERFLOW
 1515            TC     ENDSCALE        NO OVERFLOW/UNDERFLOW
 1516            CCS    MPAC            IF UF FORCE SIGN TO 0 EXCEPT -180
 1517            TC     CCSHOLE
 1518            TC     NEG180
 1519            TC     +1
 1520            XCH    MPAC
 1521            MASK   POSMAX
 1522            TS     MPAC
 1523   ENDSCALE TC     POSTJUMP
 1524  2         CADR   PUTCOM2
 1525   NEG180   CS     POSMAX
 1526  2         TC     ENDSCALE  -1
 1527   SGNTO1   CS     MPAC            IF OF FORCE SIGN TO 1
 1528            MASK   POSMAX
 1529            CS     A
 1530  2         TC     ENDSCALE  -1
 1531   DEGCON1  2DEC   5.555555555 B-3
 1532   DEGCON2  2DEC   2.222222222 B-2
 1533  2NEG.2    OCT    -06250          = .197753906  I.E. THE BIAS SCALED
 1534   ARTHINSF TC     DMP             SCALES MPAC, +1 BY SFTEMP1, SFTEMP2.
 1535            ADRES  SFTEMP1         ASSUMES POINT BETWEEN HI AND LO PARTS
 1536            XCH    MPAC    +2      OF SFCON. SHIFTS RESULTS LEFT BY 14.
 1537            XCH    MPAC    +1      (BY TAKING RESULTS FROM MPAC+1, MPAC+2)
 1538            XCH    MPAC
 1539            EXTEND
 1540            BZF    BINROUND
 1541            TC     DSPALARM        TOO LARGE A LOAD
 1542   BINROUND TC     2ROUND
 1543            TC     TESTOFUF
 1544  4         TC     ENDSCALE        RETURNS IF NO OF/UF
 1545   OPTDEGIN CCS    MPAC            OPTICS SCALING ROUTINE
 1546            TC     +4
 1547            TC     +3
 1548            TC     DSPALARM        REJECT NEGATIVE INPUT
 1549            TC     DSPALARM               DITTO
 1550   OPDEGIN2 CAF    NEG.2           RANGE IS 90 DEG
 1551            ADS    MPAC            SUBTRACT BIAS
 1552            TC     DMP             MULT BY 100 / 45  B-2
 1553            ADRES  DEGCON2
 1554            CAF    BIT12           ROUND AS IN DEGINSF
 1555            AD     MPAC    +1
 1556            TC     2ROUND  +2
 1557  2         TC     DEGINSF2
 1558   DPINSF   TC     DMP             SCALES MPAC, MPAC +1 BY SFTEMP1,
 1559            ADRES  SFTEMP1         SFTEMP2.  STORES LOW PART OF RESULT
 1560            XCH    MPAC    +2      IN (E SUBK) +1 OR E+1
 1561            DOUBLE
 1562            TS     MPAC    +2
 1563            CAF    ZERO
 1564            AD     MPAC    +1
 1565            TC     2ROUND  +2
 1566            TC     TESTOFUF
 1567            INDEX  MIXBR           RETURNS IF NO OF/UF
 1568            TC     +0
 1569            TC     DPINORM
 1570            CA     DECOUNT         MIXEDNOUN
 1571   DPINCOM  AD     NOUNADD             MIXED               NORMAL
 1572            TS     Q                 E SUBK            E
 1573            XCH    MPAC    +1
 1574            INDEX  Q
 1575            TS     1               PLACE LOW PART IN
 1576            TC     ENDSCALE        (E SUBK) +1    MIXED
 1577   DPINORM  CAF    ZERO            E +1         NORMAL
 1578  4         TC     DPINCOM
 1579   DPINSF2  TC     DMP             ASSUMES POINT BETWEEN BITS 7-8 OF HIGH
 1580            ADRES  SFTEMP1         PART OF SF CONST. DPINSF2 SHIFTS RESULTS
 1581            TC     TPLEFT7         LEFT BY 7, ROUNDS MPAC+2 INTO MPAC+1.
 1582  4         TC     DPINSF  +2
 1583   TPLEFT7  XCH    Q               OPERATES ON MPAC, MPAC+1, MPAC+2
 1584            TS     SFTEMP2         CANT USE L FOR RETURN. TPSL1 USES L.
 1585            CAF    SIX             LEFT BY 7
 1586   LEFT7COM TS     SFTEMP1
 1587            TC     TPSL1
 1588            CCS    SFTEMP1
 1589            TC     LEFT7COM
 1590  4         TC     SFTEMP2
 1591   2ROUND   XCH    MPAC    +1
 1592            DOUBLE
 1593            TS     MPAC    +1
 1594            TC     Q               IF MPAC+1 DOES NOT OF/UF
 1595            AD     MPAC
 1596            TS     MPAC
 1597            TC     Q               IF MPAC DOES NOT OF/UF
 1598            TS     OVFIND
 1599  42RNDEND  TC     Q
 1600   TESTOFUF CCS    OVFIND          RETURNS IF NO OF/UF
 1601            TC     DSPALARM        OF
 1602            TC     Q
 1603            TC     DSPALARM        UF
P1604   MONITOR ALLOWS OTHER KEYBOARD ACTIVITY. IT IS ENDED BY VERB TERMINATE,
R1605  2ANY NVSUB CALL THAT PASSES THE DSPLOCK, OR ANOTHER MONITOR.
R1606   MONITOR ACTION IS SUSPENDED, BUT NOT ENDED, BY ANY KEYBOARD ACTION,
R1607   EXCEPT ERROR LIGHT RESET. IT BEGINS AGAIN WHEN KEY RELEASE IS PERFORMED.
R1608   MONITOR SAVES THE NOUN AND APPROPRIATE DISPLAY VERB IN MONSAVE. IT SAVES
R1609   NOUNCADR IN MONSAVE1, IF NOUN = MACHINE CADR TO BE SPECIFIED. BIT 15 OF
R1610  2MONSAVE1 IS THE KILL MONITOR SIGNAL (KILLER BIT).
R1611   MONSAVE INDICATES IF MONITOR IS ON(+=ON, +0=OFF)
R1612   IF MONSAVE IS +, MONITOR ENTERS NO REQUEST, BUT TURNS KILLER BIT OFF.
R1613  2IF MONSAVE IS +0, MONITOR ENTERS REQUEST AND TURNS KILLER BIT OFF.
R1614  2NVSUB AND VB=TERMINATE TURN KILL MONITOR BIT ON.
R1615   IF KILLER BIT IS ON, MONREQ ENTERS NO FURTHER REQUESTS, ZEROS MONSAVE
R1616  4AND MONSAVE1 (TURNING OFF KILLER BIT).
R1617   MONITOR DOSENT TEST FOR MATBS SINCE NVSUB CAN HANDLE INTERNAL MATBS NOW
 1618  2         SETLOC ENDRUTIN
 1619   MONITOR  CS     BIT15
 1620            MASK   NOUNCADR
 1621   MONIT1   TS     MPAC    +1      TEMP STORAGE
 1622            CAF    LOW6
 1623            MASK   VERBREG
 1624            TC     LEFT5
 1625            TS     CYL
 1626            XCH    CYL
 1627            AD     NOUNREG
 1628            TS     MPAC            TEMP STORAGE
 1629            CS     GRABLOCK        NEITHER CASE SEARCHES LIST.
 1630            AD     TWO
 1631            CCS    A
 1632            TC     RELDSP1         GRABLOCK=0,1. +0 INTO DSPLOCK AND
 1633            TC     +4              TURN OFF KEY RLSE LIGHT.
 1634            TC     CCSHOLE
 1635            CAF    ZERO            GRABLOCK=2. +0 INTO DSPLOCK AND
 1636            TS     DSPLOCK         LEAVE KEY RLSE LIGHT ALONE
 1637            INHINT
 1638            CCS    MONSAVE
 1639            TC     +5              IF MONSAVE WAS +, NO REQUEST
 1640            CAF    ONE             IF MONSAVE WAS 0, REQUEST MONREQ
 1641            TC     WAITLIST
 1642            EBANK= DSPCOUNT
 1643            2CADR  MONREQ
 1644            DXCH   MPAC            PLACE MONITOR VERB AND NOUN INTO MONSAVE
 1645            DXCH   MONSAVE         ZERO THE KILL MONITOR BIT
 1646            RELINT
 1647  4         TC     ENTRET
 1648   MONREQ   TC     LODSAMPT        CALLED BY WAITLIST
 1649            CCS    MONSAVE1        TIME IS SNATCHED IN RUPT FOR NOUN 65
 1650            TC     +4              IF KILLER BIT = 0, ENTER REQUESTS
 1651            TC     +3              IF KILLER BIT = 0, ENTER REQUESTS
 1652            TC     KILLMON         IF KILLER BIT = 1, NO REQUESTS
 1653            TC     KILLMON         IF KILLER BIT = 1, NO REQUESTS
 1654            CAF    MONDEL
 1655            TC     WAITLIST        ENTER WAITLIST REQUEST FOR MONREQ
 1656            EBANK= DSPCOUNT
 1657            2CADR  MONREQ
 1658            CAF    CHRPRIO
 1659            TC     NOVAC           ENTER EXEC REQUEST FOR MONDO
 1660            EBANK= DSPCOUNT
 1661            2CADR  MONDO
 1662  2         TC     TASKOVER
 1663   KILLMON  CAF    ZERO            ZERO MONSAVE AND TURN KILLER BIT OFF
 1664            TS     MONSAVE
 1665            TS     MONSAVE1        TURN OFF KILL MONITOR BIT.
 1666  4         TC     TASKOVER
 1667  4MONDEL   OCT    144             FOR 1 SEC MONITOR INTERVALS
 1668   MONDO    CCS    MONSAVE1        CALLED BY EXEC
 1669            TC     +4              IF KILLER BIT = 0, CONTINUE
 1670            TC     +3              IF KILLER BIT = 0, CONTINUE
 1671            TC     ENDOFJOB        IN CASE TERMINATE CAME SINCE LAST MONREQ
 1672            TC     ENDOFJOB        IN CASE TERMINATE CAME SINCE LAST MONREQ
 1673            CCS    DSPLOCK
 1674            TC     MONBUSY         NVSUB IS BUSY
 1675            CAF    LOW6            NVSUB IS AVAILABLE
 1676            MASK   MONSAVE
 1677            TS     NVTEMP
 1678            TC     NVSUBMON        PLACE NOUN INTO NOUNREG AND DISPLAY IT
 1679            TC     ENDOFJOB        IN CASE OF ALARM DURING DISPLAY
 1680            CAF    MONMASK
 1681            MASK   MONSAVE         CHANGE MONITOR VERB TO DISPLAY VERB
 1682            TC     RIGHT5
 1683            TS     CYR
 1684            XCH    CYR
 1685            TS     VERBREG
 1686            CAF    MONBACK         SET RETURN TO PASTEVB AFTER DATA DISPLAY
 1687            TS     ENTRET
 1688            CS     BIT15
 1689            MASK   MONSAVE1        PUT ECADR INTO MPAC +2. INTMCTBS WILL
 1690            TS     MPAC    +2      DISPLAY IT AND SET NOUNCADR, NOUNADD,
 1691  2ENDMONDO TC     TESTNN          EBANK.
 1692  2         SETLOC ENDRMODF
 1693   PASTEVB  CAF    MIDSIX
 1694            MASK   MONSAVE
 1695            TS     NVTEMP          PLACE MONITOR VERB INTO VERBREG AND
 1696            TC     NVSUBMON             DISPLAY IT.
 1697            TC     +1              IN CASE OF ALARM DURING DISPLAY
 1698  2ENDPASTE TC     ENDOFJOB
 1699  4MIDSIX   OCTAL  07700
 1700            SETLOC ENDMONDO +1
 1701   MONMASK  OCT    700
 1702  2MONBACK  ADRES  PASTEVB
 1703   MONBUSY  TC     RELDSPON        TURN KEY RELEASE LIGHT
 1704  4         TC     ENDOFJOB
R1705   DSPFMEM IS USED TO DISPLAY (IN OCTAL) ANY FIXED REGISTER.
R1706   IT IS USED WITH NOUN = MACHINE CADR TO BE SPECIFIED. THE FCADR OF THE
R1707  2DESIRED LOCATION IS THEN PUNCHED IN. IT HANDLES F/F ( FCADR 4000-7777)
 1708   DSPFMEM  CAF    R1D1            IF F/F, DATACALL USES BANK 02 OR 03.
 1709            TS     DSPCOUNT
 1710            CA     NOUNCADR        ORIGINAL FCADR LOADED STILL IN NOUNCADR.
 1711            TC     DATACALL
 1712            TC     DSPOCTWD
 1713            TC     ENDOFJOB
P1714    DSPDECWD CONVERTS C(MPAC) AND C(MPAC +1)TO A SIGN AND 5 CHAR DECIMAL
R1715  2STARTING IN LOC SPECIFIED IN DSPCOUNT
 1716  2         SETLOC TESTOFUF +4
 1717   DSPDECWD XCH    Q               USES SHORTMP THROUGHOUT
 1718            TS     WDRET           CANT USE L FOR RETURN.+ON USES L.
 1719            CCS    MPAC
 1720            TC     +7
 1721            TC     +6
 1722            AD     ONE
 1723            TS     MPAC
 1724            TC     -ON
 1725            CS     MPAC  +1
 1726            TC     +3
 1727            TC     +ON
 1728            XCH    MPAC    +1
 1729            AD     DECROUND
 1730            TS     MPAC    +1
 1731            CAF    ZERO
 1732            AD     MPAC
 1733            TS     MPAC
 1734            TC     +4
 1735            CAF    POSMAX
 1736            TS     MPAC
 1737            TS     MPAC    +1
 1738            CAF    FOUR
 1739   DSPDCWD1 TS     WDCNT
 1740            CAF    BINCON
 1741            TC     SHORTMP
 1742   TRACE1   INDEX  MPAC
 1743            CAF    RELTAB
 1744            MASK   LOW5
 1745            TS     CODE
 1746            CAF    ZERO
 1747            XCH    MPAC    +2
 1748            XCH    MPAC    +1
 1749            TS     MPAC
 1750            XCH    DSPCOUNT
 1751   TRACE1S  TS     COUNT
 1752            CCS    A               DECREMENT DSPCOUNT EXCEPT AT +0
 1753            TS     DSPCOUNT
 1754            TC     DSPIN
 1755            CCS    WDCNT
 1756            TC     DSPDCWD1
 1757            CS     VD1
 1758            TS     DSPCOUNT
 1759  2         TC     WDRET
 1760  2DECROUND OCT    02476
R1761   DSP2DEC CONVERTS C(MPAC) AND C(MPAC+1) INTO A SIGN AND 10 CHAR DECIMAL
R1762  2STARTING IN THE LOC SPECIFIED IN DSPCOUNT.
 1763   DSP2DEC  XCH    Q
 1764            TS     WDRET           MUST USE SAME RETURN AS DSPDECWD
 1765            CAF    ZERO
 1766            TS     CODE
 1767            CAF    THREE
 1768            TC     11DSPIN         -R2 OFF
 1769            CAF    FOUR
 1770            TC     11DSPIN         +R2 OFF
 1771            CCS    MPAC
 1772            TC     +8D
 1773            TC     +7
 1774            AD     ONE
 1775            TS     MPAC
 1776            TC     -ON
 1777            CS     MPAC  +1
 1778            TS     MPAC  +1
 1779            TC     +2
 1780            TC     +ON
 1781            CAF    R2D1
 1782  4END2DEC  TC     DSPDCWD1
 1783            SETLOC DSPFMEM +6
R1784   DSPOCTWD DISPLAYS C(A) UPON ENTRY AS A 5 CHAR OCT STARTING IN THE DSP
R1785  2CHAR SPECIFIED IN DSPCOUNT. IT STOPS AFTER 5 CHAR HAVE BEEN DISPLAYED.
 1786   DSPOCTWD TS     CYL
 1787            XCH    Q
 1788            TS     WDRET           MUST USE SAME RETURN AS DSP2BIT.
 1789            CAF    BIT14           TO BLANK SIGNS
 1790            ADS    DSPCOUNT
 1791            CAF    FOUR
 1792   WDAGAIN  TS     WDCNT
 1793            CS     CYL
 1794            CS     CYL
 1795            CS     CYL
 1796            CS     A
 1797            MASK   DSPMSK
 1798            INDEX  A
 1799            CAF    RELTAB
 1800            MASK   LOW5
 1801            TS     CODE
 1802            XCH    DSPCOUNT
 1803            TS     COUNT
 1804            CCS    A               DECREMENT DSPCOUNT EXCEPT AT +0
 1805            TS     DSPCOUNT
 1806            TC     POSTJUMP
 1807            CADR   DSPOCTIN
 1808   OCTBACK  CCS    WDCNT
 1809            TC     WDAGAIN         +
 1810   DSPLV    CS     VD1             TO BLOCK NUMERICAL CHARACTERS, CLEARS,
 1811            TS     DSPCOUNT        AND SIGNS AFTER A COMPLETED DISPLAY.
 1812  2         TC     WDRET
 1813  4DSPMSK   =      SEVEN
R1814   DSP2BIT DISPLAYS C(A) UPON ENTRY AS A 2 CHAR OCT BEGINNING IN THE DSP
R1815   LOC SPECIFIED IN DSPCOUNT BY PRE CYCLING RIGHT C(A) AND USING THE LOGIC
R1816  2OF THE 5 CHAR OCTAL DISPLAY
 1817   DSP2BIT  TS     CYR
 1818            XCH    Q
 1819            TS     WDRET           CANT USE L AS RETURN. UPDATNN USES L.
 1820            CAF    ONE
 1821            TS     WDCNT
 1822            CS     CYR
 1823            CS     CYR
 1824            XCH    CYR
 1825            TS     CYL
 1826  4         TC     WDAGAIN +5
R1827   FOR DSPIN PLACE 0/25 OCT INTO COUNT, 5 BIT RELAY CODE INTO CODE. BOTH
R1828   ARE DESTROYED. IF BIT14 OF COUNT IS 1, SIGN IS BLANKED WITH LEFT CHAR.
R1829   FOR DSPIN1 PLACE 0,1 INTO BIT11 OF CODE, 2 INTO COUNT, REL ADDRESS OF
R1830  2DSPTAB ENTRY INTO DSREL.
 1831  2         SETLOC END2DEC  +1
 1832   DSPIN    XCH    Q               CANT USE L FOR RETURN, SINCE MANY OF THE
 1833            TS     DSEXIT          ROUTINES CALLING DSPIN USE L AS RETURN.
 1834            CAF    LOW5
 1835            MASK   COUNT
 1836            TS     SR
 1837            XCH    SR
 1838            TS     DSREL
 1839            CAF    BIT1
 1840            MASK   COUNT
 1841            CCS    A
 1842            TC     +2              LEFT IF COUNT IS ODD
 1843            TC     DSPIN1  -1      RIGHT IF COUNT IS EVEN
 1844            XCH    CODE
 1845            TC     SLEFT5          DOES NOT USE CYL
 1846            TS     CODE
 1847            CAF    BIT14
 1848            MASK   COUNT
 1849            CCS    A
 1850            CAF    TWO             BIT14 = 1, BLANK SIGN
 1851            AD     ONE             BIT14 = 0, LEAVE SIGN ALONE
 1852            TS     COUNT           +0 INTO COUNT FOR RIGHT
A1853                                   +1 INTO COUNT FOR LEFT(SIGN LEFT ALONE)
A1854                                   +3 INTO COUNT FOR LEFT(TO BLANK SIGN)
 1855   DSPIN1   INHINT
 1856            INDEX  DSREL
 1857            CCS    DSPTAB
 1858            TC     +2              IF +
 1859            TC     CCSHOLE
 1860            AD     ONE             IF-
 1861            TS     DSMAG
 1862            INDEX  COUNT
 1863            MASK   DSMSK
 1864            EXTEND
 1865            SU     CODE
 1866            EXTEND
 1867            BZF    DSLV            SAME
 1868   DFRNT    INDEX  COUNT
 1869            CS     DSMSK           MASK WITH 77740,76037, OR 75777
 1870            MASK   DSMAG
 1871            AD     CODE
 1872            CS     A
 1873            INDEX  DSREL
 1874            XCH    DSPTAB
 1875            EXTEND
 1876            BZMF   DSLV            DSPTAB ENTRY WAS -
 1877            INCR   NOUT            DSPTAB ENTRY WAS +
 1878   DSLV     RELINT
 1879  2         TC     DSEXIT
 1880   DSMSK    OCT    37
 1881            OCT    1740
 1882            OCT    2000
 1883  4         OCT    3740
R1884   FOR 11DSPIN, PUT REL ADDRESSS OF DSPTAB ENTRY INTO A, 1 IN BIT11 OR 0 IN
R1885  2BIT11 OF CODE.
 1886   11DSPIN  TS     DSREL
 1887            CAF    TWO
 1888            TS     COUNT
 1889            XCH    Q               MUST USE SAME RETURN AS DSPIN
 1890            TS     DSEXIT
 1891  4         TC     DSPIN1
 1892   DSPOCTIN TC     DSPIN           SO DSPOCTWD DOESNT USE SWCALL
 1893            CAF    +2
 1894            TC     BANKJUMP
 1895  4ENDSPOCT CADR   OCTBACK
R1896   DSPALARM FINDS TC NVSUBEND IN ENTRET FOR NVSUB INITIATED ROUTINES.
R1897   ABORT WITH 01501.
R1898   DSPALARM FINDS TC ENDOFJOB IN ENTRET FOR KEYBOARD INITIATED ROUTINES.
R1899  2DO TC ENTRET.
 1900   CHARALRM CAF    ENDINST         ALARMS WHICH MUST DO ENDOFJOBS COME
 1901  2         TS     ENTRET          HERE. ALLOWS ENTRET TO BE TEMP ERASABLE
 1902   DSPALARM TC     FALTON          TURN ON OPERATOR ERROR LIGHT
 1903            CS     NVSBENDL
 1904            AD     ENTEXIT
 1905            EXTEND
 1906            BZF    +2              NVSUB INITIATED. ABORT
 1907            TC     ENTEXIT         NOT NVSUB INITIATED.
 1908            TC     ABORT
 1909            OCT    01501
 1910  4NVSBENDL TC     NVSUBEND
R1911   MMCHANG USES NOUN DISPLAY UNTIL ENTER. THEN IT USES MODE DISP.
R1912   IT GOES TO MODROUT WITH THE NEW M M CODE IN A, BUT NOT DISPLAYED IN
R1913  2M M LIGHTS.
 1914  2         SETLOC DSP2BIT  +10D
 1915   MMCHANG  TC     REQMM
 1916            CAF    ZERO
 1917            XCH    NOUNREG
 1918            TS     MPAC
 1919            CAF    ND1
 1920            TS     DSPCOUNT
 1921            TC     BANKCALL
 1922            CADR   2BLANK
 1923            CA     MPAC
 1924            TC     POSTJUMP
 1925  4         CADR   MODROUTB        GO THRU STANDARD LOC.
 1926   MODROUTB =      DSPALARM        **FIX LATER**
 1927   REQMM    CS     Q
 1928            TS     REQRET
 1929            CAF    ND1
 1930            TS     DSPCOUNT
 1931            CAF    ZERO
 1932            TS     NOUNREG
 1933            TC     BANKCALL
 1934            CADR   2BLANK
 1935            TC     FLASHON
 1936  4         TC     ENTEXIT
R1937   VBRQEXEC ENTERS REQUEST TO EXEC     FOR ANY ADDRESS WITH ANY PRIORITY.
R1938   IT DOES ENDOFJOB AFTER ENTERING REQUEST. DISPLAY SYST IS RELEASED.
R1939   IT ASSUMES NOUN 26 HAS BEEN PRELOADED WITH
R1940   COMPONENT 1  PRIORITY(BITS 10-14) BIT1=0 FOR NOVAC, BIT1=1 FOR FINDVAC.
R1941   COMPONENT 2  JOB ADRES (12 BIT )
R1942  2COMPONENT 3  BBCON
 1943   VBRQEXEC CAF    BIT1
 1944            MASK   DSPTEM1
 1945            CCS    A
 1946            TC     SETVAC          IF BIT1 = 1, FINDVAC
 1947            CAF    TCNOVAC         IF BIT1 = 0, NOVAC
 1948   REQEX1   TS     MPAC            TC NOVAC  OR  TC FINDVAC INTO MPAC
 1949            CS     BIT1
 1950            MASK   DSPTEM1
 1951            TS     MPAC    +4      PRIO INTO MPAC+4 AS A TEMP
 1952   REQUESTC TC     RELDSP
 1953            CA     ENDINST
 1954            TS     MPAC    +3      TC ENDOFJOB INTO MPAC+3
 1955            EXTEND
 1956            DCA    DSPTEM1 +1      JOB ADRES INTO MPAC+1
 1957            DXCH   MPAC    +1      BBCON INTO MPAC+2
 1958            CA     MPAC    +4      PRIO IN A
 1959            INHINT
 1960  2         TC     MPAC
 1961   SETVAC   CAF    TCFINDVC
 1962  2         TC     REQEX1
R1963   VBRQWAIT ENTERS REQUEST TO WAITLIST FOR ANY ADDRESS WITH ANY DELAY.
R1964   IT DOES ENDOFJOB AFTER ENTERING REQUEST.DISPLAY SYST IS RELEASED.
R1965   IT ASSUMES NOUN 26 HAS BEEN PRELOADED WITH
R1966   COMPONENT 1  DELAY (LOW BITS)
R1967   COMPONENT 2  TASK ADRES (12 BIT)
R1968  2COMPONENT 3  BBCON
 1969   VBRQWAIT CAF    TCWAIT
 1970            TS     MPAC            TC WAITLIST INTO MPAC
 1971            CA     DSPTEM1         TIME DELAY
 1972  2ENDRQWT  TC     REQUESTC -1
R1973   REQUESTC WILL PUT TASK ADRES INTO MPAC+1, BBCON INTO MPAC+2,
R1974   TC ENDOFJOB INTO MPAC+3. IT WILL TAKE TIME DELAY OUT OF MPAC+4 AND
R1975  4LEAVE IT IN A, INHINT AND TC MPAC.
 1976            SETLOC NVSBENDL +1
 1977   VBPROC   CAF    ONE             PROCEED WITHOUT DATA
 1978            TS     LOADSTAT
 1979            TC     RELDSP
 1980            TC     FLASHOFF
 1981  4         TC     RECALTST        SEE IF THERE IS ANY RECALL FROM ENDIDLE
 1982   VBTERM   TC     KILMONON        TURN ON KILL MONITOR BIT
 1983            CS     ONE
 1984  4         TC     VBPROC  +1      TERM VERB SETS LOADSTAT NEG
R1985  4FLASH IS TURNED OFF ONLY BY PROCEED WITHOUT DATA, TERMINATE, END OF LOAD
R1986   VBRELDSP TURNS OFF RELEASE DISPLAY SYSTEM LIGHT(AND SEARCHES LIST ONLY
R1987  2IF THIS LIGHT WAS TURNED ON BY NVSUBUSY), AND TURNS OFF UPACT LIGHT.
 1988   VBRELDSP CS     BIT3
 1989            EXTEND
 1990            WAND   DSALMOUT        TURN OFF UPACT LIGHT
 1991            TC     RELDSP          SEARCHES LIST
 1992  4         TC     ENDOFJOB
R1993  2BUMP SHIFTS WORD DISPLAYED IN R2 TO R3, R1 TO R2. IT BLANKS R1.
 1994   BUMP     CAF    FIVE            R2D5
 1995            TS     DSPCOUNT
 1996            TS     COUNT
 1997            CAF    ONE             SHIFT DATA OF R2 TO R3, R1 TO R2
 1998            MASK   COUNT
 1999            XCH    COUNT           +0 INTO COUNT IF EVEN (RIGHT)
 2000            TS     SR              +1 INTO COUNT IF ODD (LEFT)
 2001            XCH    SR              DSREL IN A
 2002            INDEX  A
 2003            CCS    DSPTAB
 2004            TC     +2
 2005            TC     CCSHOLE
 2006            AD     ONE             DSMAG IN A
 2007            INDEX  COUNT
 2008            MASK   DSMSK
 2009            INDEX  COUNT
 2010            TC     +1
 2011            TC     +2              EVEN(RIGHT)  OK
 2012            TC     RIGHT5          ODD(LEFT)  SHIFT RIGHT
 2013            TS     CODE
 2014            CS     FIVE
 2015            AD     DSPCOUNT        DSPCOUNT-5
 2016            CCS    A               TO PREVENT -0
 2017            AD     ONE
 2018            TC     +2
 2019            TC     CCSHOLE
 2020            TS     COUNT
 2021            TC     DSPIN           CODE ALREADY IN CODE
 2022            CS     DSPCOUNT
 2023            AD     R1D1            OCT 16
 2024            CCS    A
 2025            XCH    DSPCOUNT        +, DSPCOUNT L/ OCT 16
 2026            AD     ONE             INCREMENT DSPCOUNT
 2027  2         TC     BUMP    +1
 2028   SWSGN    CAF    ZERO            -0, DSPCOUNT= OCT 16. DO SIGN SHIFT
 2029            TS     DSPCOUNT
 2030            AD     SWTAB   +2      OCT 3
 2031            INDEX  A               PICKUP ORDER , DSREL=3,4,5,6.
 2032            CCS    DSPTAB                           (-R2,+R2,-R1,+R1)
 2033            TC     +2
 2034            TC     CCSHOLE
 2035            AD     ONE
 2036            MASK   BIT11
 2037            TS     CODE
 2038            INDEX  DSPCOUNT
 2039            CAF    SWTAB           PUT AWAY ORDER, DSREL= 0,1,3,4.
 2040            TC     11DSPIN                          (-R3,+R3,-R2,+R2.)
 2041            CS     DSPCOUNT
 2042            AD     SWTAB   +2      OCT 3
 2043            CCS    A
 2044            XCH    DSPCOUNT        +, DSPCOUNT L/ 3
 2045            AD     ONE             INCREMENT DSPCOUNT
 2046            TC     SWSGN   +1
 2047            CAF    R1D1            -0,       DSPCOUNT = 3
 2048            TS     DSPCOUNT
 2049            TC     5BLANK          BLANKS R1
 2050  2         TC     ENTEXIT
 2051   SWTAB    OCT    0               -R3
 2052            OCT    1               +R3
 2053            OCT    3               -R2
 2054            OCT    4               +R2
P2055   NVSUB IS USED FOR SUB ROUTINE CALLS FROM WITHIN COMPUTER. IT CAN BE
R2056   USED TO DO ANY THING THE KEYBOARD CAN CALL. PLACE  ...VVVVVVNNNNNN
R2057  2INTO A.      V-S ARE 6 BIT VERB CODE. N-S , 6 BIT NOUN CODE.
R2058   NVSUB CAN BE USED WITH MACH CADR TO BE SPEC BY PLACING THE CADR INTO
R2059  2MPAC+2 BEFORE THE STANDARD NVSUB CALL.
R2060    NVSUB RETURNS TO 2+ CALLING LOC AFTER PERFORMING TASK, IF DISPLAY
R2061   SYSTEM IS AVAILABLE. THE NEW NOUN AND VERB CODES ARE DISPLAYED.
R2062   IF V:S =0, THE NEW NOUN CODE IS DISPLAYED ONLY(RETURN WITH NO FURTHER
R2063   ACTION). IF N-S =0, THE NEW VERB CODE IS DISPLAYED ONLY(RETURN WITH NO
R2064  2FURTHER ACTION).
R2065   IT RETURNS TO 1+ CALLING LOC WITHOUT PERFORMING TASK, IF DISPLAY
R2066   SYSTEM IS BLOCKED (NOTHING IS DISPLAYED IN THIS CASE).
R2067   IT DOES TC ABORT (WITH OCT 01501) IF IT ENCOUNTERS A DISPLAY PROGRAM
R2068  2ALARM CONDITION BEFORE RETURN TO CALLER.
R2069   THE DISPLAY SYSTEM IS BLOCKED BY THE DEPRESSION OF ANY
R2070   KEY, EXCEPT ERROR LIGHT RESET. ALSO BY ENDIDLE.
R2071        IT IS RELEASED BY SPECIAL VERB = RELEASE DISPLAY, ALL GO TO VERBS,
R2072   PROCEED WITHOUT DATA, TERMINATE, INITIALIZE EXECUTIVE,
R2073   RECALL PART OF RECALTST IF ENDIDLE WAS USED,
R2074   IN RECALTST IF NVSUB INITIATED LOAD AND ENDIDLE WAS NOT USED,
R2075   VB = REQUEST EXECUTIVE, VB = REQUEST WAITLIST,
R2076  2MONITOR SET UP.
R2077  2A NVSUB CALL THAT PASSES DSPLOCK ENDS OLD MONITOR.
R2078   DSPLOCK IS THE INTERLOCK FOR USE OF KEYBOARD AND DISPLAY SYSTEM WHICH
R2079  2LOCKS OUT INTERNAL USE WHENEVER THERE IS EXTERNAL KEYBOARD ACTION.
R2080   NVSUB IN FIXED-FIXED PLACES 2+CALLING LOC INTO NVQTEM, TC NVSUBEND INTO
R2081  2ENTRET. (THIS WILL RESTORE OLD CALLING BANK BITS)
 2082            SETLOC MIDSIX  +1
 2083   NVSUB    TS     NVTEMP          IN FIXED FIXED
 2084            CCS    DSPLOCK
 2085            TC     Q               DSP SYST BLOCKED. RET TO 1+ CALLING LOC
 2086            CA     Q               DSP SYST AVAILABLE
 2087            AD     ONE
 2088            TS     NVQTEM          2 + CALLING LOC INTO NVQTEM
 2089            TC     KILMONON        TURN ON KILL MONITOR BIT
 2090  2NVSUBCOM CAF    NVSBBBNK
 2091            XCH    BBANK
 2092            TS     NVBNKTEM
 2093            TC     NVSUBB          GO TO NVSUB1 THRU STANDARD LOC
 2094            EBANK= DSPCOUNT
 2095  2NVSBBBNK BBCON  NVSUB1
 2096   NVSUBMON CA     Q               MONDO COMES HERE
 2097            AD     ONE
 2098            TS     NVQTEM          2 + CALLING LOC INTO NVQTEM
 2099  4         TC     NVSUBCOM
 2100   NVSUBEND DXCH   NVQTEM          NVBNKTEM MUST = NVQTEM+1
 2101  2         DXCH   Z               DTCB
 2102  2         SETLOC ENDRQWT +1
 2103   NVSUB1   CAF    ENTSET          IN BANK
 2104            TS     ENTRET          SET RETURN TO NVSUBEND
 2105            CAF    LOW6
 2106            MASK   NVTEMP
 2107            TS     MPAC            TEMP STORAGE
 2108            CAF    MID6
 2109            MASK   NVTEMP
 2110            TC     RIGHT5
 2111            TS     CYR
 2112            XCH    CYR
 2113            TS     MPAC    +1      TEMP STORAGE
 2114            CCS    MPAC            TEST NOUN
 2115            TC     +4              IF NOUN NOT +0, GO ON
 2116            XCH    MPAC    +1
 2117            TC     UPDATVB -1      IF NOUN = +0, DISPLAY VERB . THEN RETURN
 2118   ENTSET   TC     NVSUBEND
 2119            CCS    MPAC    +1      TEST VERB
 2120            TC     +4              IF VERB NOT +0, GO ON
 2121            XCH    MPAC
 2122            TC     UPDATNN -1      IF VERB = +0, DISPLAY NOUN. THEN RETURN
 2123            TC     NVSUBEND
 2124            XCH    MPAC    +1
 2125            TC     UPDATVB -1      IF BOTH NOUN AND VERB NOT +0, DISPLAY
 2126            XCH    MPAC            BOTH AND GO TO ENTPAS0
 2127            TC     UPDATNN -1
 2128            CAF    ZERO
 2129            TS     LOADSTAT        SET FOR WAITING FOR DATA CONDITION
 2130            TS     CLPASS
 2131  2         TC     ENTPAS0
R2132   IF INTERNAL MACH CADR TO BE SPECIFIED, MPAC+2 WILL BE PLACED INTO
R2133  4NOUNCADR IN ENTPAS0 (INTMCTBS ).
 2134   LOW6     OCT    77
 2135  2MID6     OCT    7700
 2136            SETLOC NVSUBEND +2
 2137   KILMONON CS     BIT15           FORCE BIT 15 OF MONSAVE1 TO 1.
 2138            INHINT                         THIS IS THE KILL MONITOR BIT.
 2139            MASK   MONSAVE1
 2140            AD     BIT15
 2141            TS     MONSAVE1
 2142            RELINT
 2143  4         TC     Q
R2144   LOADSTAT  +0 INACTIVE(WAITING FOR DATA). SET BY NVSUB
R2145             +1  PROCEED NO DATA. SET BY SPECIAL VERB
R2146            -1 TERMINATE   SET BY SPECIAL VERB
R2147  4         -0 DATA IN   SET BY END OF LOAD ROUTINE
R2148   L  TC ENDIDLE  (FIXED FIXED)
R2149   ROUTINES THAT REQUEST LOADS THROUGH NVSUB SHOULD USE ENDIDLE WHILE
R2150   WAITING FOR THE DATA TO BE LOADED. ENDIDLE PUTS CURRENT JOB TO SLEEP.
R2151   ENDIDLE CANNOT BE CALLED FROM ERASABLE MEMORY, SINCE JOBSLEEP AND
R2152   JOBWAKE CAN HANDLE ONLY FIXED MEMORY.
R2153   RECALTST TESTS LOADSTAT AND WAKES JOB UP TO,
R2154   L+1      FOR TERMINATE
R2155   L+2      FOR PROCEED WITHOUT DATA
R2156   L+3      FOR DATA IN
R2157  2IT DOES NOTHING     IF LOADSTAT INDICATES WAITING FOR DATA.
 2158   ENDIDLE  CAF    ONE
 2159            TS     DSPLOCK
 2160            LXCH   FBANK
 2161            XCH    Q
 2162            DXCH   BUF2
 2163            TC     MAKECADR
 2164            TS     CADRSTOR
 2165  4         TC     JOBSLEEP
 2166  2ENDINST  TC     ENDOFJOB
R2167   DATAWAIT IS AN ALTERNATIVE TO ENDIDLE. IT RETURNS IMMEDIATELY IF
R2168   LOADSTAT INDICATES THAT DATA IS ALREADY IN, OR PROCEED OR TERMINATE HAS
R2169   BEEN EXECUTED. RETURN FORMAT IS SAME AS FOR ENDIDLE.
R2170   DATAWAIT CANNOT BE CALLED FROM ERASABLE MEMORY, SINCE JOBSLEEP
R2171   AND JOBWAKE CAN HANDLE ONLY FIXED MEMORY.
R2172  2DATAWAIT SHOULD BE USED ONLY AFTER REQUESTING A LOAD VERB.
 2173   DATAWAIT CCS    LOADSTAT
 2174            TCF    DATWAIT1        PROCEED. RETURN TO L+2.
 2175            TCF    ENDIDLE         STILL WAITING. GO TO SLEEP.
 2176            TC     Q               TERMINATE. RETURN TO L+1.
 2177            TCF    Q+2             DATA IN. RETURN TO L+3
 2178  2DATWAIT1 =      Q+1             RETURN TO L+2
R2179   DATAWAIT DOES NOT RELEASE DISPLAY SYST. IT IS RELEASED AT END OF NVSUB
R2180  4INITIATED LOAD, IF ENDIDLE WAS NOT USED.
 2181            SETLOC MID6  +1
R2182  2DSPMM  PLACE MAJOR MODE CODE INTO MODREG
 2183   DSPMM1   CAF    MD1             GETS HERE THRU DSPMM (STANDARD LEAD IN)
 2184            XCH    DSPCOUNT
 2185            TS     DSPMMTEM        SAVE DSPCOUNT
 2186            CA     MODREG
 2187            LXCH   Q
 2188            TC     DSP2BIT
 2189            XCH    DSPMMTEM        RESTORE DSPCOUNT
 2190            TS     DSPCOUNT
 2191  4DSPMMEND TC     L
R2192   RECALTST IS ENTERED DIRECTLY AFTER DATA IS
R2193   LOADED, TERMINATE VERB IS EXECUTED, OR THE PROCEED WITHOUT DATA VERB IS
R2194  2EXECUTED. IT WAKES UP JOB THAT DID TC ENDIDLE.
R2195   IF NVSUB INITIATED LOAD, AND ENDIDLE WAS NOT USED, THEN IT RELEASES
R2196  2DISPLAY SYST. (NEEDED FOR DATAWAIT)
 2197  2         SETLOC SWTAB  +4
 2198   RECALTST CCS    CADRSTOR
 2199            TC     RECAL1
 2200            TC     ENDOFJOB        NORMAL EXIT IF KEYBOARD INITIATED
 2201            TC     RECAL1
 2202            TS     CADRSTOR        -0. CONCLUSION OF NVSUB INITIATED LOAD.
 2203            TC     RECAL3          +0 INTO CADRSTOR, RELEASE DISPLAY,
A2204                                      AND ENDOFJOB. NEEDED FOR DATAWAIT.
 2205   RECAL1   CAF    ZERO
 2206            XCH    CADRSTOR
 2207            INHINT
 2208            TC     JOBWAKE
 2209            CCS    LOADSTAT
 2210            TC     DOPROC          + PROCEED WITHOUT DATA
 2211            TC     ENDOFJOB        PATHALOGICAL CASE EXIT
 2212            TC     DOTERM          -   TERMINATE
 2213            CAF    TWO
 2214   RECAL2   INDEX  LOCCTR
 2215            AD     LOC             LOC IS + FOR BASIC JOBS
 2216            INDEX  LOCCTR
 2217            TS     LOC
 2218            RELINT
 2219   RECAL3   TC     RELDSP1         DOES NOT SEARCH LIST
 2220  2         TC     ENDOFJOB
 2221   DOTERM   CAF    ZERO
 2222  2         TC     RECAL2
 2223   DOPROC   CAF    ONE
 2224            TC     RECAL2
P2225  4THE FOLLOWING REFERS TO THE NOUN TABLES
R2226  2COMPONENT CODE NUMBER           INTERPRETATION
R2227   00000                           1 COMPONENT
R2228   00001                           2 COMPONENT (EACH S P)
R2229  400010                           3 COMPONENT (EACH SP)
R2230  2SF ROUTINE CODE NUMBER          INTERPRETATION
R2231   00000    OCTAL ONLY
R2232   00001    STRAIGHT FRACTIONAL
R2233   00010    DEGREES (XXX.XX)
R2234   00011    ARITHMETIC SF
R2235   00100    ARITH DP1   OUT(MULT BY 2/14 AT END)      IN(STRAIGHT)
R2236   00101    ARITH DP2   OUT(STRAIGHT)                 IN(SL 7 AT END)
R2237   00110    OPTICS DEGREES(XX.XXX MAX 89.999) OR (XXX.XX MAX 179.99)
R2238   00111    ARITH DP3   OUT ( SL 7 AT END)       IN ( STRAIGHT)
R2239  4END OF SF ROUTINE CODE NUMBERS
R2240  2SF CONSTANT CODE NUMBER         INTERPRETATION
R2241   00000                           WHOLE
R2242   00000                           TIME SEC(XXX.XX)SAME AS WHOLE(ARITH DP1)
R2243   00001                           TIME HOURS(XXX.XX) USE ARITH DP2
R2244   00010                           DEGREES
R2245   00010                           OPTICS DEGREES
R2246   00011                           GYRO DEGREES (XX.XXX)  USE ARITHDP3
R2247   00100                           GYRO BIAS DRIFT .BBXXXXX MILLIRAD/SEC
R2248   00101                           GYRO AXIS ACCEL. DRIFT
R2249                                   .BBXXXXX (MILLIRAD/SEC) / (CM/SEC SEC)
R2250   00110                           PIPA BIAS X.XXXX CM/SEC SEC
R2251   00111                           PIPA SCALE FACTOR ERROR
R2252                                       XXXXX. PARTS/MILLION
R2253   01000                           POSITION(XXXX.X KILOMETERS) USE ARITHDP3
R2254   01001                           VELOCITY(XXXX.X METERS/SEC) USE ARITHDP2
R2255   01010                           TIME HOURS(XXX.XX)WEEKS INSIDE(ARITHDP2)
R2256   01011                           ELEVATION DEGREES(89.999MAX) USE ARITH
R2257   01100                           RENDEZVOUS RADAR RANGE(XXXXXB.FEET)
R2258                                                               USE ARITHDP1
R2259   01101                           RENDEZVOUS RADAR RANGE RATE(XXXXX.FT/SEC
R2260                                                               USE ARITHDP1
R2261   01110                           LANDING RADAR ALTITUDE(XXXXX.FEET)
R2262                                                               USE ARITHDP1
R2263   01111                           INITIAL/FINAL ALTITUDE(XXXXX.FEET)
R2264                                                               USE ARITHDP1
R2265   10000                           ALTITUDE RATE(XXXXX.FEET)      USE ARITH
R2266   10001                           FORWARD/LATERAL VELOCITY(XXXXX.FEET/SEC)
R2267                                                                  USE ARITH
R2268   10010                           ROTATIONAL HAND CONTROLLER ANGLE RATES
R2269                                         XXXXX.DEG/SEC            USE ARITH
R2270   10011                           LANDING RADAR VELX(XXXXX.FEET/SEC)
R2271                                                               USE ARITHDP1
R2272   10100                           LANDING RADAR VELY(XXXXX.FEET/SEC)
R2273                                                               USE ARITHDP1
R2274   10101                           LANDING RADAR VELZ(XXXXX.FEET/SEC)
R2275                                                               USE ARITHDP1
R2276   10110                           OPTICAL TRACKER AZIMUTH ANGLE(XXX.XXDEG)
R2277                                                               USE ARITHDP1
R2278  4END OF SF CONSTANT CODE NUMBERS
R2279   FOR GREATER THAN SINGLE PRECISION SCALES, PUT ADDRESS OF MAJOR PART INTO
R2280   NOUN TABLES.
R2281   OCTAL LOADS PLACE +0 INTO MAJOR PART, DATA INTO MINOR PART.
R2282   OCTAL DISPLAYS SHOW MINOR PART ONLY.
R2283   TO GET AT BOTH MAJOR AND MINOR PARTS (IN OCTAL), USE NOUN 01.
P2284   THE FOLLOWING ROUTINES ARE FOR READING THE NOUN TABLES AND THE SF TABLES
R2285   (WHICH ARE IN A SEPARATE BANK FROM THE REST OF PINBALL). THESE READING
R2286  4ROUTINES ARE IN THE SAME BANK AS THE TABLES. THEY ARE CALLED BY DXCH Z.
R2287   LODNNTAB LOADS NNADTEM WITH THE NNADTAB ENTRY, NNTYPTEM WITH THE
R2288   NNTYPTAB ENTRY. IF THE NOUN IS MIXED, IDAD1TEM IS LOADED WITH THE FIRST
R2289   IDADDTAB ENTRY, IDAD2TEM THE SECOND IDADDTAB ENTRY, IDAD3TEM THE THIRD
R2290   IDADDTAB ENTRY, RUTMXTEM WITH THE RUTMXTAB ENTRY. MIXBR IS SET FOR
R2291  2MIXED OR NORMAL NOUN.
 2292            BANK   23
 2293   LODNNTAB DXCH   IDAD2TEM        SAVE RETURN INFO IN IDAD2TEM, IDAD3TEM.
 2294            INDEX  NOUNREG
 2295            CAF    NNADTAB
 2296            TS     NNADTEM
 2297            INDEX  NOUNREG
 2298            CAF    NNTYPTAB
 2299            TS     NNTYPTEM
 2300            CS     NOUNREG
 2301            AD     MIXCON
 2302            EXTEND
 2303            BZMF   LODMIXNN        NOUN NUMBER G/E FIRST MIXED NOUN
 2304            CAF    ONE             NOUN NUMBER L/ FIRST MIXED NOUN
 2305            TS     MIXBR           NORMAL.  +1 INTO MIXBR.
 2306            TC     LODNLV
 2307   LODMIXNN CAF    TWO             MIXED.  +2 INTO MIXBR.
 2308            TS     MIXBR
 2309            INDEX  NOUNREG
 2310            CAF    RUTMXTAB -55
 2311            TS     RUTMXTEM
 2312            CAF    LOW10
 2313            MASK   NNADTEM
 2314            TS     Q               TEMP
 2315            INDEX  A
 2316            CAF    IDADDTAB
 2317            TS     IDAD1TEM        LOAD IDAD1TEM WITH FIRST IDADDTAB ENTRY
 2318            EXTEND
 2319            INDEX  Q               LOAD IDAD2TEM WITH 2ND IDADDTAB ENTRY
 2320            DCA    IDADDTAB +1     LOAD IDAD3TEM WITH 3RD IDADDTAB ENTRY.
 2321   LODNLV   DXCH   IDAD2TEM        PUT RETURN INFO INTO A, L.
 2322  2         DXCH   Z
 2323  4MIXCON   OCT    55              FIRST MIXED NOUN = 55.
R2324  2GTSFOUT LOADS SFTEMP1, SFTEMP2 WITH THE DP SFOUTAB ENTRIES.
 2325   GTSFOUT  DXCH   SFTEMP1         2X(SFCONUM) ARRIVES IN SFTEMP1.
 2326            EXTEND
 2327            INDEX  A
 2328            DCA    SFOUTAB
 2329   SFCOM    DXCH   SFTEMP1
 2330  4         DXCH   Z
R2331  2GTSFIN LOADS SFTEMP1, SFTEMP2 WITH THE DP SFINTAB ENTRIES.
 2332   GTSFIN   DXCH   SFTEMP1         2X(SFCONUM) ARRIVES IN SFTEMP1.
 2333            EXTEND
 2334            INDEX  A
 2335            DCA    SFINTAB
 2336  4         TCF    SFCOM
A2337                                   NN  NORMAL NOUNS
 2338   NNADTAB  OCT    00000           00 NOT IN USE
 2339            OCT    40000           01 SPECIFY MACHINE ADDRESS (FRACTIONAL)
 2340            OCT    40000           02 SPECIFY MACHINE ADDRESS (WHOLE)
 2341            OCT    40000           03 SPECIFY MACHINE ADDRESS (DEGREES)
 2342            OCT    40000           04 SPECIFY MACHINE ADDRESS (HOURS)
 2343            OCT    40000           05 SPECIFY MACHINE ADDRESS (SECONDS)
 2344            OCT    40000           06 SPECIFY MACHINE ADDRESS (GYRO DEG)
 2345            OCT    00000           07 SPARE
 2346            OCT    77776           10 CHANNEL TO BE SPECIFIED
 2347            OCT    00000           11 SPARE
 2348            OCT    00000           12 SPARE
 2349            OCT    00000           13 SPARE
 2350            OCT    00000           14 SPARE
 2351            OCT    77777           15 INCREMENT MACHINE ADDRESS
 2352            ECADR  TIME2           16 TIME SECONDS
 2353            ECADR  TIME2           17 TIME HOURS
 2354            ECADR  CDUX            20 ICDU
 2355            ECADR  PIPAX           21 PIPAS
 2356            ECADR  THETAD          22 NEW ANGLES I
 2357            ECADR  DSPTEM2         23 DELTA ANGLES I
 2358            ECADR  DSPTEM1         24 DELTA TIME (SEC)
 2359            ECADR  DSPTEM1         25 CHECKLIST
 2360            ECADR  DSPTEM1         26 PRIO/DELAY, ADRES, BBCON
 2361            ECADR  SMODE           27 SELF TEST ON/OFF SWITCH
 2362            ECADR  DSPTEM1         30 STAR NUMBERS
 2363            ECADR  ALMCADR         31 ALMCADR, ALMCADR +1, ERCOUNT
 2364            ECADR  TDEC            32 DECISION TIME (MIDCOURSE)
 2365            ECADR  TET             33 EPHEMERIS TIME (MIDCOURSE)
 2366            ECADR  MEASQ           34 MEASURED QUANTITY (MIDCOURSE)
 2367            ECADR  DSPTEM1         35 INBIT MESSAGE
 2368            ECADR  LANDMARK        36 LANDMARK DATA 1
 2369            ECADR  LANDMARK +3     37 LANDMARK DATA 2
 2370            ECADR  OPTY            40 RENDEZVOUS RADAR ANGLES (TRUN, SHAFT)
 2371            ECADR  TANG            41 NEW REND. RADAR ANGLES (TRUN, SHAFT)
 2372            ECADR  DSPTEM2         42 AOT ROTATION ANGLES
 2373            ECADR  XYMARK          43 AOT DETENT CODE
 2374            ECADR  FORVEL          44 FORWARD VELOCITY, LATERAL VELOCITY
 2375            ECADR  PCOM            45 ROTATIONAL HAND CONTROLLER ANGLE RATE
 2376            OCT    00000           46 SPARE
 2377            OCT    00000           47 SPARE
 2378            ECADR  FAILREG         50 FAILREG, FAILREG +1, FAILREG +2.
 2379            OCT    00000           51 SPARE
 2380            ECADR  GBIASX          52 GYRO BIAS DRIFT
 2381            ECADR  ADIAX           53 GYRO INPUT AXIS ACCELERATION DRIFT
 2382  2         ECADR  ADSRAX          54 GYRO SPIN AXIS ACCELERATION DRIFT
A2383                                   NN  MIXED NOUNS
 2384            OCT    02000           55 LANDING RADAR ALTITUDE, TIME(SEC)
 2385            OCT    02002           56 LANDING RADAR VELX, TIME(SEC)
 2386            OCT    02004           57 LANDING RADAR VELY, TIME(SEC)
 2387            OCT    02006           60 LANDING RADAR VELZ, TIME(SEC)
 2388            OCT    02010           61 TARGET AZIMUTH AND ELEVATION
 2389            OCT    04012           62 RENDEZVOUS RADAR RANGE, TRUN, SHAFT
 2390            OCT    04015           63 REND. RADAR RANGE RATE, TRUN, SHAFT
 2391            OCT    04020           64 INITIAL ALT, FINAL ALT, ALT RATE
 2392            OCT    02023           65 SAMPLED TIME (HOURS AND SECONDS)
A2393                                        (FETCHED IN INTERRUPT)
 2394            OCT    04025           66 SYSTEM TEST RESULTS
 2395            OCT    04030           67 DELTA GYRO ANGLES
 2396            OCT    02033           70 OPTICAL TRACKER ANGLES (AZIMUTH,ELEV)
 2397            OCT    02035           71 DESIRED OPT. TRACK. ANGLES (AZ, ELEV)
 2398            OCT    04037           72 DELTA POSITION
 2399            OCT    04042           73 DELTA VELOCITY
 2400            OCT    04045           74 MEASUREMENT DATA (MIDCOURSE)
 2401            OCT    04050           75 MEASUREMENT DEVIATIONS (MIDCOURSE)
 2402            OCT    04053           76 POSITION VECTOR
 2403  4         OCT    04056           77 VELOCITY VECTOR
A2404                                   NN        NORMAL NOUNS
 2405   NNTYPTAB OCT    00000           00 NOT IN USE
 2406            OCT    00040           01 1COMP  FRACTIONAL
 2407            OCT    00140           02 1COMP  WHOLE
 2408            OCT    00102           03 1COMP  DEGREES
 2409            OCT    00241           04 1COMP  HOURS
 2410            OCT    00200           05 1COMP  SECONDS
 2411            OCT    00343           06 1COMP  GYRO DEGREES
 2412            OCT    00000           07        SPARE
 2413            OCT    00000           10 1COMP  OCTAL ONLY
 2414            OCT    00000           11        SPARE
 2415            OCT    00000           12        SPARE
 2416            OCT    00000           13        SPARE
 2417            OCT    00000           14        SPARE
 2418            OCT    00000           15 1COMP  OCTAL ONLY
 2419            OCT    00200           16 1COMP  SECONDS
 2420            OCT    00241           17 1COMP  HOURS
 2421            OCT    04102           20 3COMP  DEGREES
 2422            OCT    04140           21 3COMP  WHOLE
 2423            OCT    04102           22 3COMP  DEGREES
 2424            OCT    04102           23 3COMP  DEGREES
 2425            OCT    00200           24 1COMP  SECONDS
 2426            OCT    00140           25 1COMP  WHOLE
 2427            OCT    04000           26 3COMP  OCTAL ONLY
 2428            OCT    00140           27 1COMP  WHOLE
 2429            OCT    04140           30 3COMP  WHOLE
 2430            OCT    04000           31 3COMP  OCTAL ONLY
 2431            OCT    00252           32 1COMP  TIME WEEKS
 2432            OCT    00252           33 1COMP  TIME WEEKS
 2433            OCT    00350           34 1COMP  POSITION
 2434            OCT    04000           35 3COMP  OCTAL ONLY
 2435            OCT    04000           36 3COMP  OCTAL ONLY
 2436            OCT    04000           37 3COMP  OCTAL ONLY
 2437            OCT    02102           40 2COMP  DEGREES
 2438            OCT    02102           41 2COMP  DEGREES
 2439            OCT    02102           42 2COMP  DEGREES
 2440            OCT    00140           43 1COMP  WHOLE
 2441            OCT    02161           44 2COMP  FORWARD/LATERAL VELOCITY
 2442            OCT    04162           45 3COMP  ROT HAND CONT ANGLE RATE
 2443            OCT    00000           46        SPARE
 2444            OCT    00000           47        SPARE
 2445            OCT    04000           50 3COMP  OCTAL ONLY
 2446            OCT    00000           51        SPARE
 2447            OCT    04144           52 3COMP  GYRO BIAS DRIFT
 2448            OCT    04145           53 3COMP  GYRO AXIS ACCEL. DRIFT
 2449  2         OCT    04145           54 3COMP  GYRO AXIS ACCEL. DRIFT
A2450                                   NN        MIXED NOUNS
 2451            OCT    00016           55 2COMP  LANDING RADAR ALT, SECONDS
 2452            OCT    00023           56 2COMP  LANDING RADAR VELX, SECONDS
 2453            OCT    00024           57 2COMP  LANDING RADAR VELY, SECONDS
 2454            OCT    00025           60 2COMP  LANDING RADAR VELZ, SECONDS
 2455            OCT    00542           61 2COMP  DEGREES, ELEVATION DEGREES
 2456            OCT    04114           62 3COMP  REND. RADAR RANGE, DEG, DEG
 2457            OCT    04115           63 3COMP  REND. RAD. RANGE RATE, DEG,DEG
 2458            OCT    40757           64 3COMP  IN/FN ALT, IN/FN ALT, ALT RATE
 2459            OCT    00001           65 2COMP  HOURS, SECONDS
 2460            OCT    00000           66 3COMP  WHOLE, FRACTIONAL, WHOLE
 2461            OCT    06143           67 3COMP  GYRO DEGREES FOR EACH
 2462            OCT    00126           70 2COMP  OPT TRACK AZIMUTH, DEGREES
 2463            OCT    00126           71 2COMP  OPT TRACK AZIMUTH, DEGREES
 2464            OCT    20410           72 3COMP  POSITION FOR EACH
 2465            OCT    22451           73 3COMP  VELOCITY FOR EACH
 2466            OCT    00412           74 3COMP  TIME WEEKS, POSITION, WHOLE
 2467            OCT    20450           75 3COMP  POSITION, VELOCITY, POSITION
 2468            OCT    20410           76 3COMP  POSITION FOR EACH
 2469  4         OCT    22451           77 3COMP  VELOCITY FOR EACH
 2470   SFINTAB  OCT    00006           WHOLE,TIME(SEC)
 2471            OCT    03240
 2472            OCT    00253           TIME HOURS ( = 1.3..... )
 2473            OCT    25124             (POINT BETWEEN BITS 7-8 )
 2474            OCT    0               DEGREES (SFCON IN DEGINSF )
 2475            OCT    0
 2476            OCT    10707           GYRO DEGREES
 2477            OCT    03435                       UPPED BY 1
 2478            OCT    00001           GYRO BIAS DRIFT
 2479            OCT    02133
 2480            OCT    00011           GYRO AXIS ACCEL. DRIFT
 2481            OCT    30322
 2482            OCT    00004           PIPA BIAS
 2483            OCT    14021
 2484            OCT    00314           PIPA SCALE ERROR.
 2485            OCT    31463
 2486            OCT    23420           POSITION
 2487            OCT    00000
 2488            OCT    00201           VELOCITY
 2489            OCT    30327           ( POINT BETWEEN BITS 7-8 )
 2490            OCT    01371           TIME WEEKS
 2491            OCT    34750           ( POINT BETWEEN BITS 7-8 )
 2492            OCT    00001           ELEVATION DEGREES
 2493            OCT    03434
 2494            OCT    00006           RENDEZVOUS RADAR RANGE
 2495            OCT    20162
 2496            OCT    00011           RENDEZVOUS RADAR RANGE RATE
 2497            OCT    27066
 2498            OCT    00005           LANDING RADAR ALTITUDE
 2499            OCT    24733
 2500            OCT    00002           INITIAL/FINAL ALTITUDE
 2501            OCT    23224
 2502            OCT    00014           ALTITUDE RATE
 2503            OCT    06500
 2504            OCT    00012           FORWARD/LATERAL VELOCITY
 2505            OCT    36455
 2506            OCT    04256           ROT HAND CONT ANGLE RATE
 2507            OCT    07071
 2508            OCT    00011           LANDING RADAR VELX
 2509            OCT    17410
 2510            OCT    00004           LANDING RADAR VELY
 2511            OCT    33740
 2512            OCT    00007           LANDING RADAR VELZ
 2513            OCT    03701
 2514            OCT    00005           OPTICAL AZIMUTH TRACKER ANGLE
 2515            OCT    21616
A2516  4                                END OF SFINTAB
 2517   SFOUTAB  OCT    05174           WHOLE, TIME(SEC)
 2518            OCT    13261
 2519            OCT    27670           TIME HOURS
 2520            OCT    31357
 2521            OCT    0               DEGREES
 2522            OCT    0
 2523            OCT    00714           GYRO DEGREES
 2524            OCT    31463           (POINT BETWEEN BITS 7-8)
 2525            OCT    35753           GYRO BIAS DRIFT
 2526            OCT    32323
 2527            OCT    03216           GYRO AXIS ACCEL. DRIFT
 2528            OCT    06400
 2529            OCT    07237           PIPA BIAS
 2530            OCT    37776
 2531            OCT    00120           PIPA SCALE ERROR
 2532            OCT    00000
 2533            OCT    00321           POSITION
 2534            OCT    26706           ( POINT BETWEEN BITS 7-8 )
 2535            OCT    37441           VELOCITY
 2536            OCT    14247
 2537            OCT    05300           TIME WEEKS
 2538            OCT    20305
 2539            OCT    34631           ELEVATION DEGREES
 2540            OCT    23146
 2541            OCT    04725           RENDEZVOUS RADAR RANGE
 2542            OCT    35454
 2543            OCT    03225           RENDEZVOUS RADAR RANGE RATE
 2544            OCT    07470
 2545            OCT    05521           LANDING RADAR ALTITUDE
 2546            OCT    30260
 2547            OCT    14226           INITIAL/FINAL ALTITUDE
 2548            OCT    31757
 2549            OCT    02476           ALTITUDE RATE
 2550            OCT    05531
 2551            OCT    02727           FORWARD/LATERAL VELOCITY
 2552            OCT    16415
 2553            OCT    00007           ROT HAND CONT ANGLE RATE
 2554            OCT    13734
 2555            OCT    03277           LANDING RADAR VELX
 2556            OCT    14165
 2557            OCT    06442           LANDING RADAR VELY
 2558            OCT    04735
 2559            OCT    04374           LANDING RADAR VELZ
 2560            OCT    30251
 2561            OCT    05605           OPTICAL TRACKER AZIMUTH ANGLE
 2562            OCT    03656
A2563  4                                END OF SFOUTAB
A2564                                   MIXNOUN  SF ROUT
 2565   IDADDTAB ECADR  RSTACK  +18D    01       LANDING RADAR ALTITUDE
 2566            ECADR  RSTACK  +22D    01       SECONDS
 2567            ECADR  RSTACK          02       LANDING RADAR VELX
 2568            ECADR  RSTACK  +4      02       SECONDS
 2569            ECADR  RSTACK  +6      03       LANDING RADAR VELY
 2570            ECADR  RSTACK  +10D    03       SECONDS
 2571            ECADR  RSTACK  +12D    04       LANDING RADAR VELZ
 2572            ECADR  RSTACK  +16D    04       SECONDS
 2573            ECADR  DSPTEM1         05       DEGREES
 2574            ECADR  DSPTEM1 +1      05       ELEVATION DEGREES
 2575            ECADR  RSTACK          06       RENDEZVOUS RADAR RANGE
 2576            ECADR  RSTACK  +2      06       DEGREES
 2577            ECADR  RSTACK  +3      06       DEGREES
 2578            ECADR  RSTACK  +6      07       RENDEZVOUS RADAR RANGE RATE
 2579            ECADR  RSTACK  +8D     07       DEGREES
 2580            ECADR  RSTACK  +9D     07       DEGREES
 2581            ECADR  ALT             10       INITIAL/FINAL ALTITUDE
 2582            ECADR  FINALT          10       INITIAL/FINAL ALTITUDE
 2583            ECADR  ALTRATE         10       ALTITUDE RATE
 2584            ECADR  SAMPTIME        11       HOURS
 2585            ECADR  SAMPTIME        11       SECONDS
 2586            ECADR  DSPTEM2         12       WHOLE
 2587            ECADR  DSPTEM2 +1      12       FRACTIONAL
 2588            ECADR  DSPTEM2 +2      12       WHOLE
 2589            ECADR  DELVX           13       GYRO DEGREES
 2590            ECADR  DELVX   +2      13       GYRO DEGREES
 2591            ECADR  DELVX   +4      13       GYRO DEGREES
 2592            ECADR  AZANG           14       OPT TRACK AZIMUTH ANGLE
 2593            ECADR  ELANG           14       DEGREES
 2594            ECADR  DESLOTSY        15       OPT TRACK AZIMUTH ANGLE
 2595            ECADR  DESLOTSX        15       DEGREES
 2596            ECADR  DELR            16       POSITION
 2597            ECADR  DELR    +2      16       POSITION
 2598            ECADR  DELR    +4      16       POSITION
 2599            ECADR  DELVEL          17       VELOCITY
 2600            ECADR  DELVEL  +2      17       VELOCITY
 2601            ECADR  DELVEL  +4      17       VELOCITY
 2602            ECADR  TDEC            20       TIME WEEKS
 2603            ECADR  MEASQ           20       POSITION
 2604            ECADR  MEASMODE        20       WHOLE
 2605            ECADR  DSPTEM1         21       POSITION
 2606            ECADR  DSPTEM1 +2      21       VELOCITY
 2607            ECADR  DELTAQ          21       POSITION
 2608            ECADR  DSPTEM1         22       POSITION
 2609            ECADR  DSPTEM1 +2      22       POSITION
 2610            ECADR  DSPTEM1 +4      22       POSITION
 2611            ECADR  DSPTEM1         23       VELOCITY
 2612            ECADR  DSPTEM1 +2      23       VELOCITY
 2613            ECADR  DSPTEM1 +4      23       VELOCITY
 2614            OCT    00000                    SPARE
 2615            OCT    00000                    SPARE
 2616            OCT    00000                    SPARE
 2617            OCT    00000                    SPARE
 2618            OCT    00000                    SPARE
 2619            OCT    00000                    SPARE
A2620  4                                END OF IDADDTAB
A2621                                   MIXNOUN  SF ROUT
 2622   RUTMXTAB OCT    00204           01  LANDING RADAR ALTITUDE, SECONDS
 2623            OCT    00204           02  LANDING RADAR VELX, SECONDS
 2624            OCT    00204           03  LANDING RADAR VELY, SECONDS
 2625            OCT    00204           04  LANDING RADAR VELZ, SECONDS
 2626            OCT    00142           05  DEGREES, ELEVATION DEGREES
 2627            OCT    04104           06  RENDEZVOUS RADAR RANGE, DEG, DEG
 2628            OCT    04104           07  REND. RADAR RANGE RATE, DEG, DEG
 2629            OCT    06204           10  INIT/FIN ALT, INIT/FIN ALT, ALT RATE
 2630            OCT    00205           11  HOURS, SECONDS
 2631            OCT    06043           12  WHOLE, FRACTIONAL, WHOLE
 2632            OCT    16347           13  GYRO DEGREES (FOR EACH)
 2633            OCT    00104           14  OPT TRACK AZIMUTH ANGLE, DEGREES
 2634            OCT    00104           15  OPT TRACK AZIMUTH ANGLE, DEGREES
 2635            OCT    16347           16  POSITION (FOR EACH)
 2636            OCT    12245           17  VELOCITY (FOR EACH)
 2637            OCT    06345           20  TIME WEEKS, POSITION, WHOLE
 2638            OCT    16247           21  POSITION, VELOCITY, POSITION
 2639            OCT    16347           22  POSITION (FOR EACH)
 2640            OCT    12245           23  VELOCITY (FOR EACH)
A2641  4                                END OF RUTMXTAB
P2642  4MISCELLANEOUS SERVICE ROUTINES IN FIXED/FIXED
 2643            BLOCK  02
R2644   SETNCADR       E CADR ARRIVES IN A. IT IS STORED IN NOUNCADR. EBANK BITS
R2645  2               ARE SET. E ADRES IS DERIVED AND PUT INTO NOUNADD.
 2646   SETNCADR TS     NOUNCADR        STORE ECADR
 2647            TS     EBANK           SET EBANK BITS
 2648            MASK   LOW8
 2649            AD     OCT1400
 2650            TS     NOUNADD         PUT E ADRES INTO NOUNADD
 2651  4         TC     Q
R2652   SETNADD        GETS E CADR FROM NOUNCADR, SETS EBANK BITS, DERIVES
R2653  2               E ADRES AND PUTS IT INTO NOUNADD.
 2654   SETNADD  CA     NOUNCADR
 2655  4         TCF    SETNCADR +1
R2656   SETEBANK       E CADR ARRIVES IN A. EBANK BITS ARE SET. E ADRES IS
R2657  2               DERIVED AND LEFT IN A.
 2658   SETEBANK TS     EBANK           SET EBANK BITS
 2659            MASK   LOW8
 2660            AD     OCT1400         E ADRES LEFT IN A
 2661  4         TC     Q
 2662   R1D1     OCT    16
 2663   R2D1     OCT    11
 2664  2R3D1     OCT    4
 2665   RIGHT5   TS     CYR
 2666            CS     CYR
 2667            CS     CYR
 2668            CS     CYR
 2669            CS     CYR
 2670            XCH    CYR
 2671  2         TC     Q
 2672   LEFT5    TS     CYL
 2673            CS     CYL
 2674            CS     CYL
 2675            CS     CYL
 2676            CS     CYL
 2677            XCH    CYL
 2678  2         TC     Q
 2679   SLEFT5   DOUBLE
 2680            DOUBLE
 2681            DOUBLE
 2682            DOUBLE
 2683            DOUBLE
 2684  4         TC     Q
 2685   LOW5     OCT    37
 2686   MID5     OCT    1740
 2687  2HI5      OCT    76000           MUST STAY HERE
 2688   TCNOVAC  =      SVCT3 +5
 2689   TCWAIT   TC     WAITLIST
 2690   TCTSKOVR =      SVCT3 +1
 2691  4TCFINDVC TC     FINDVAC
 2692  2CHRPRIO  =      PRIO30          EXEC PRIORITY OF CHARIN
 2693   LOW11    OCT    3777
 2694   B12-1    EQUALS LOW11
 2695   LOW8     OCT    377
 2696   VD1      OCT    23
 2697   ND1      OCT    21
 2698  2MD1      OCT    25
 2699  2BINCON   DEC    10
 2700   FALTON   CA     BIT7            TURN ON OPERATOR ERROR LIGHT
 2701            EXTEND
 2702            WOR    DSALMOUT        BIT 7 OF CHANNEL 11
 2703  2         TC     Q
 2704   FALTOF   CS     BIT7            TURN OFF OPERATOR ERROR LIGHT
 2705            EXTEND
 2706            WAND   DSALMOUT        BIT 7 OF CHANNEL 11
 2707  2         TC     Q
 2708   RELDSPON CAF    BIT5            TURN ON KEY RELEASE LIGHT
 2709            EXTEND
 2710            WOR    DSALMOUT        BIT 5 OF CHANNEL 11
 2711  2         TC     Q
 2712   LODSAMPT EXTEND
 2713            DCA    TIME2
 2714            DXCH   SAMPTIME
 2715  4         TC     Q
 2716   TPSL1    EXTEND                 SHIFTS MPAC, +1, +2 LEFT 1
 2717            DCA    MPAC    +1      LEAVES OVFIND SET TO +/- 1 FOR OF/UF
 2718            DAS    MPAC    +1
 2719            AD     MPAC
 2720            ADS    MPAC
 2721            TS     7               TS A DOES NOT CHANGE A ON OF/UF.
 2722            TC     Q               NO NET OF/UF
 2723            TS     OVFIND          OVFIND SET TO +/- 1 FOR OF/UF
 2724  4         TC     Q
 2725   FLASHON  CAF    BIT6            TURN ON V/N FLASH
 2726            EXTEND                 BIT 6 OF CHANNEL 11
 2727            WOR    DSALMOUT
 2728  4         TC     Q
 2729   FLASHOFF CS     BIT6            TURN OFF V/N FLASH
 2730            EXTEND
 2731            WAND   DSALMOUT        BIT 6 OF CHANNEL 11
 2732            TC     Q
P2733   INTERNAL ROUTINES THAT USE THE KEYBOARD AND DISPLAY SYSTEM(THRU
R2734   NVSUB) MUST  TC GRABDSP  BEFOREHAND , TO GRAB THE DISPLAY SYSTEM AND
R2735  2MAKE IT BUSY TO OTHER INTERNAL USERS.
R2736         WHEN FINISHED , THERE MUST BE A TC FREEDSP , TO RELEASE THE
R2737  2SYSTEM FOR OTHER INTERNAL USERS.
R2738         THE CALLING SEQUENCES ARE
R2739   L        TC     GRABDSP
R2740   L+1      RETURN HERE WHEN SYSTEM IS ALREADY GRABBED
R2741  2L+2      RETURN HERE MEANS YOU HAVE IT
R2742   L        TC     NVSUB
R2743   L+1      RETURN HERE IF OPERATOR HAS INTERVENED
R2744  4L+2      RETURN HERE AFTER EXECUTION
R2745         A ROUTINE CALLED GRABUSY IS PROVIDED (USE IS OPTIONAL) TO PUT YOUR
R2746   JOB TO SLEEP UNTIL  THE SYSTEM IS FREED BY THE JOB HOLDING IT.
R2747   GRABUSY CANNOT BE CALLED FROM E MEMORY, SINCE JOBSLEEP AND JOBWAKE
R2748   HANDLE ONLY FIXED MEMORY.
R2749  2YOUR CADR IS PUT AT FIRST AVAILABLE SLOT IN A WAITING LIST (FIFO).
R2750         THE CALLING SEQUENCE IS
R2751            CAF    WAKEFCADR
R2752  2         TC     GRABUSY
R2753         A ROUTINE CALLED  NVSUBUSY IS PROVIDED (USE IS OPTIONAL)  TO PUT
R2754   YOUR JOB TO SLEEP UNTIL THE OPERATOR RELEASES IT.
R2755   NVSUBUSY CANNOT BE CALLED FROM E MEMORY, SINCE JOBSLEEP AND JOBWAKE
R2756   HANDLE ONLY FIXED MEMORY.
R2757                                               YOUR CADR IS PUT
R2758  2ON TOP OF A WAITING LIST (FIFO). IT ALSO TURNS ON KEY RELEASE LIGHT.
R2759          THE CALLING SEQUENCE IS
R2760            CAF    WAKEFCADR
R2761  4         TC     NVSUBUSY
R2762   AFTER A TC FREEDSP, THE INTERNAL INTERLOCK IS KEPT BUSY FOR 1.75 SECS.
R2763   AFTER WHICH A CADR IS CALLED FROM THE LIST. THIS INSURES THAT ALL
R2764  4DISPLAYS WAITING WILL BE VISIBLE.
R2765   GRABLOCK IS THE INTERNAL INTERLOCK FOR THE USE OF THE KEYBOARD
R2766   AND DISPLAY SYSTEM.
R2767   +0  FREE
R2768   +1  SOME INTERNAL ROUTINE HAS GRABBED DSP SYST
R2769  4+2  SOME INTERNAL ROUTINE HAS GONE TO NVSUBUSY
 2770   GRABDSP  CCS    GRABLOCK
 2771            TC     Q               ALREADY GRABBED, RETURN TO L+1
 2772            CAF    ONE             NOT GRABBED, SET TO +1
 2773            TS     GRABLOCK        AND RETURN TO L+2
 2774  4         TCF    Q+1
 2775   PREGBSY  CAF    LOW10           SPECIAL ENTRANCE FOR ROUTINES IN FIXED
 2776            MASK   Q               BANKS ONLY DESIRING THE FCADR OF
 2777            AD     FBANK           1 + (LOC FROM WHICH TC PREGBSY WAS DONE)
 2778   GRABUSY  TC     POSTJUMP        TO BE ENTERED.
 2779            CADR   GRABUSYB
 2780            SETLOC DOPROC  +2
 2781   GRABUSY1 TS     L
 2782            CCS    GRABLOCK
 2783            TC     +3              STILL GRABBED
 2784            CA     L               NOT GRABBED SO DO DIRECT CALL
 2785            TC     BANKJUMP
 2786            CAF    TWO
 2787            TS     LSTPTR
 2788            INDEX  LSTPTR          SEARCH LIST FOR FIRST AVAILABLE SPACE
 2789            CCS    DSPLIST         FROM BOTTOM.
 2790            TC     +2
 2791            TC     PUTINLST        SPACE FOUND
 2792            CCS    LSTPTR          DECREMENT POINTER
 2793            TC     -6
 2794            TC     LSTFULL
 2795   PUTINLST CA     L
 2796            INDEX  LSTPTR
 2797            TS     DSPLIST
 2798  4         TC     JOBSLEEP
R2799   GRABWAIT IS A SPECIAL ENTRANCE FOR ROUTINES IN FIXED BANKS ONLY. IF
R2800   SYSTEM IS NOT GRABBED, IT GRABS IT AND RETURNS TO L+1 ( L = LOC FROM
R2801   WHICH THE TC GRABWAIT WAS DONE). IF SYSTEM IS GRABBED, IT PUTS CALLING
R2802   JOB TO SLEEP WITH L+1 GOING INTO LIST FOR EVENTUAL WAKING UP WHEN
R2803  2SYSTEM IS FREED.
 2804            SETLOC GRABUSY  +2
 2805   GRABWAIT CCS    GRABLOCK
 2806            TCF    PREGBSY         GRABBED. PUT L+1 INTO LIST. GO TO SLEEP.
 2807            CAF    ONE             NOT GRABBED. GRAB AND RETURN TO L+1.
 2808            TS     GRABLOCK
 2809  4         TC     Q
 2810   PRENVBSY CS     2K+3            SPECIAL ENTRANCE FOR ROUTINES IN FIXED
 2811            AD     Q               BANKS ONLY DESIRING THE FCADR OF(LOC
 2812            AD     FBANK           FROM WHICH THE TC PRENVBSY WAS DONE) -2
 2813   NVSUBUSY TC     POSTJUMP        TO BE ENTERED.
 2814            CADR   NVSUBSYB
 2815  22K+3     OCT    2003
 2816            SETLOC PUTINLST  +4
 2817   NVSUBSY1 TS     L
 2818            CCS    DSPLOCK         TEST IF REALLY LOCKED OUT
 2819            TC     +3              STILL BUSY
 2820            CA     L               DSPLOCK = +0 SO RETURN DIRECTLY
 2821            TC     BANKJUMP
 2822            CAF    TWO             SET FOR GRABBED STATE AND NVSUBUSY USE
 2823            TS     GRABLOCK
 2824            CA     L
 2825            XCH    DSPLIST +2      ENTER CADR INTO FIRST POSITION OF LIST
 2826            XCH    DSPLIST +1              (BOTTOM)
 2827            XCH    DSPLIST
 2828            CCS    A
 2829            TC     LSTFULL
 2830            TC     +2
 2831            TC     LSTFULL
 2832            TC     RELDSPON
 2833            CA     L
 2834  4ENDNVBSY TC     JOBSLEEP
R2835   NVSBWAIT IS A SPECIAL ENTRANCE FOR ROUTINES IN FIXED BANKS ONLY. IF
R2836   SYSTEM IS NOT BUSY, IT EXECUTES V/N AND RETURNS TO L+1 (L= LOC FROM
R2837   WHICH THE TC NVSBWAIT WAS DONE). IF SYSTEM IS BUSY, IT PUTS CALLING JOB
R2838   TO SLEEP WITH L-1 GOING INTO LIST FOR EVENTUAL WAKING UP WHEN SYSTEM
R2839  2IS NOT BUSY.
 2840            SETLOC NVSUBUSY +3
 2841   NVSBWAIT TS     NVTEMP
 2842            CCS    DSPLOCK
 2843            TCF    NVSBWT1         BUSY
 2844            CA     Q               FREE. NVSUB WILL SAVE L+1 FOR RETURN
 2845            TCF    NVSUB   +5      AFTER EXECUTION.
 2846   NVSBWT1  INCR   Q               L+2. PRENVBSY WILL PUT L-1 INTO LIST AND
 2847  4         TCF    PRENVBSY        GO TO SLEEP.
 2848   RELDSP   XCH    Q               SET DSPLOCK TO +0, TURN RELDSP LIGHT
 2849            TS     RELRET          OFF,  SEARCH DSPLIST
 2850            CAF    NEG1
 2851            AD     GRABLOCK
 2852            EXTEND                 SEARCH LIST ONLY IF GRABLOCK = +2
 2853            BZMF   RELDSP2           (SOMEONE USED NVSUBUSY)
 2854            TC     WKSEARCH
 2855            TC     RELDSP2         LIST EMPTY
 2856            TC     JOBWAKE         LIST NOT EMPTY
 2857            CAF    ONE
 2858            TS     GRABLOCK
 2859   RELDSP2  INHINT
 2860            CS     BIT5            TURN OFF KEY RELEASE LIGHT
 2861            EXTEND                 (BIT 5 OF CHANNEL 11)
 2862            WAND   DSALMOUT
 2863            CAF    ZERO
 2864            TS     DSPLOCK
 2865            RELINT
 2866            TC     RELRET
 2867   RELDSP1  XCH    Q               SET DSPLOCK TO +0, RELDSP LIGHT OFF,
 2868            TS     RELRET          NO LIST SEARCH
 2869  4         TC     RELDSP2
 2870   WKSEARCH CAF    ZERO            SEARCHES LIST. LEAVES RESULT IN A.
 2871            XCH    DSPLIST         IF EMPTY, RETURN TO L+1.
 2872            XCH    DSPLIST +1      IF NOT EMPTY, INHINT AND RETURN TO L+2.
 2873            XCH    DSPLIST +2
 2874            EXTEND
 2875            BZF    TCQ             EMPTY, RETURN TO L+1
 2876            INHINT                 NOT EMPTY
 2877  4         TCF    Q+1             RETURN TO L+2
 2878   FREEDSP  XCH    Q
 2879            TS     FREERET
 2880            INHINT
 2881            CAF    SHOTIME
 2882            TC     WAITLIST
 2883            EBANK= DSPCOUNT
 2884            2CADR  FREEWAIT
 2885            RELINT
 2886  2         TC     FREERET
 2887   SHOTIME  DEC    175             SET FOR 1.75 SEC.
 2888  2         SETLOC ENDNVBSY +1
 2889   FREEWAIT CAF    CHRPRIO         CALLED BY T3RUPT
 2890            TC     NOVAC
 2891            EBANK= DSPCOUNT
 2892            2CADR  FREDSPDO
 2893  4         TC     TASKOVER
 2894   FREDSPDO TC     WKSEARCH        CALLED BY EXECUTIVE
 2895            TC     LSTEMPTY        LIST EMPTY
 2896            TC     JOBWAKE         LIST NOT EMPTY
 2897            RELINT
 2898            CAF    ONE             SET FOR GRABBED CONDITION
 2899            TS     GRABLOCK
 2900            TC     ENDOFJOB
 2901   LSTEMPTY CAF    ZERO            SET FOR FREE CONDITION
 2902  4         TC     -3
 2903   LSTFULL  TC     ABORT
 2904  2         OCT    01206           PINBALL WAITING LINE FULL.
P2905   VBTSTLTS TURNS ON ALL DISPLAY PANEL LIGHTS. AFTER 5 SEC, IT TURNS
R2906  2OFF THE CAUTION AND STATUS LIGHTS.
 2907  2         SETLOC DSPMMEND +1
 2908   VBTSTLTS INHINT
 2909            CS     BIT1            SET BIT 1 OF IMODES33 SO IMUMON WONT
 2910            MASK   IMODES33        TURN OUT ANY LAMPS.
 2911            AD     BIT1
 2912  2         TS     IMODES33
 2913            CAF    TSTCON1         TURN ON UPLINK ACTIVITY, TEMP, KEY RLSE,
 2914            EXTEND                 V/N FLASH, OPERATOR ERROR.
 2915            WOR    DSALMOUT
 2916            CAF    TSTCON2         TURN ON NO ATT, GIMBAL LOCK, TRACKER,
 2917            TS     DSPTAB  +11D    PROG ALM.
 2918            CAF    BIT10           TURN ON TEST ALARM OUTBIT
 2919            EXTEND
 2920            WOR    CHAN13
 2921            CAF    TEN
 2922   TSTLTS1  TS     ERCNT
 2923            CS     FULLDSP
 2924            INDEX  ERCNT
 2925            TS     DSPTAB
 2926            CCS    ERCNT
 2927            TC     TSTLTS1
 2928            CS     FULLDSP1
 2929            TS     DSPTAB  +1      TURN ON 3 PLUS SIGNS
 2930            TS     DSPTAB  +4
 2931            TS     DSPTAB  +6
 2932            CAF    ELEVEN
 2933            TS     NOUT
 2934            RELINT
 2935            CAF    SHOLTS
 2936            INHINT
 2937            TC     WAITLIST
 2938            EBANK= DSPTAB
 2939            2CADR  TSTLTS2
 2940            TC     ENDOFJOB        DSPLOCK IS LEFT BUSY (FROM KEYBOARD
A2941                                   ACTION) UNTIL TSTLTS3 TO INSURE THAT
A2942  4                                LIGHTS TEST WILL BE SEEN.
 2943   FULLDSP  OCT    05675           DISPLAY ALL 8:S
 2944   FULLDSP1 OCT    07675           DISPLAY ALL 8:S AND +
 2945   TSTCON1  OCT    00175
A2946                                   UPLINK ACTIVITY, TEMP, KEY RLSE,
A2947                                   V/N FLASH, OPERATOR ERROR.
 2948   TSTCON2  OCT    40650           DSPTAB+11D  BITS 4,6,8,9.
A2949                                   NO ATT, GIMBAL LOCK, TRACKER, PROG ALM.
 2950   TSTCON3  OCT    00115           CHAN 11  BITS 1, 3, 4, 7.
A2951                                   UPLINK ACTIVITY, TEMP, OPERATOR ERROR.
 2952  4SHOLTS   OCT    764             5 SEC
 2953   TSTLTS2  CAF    CHRPRIO         CALLED BY WAITLIST
 2954            TC     NOVAC
 2955            EBANK= DSPTAB
 2956            2CADR  TSTLTS3
 2957  4         TC     TASKOVER
 2958   TSTLTS3  CS     TSTCON3         CALLED BY EXECUTIVE
 2959            INHINT
 2960            EXTEND                 TURN OFF  UPLINK ACTIVITY, TEMP,
 2961            WAND   DSALMOUT        OPERATOR ERROR.
 2962            CS     BIT10           TURN OFF TEST ALARM OUTBIT
 2963            EXTEND
 2964            WAND   CHAN13
 2965            CAF    BIT15           TURN OFF AUTO, HOLD, FREE, NO ATT, SPARE
 2966            TS     DSPTAB  +11D    GIMBAL LOCK, SPARE, TRACKER, PROG ALM
 2967            CS     13-11,1         SET BITS TO INDICATE ALL LAMPS OUT. TEST
 2968            MASK   IMODES33        LIGHTS COMPLETE.
 2969            AD     PRIO16
 2970  2         TS     IMODES33
 2971            CS     OCT55000
 2972            MASK   IMODES30
 2973            AD     PRIO15          15000.
 2974  2         TS     IMODES30
 2975            CS     RFAILS2
 2976            MASK   RADMODES
 2977            AD     BIT7
 2978  2         TS     RADMODES
 2979  2         RELINT
 2980            TC     DSPMM           REDISPLAY C(MODREG)
 2981            TC     POSTJUMP        TURN OFF KEY RLSE LIGHT (AND SEARCH LIST
 2982            CADR   VBTERM          IF APPROPRIATE).
A2983                                   TURN OFF V/N FLASH, SET LOADSTAT FOR
A2984                                   FOR TERMINATE CONDITION, AND GO TO
A2985  2                                RECALTST. FINALLY DO TC ENDOFJOB.
 2986   13-11,1  OCT    16001
 2987   RFAILS2  OCT    330             RADAR CDU AND DATA FAIL FLAGS.
 2988   OCT55000 OCT    55000
L      2ALARM AND ABORT
R0001   PROGRAM DESCRIPTION                                     DATE- 9 FEB 1967
R0002   PROGRAM WRITTEN BY M.HAMILTON                LOG SECTION-ALARM AND ABORT
R0003   MOD BY- R.MELANSON TO ADD DOCUMENTATION      ASSEMBLY SUNBURST REV 107
R0004
R0005   FUNCTIONAL DESCRIPTION-
R0006     TO ILLUMINATE THE PROGRAM ALARM LAMP AND DISPLAY OCTAL ALARM OR ABORT
R0007     CODES VIA VERB 15 NOUN 50. OCTAL CODES SUPPLIED BY CALLING ROUTINE.
R0008
R0009   CALLING SEQUENCE-
R0010     L   TC    ALARM OR ABORT      (IN TASK OR JOB)
R0011     L+1 OCT   (OCTAL CODE IDENTIFYING CAUSE OF ALARM OR ABORT)
R0012
R0013   NORMAL EXIT MODE-
R0015     TO L+2 OF CALLING SEQUENCE IF ALARM
R0016     (TC  TRAP) TO RESTART IF ABORT
R0017
R0018   ALARM OR ABORT EXIT MODE-  NONE
R0019
R0020   OUTPUT-
R0021     ALARM OR ABORT OCTAL CODE IN ONE OF FAILREG REGISTERS FOR DISPLAY.
R0022
R0023   ERASABLE INITIALIZATION-
R0024     FAILREG THRU FAILREG +2 ZEROED BY FRESH START.
R0025
R0026   DEBRIS-
R0027     Q,A,L,ALMCADR,ALMCADR +1,RUPTREG4
 0054  2         BLOCK  2
 0055   CCSHOLE  INHINT
 00555           CA     Q
 0056  2         TS     ALMCADR
 0057            TC     ABORT2
 0058  2         OCT    1103
 0059   CURTAINS INHINT                 SAVE 2CADR OF USER FOR CURTAINS DISPLAY
 00591           CA     Q
 00592 2         TS     ALMCADR
 00598           TC     ALARM2
 0060  2         OCT    00310
 00602  JETENTRY INHINT
 00604           CAF    CURTBB
 00606           XCH    BBANK
 00607 2         TCF    FORGETIT
 00608           EBANK= LST1
 00609  CURTBB   BBCON  FORGETIT
 00610           BANK   07
 00612  LARMLARM TC     GRABDSP
 00614           TCF    ENDOFJOB
 00615 2         TCF    DOALARM +1
 0062   DOALARM  TC     GRABWAIT        DISPLAY FAILREG.
 0063            CAF    FAILDISP
 0064  2         TC     NVSBWAIT
 0065  2         TC     EJFREE          FREE DISPLAY AND END JOB.
 0066  2FAILDISP OCT    01550           MONITOR DISPLAYS 3 FAILREG REGS
 0070   JETABORT TC     ALARM
 0071  2         OCT    00312
 0072  2         TCF    JETENTRY
R0480  2ALARM IS CALLED EITHER IN INTERRUPT OR UNDER EXECUTIVE CONTROL
R0481  2CALLING SEQUENCE,
A0482            TC     ALARM
A0483  2         OCT    AAANN           ALARM NO. NN IN GENERAL AREA AAA.
A0484  4                                (RETURNS HERE)
 05002           BLOCK  02
 0501  2ALARM    INHINT
 05012           CA     Q
 05014 2         TS     ALMCADR
 0502   ALARM2   INDEX  Q
 0503            CA     0
 0504  2BORTENT  TS     L               STORE RETURN -1 IN L
 05042           CA     BBANK
 05044 2         TS     ALMCADR +1
 0505            CA     Q
 0506  2         TS     RUPTREG4
 0507   CHKFAIL1 CCS    FAILREG         IS ANYTHING IN FAILREG
 0508            TCF    CHKFAIL2        YES TRY NEXT REG
 0509            LXCH   FAILREG
 0510  2         TCF    PROGLARM        TURN ALARM LIGHT ON FOR FIRST ALARM
 0511   CHKFAIL2 CCS    FAILREG +1
 0512            TCF    FAIL3
 0513            LXCH   FAILREG +1
 0514  2         TCF    ARMDSPON        LIGHT ALREADY ON
 0515   FAIL3    CA     FAILREG +2
 0516            MASK   POSMAX
 0517            CCS    A
 0518            TCF    MULTFAIL
 0519            LXCH   FAILREG +2
 0520  2         TCF    ARMDSPON        LAST DISPLAY TURN ON UNTIL ERR RESET
 0521   PROGLARM CS     DSPTAB +11D
 0522            MASK   OCT40400
 0523  2         ADS    DSPTAB +11D
 05231  ARMDSPON CAF    PRIO37
 05232           TC     NOVAC
 05233           EBANK= FAILREG
 05234           2CADR  LARMLARM
 0524   MULTEXIT XCH    RUPTREG4
 05245           RELINT
 0525            INDEX  A
 0526  2         TC     1
 0527   MULTFAIL CA     L
 0528            AD     BIT15
 0529            XCH    FAILREG +2
 05292           MASK   POSMAX
 05294 2         TS     FAILREG +1
 0530  2         TCF    MULTEXIT
 0545            BLOCK  03
 0550   ABORT    INHINT
 05502           CA     Q
 05504 2         TS     ALMCADR
 0551   ABORT2   INDEX  Q
 0552            CAF    0
 0553            TC     BORTENT
 0554   OCT40400 OCT    40400
 05542           CS     BIT12           PUT RESTARTABILITY FLAG DOWN & GENERATE
 05544           MASK   FLAGWRD1        A RESTART TO YIELD A FAKESTRT.
 05546           TS     FLAGWRD1
 0555   WHIMPER  TCF    WHIMPER
L      2UPDATE PROGRAM PART 1 OF 2
R00010  PROGRAM NAME- UPDATE PROGRAM
R000105 PROGRAM WRITTEN BY- RHODE
R00011  MOD NO.- 2
R00012  MOD BY- KILROY TO ADD AGC CLOCK AND TE(V75E4ETTTTTE) UPDATE FEATURE.
R00013  DATE- 01FEB67
R00014  LOG SECTIONS- UPDATE PROGRAM PART 1 OF 2
R00015                UPDATE PROGRAM PART 2 OF 2
R00016  ASSEMBLY- REV 93 OF SUNBURST
R00017  FUNCTIONAL DESCRIPTION- TO PROCESS COMMANDS AND DATA INSERTIONS
R00018           REQUESTED BY THE GROUND VIA UPLINK.
R00019           VERBS V64, V67, V70, V71, V72, V73, V75 AND V76 WILL NOT BE
R00020           PROCESSED IF THE MISSION TIMERS ARE DISABLED(I.E. AN MP IS IN
R00021           PROGRESS). OPERATOR ERROR LIGHT WILL BE TURNED ON.
R00022           V65, V66 AND V74 WILL BE PROCESSED EVEN IF A MP IS IN PROGRESS
R00025  CALLING SEQUENCE- TCF XXUPDAT   WHERE XX = EXTENDED VERBS(64 TO 76)
R00026                                  LST2FAN CONTAINS A LIST OF TCF XXUPDAT
R00027                                  WHICH ARE USED BY VERBFAN IN PINBALL TO
R00028                                  GIVE CONTROL TO THE UPDATE PROGRAM.
R00029  SUBROUTINES CALLED- POSTJUMP,IBNKCALL, BANKCALL, CHECKMM, GRABWAIT,
R00030           NEWMODEX, FREEDSP, WAITLIST, ENDOFJOB, NOVAC, TASKOVER, FINDVAC
R00031           ENDUP, DOV67, DOV70, DOV71, DOV72, DOV73, DOV74, DFITMCAL,
R00032           GRRPLACE, NVSBWAIT, ENDIDLE, XACTALM, MGETUP, UPDATINT, TPAGREE
R00033  NORMAL EXIT MODE- TC    BANKCALL
R00034                    CADR  ENDUP
R00035  ALARM OR ABORT EXIT MODE- BZF   XACTALM    IF MP IN PROGRESS
R00036
R00037                            TC    BANKCALL   IF MP IN PROGRESS
R00038                            CADR  XACTALM
R00039  RESTART PROTECTION- NONE FOR VERBS 64 TO 74. RESTART PROTECTION IS
R00040           INCLUDED FOR V75 AND V76 UNDER THE FOLLOWING CIRCUMSTANCES-----
R00041           1. THE DATA HAS BEEN SENT AND VERIFIED(I.E. V33E HAS BEEN SENT)
R00042           2. PROGRAM IS IN THE PROCESS OF MOVING DATA FROM STBUFF TO
R00043              APPROPRIATE REGISTERS OR
R00044              VERB 76 OR VERB 75(INDEX = 4 ONLY) PROGRAM(S) ARE WAITING(VI
 0004459A WAITLIST
R00045              3 SEC CALL) FOR ORBITAL INTEGRATION TO BE TURNED OFF.
R00046           ***OF COURSE ALL GROUND UPDATES(IF LOST DUE TO A RESTART) CAN
R00047           BE RESTARTED BY SENDING THE COMMANDS AND DATA A SECOND TIME***
R00051  INPUT(SEE LATEST AS206 GSOP:R527:FOR MORE INFO)-    ..................DE
 00052 9SCRIPTION OF UPDATE COMPONENTS..........
R00053                                                      COMP.
R00054  UPDATE ENTRY    DESCRIPTION OF UPDATE VERBS         NO.  SYMBOL  VALUES
 00055 9         DEFINITION  (WHERE STORED)
R00056  --------------- ----------------------------------- ---- ------- -------
 00057 9-------- -------------------------------
R00058  V64EIEXXXXXE    SET MISSION TIMER I TO ELAPSE AT A   1.    I     1,2,3,4
 00059 9         MISSION TIMERS
R00060        XXXXXE    GIVEN GROUND ELAPSED TIME(GET).X-S   2.  XXXXX
 00061 9         MSB OF GET(MUST BE IN)
R00062                  ARE THE GET(IN CENTISECONDS OF THE   3.  XXXXX
 00063 9         LSB OF GET(THE FUTURE)
R00064                  DESIRED EVENT.
R00065  V65E            SET GUIDANCE REFERENCE RELEASE       NONE
R00066                  DISCRETE.
R00067  V66E            INITIATE THE LGC DFI TLM CALIBRATE   NONE
R00068                  ROUTINE.
R00069  V67EXXXE        ENTER A THREE DIGIT OCTAL NUMBER     1.   XXX      1-377
 00070 9(OCTAL)  SEE GSOP FOR LIST OF COMMANDS
R00071                  REPRESENTING THE 8 BIT COMMAND TO
R00072                  BE SENT TO THE LMP.
R00073  V70EIETTTTTE    INCREMENT TIMER I BY TTTTT OCTAL     1.    I     1,2,3,4
 00074 9         MISSION TIMERS
R00075                  SECONDS.                             2.  TTTTT
 00076 9         **SEE NOTES TO LEFT**
R00077                  **SEE BELOW FOR DESCRIPTION OF
R00079                  :UPDATE OF TIMERI LOGIC : AND
R00081                  :TIMER MAINTENANCE LOGIC:**
R00085  V71EIEPPE       SET MISSION PHASE REGISTER I TO      1.    I     1,2,3,4
 00086 9         MISSION PHASE REGISTERS
R00087                  MISSION PHASE PP (OCTAL)             2.   PP  7,10,11,13
 00088 9,15(OCT) MISSION PHASES
R00089  V72EIEPPETTTTTE (--COMBINATION OF V70 AND V71.--)
R00090  V73EIE          CHANGE THE STATE OF THE DPS COLD     1.    I      1
 00091 9         ENABLE/INHIBIT RCS TESTING
R00092                  SOAK (MISSION PHASE 8) DISCRETE(I=2)       I      2
 00093 9         ENABLE/INHIBIT DPS COLD SOAK
R00094                                                             I      3
 00095 9         ENABLE/INHIBIT RCS COLD SOAK
R00096
 00097 9         (I = 1 OR 3 WILL ONLY INVERT
R00098
 00099 9         RESPECTIVE BITS OF FLAGWRD2 AND
R00100
 00101 9         HAVE NO OTHER EFFECT ON 206)
R00102  V74E            MISSION IDLE COMMAND.                NONE
R00104                  (VERB 15,NOUN 50, R1 = FAILREG,
R00105                  R2 = FAILREG +1, R3 = FAILREG +2
R00106                  WILL APPEAR ON DSKY)
R00107  V75E1EXXXXXE    UPDATE TARGET PARAMETERS FOR DPS1    1.    I      1
 00108 9         DPS1 TARGET PARAMS UPDATE CODE
R00109        XXXXXE    BURN.(MISSION PHASE 9).              2.  XXXXX
 00110 9         MSB OF R(P)   (RP   )
R00111                                                       3.  XXXXX
 00112 9         LSB OF R(P)   (RP +1)
R001121
 0011229(RP IS THE DESIRED PERIGEE OR APOGEE
R001123
 0011249RADIUS SCALED AT METERS  2(24))
R00113  V75E2EXXXXXE    UPDATE TARGET PARAMETERS FOR DPS2    1.    I      2
 00114 9         DPS2 TARGET PARAMS UPDATE CODE
R00115        XXXXXE    BURN (MISSION PHASE 11).             2.  XXXXX
 00116 9         MSB OF CPT(6) (CPT6/2   )
R00117        XXXXXE                                         3.  XXXXX
 00118 9         LSB OF CPT(6) (CPT6/2 +1)
R00119        XXXXXE                                         4.  XXXXX
 00120 9         MSB OF CPT(7) (CPT6/2 +2)
R00121        XXXXXE                                         5.  XXXXX
 00122 9         LSB OF CPT(7) (CPT6/2 +3)
R00123        XXXXXE                                         6.  XXXXX
 00124 9         MSB OF CPT(8) (CPT6/2 +4)
R00125                                                       7.  XXXXX
 00126 9         LSB OF CPT(8) (CPT6/2 +5)
R00127
 00128 9(CPT/6 IS 1/2 UNIT NORMAL TO THE
R00129
 00130 9DESIRED ORBITAL PLANE IN STABLE MEMBER
R001301
 0013029COORDINATES)
R00131  V75E3EXXXXXE    UPDATE TARGET PARAMETERS FOR APS2    1.    I      3
 00132 9         APS2 TARGET PARAMS UPDATE CODE
R00133        XXXXXE    BURN (MISSION PHASE 13).             2.  XXXXX
 00134 9         MSB OF RCSM(TA)0  (RIVEC   )
R00135        XXXXXE                                         3.  XXXXX
 00136 9         LSB OF RCSM(TA)0  (RIVEC +1)
R00137        XXXXXE                                         4.  XXXXX
 00138 9         MSB OF RCSM(TA)1  (RIVEC +2)
R00139        XXXXXE                                         5.  XXXXX
 00140 9         LSB OF RCSM(TA)1  (RIVEC +3)
R00141        XXXXXE                                         6.  XXXXX
 00142 9         MSB OF RCSM(TA)2  (RIVEC +4)
R00143        XXXXXE                                         7.  XXXXX
 00144 9         LSB OF RCSM(TA)2  (RIVEC +5)
R00145        XXXXXE                                         8.  XXXXX
 00146 9         MSB OF TA         (TINT    )
R00147        XXXXXE                                         9.  XXXXX
 00148 9         LSB OF TA         (TINT +1 )
R00149        XXXXXE                                        10.  XXXXX
 00150 9         MSB OF RD         (RCO     )
R00151                                                      11.  XXXXX
 00152 9         LSB OF RD         (RCO +1  )
R001530
 0015319(RIVEC IS THE POSITION VECTOR OF THE
R001532
 0015339 DESIRED INTERCEPT POINT IN STABLE
R001540
 0015419 MEMBER COORD SCALED AT METERS 2(25).
R001542
 0015439TINT IS THE TIME SCALED AT CSEC 2(28).
R00155
 0015559RCO IS THE DESIRED RADIUS AT CUTOFF
R00156
 0015659 SCALED AT METERS 2(25))
R00157  V75E4ETTTTTE    UPDATE LGC CLOCK(TIME2,TIME1)        1.    I      4
 00158 9         LGC AND SV CLOCK UPDATE CODE
R00159                  AND STATE VECTOR TIME(TE,TE +1)      2.  TTTTT
 00160 9         DELTA TIME(SP,OCTAL,CSEC) TO
R00161                  WITH TTTTT(IN CENTISECONDS)
 00162 9         BE ADDED TO TIME1 AND TE +1
R00163  V76E  XXXXXE    STATE VECTOR UPDATE.                 1.  XXXXX
 00164 9         MSB OF X POSITION (REFRRECT   )
R00165        XXXXXE                                         2.  XXXXX
 00166 9         LSB OF X POSITION (REFRRECT +1)
R00167        XXXXXE                                         3.  XXXXX
 00168 9         MSB OF Y POSITION (REFRRECT +2)
R00169        XXXXXE                                         4.  XXXXX
 00170 9         LSB OF Y POSITION (REFRRECT +3)
R00171        XXXXXE                                         5.  XXXXX
 00172 9         MSB OF Z POSITION (REFRRECT +4)
R00173        XXXXXE                                         6.  XXXXX
 00174 9         LSB OF Z POSITION (REFRRECT +5)
R00175        XXXXXE                                         7.  XXXXX
 00176 9         MSB OF X VELOCITY (REFVRECT   )
R00177        XXXXXE                                         8.  XXXXX
 00178 9         LSB OF X VELOCITY (REFVRECT +1)
R00179        XXXXXE                                         9.  XXXXX
 00180 9         MSB OF Y VELOCITY (REFVRECT +2)
R00181        XXXXXE                                        10.  XXXXX
 00182 9         LSB OF Y VELOCITY (REFVRECT +3)
R00183        XXXXXE                                        11.  XXXXX
 00184 9         MSB OF Z VELOCITY (REFVRECT +4)
R00185        XXXXXE                                        12.  XXXXX
 00186 9         LSB OF Z VELOCITY (REFVRECT +5)
R00187        XXXXXE                                        13.  XXXXX
 00188 9         MSB OF TIME       (TE         )
R00189        XXXXXE                                        14.  XXXXX
 00190 9         LSB OF TIME       (TE +1      )
R00191
 00192 9(POSITION SCALED AT KILOMETERS 2(14).
R00193
 00194 9VELOCITY SCALED AT METERS/CSEC
R00195
 00196 9 2(7) / 1.29753638
R001961
 0019629TIME SCALED AT CENTISECONDS 2(28) )
R00197  UPDATE OF TIMERI LOGIC(UPDT = TTTTT TIME SENT VIA UPLINK)-
R00198                                                        T
R00199  BEFORE   A        A                 A                 H
R00200  UPDATE   N        N                 N                 E
R00201  TIMERI = D UPDT = D TIMERI + UPDT = D TIMERI + UPDT = N TIMERI =
R00202  -------- - ------ - --------------- - --------------- - -------------
R00203           (        (
R00204           (        ( OVERFLOW                            NO CHANGE (EXCEP
 0020459T OPERATOR ERROR = ON)
R00205           (        (
R00206           (        (
R00207           (        (                 (
R00208           ( .GT. +0(                 (  .GE. +0          TIMERI + UPDT
R00209           ( .LT. -0(   NO            (
R00210           (        ( OVERFLOW        (  .LT. -0             0
R00211   .GE. +0 (        (                 (
R00212           (        (                 (  .EQ. -0             0
R00213           (        (                 (
R00214           (        (
R00215           (
R00216           (        (
R00217           ( .EQ. +0(                                       UPDT
R00218           ( .EQ. -0(
R00219           (        (
R00220           (
R00221
R00222 2 .LE. -0                                                  UPDT
R00223  TIMER MAINTENANCE LOGIC(BY MMAINT)-
R00224  TIMERI =  MEANS
R00225  --------  --------------------------------------------------------------
R00226   .GT. +0  TIMERI IS COUNTING DOWN
R00227   .EQ. +0  MISSION PHASE IN ASSOCIATED MISSION PHASE REGISTER IS NOW DUE
R00228   .LT. -0  FREE BUT LOADED BY GROUND
R00229   .EQ. -0  FREE
R003210 OUTPUT- PERFORM UPDATES AS DESCRIBED IN GSOP AND :INPUT:
R003215 ERASABLE INITIALIZATION REQUIRED- NONE
R003220 DEBRIS(ERASABLE LOCATIONS DESTROYED BY THIS PROGRAM)- MPAC - MPAC +2,
R003225          STCOUNT, EBANK, UPVERB, UPOLDMOD, FLAGWRD2(BIT6),UPTEMP,
R003230          UPTEMP1, COMPNUMB, REFRRECT - REFRRECT +5, REFRCV - REFRCV +5,
R003235          REFVRECT - REFVRECT +5, REFVCV - REFVCV +5, TE - TE +1,
R003240          DELTAV - DELTAV +5, NUV - NUV +5, REFTC - REFTC +1,
R003245          REFKEP - REFKEP +1, UPINDEX, UPDT
R0032502         AND CENTRAL REGISTERS
 003290          BANK   11
 003291          EBANK= STBUFF
 0033   65UPDAT  TC     POSTJUMP
 0034            CADR   GRRPLACE
 0035   74UPDAT  TC     POSTJUMP
 0036            CADR   DOV74
 0037   66UPDAT  INHINT
 00375           TC     IBNKCALL
 0038            CADR   DFITMCAL
 0039  2         TCF    ENDOFJOB
 0040   73UPDAT  CA     OCT73
 0041            TC     67UPDAT +1
 0042   67UPDAT  CA     OCT67
 0043            TS     MPAC
 0044            CA     ONE
 0045            TC     76UPDAT +3
 0046   70UPDAT  CA     OCT70
 0047            TC     71UPDAT +1
 0048   71UPDAT  CA     OCT71
 0049            TS     MPAC
 0050            CA     TWO
 0051            TC     76UPDAT +3
 0052   64UPDAT  CA     11OCT64
 0053            TC     72UPDAT +1
 0054   72UPDAT  CA     OCT72
 0055            TS     MPAC
 0056            CA     THREE
 0057            TC     76UPDAT +3
 0058   76UPDAT  CA     OCT76
 0059            TS     MPAC
 0060            CA     11OCT16
 0061            TS     MPAC +1
 0062            TC     75UPDAT +2
 0063   75UPDAT  CA     11OCT75
 0064            TS     MPAC
 0065            CA     FLAGWRD2        TEST IF TIMERS ENABLED
 0066            MASK   BIT5
 0067            EXTEND
 0068            BZF    XACTALM          NO, RETURN
 0070            TC     BANKCALL
 0071            CADR   UPPART2
 0072   OCT73    OCT    00073
 0073   OCT67    OCT    00067
 0074   OCT70    OCT    00070
 0075   OCT71    OCT    00071
 0076   11OCT64  OCT    00064
 0077   OCT72    OCT    00072
 0078   OCT76    OCT    00076
 0079   11OCT16  OCT    16
 0080   11OCT75  OCT    00075
L      2UPDATE PROGRAM PART 2 OF 2
 0001            BANK   26
 0002            EBANK= STBUFF
 0003   UPPART2  CA     UPE4
 0004            TS     EBANK
 0005            TC     CHECKMM
 0006            OCT    27
 0007            TC      +2
 0008            TC     21XCTALM
 0009            CA     ONE
 0010            TS     STCOUNT
 00105           TC     GRABWAIT
 00106           CA     MPAC
 00107           TS     UPVERB
 0011            CA     MODREG
 0012            TS     UPOLDMOD
 00125           TC     PHASCHNG
 00126 2         OCT    00076           6.7 SPOT TO RESTORE OLD PROGRAM MODE.
 0013            TC     NEWMODEX
 0014            OCT    27
 0015            CS     UPVERB
 0016            AD     21OCT75
 0017            EXTEND
 0018            BZF     +4
 00183           CA     MPAC +1
 00186           TS     COMPNUMB
 0019            TC     UPIN +1
 0020   UPNO33   CA     ONE             CONTINUE V75
 0021            AD     ASTBFM1
 0022            TS     MPAC +2
 0023            CA     STATENV         UPDATE PROGRAM IS READY TO ACCEPT TARGET
 0024            TC     NVSBWAIT        UPDATE INDEX. FLASH V 21 N 01
 00241           TC     ENDIDLE         WAIT FOR V33, V34 OR DATA.
 00242           TCF    UPVERB34        V34 TERMINATE UPDATE PROGRAM.
 0025            TC     UPNO33          V33, IGNORE
 0026            CA     FOUR            OCTAL NO. IN STBUFF
 0027            TS     UPTEMP
 0028            CA     STBUFF
 0029            TC     UPRANGE         IS STBUFF GE 1 AND LE 4
 0030            TC     UPNO33           NO, TRY AGAIN
 0031            INDEX  STBUFF           YES
 0032            CA     AOFC -1
 0033            TS     COMPNUMB
 0034            CA     TWO
 0035   UPIN     TS     STCOUNT
 0036            CA     ASTBFM1
 0037            AD     STCOUNT
 0038            TS     MPAC +2
 0039            CA     STATENV         UPDATE PROGRAM IS READY TO ACCEPT THE
 0040            TC     NVSBWAIT        NEXT COMPONENT. FLASH V21 N01
 00401           TC     ENDIDLE         WAIT FOR V33, V34 OR DATA.
 00402           TCF    UPVERB34        V34 TERMINATE UPDATE PROGRAM.
 0041            TC     UPIN +1         V33 , IGNORE
 0042            CS     STCOUNT         OCTAL NO.
 0043            AD     COMPNUMB
 0044            EXTEND
 0045            BZF     +3
 0046            INCR   STCOUNT
 0047            TC     UPIN +1
 0048   UPHERE   CA     UPAOFTP1
 0049            TS     MPAC +2
 0050            CA     OCTID           INDICATE TO GROUND THAT ALL COMPONENTS
 0051            TC     NVSBWAIT        HAVE BEEN RECEIVED BY FLASHING V21 N02.
 00511           TC     ENDIDLE         WAIT FOR V33, V34 OR DATA(COMPONENT NO.)
 00512           TCF    UPVERB34        V34 TERMINATE UPDATE PROGRAM.
 0052            TC     UPSTORE         V33, VERIFY
 0053            CA     COMPNUMB        OCTAL IDENTIFIER
 0054            TS     UPTEMP
 0055            CA     UPTEMP1
 0056            TC     UPRANGE
 0057            TC     UPHERE          BAD OCTAL IDENTIFIER
 0058            CA     UPTEMP1
 0059            AD     ASTBFM1
 0060            TC     UPIN +3
 0061   UPSTORE  TC     FREEDSP
 0062            INHINT
 0063            CS     FLAGWRD2        INVERT VERIFLAG FOR GROUND VERIFY
 0064            MASK   BIT6
 0065            TS     Q
 0066            CS     BIT6
 0067            MASK   FLAGWRD2
 0068            AD     Q
 0069            TS     FLAGWRD2
 00691           RELINT
 006911          CS     UPVERB          IF A VERB 75 OR 76 UPDATE
 006912          AD     21OCT75         STAY IN P27 UNTIL UPDATE IS COMPLETED.
 006913          EXTEND                 (THIS IS DONE SO THAT NO OTHER UPDATES
 006914          BZMF   UPRETURN        WILL BE ALLOWED IF ORBIT INT IS ON)
 00692           TC     CHECKMM
 00694           OCT    27
 00696           TC     UPRETURN
 0070            CA     UPOLDMOD        RESTORE PRE-P27 MODE
 0071            TC     NEWMODEX +3     (THIS WILL CAUSE A RELINT)
 0072   UPRETURN INHINT
 00721           CA     BIT5
 0073            MASK   FLAGWRD2
 0074            EXTEND
 0075            BZF    XCTALMRM
 0076            CS     21OCT64           BEGIN STORING DATA FROM STBUFF
 0077            AD     UPVERB          YES, CONTINUE
 0078            INDEX  A
 0079            TC      +1
 0080            EXTEND
 0081            DCA    STBUFF +1
 0082            TC     UPEND64
 0083            TC     UPEND67         V67
 0084            TC     UPEND70         V70
 0085            TC     UPEND71         V71
 0086            TC     UPEND72         V72
 0087            TC     UPEND73
 0088   21OCT64  OCT    00064
 0089            TC     UPEND75         V75
 0090   UPEND76  CS     FLAGWRD2        IS ORBITAL INTEGRATION ON
 0091            MASK   BIT7
 0092            EXTEND
 0093            BZF    SETUPRCK        YES, SET UP 3SEC CALL TO CHECK AGAIN
 00931           TC     PHASCHNG
 00932           OCT    05026
 00933           OCT    33000
 00934           INHINT                 INHINT BECAUSE PHASCHNG RELINTS AND BECA
 00935 9                                USE RESTARTED JOB WILL NEED IT.
 0094            EXTEND                 V76
 0095            DCA    STBUFF          NO, BEGIN LOAD OF UPDATE PARAMETERS
 0096            DXCH   REFRRECT
 0097            EXTEND
 0098            DCA    STBUFF
 0099            DXCH   REFRCV
 0100            EXTEND
 0101            DCA    STBUFF +2
 0102            DXCH   REFRRECT +2
 0103            EXTEND
 0104            DCA    STBUFF +2
 0105            DXCH   REFRCV +2
 0106            EXTEND
 0107            DCA    STBUFF +4
 0108            DXCH   REFRRECT +4
 0109            EXTEND
 0110            DCA    STBUFF +4
 0111            DXCH   REFRCV +4
 0112            EXTEND
 0113            DCA    STBUFF +6
 0114            DXCH   REFVRECT
 0115            EXTEND
 0116            DCA    STBUFF +6
 0117            DXCH   REFVCV
 0118            EXTEND
 0119            DCA    STBUFF +8D
 0120            DXCH   REFVRECT +2
 0121            EXTEND
 0122            DCA    STBUFF +8D
 0123            DXCH   REFVCV +2
 0124            EXTEND
 0125            DCA    STBUFF +10D
 0126            DXCH   REFVRECT +4
 0127            EXTEND
 0128            DCA    STBUFF +10D
 0129            DXCH   REFVCV +4
 0130            EXTEND
 0131            DCA    STBUFF +12D
 0132            DXCH   TE
 0133            CA     ZERO
 0134            TS     DELTAV
 0135            TS     DELTAV +1
 0136            TS     DELTAV +2
 0137            TS     DELTAV +3
 0138            TS     DELTAV +4
 0139            TS     DELTAV +5
 0140            TS     NUV
 0141            TS     NUV +1
 0142            TS     NUV +2
 0143            TS     NUV +3
 0144            TS     NUV +4
 0145            TS     NUV +5
 0146            TS     REFTC
 0147            TS     REFTC +1
 0148            TS     REFXKEP
 0149            TS     REFXKEP +1
 01491           CAF    PRIO20          SET UP JOB TO STORE NEW STATE FOR DWNTEL
 01492           TC     FINDVAC
 01493           EBANK= TDEC
 01494           2CADR  UPDATINT
 0150            TCF    UPVERB34 +1     RESTORE PRE-P27 MODE AND EXIT UPDATE
 0151   SETUPRCK CA     3SEC21
 0152            TC     WAITLIST
 0153            EBANK= STBUFF
 0154            2CADR  UPDOAGN
 01541           TC     PHASCHNG
 01542           OCT    47016
 01543           DEC    300
 01544           EBANK= STBUFF
 01545           2CADR  UPDOAGN
 0155            TC     ENDOFJOB
 0156   UPDOAGN  CA     PRIO27
 0157            TC     NOVAC
 0158            EBANK= STBUFF
 0159            2CADR  UPRETURN
 0160            TC     TASKOVER
 0163   UPEND64  DXCH   UPGET
 01631           CA     STBUFF
 01634           TS     UPINDEX
 01638           CA     PRIO27
 0164            TC     FINDVAC
 0165            EBANK= STBUFF
 0166            2CADR  MGETUP
 0167            TC     UPQUIT
 0168   UPEND67  CA     STBUFF
 0169            TS     UPINDEX
 0170            TC     POSTJUMP
 0171            CADR   DOV67
 0172   UPEND70  CA     STBUFF
 0173            TS     UPINDEX
 0174            CA     STBUFF +1
 0175            TS     UPDT
 0176            TC     POSTJUMP
 0177            CADR   DOV70
 0178   UPEND71  CA     STBUFF
 0179            TS     UPINDEX
 0180            CA     STBUFF +1
 0181            TS     UPPHASE
 0182            TC     POSTJUMP
 0183            CADR   DOV71
 0184   UPEND72  CA     STBUFF
 0185            TS     UPINDEX
 0186            CA     STBUFF +1
 0187            TS     UPPHASE
 0188            CA     STBUFF +2
 0189            TS     UPDT
 0190            TC     POSTJUMP
 0191            CADR   DOV72
 0192   UPEND73  CA     STBUFF
 0193            TS     UPINDEX
 0194            TC     POSTJUMP
 0195            CADR   DOV73
 0196   UPEND75  TC     PHASCHNG
 01961           OCT    05026
 01962           OCT    33000
 01963           INHINT                 INHINT BECAUSE PHASCHNG RELINTS AND BECA
 01964 9                                USE RESTARTED JOB WILL NEED IT.
 01965           INDEX  COMPNUMB        V75
 0197            TC                     FAN TO V75 ROUTINES
 0198   OCTID    OCT    02102
 0199            TC     I=4
 0200   I=1      EXTEND
 0201            DCA    STBUFF +1
 0202            DXCH   RP
 0203            TC     UPQUITRM        RESTORE PRE-P27 MODE AND EXIT UPDATE
 0204            TC     I=2
 0205   21OCT75  OCT    75
 0206            TC     I=4
 0207   STATENV  OCT    2101
 0208   I=3      EXTEND
 0209            DCA    STBUFF +1
 0210            DXCH   R1VEC
 0211            EXTEND
 0212            DCA    STBUFF +3
 0213            DXCH   R1VEC +2
 0214            EXTEND
 0215            DCA    STBUFF +5
 0216            DXCH   R1VEC +4
 0217            EXTEND
 0218            DCA    STBUFF +7
 0219            DXCH   TINT
 0220            EXTEND
 0221            DCA    STBUFF +9D
 0222            DXCH   RCO
 0223            TC     UPQUITRM        RESTORE PRE-P27 MODE AND EXIT UPDATE
 0224   I=2      EXTEND
 0225            DCA    STBUFF +1
 0226            DXCH   CPT6/2
 0227            EXTEND
 0228            DCA    STBUFF +3
 0229            DXCH   CPT6/2 +2
 0230            EXTEND
 0231            DCA    STBUFF +5
 0232            DXCH   CPT6/2 +4
 0233            TC     UPQUITRM        RESTORE PRE-P27 MODE AND EXIT UPDATE
 02345  I=4      CS     FLAGWRD2        IS ORBITAL INTEGRATION ON
 0235            MASK   BIT7
 02355           EXTEND
 0236            BZF    SETUPRCK        YES
 02372           CAE    STBUFF +1
 02374           AD     TE +1
 02376           TS     STBUFF +13D
 02378           CAF    ZERO
 02380           AD     TE
 02382           TS     STBUFF +12D
 02384           CA     ZERO
 02386           TS     L
 02388           DXCH   TIME2
 02390           DXCH   STBUFF +10D
 02392           CA     FIVE
 02393           TC     NEWPHASE
 02394 2         OCT    00006
 02396  I=4.CONT INHINT
 02398           CA     ZERO
 02400           TS     MPAC +2         FOR TPAGREE
 02412           EXTEND
 02414           DCA    STBUFF +12D
 02416           DXCH   TE
 02418           CA     STBUFF +1
 02420           AD     STBUFF +11D
 02422           TS     L
 02424           CA     ZERO
 02426           AD     STBUFF +10D
 02428           DXCH   MPAC
 02430           TC     TPAGREE         FORCE SIGN AGREEMENT
 02432           DXCH   MPAC
 02434           DAS    TIME2           NEW CLOCK
 02436           CAF    SEVEN           6.7 SPOT TO RESTORE OLD PROGRAM MODE.
 02437           TC     NEWPHASE
 02438 2         OCT    00006
 02457           TC     UPQUITRM        RESTORE PRE-P27 MODE AND EXIT UPDATE
 02460  UPVERB34 TC     FREEDSP
 02462  UPQUITRM TC     CHECKMM         RESTORE MODE AND UPQUIT
 02464           OCT    27
 02466           TCF    UPQUIT
 0247            CA     UPOLDMOD
 0248  2         TC     NEWMODEX +3
 0249   UPQUIT   TC     BANKCALL        SETS 6.0 SPOT AND DOES ENDOFJOB
 0250            CADR   ENDUP
 0259   UPRANGE  EXTEND
 0260            BZMF   UPRAUS          C(A) LE ZERO RETURN TO Q
 0261            CS     A
 0262            INCR   A
 0263            AD     UPTEMP
 0264            EXTEND
 0265            BZMF   UPRAUS          C(A) GT C(LOC) RETURN TO Q
 0266            INCR   Q
 0267   UPRAUS   TC     Q               C(A) LE C(LOC) AND GT 0 RETURN TO Q+1
 02671  XCTALMRM TC     CHECKMM
 02672           OCT    27
 02673           TCF     +3
 02674           CA     UPOLDMOD
 02675           TC     NEWMODEX +3
 02676           TC     PHASCHNG
 02677           OCT    00006
 0268   21XCTALM TC     BANKCALL
 0269  2         CADR   XACTALM
 0270   UPE4     OCT    2000
 0272   AOFC     OCT    00003
 0273            OCT    00007
 0274            OCT    00013
 0275            OCT    00002
 0276   UPAOFTP1 ECADR  UPTEMP1
 0277   ASTBFM1  ECADR  STBUFF -1
 0278   3SEC21   DEC    300
L      2DOWN-TELEMETRY PROGRAM
R0001   PROGRAM NAME- DOWN TELEMETRY PROGRAM
R0002   MOD NO.- 2
R0003   MOD BY- KILROY
R0004   DATE- 21NOV66
R0005   LOG SECTION- DOWN TELEMETRY PROGRAM
R0006   ASSEMBLY- REV 12 OF SUNBURST
R0007   FUNCTIONAL DESCRIPTION- THIS ROUTINE IS INITIATED BY TELEMETRY END
R0008            PULSE FROM THE DOWNLINK TELEMETRY CONVERTER. THIS PULSE OCCURS
R0009            AT 50 TIMES PER SEC(EVERY 20 MS) THEREFORE DODOWNTM IS
R0010            EXECUTED AT THESE RATES. THIS ROUTINE SELECTS THE APPROPRIATE
R0011            LGC DATA TO BE TRANSMITTED DOWNLINK AND LOADS IT INTO OUTPUT
R0012            CHANNELS 34 AND 35. THE INFORMATION IS THEN GATED OUT FROM THE
R0013            LGC IN SERIAL FASHION.
R00131           THIS PROGRAM IS CODED FOR A 2 SECOND DOWNLIST. SINCE DOWNRUPTS
R00132           OCCUR EVERY 20MS AND 2 LGC COMPUTER WORDS CAN BE PLACED IN
R00133           CHANNELS 34 AND 35 DURING EACH DOWNRUPT THE PROGRAM IS CAPABLE
R00134           OF SENDING 200 LGC WORDS EVERY 2 SECONDS.
R0014   CALLING SEQUENCE- NONE
R0015            PROGRAM IS ENTERED VIA TCF DODOWNTM WHICH IS EXECUTED AS A
R0016            RESULT OF A DOWNRUPT. CONTROL IS RETURNED VIA TCF RESUME WHICH
R0017            IN EFFECT IS A RESUME.
R0018   SUBROUTINES CALLED- NONE
R0019   NORMAL EXIT MODE- TCF RESUME
R0020   ALARM OR ABORT EXIT MODE- NONE
R00201  RESTART PROTECTION- NONE.
R00202           EXCEPT THAT WHEN A RESTART DOES OCCUR :STARTSUB: WILL
R00203           INITIALIZE THE DOWNLIST POINTER TO THE BEGINNING OF THE NOMINAL
R00204           DOWNLIST. THIS HAS THE EFFECT OF IGNORING THE REMAINDER OF THE
R00205           DOWNLIST WHICH THE DOWN-TELEMETRY PROGRAM WAS WORKING ON WHEN
R00206           THE RESTART OCCURRED.
R0021   OUTPUT-  EVERY 2 SECONDS 100 DOUBLE PRECISION WORDS(I.E. 200 LGC
R0022            COMPUTER WORDS) ARE TRANSMITTED VIA DOWNLINK.
R0023   ERASABLE INITIALIZATION REQUIRED- NONE
R0024            DNTMGOTO,DNLSTADR AND EBANK ARE INITIALIZED IN STARTSUB(FRESH
R0025            START AND RESTART)
R0026   DEBRIS(ERASABLE LOCATIONS DESTROYED BY THIS PROGRAM)-
R0027            LDATALST,ITEMP1,ITEMP2,DNTMBUFF TO DNTMBUFF + 21D,TMINDEX,DNQ
R0028  3
 0029            BANK   15
 0030  2         EBANK= DNTMBUFF
 00301  ERASZERO EQUALS 7
 00302  DMYECADR EQUALS ERASZERO        USE DMYECADR TO GENERATE A DUMMY ECADR
 00303  DMYADRES EQUALS ERASZERO        USE DMYADRES TO GENERATE A DUMMY ADRES
 00304  UNKNOWN  EQUALS ERASZERO        USE UNKNOWN WHEN THE MNEMONIC IS UNKNOWN
 00305 2SPARE    EQUALS ERASZERO        USE SPARE TO INDICATE AVAILABLE SPACE
 0031  2LOWIDCOD OCT    00437
P0121   DODOWNTM IS ENTERED EVERY 20 MS BY AN INTERRUPT TRIGGERED BY THE
R0122  2RECEIPT OF AN ENDPULSE FROM THE SPACECRAFT TELEMETRY PROGRAMMER.
R012205 THE ORGANIZATION OF THE PROGRAM IS AS FOLLOWS......
R012210 1. A MAIN PROGRAM(DODOWNTM) WHICH CONTROLS A SERIES OF SUBROUTINES.
R012215 2. SUBROUTINES(SENDID,SENDSNAP ETC.) WHICH ARE DESIGNED TO HANDLE
R012220    SPECIFIC PORTIONS OF THE DOWNLIST.
R012225 3. :EQUALS: CARDS(NDP1, NDP2, LINCR) WHICH DEFINE NO. OF ITEMS IN THE
R012230    PORTIONS OF THE DOWNLISTS.
R012235 4. DOWNLISTS. - DOWNLISTS MUST BE COMPILED IN THE SAME BANK AS THE
R012240    DOWN-TELEMETRY PROGRAM. THIS IS DONE FOR EASE OF CODING, FASTER
R012245    EXECUTION AND TO INSURE THAT THE DOWNLIST ID:S(FIRST WORD OF EACH
R012250    2 SEC DOWNLIST.) ARE UNIQUE. THE LOCATION OF THE AGS DOWNLIST MUST BE
R012255    2001 OF THE FBANK IN WHICH THE DOWN-TELEMETRY PROGRAM RESIDES.
R012260    (I.E. AGSLIST = XX,2001). THIS WILL MAKE THE ID WORD FOR THE AGS
R012265    DOWNLINK DATA = 00001.
R0122702
 0123   DODOWNTM TS     BANKRUPT
 0124            EXTEND
 01245           QXCH   QRUPT
 0125            INDEX  DNTMGOTO        GO TO APPROPRIATE
 0126            TCF    0               TELEMETRY PHASE
 0127   DNPHASE1 TC     SENDID          SEND ID WORD(S)
 0128            CAF    BIT7            SET WORD ORDER
 0129            EXTEND                 BACK TO 1 FOR
 0130            WOR    13              REMAINDER OF CYCLE
 0131            CA     DNLINCR         CALCULATE ADDRESS OF
 0132            ADS    LDATALST        SNAPSHOT WORDS TO BE SENT  (GROUP 1)
 0133            TC     SNAPSHOT        SAVE AND SEND SNAPSHOT WORDS  (GROUP 1)
 0134            CA     DNDP1-1         PLACE NO. OF DP WORDS IN GROUP 1 INTO A
 0135            TC     SENDDP          SEND DOUBLE PRECISION WORDS (GROUP 1)
 0136            TC     SENDCH          SEND CHANNELS 11-14 AND 31-33
 0137            TC     SENDDSTB        SEND DISPLAY TABLES
 0138            TC     SENDTIME        SEND TIME1 AND TIME2
 0139            CS     DNSNAP          CALCULATE ADDRESS OF
 0140            ADS    LDATALST        SNAPSHOT WORDS TO BE SENT(GROUP 2)
 0141            TC     SNAPSHOT        SAVE AND SEND SNAPSHOT WORDS  (GROUP 2)
 0142            CA     DNDP2-1         PLACE NO. OF DP WORDS IN GROUP 2
 0143            TC     SENDDP          SEND DOUBLE PRECISION WORDS(GROUP 2)
 0144            TC     SENDCH          SEND CHANNELS 11-14 AND 31-33
 0145            TC     SENDDSTB        SEND DISPLAY TABLE
 0146  3         TCF    DNPHASE1        GO BACK AND START OVER
A0147   ........................................................................
 0148   SENDID   CA     DNLSTADR        INITIALIZE DOWNLIST ADDRESS AS SELECTED
 0149            TS     LDATALST        BY A MISSION OR TEST PROGRAM
 0150            CS     BIT7            SET WORD
 0151            EXTEND                 ORDER BIT 7 IN
 0152  2         WAND   13              CHANNEL 13 TO 0
 0153            EXTEND                 SET UP DNTMGOTO SO NEXT ENTRY TO
 0154            QXCH   DNTMGOTO        DODOWNTM WILL TRANSFER CONTROL TO
A0155  2                                THE INSTRUCTION AFTER TC SENDID.
 0156            CAF    LOWIDCOD        PLACE SPECIAL ID CODE INTO L
 0157  2         TS     L
 0158            CA     LDATALST        ISOLATE RELATIVE LOC OF DOWNLIST IN THIS
 0159            MASK   LOW10           FIXED BANK. RESULT = 0000 - 1777. NO
A0160  2                                CONFLICT OF DUPLICATE ID WORDS CAN OCCUR
 0161  4         TCF    DNTMEXIT        SEND LIST ID WORD AND SPECIAL ID CODE
A0162   ........................................................................
 0163   SNAPSHOT EXTEND
 0164            QXCH   DNQ             SAVE RETURN ADDRESS
 0165            CAF    ZERO            INITIALIZE THE
 0166            TS     ITEMP1          DNTMBUFF INCREMENTER(ITEMP1) TO ZERO.
 0167            CAF    DNSNAP-2        INITIALIZE LOOP COUNTER(ITEMP2) TO
 0168   SNAPLOOP TS     ITEMP2          TOTAL NO. OF SNAPSHOT DP WORDS LESS 2.
 0169            AD     LDATALST        CALCULATE ADDRESS OF NEXT
 0170            EXTEND                 ENTRY IN DOWNLIST.
 0171            INDEX  A               PICK UP THE DOUBLE PRECISION WORD FROM
 01711           INDEX  0               THE NEXT ENTRY
 0172            DCA    0               IN THE DOWNLIST.
 0173            INDEX  ITEMP1          AND SAVE IT IN THE NEXT AVAILABLE LOC
 0174            DXCH   DNTMBUFF        IN DNTMBUFF SNAPSHOT BUFFER.
 0175            CAF    TWO             INCREMENT DNTMBUFF INCREMENTER(ITEMP1)
 0176            ADS    ITEMP1          BY 2.
 0177            CCS    ITEMP2          HAVE ALL SNAPSHOT DP WORDS BEEN SAVED...
 0178            TCF    SNAPLOOP        NO--GO BACK AND CONTINUE SAVING THEM
 0179            CAF    DNSNAP-1        YES--PLACE NO. OF DP WORDS REMAINING
 0180            TS     TMINDEX         TO BE SENT INTO TMINDEX.
 0181            CAF    LSENDSNP        SET UP DNTMGOTO SO PROGRAM CONTROL WILL
 0182            TS     DNTMGOTO        BE TRANSFERRED TO SENDSNAP ON NEXT
A0183                                   ENTRY TO DODOWNTM.
 0184            EXTEND                 PICK UP FIRST DP SNAPSHOT WORD
 0185            INDEX  LDATALST        AND PLACE IT IN A + L.
 0186            INDEX  NSNAP -1        (((THIS ADDITIONAL CODING ALTHOUGH A BIT
 0187            DCA    0               SUPERFLUOUS IS JUSTIFIED BECAUSE IT
A0188                                   SAVES 2 WORDS OF ERASABLE STORAGE)))
 0189            TCF    DNTMEXIT        GO SEND FIRST SNAPSHOT DP ENTRY.
 0190   SENDSNAP CCS    TMINDEX         ANY SNAPSHOT WORDS LEFT IN BUFFER
 0191            TCF    +2              YES--GO PROCESS THEM
 0192            TC     DNQ             NO--RETURN TO INSTRUCTION AFTER
A0193                                                            TC SNAPSHOT.
 0194            TS     TMINDEX         SAVE COUNT OF SNAPSHOT WORDS REMAINING
 0195            DOUBLE                 CALCULATE DECREMENTER
 0196            COM                    FOR NEXT DP WORD IN
 0197            EXTEND                 BUFFER.
 0198            INDEX  A
 0199            DCA    DNTMBUFF +20D   TAKE NEXT DP WORD OUT OF BUFFER, PLACE
 0200            TCF    DNTMEXIT        IT INTO A + L AND GO SEND IT.
 0201   NSNAP    EQUALS 12D             NUMBER OF DP SNAPSHOT WORDS.
 0202   DNSNAP   ADRES  NSNAP           NO. OF DP SNAPSHOT WORDS  CONSTANT
 0203   DNSNAP-1 ADRES  NSNAP -1        NO. OF DP SNAPSHOT WORDS -1  CONSTANT
 0204   DNSNAP-2 ADRES  NSNAP -2        NO. OF DP SNAPSHOT WORDS -2  CONSTANT
 0205  3LSENDSNP ADRES  SENDSNAP        LOC OF ROUTINE WHICH SENDS SNAPSHOT BUFF
A0206   ........................................................................
 0207   SENDDP   EXTEND                 ENTER WITH NO. DP WORDS REMAINING TO
 0208            QXCH   DNQ             BE SENT IN A. SAVE RETURN ADDRESS.
 0209            TS     TMINDEX         PLACE NO. OF DP WORDS TO BE SENT AFTER
 0210            AD     ONE             THIS ONE INTO TMINDEX. CALCULATE NEXT
 0211            COM                    LOCATION IN DOWNLIST AND SAVE
 0212            ADS    LDATALST        IT IN LDATALST.
 0213            CAF    LSENDDPA        SET UP DNTMGOTO SO PROGRAM CONTROL WILL
 0214            TS     DNTMGOTO        GO TO SENDDPA ON NEXT ENTRY TO DODOWNTM.
 0215            CAE    TMINDEX         PLACE NO. OF WORDS REMAINING TO BE SENT
 0216   SENDDPB  TS     TMINDEX         INTO A. SAVE NO. DP WORDS TO BE SENT.
 0217            AD     LDATALST        CALCULATE NEXT DOWNLIST ENTRY.
 0218            INDEX  A
 0219            CA     0               PICK UP ECADR OF NEXT DOWNLIST ENTRY.
 0220            TS     EBANK           SET EBANK.
 0221            MASK   LOW8            ISOLATE RELATIVE ADDRESS.
 0222            EXTEND
 0223            INDEX  A               PICK UP DOUBLE PRECISION
 0224  2         DCA    3400            WORD INTO A + L.  (DCA 3400 = DCA 1400)
 0225   DNTMEXIT EXTEND                 GENERAL DOWN-TELEMETRY EXIT
 0226            WRITE  DNTM1           TO SEND A + L TO CHANNELS 34 + 35
 0227  2         CA     L               RESPECTIVELY.
 0228   TMEXITL  EXTEND                 ALTERNATE DOWN TELEMETRY EXIT
 0229            WRITE  DNTM2           TO SEND A TO CHANNEL 35.
 0230  2         TCF    RESUME          EXIT DOWN TELEMETRY PROG VIA RESUME.
 0231   SENDDPA  CCS    TMINDEX         ANY DP WORDS REMAINING TO BE SENT.
 0232            TCF    SENDDPB         YES--GO SEND THEM.
 0233            TC     DNQ             RETURN TO INSTR AFTER TC SENDDP.
 0234  3LSENDDPA ADRES  SENDDPA         LOC OF ROUTINE WHICH SENDS DP WORDS.
A0235   ........................................................................
 0236   SENDCH   EXTEND
 0237            QXCH   DNQ             SAVE RETURN ADDRESS
 0238            CAF    LSENDCHA        SET UP DNTMGOTO SO PROG CONTROL WILL GO
 0239            TS     DNTMGOTO        TO SENDCHA ON NEXT ENTRY TO DODOWNTM.
 0240            CAF    THREE           PLACE NO. OF PAIRS OF CHANNELS TO BE
A0241                                   SENT AFTER THIS PAIR INTO A.
 0243   SENDCHB  TS     TMINDEX         SAVE NO. OF PAIRS OF CHANNELS REMAINING
 0244            EXTEND                 TO BE SENT INTO A. PICK UP CHANNEL
 0245            INDEX  A               ADDRESS FROM
 0246            INDEX  FIXLSTCL        NEXT ENTRY IN FIXLSTCL.
 0247            READ   0               PLACE CONTENTS OF THE
 0248            TS     L               CHANNEL INTO L.
 0249            EXTEND                 PICK UP NEXT CHANNEL
 0250            INDEX  TMINDEX         ADDRESS FROM NEXT ENTRY
 0251            INDEX  FIXLSTCA        IN FIXLSTCA.
 0252            READ   0               PLACE CONTENTS OF CHANNEL INTO A.
 0253            TCF    DNTMEXIT        NOW GO SEND A + L.
 0254   SENDCHA  CCS    TMINDEX         ANY MORE CHANNEL PAIRS TO BE SENT......
 0255            TCF    SENDCHB         YES--GO SEND THEM.
 0256            TC     DNQ             NO--RETURN TO INSTR AFTER TC SENDCH.
 0257   LSENDCHA ADRES  SENDCHA         LOCATION OF ROUTINE WHICH SENDS CHANNELS
 0258   FIXLSTCA OCT    32              CHANNEL 32
 0259            OCT    30              CHANNEL 30
 0260            OCT    13              CHANNEL 13
 0261            OCT    11              CHANNEL 11
 0262   FIXLSTCL OCT    33              CHANNEL 33
 0263            OCT    31              CHANNEL 31
 0264            OCT    14              CHANNEL 14
 0265  3         OCT    12              CHANNEL 12
A0266   ........................................................................
 0267   SENDDSTB EXTEND
 0268            QXCH   DNQ             SAVE RETURN ADDRESS
 0269            CAF    LSENDDSA        SET UP DNTMGOTO SO PROGRAM CONTROL WILL
 0270            TS     DNTMGOTO        GO TO SENDDSA ON NEXT ENTRY TO DODOWNTM.
 0271            CAF    FIVE            PLACE NO. OF PAIRS OF DSPTAB WORDS REM
 0272   SENDDSB  TS     TMINDEX         AFTER THIS PAIR INTO A. SAVE NO. REMAIN-
 0273            DOUBLE                 ING INTO TMINDEX. CALCULATE DECREMENTER
 0274            COM                    FOR NEXT PAIR OF WORDS(SP)
 0275            EXTEND                 IN DSPTAB.
 0276            INDEX  A               PICK UP PAIR OF DSPTAB WORDS(SP) AND
 0277            DCA    DSPTAB +10D     LEAVE THEM IN A + L.
 0278            TCF    DNTMEXIT        NOW GO SEND A + L.
 0279   SENDDSA  CCS    TMINDEX         ANY WORDS LEFT IN DSPTAB TO BE SENT.....
 0280            TCF    SENDDSB         YES--GO SEND THEM
 0281            TC     DNQ             NO--RETURN TO INSTR AFTER TC SENDDSTB.
 0282  3LSENDDSA ADRES  SENDDSA         LOC OF ROUTINE WHICH SENDS DISPLAY TABLE
A0283   ........................................................................
 0284   SENDTIME EXTEND                 SET DP DNTMGOTO SO PROGRAM CONTROL WILL
 0285            QXCH   DNTMGOTO        GO TO INSTRUCTION AFTER TC SENDTIME.
 02851           EXTEND
 0286            DCA    TIME2           PLACE TIME2 AND TIME1 INTO A AND L.
 0287  3         TCF    DNTMEXIT        NOW GO SEND A AND L.
A0288   ........................................................................
 0289   DNDP1-1  ADRES  NDP1 -1         NO. OF DP WORDS IN GROUP 1 LESS 1
 0290   DNDP2-1  ADRES  NDP2 -1         NO. OF DP WORDS IN GROUP 2 LESS 1
 0291   DNLINCR  ADRES  LINCR           RELATIVE LOC OF FIRST GROUP IN DOWNLIST.
A0292   ........................................................................
A0293   ************************************************************************
A0294   CHANGE THE FOLLOWING 3 EQUALS CARDS WHEN MODIFYING THE STRUCTURE OF THE
A0295   DOWNLISTS.
 0296   NDP1     EQUALS 27D             NUMBER OF DP WORDS  (GROUP 1)
 0297   NDP2     EQUALS 27D             NUMBER OF DP WORDS  (GROUP 2)
 0298   LINCR    EQUALS 66D             LINCR   = NDP1 + NDP2 + 12D
A0299   ************************************************************************
P0300   NOMINAL SUNBURST (AS206) 2 SECOND DOWNLIST
R03001 2AS OF DATE = 02FEB67
R0301   LAST ENTRY IN DOWNLIST WILL BE SENT FIRST, THEN LAST ENTRY - 1  ETC.----
 0302   NOMDNLST EQUALS
 03025  UPDNLIST EQUALS NOMDNLST        NOT USED IN 206.
A0303   ----------------------DISPLAY TABLES------------------------------------
A0304                                   DSPTAB +10D AND DSPTAB +11D
A0305                                   DSPTAB +8D AND DSPTAB +9D
A0306                                   DSPTAB +6  AND DSPTAB +7
A0307                                   DSPTAB +4  AND DSPTAB +5
A0308                                   DSPTAB +2  AND DSPTAB +3
A0309                                   DSPTAB     AND DSPTAB +1
A0310   -----------------------CHANNELS-----------------------------------------
A0311                                   CHANNELS 32 AND 33
A0312                                   CHANNELS 30 AND 31
A0313                                   CHANNELS 13 AND 14
A0314                                   CHANNELS 11 AND 12
A0315   -------------DOUBLE PRECISION - ANY EBANK  (GROUP 2)--------------------
 0316            ECADR  STATE +2        (FLAGWRD2,DAPBOOLS) FLAGWORDS
 0317            ECADR  STATE           (STATE,FLAGWRD1) FLAGWORDS
 0318            ECADR  OMEGAR -1       (GARBAGE,OMEGAR) ANGULAR RATES ABOUT THE
 0319            ECADR  OMEGAP          (OMEGAP,OMEGAQ) P,Q,R BODY AXES  (DAP)
A03195                                  SCALED AT 45 DEG/SEC.
 0320            ECADR  CDUY            (CDUY,CDUZ) ACTUAL CDU:S
 0321            ECADR  CDUX -1         (GARBAGE,CDUX) ACTUAL CDU:S
 0322            ECADR  RD +4           APS2 DESIRED RADIUS VECTOR IN STABLE
 0323            ECADR  RD +2           MEMBER CO-ORDINATES.
 0324            ECADR  RD              SCALED METERS X 2(-25).
 0325            ECADR  VDVECT +4       APS2,DPS1 DESIRED VELOCITY VECTOR IN
 0326            ECADR  VDVECT +2       STABLE MEMBER CO-ORDINATES.
 0327            ECADR  VDVECT          SCALED M/CS X 2(-7).
 0328            ECADR  VGVECT +4       APS2,DPS1 VELOCITY TO BE GAINED SCALED
 0329            ECADR  VGVECT +2       M/CS X 2(-7). IN LOCAL VERTICAL (APS2)
 0330            ECADR  VGVECT          OR STABLE MEMBER (DPS1).
 0331            ECADR  TTGO            ESTIMATED TIME TO GO IN CS(APS2,DPS1,2).
 0332            ECADR  PHASENUM        (PHASENUM,1/PIPADT)PRESENT MISSION PHASE
A03325                                  , IMU COMP TIME BASE OR DT IN C.S.
 0333            ECADR  MTIMER2         (MTIMER2,MTIMER1) REGISTERS CONTAINING
 0334            ECADR  MTIMER4         (MTIMER4,MTIMER3) DELTA T:S OF MP:S.
 0335            ECADR  MPHASE2         (MPHASE2,MPHASE1) REGISTERS CONTAINING
 0336            ECADR  MPHASE4         (MPHASE4,MPHASE3) MP:S TO BE CALLED.
 0337            ECADR  DELAREA         SCALED IN UNITS OF 2(7) PERCENT INCREASE
 0338            ECADR  LMPIN           (LMPIN,LMPOUT)
 0339            ECADR  LMPCMD +6       OUTPUT TO LMP = REGISTERS
 0340            ECADR  LMPCMD +4       CONTAINING THE
 0341            ECADR  LMPCMD +2       LAST EIGHT LMP COMMANDS
 0342            ECADR  LMPCMD          TO BE SENT BY THE LGC.
A0343   ----SNAPSHOT DP WORDS FROM EBANK E7 OR UNSWITCHABLE ERASABLE(GROUP 2)---
 0344            ADRES  CDUY            (CDUY,CDUZ)
 0345            ADRES  CDUY            (CDUY,CDUZ)
 0346            ADRES  MASS            MASS  SCALED IN UNITS OF 2(15) KGS.
 0347            ADRES  STATE +4        (STATE +4,GARBAGE) LAMBERT FLAGS
 0348            ADRES  PIPAZ           (PIPAZ,GARBAGE) ACTUAL Z PIP COUNTS.
 0349            ADRES  PIPAX           (PIPAX,PIPAY) ACTUAL X,Y PIP COUNTS.
 0350            ADRES  ALMCADR +1      (ALMCADR +1,ERCOUNT)ALM LOC BBCON,SLFCK
A03505                                  FAIL COUNTER.
 0351            ADRES  FAILREG +2      (FAILREG +2,ALMCADR)ALM CODE,ALM LOC Q.
 0352            ADRES  FAILREG         (FAILREG, +1)LAST AND PREV. ALARM CODES.
 0353            ADRES  COMPTORK +4     E)GYROCOMPASS GYRO TORQUES IN VERTICAL,
 0354            ADRES  COMPTORK +2     S)SOUTH, EAST SYSTEM,ERATE NOT INCLUDED.
 0355            ADRES  COMPTORK        V) 37777,37777 = (1 - 2(-28))REVS.
A0356   ---------------------------LGC CLOCK------------------------------------
A0357                                   TIME2 AND TIME1
A0358   ----------------------DISPLAY TABLES------------------------------------
A0359                                   DSPTAB +10D AND DSPTAB +11D
A0360                                   DSPTAB +8D AND DSPTAB +9D
A0361                                   DSPTAB +6  AND DSPTAB +7
A0362                                   DSPTAB +4  AND DSPTAB +5
A0363                                   DSPTAB +2  AND DSPTAB +3
A0364                                   DSPTAB     AND DSPTAB +1
A0365   -----------------------CHANNELS-----------------------------------------
A0366                                   CHANNELS 32 AND 33
A0367                                   CHANNELS 30 AND 31
A0368                                   CHANNELS 13 AND 14
A0369                                   CHANNELS 11 AND 12
A0370   -------------DOUBLE PRECISION - ANY EBANK  (GROUP 1)--------------------
 0371            ECADR  STATE +2        (FLAGWRD2,DAPBOOLS) FLAGWORDS
 0372            ECADR  STATE           (STATE,FLAGWRD1) FLAGWORDS
 0373            ECADR  OMEGAR -1       (GARBAGE,OMEGAR) ANGULAR RATES ABOUT THE
 0374            ECADR  OMEGAP          (OMEGAP,OMEGAQ) P,Q,R BODY AXES  (DAP)
A03745                                  SCALED AT 45 DEG/SEC.
 0375            ECADR  CDUY            (CDUY,CDUZ) ACTUAL CDU:S
 0376            ECADR  CDUX -1         (GARBAGE,CDUX) ACTUAL CDU:S
 0377            ECADR  REDOCTR         (REDOCTR,SFAIL)RESTART CTR,SLFCK FAIL Q.
 0378            ECADR  TIGN            TIME FOR ENGINE ON IN CS (MP'S 9,11,13).
 0379            ECADR  AOSQ            (AOSQ,AOSR) MOMENT OFFSET(Q,R)
A03795                                  SCALED AT 90 DEG/SEC/SEC.
 0380            ECADR  FC              THRUST COMMAND SCALED 3 LBS X 2(-14).
 0381            ECADR  TEVENT          TIME OF GRR, LIFTOFF, ENGINE ON/OFF (CS)
 0382            ECADR  IMODES30        (IMODES30,IMODES33) PGNCS FLAGWORDS
 0383            ECADR  STBUFF +12D     STBUFF = 14 REGISTERS
 0384            ECADR  STBUFF +10D     IN WHICH THE UPLINKED DATA
 0385            ECADR  STBUFF +8D      IS PLACED FOR GROUND
 0386            ECADR  STBUFF +6       DISPLAY AND VERIFICATION
 0387            ECADR  STBUFF +4       BEFORE PLACEMENT
 0388            ECADR  STBUFF +2       IN THE APPROPRIATE
 0389            ECADR  STBUFF          ERASABLE LOCATIONS.
 0390            ECADR  STCOUNT         (STCOUNT,UPOLDMD)
 0391            ECADR  UPVERB          (UPVERB,COMPNUMB)
 0392            ECADR  ALPHAR          (ALPHAR,GARBAGE)DIST. ACC. ABOUT R-AXIS
 0393            ECADR  LMPIN           (LMPIN,LMPOUT)
 0394            ECADR  LMPCMD +6       OUTPUT TO LMP = REGISTERS
 0395            ECADR  LMPCMD +4       CONTAINING THE
 0396            ECADR  LMPCMD +2       LAST EIGHT LMP COMMANDS
 0397            ECADR  LMPCMD          TO BE SENT BY THE LGC.
A0398   ----SNAPSHOT DP WORDS FROM EBANK E7 OR UNSWITCHABLE ERASABLE(GROUP 1)---
 0399            ADRES  DELVZ           THE CHANGE IN VELOCITY ALONG
 0400            ADRES  DELVY           EACH OF THE STABLE MEMBER AXES IN THE
 0401            ADRES  DELVX           2 SEC INTERVAL PRECEEDING PIPTIME.
 0402            ADRES  CDUYD           (CDUYD,CDUZD)  DESIRED CDU:S
 0403            ADRES  CDUXD -1        (GARBAGE,CDUXD)  DESIRED CDU:S
 0404            ADRES  STATIME         TIME FOR RN AND VN IN CENTISECONDS.
 0405            ADRES  VN +4           AVE.G/ORBIT.INT. STATE VECTOR Z VEL
 0406            ADRES  VN +2           AVE.G/ORBIT.INT. STATE VECTOR Y VEL
 0407            ADRES  VN              AVE.G/ORBIT.INT. STATE VECTOR X VEL
A04075                                  VN IS SCALED METERS/CS X 2(-7).
 0408            ADRES  RN +4           AVE.G/ORBIT.INT. STATE VECTOR Z POS
 0409            ADRES  RN +2           AVE.G/ORBIT.INT. STATE VECTOR Y POS
 0410            ADRES  RN              AVE.G/ORBIT.INT. STATE VECTOR X POS
A04105                                  RN IS SCALED METERS X 2(-24).
A0411   --------------------------ID WORDS--------------------------------------
A0412                                   I.D., SYNCH BITS
A0413   --------START HERE AND READ BACK FOR CONTENTS OF DOWNLIST---------------
P0430  2SPECIAL DOWN-LINK PROGRAM TO SEND SAMPLES OF CDUY & Z, AND TO TURN THE D
 0431  9AP BACK ON.
 0432   DNCDUS   CA     LOW10           MAKE THIS ID UNIQUE.
 0433  2         TC     SENDID +1       SEND ID & EXIT.
 0434            CAF    BIT7            ENTER HERE THE SECOND TIME.
 0435            EXTEND
 0436            WOR    13              SET WORD ORDER CODE =1
 0437            CA     LDNCDUGO
 0438            TS     DNTMGOTO        SET DNTMGOTO FOR NEXT CDUY,Z DOWN TM PAS
 0439            CA     DNCDUN          INITIALIZE DOWN CDUY,Z COUNTER
R0439022START CODING FOR MODULE 3 REMAKE, AUGUST 1967***START CODING FOR MODULE
 04390393 REMAKE, AUGUST 1967*******************
 0440  2         TCF    15INSRT         TERMINATE GIMBAL DRIVES, IF ANY.
R0440022**END CODING FOR MODULE 3 REMAKE, AUGUST 1967*****END CODING FOR MODULE
 04400393 REMAKE, AUGUST 1967*******************
 0441   DNCDUSGO CA     ONE             ENTER HERE THE THIRD TIME, & AFTER.
 0442    +1      TS     ITEMP1          SET UP INDEX FOR CDU ERROR CHECK.
 0443            INDEX  A
 0444            CA     CDUYD           PICK UP CDUD FOR COMPARISON WITH CDU.
 0445            EXTEND
 0446            INDEX  ITEMP1
 0447            MSU    CDUY            GET DIFFERENCE BETWEEN ACTUAL CDU & CDUD
 0448            EXTEND
 0449            BZMF   +2              GET NEG OF ABSOLUTE MAG OF DIFFERENCE
 0450            COM
 0451            AD     CDULMIT         COMPARE DIFFERENCE WITH ALLOWED MAXIMUM.
 0452            EXTEND
 0453  2         BZMF   DNCDUEND        IF ERROR IS TOO BIG, RESTORE DAP NOW.
 0454            CCS    ITEMP1          IS CHECK COMPLETE?
 0455  2         TCF    DNCDUSGO +1     NO.  GO CHECK CDUY.
 0456            CCS    DNCDUCNT        YES.  ARE WE THRU SENDING CDU'S?
 0457            TCF    +2              NO.
 0458  2         TCF    DNCDUEND        YES.
 0459            TS     DNCDUCNT
 0460   FETCHCDU EXTEND
 0461            DCA    CDUY            PICK UP CDUY AND CDUZ
 0462  2         TCF    DNTMEXIT        GO SEND THEM
 0465   DNCDUEND CA     OLDDVSEL
 0466  2         TS     DVSELECT
 0467            CS     DAPBOOLS        RESTORE GODAPGO TO TURN DAP BACK ON.
 0468            MASK   GODAPGO
 0469  2         ADS    DAPBOOLS
 0470            CA     LDNFAZE1        REESTABLISH THE NORMAL DOWNLIST.
 0471  2         TS     DNTMGOTO
 0472  2         TCF    FETCHCDU        SEND THE FINAL CDU PAIR.
 0473   LDNFAZE1 ADRES  DNPHASE1
 0474   LDNCDUGO ADRES  DNCDUSGO
L      2INFLIGHT ALIGNMENT ROUTINES
 0001            BANK   15
 0002  4         EBANK= XSM
R0003  2CALCGTA COMPUTES THE GYRO TORQUE ANGLES REQUIRED TO BRING THE STABLE MEM
 0004  9BER INTO THE DESIRED ORIENTATION.
R0005   THE INPUT IS THE DESIRED STABLE MEMBER COORDINATES REFERRED TO PRESENT S
 0006  9TABLE MEMBER COORDINATES. THE THREE
R0007  2HALF-UNIT VECTORS ARE STORED AT XDC, YDC, AND ZDC.
R0008   THE OUTPUTS ARE THE THREE GYRO TORQUING ANGLES TO BE APPLIED TO THE Y, Z
 0009  9, AND X GYROS AND ARE STORED DP AT IGC,
R0010  4MGC, AND OGC RESPECTIVELY. ANGLES ARE SCALED PROPERLY FOR IMUPULSE.
 0011   CALCGTA  ITA    DLOAD           PUSHDOWN  00,02,16D,18D,22D-26D,32D-36D
 0012                   S2              XDC = (XD1 XD2 XD3)
 0013                   XDC             YDC = (YD1 YD2 YD3)
 0014            PDDL   PDDL            ZDC = (ZD1 ZD2 ZD3)
 0015                   ZERODP
 0016                   XDC +4
 0017            DCOMP  VDEF
 0018            UNIT
 0019            STODL  ZPRIME          ZP = UNIT(-XD3 0 XD1) = (ZP1 ZP2 ZP3)
 0020  2                ZPRIME
 0021            SR1
 0022            STODL  SINTH           SIN(IGC) = ZP1
 0023                   ZPRIME +4
 0024            SR1
 0025            STCALL COSTH           COS(IGC) = ZP3
 0026  2                ARCTRIG
 0027            STODL  IGC             Y GYRO TORQUING ANGLE   FRACTION OF REV.
 0028                   XDC +2
 0029            SR1
 0030            STODL  SINTH           SIN(MGC) = XD2
 0031  2                ZPRIME
 0032            DMP    PDDL
 0033                   XDC +4          PD00 = (ZP1)(XD3)
 0034  2                ZPRIME +4
 0035            DMP    DSU
 0036                   XDC             MPAC = (ZP3)(XD1)
 0037            STADR
 0038            STCALL COSTH           COS(MGC) = MPAC - PD00
 0039  2                ARCTRIG
 0040            STOVL  MGC             Z GYRO TORQUING ANGLE   FRACTION OF REV.
 0041                   ZPRIME
 0042            DOT
 0043                   ZDC
 0044            STOVL  COSTH           COS(OGC) = ZP . ZDC
 0045                   ZPRIME
 0046            DOT
 0047                   YDC
 0048            STCALL SINTH           SIN(OGC) = ZP . YDC
 0049  2                ARCTRIG
 0050            STCALL OGC             X GYRO TORQUING ANGLE   FRACTION OF REV.
 0051  8                S2
R0052  2ARCTRIG COMPUTES AN ANGLE GIVEN THE SINE AND COSINE OF THIS ANGLE.
R0053  2THE INPUTS ARE SIN/4 AND COS/4 STORED DP AT SINTH AND COSTH.
R0054   THE OUTPUT IS THE CALCULATED ANGLE BETWEEN +.5 AND -.5 REVOLUTIONS AND S
 0055  9TORED AT THETA. THE OUTPUT IS ALSO
R0056  4AVAILABLE AT MPAC.
 0057   ARCTRIG  DLOAD  ABS             PUSHDOWN  16D,18D,20D,22D-26D
 0058                   SINTH
 0059            DSU    BMN
 0060                   QTSN45          ABS(SIN/4) - SIN(45)/4
 0061  4                TRIG1           IF (-45,45) OR (135,-135)
 0062            DLOAD  SL1             (45,135) OR (-135,-45)
 0063                   COSTH
 0064            ACOS   SIGN
 0065                   SINTH
 0066            STORE  THETA           X = ARCCOS(COS) WITH SIGN(SIN)
 0067  4         RVQ
 0068   TRIG1    DLOAD  SL1             (-45,45) OR (135,-135)
 0069                   SINTH
 0070            ASIN
 0071            STODL  THETA           X = ARCSIN(SIN) WITH SIGN(SIN)
 0072                   COSTH
 0073            BMN
 0074  2                TRIG2           IF (135,-135)
 0075            DLOAD  RVQ
 0076  4                THETA           X = ARCSIN(SIN)    (-45,45)
 0077   TRIG2    DLOAD  SIGN            (135,-135)
 0078                   HALFDP
 0079                   SINTH
 0080            DSU
 0081                   THETA
 0082            STORE  THETA           X = .5 WITH SIGN(SIN) - ARCSIN(SIN)
 0083  8         RVQ                                     (+) - (+) OR (-) - (-)
R0084  2SMNB TRANSFORMS A STAR DIRECTION FROM STABLE MEMBER TO NAVIGATION BASE C
 0085  9OORDINATES.
R0086   THE INPUTS ARE  1) THE STAR VECTOR REFERRED TO PRESENT STABLE MEMBER COO
 0087  9RDINATES STORED AT LOCATION 32D OF THE
R0088   VAC AREA.  2) THE GIMBAL ANGLES (CDUY,CDUZ,CDUX) STORED AT ALTERNATING L
 0089  9OCATIONS RESPECTIVELY. THE ANGLES ARE
R0090   USUALLY STORED AT LOCATIONS 2,4, AND 6 OF THE MARK VAC AREA. THEY CAN BE
 0091  9 STORED AT LOCATIONS 20,22, AND 24 OF
R0092  2YOUR JOB VAC AREA.  3) THE BASE ADDRESS OF THE GIMBAL ANGLES STORED SP A
 0093  9T LOCATION S1 OF YOUR JOB VAC AREA.
R0094   THE OUTPUT IS THE STAR VECTOR REFERRED TO NAVIGATION BASE COORDINATES ST
 0095  9ORED AT 32D OF THE VAC AREA. THE OUTPUT
R0096  4IS ALSO AVAILABLE AT MPAC.
 0097   SMNB     ITA    CLEAR           PUSHDOWN  00,02,04-10D,30D,32D-36D
 0098                   S2
 0099  2                NBSMBIT         SET NBSMBIT = 0
 0100   SMNB1    AXT,1  AXT,2           ROTATE X,Z, ABOUT Y
 0101                   4
 0102                   0
 0103            CALL
 0104  2                AXISROT
 0105            AXT,1  AXT,2           ROTATE Y,X ABOUT  Z
 0106                   2
 0107                   4
 0108            CALL
 0109  2                AXISROT
 0110            AXT,1  AXT,2           ROTATE Z,Y ABOUT  X
 0111                   0
 0112                   2
 0113            CALL
 0114  2                AXISROT
 0115            GOTO
 0116  8                S2
R0117  2NBSM TRANSFORMS A STAR DIRECTION FROM NAVIGATION BASE TO STABLE MEMBER
 0118  9COORDINATES.
R0119   THE INPUTS ARE  1) THE STAR VECTOR REFERRED TO NAVIGATION BASE COORDINAT
 0120  9ES STORED AT LOCATION 32D OF THE VAC
R0121   AREA.  2) THE GIMBAL ANGLES (CDUY,CDUZ,CDUX) STORED AT ALTERNATING LOCAT
 0122  9IONS RESPECTIVELY. THE ANGLES ARE
R0123   USUALLY STORED AT LOCATIONS 2,4, AND 6 OF THE MARK VAC AREA. THEY CAN BE
 0124  9 STORED AT LOCATIONS 20,22, AND 24 OF
R0125  2YOUR JOB VAC AREA.  3) THE BASE ADDRESS OF THE GIMBAL ANGLES STORED SP A
 0126  9T LOCATION S1 OF YOUR JOB VAC AREA.
R0127   THE OUTPUT IS THE STAR VECTOR REFERRED TO PRESENT STABLE MEMBER COORDINA
 0128  9TES STORED AT LOCATION 32D OF THE VAC
R0129  4AREA. THE OUTPUT IS ALSO AVAILABLE AT MPAC.
 0130   NBSM     ITA    SET             PUSHDOWN  00,02,04-10D,30D,32D-36D
 0131                   S2
 0132  2                NBSMBIT         SET NBSMBIT = 1
 0133   NBSM2    AXT,1  AXT,2           ROTATE Z,Y ABOUT  X
 0134                   0
 0135                   2
 0136            CALL
 0137  2                AXISROT
 0138            AXT,1  AXT,2           ROTATE Y,X ABOUT  Z
 0139                   2
 0140                   4
 0141            CALL
 0142  2                AXISROT
 0143            AXT,1  AXT,2           ROTATE X,Z, ABOUT Y
 0144                   4
 0145                   0
 0146            CALL
 0147  2                AXISROT
 0148            GOTO
 0149  8                S2
R0150  4AXISROT IS UTILIZED BY THE SMNB AND NBSM ROUTINES. SEE REMARKS ON THESE
 0151  9ROUTINES FOR INPUTS AND OUTPUTS.
 0152   AXISROT  XSU,1  SLOAD*
 0153                   S1                   SMNB          .       NBSM
 0154                   4,1             IG    MG    OG     .  OG    MG    IG
 0155            RTB    XAD,1
 0156                   CDULOGIC
 0157                   S1
 0158  2         STORE  30D
 0159   ACCUROT  COS
 0160            STORE  8D,1                          COS(ANGLE)
 01601           DLOAD  SIN
 0161                   30D
 0163  2         STORE  10D,1                         SIN(ANGLE)
 0164            DMP*   SL1
 0165                   32D +4,2
 0166            PDDL*  DMP*                              PD0
 0167                   8D,1            S3SIN S1SIN S2SIN  .  S2SIN S1SIN S3SIN
 0168  2                32D +4,2
 0169            SL1    PDDL*                             PD2
 0170  2                10D,1           S3COS S1COS S2COS  .  S2COS S1COS S3COS
 0171            DMP*   SL1                              MPAC
 0172  2                32D +4,1        S1SIN S2SIN S3SIN  .  S3SIN S2SIN S1SIN
 0173            BOFF
 0174                   NBSMBIT
 0175  2                AXISROT1
 0176            BDSU   STADR                              .    PD2 - MPAC
 0177            STORE  32D +4,2                           .  S2    S1    S3
 01771           DLOAD*
 0178  2                8D,1
 0179            DMP*   SL1                                .       MPAC
 0180  2                32D +4,1                           .  S3COS S2COS S1COS
 0181            DAD    STADR                              .    PD0 + MPAC
 0182            STORE  32D +4,1                           .  S3    S2    S1
 01821           VLOAD  RVQ
 0183                   32D
 0185   AXISROT1 DAD    STADR             MPAC + PD2       .
 0186            STORE  32D +4,2        S3    S1    S2
 01861           DLOAD*
 0187                   8D,1
 0188            DMP*   SL1                  MPAC          .
 0189  2                32D +4,1        S1COS S2COS S3COS  .
 0190            DSU    STADR             MPAC - PD0       .
 0191            STORE  32D +4,1        S1    S2    S3
 01911           VLOAD  RVQ
 0192                   32D
R0194  2CALCGA COMPUTES THE CDU DRIVING ANGLES REQUIRED TO BRING THE STABLE MEMB
 0195  9ER INTO THE DESIRED ORIENTATION.
R0196   THE INPUTS ARE  1) THE NAVIGATION BASE COORDINATES REFERRED TO ANY COORD
 0197  9INATE SYSTEM. THE THREE HALF-UNIT
R0198   VECTORS ARE STORED AT XNB,YNB, AND ZNB.  2) THE DESIRED STABLE MEMBER CO
 0199  9ORDINATES REFERRED TO THE SAME
R0200  2COORDINATE SYSTEM ARE STORED AT XSM, YSM, AND ZSM.
R0201  4THE OUTPUTS ARE THE THREE CDU DRIVING ANGLES AND ARE STORED SP AT THETAD
 0202  9, THETAD +1, AND THETAD +2.
 0203   CALCGA   VLOAD  VXV             PUSHDOWN  00-04,16D,18D
 0204                   XNB             XNB = OGA (OUTER GIMBAL AXIS)
 0205                   YSM             YSM = IGA (INNER GIMBAL AXIS)
 0206  2         UNIT   PUSH            PD0 = UNIT(OGA X IGA) = MGA
 0207            DOT    ITA
 0208                   ZNB
 0209                   S2
 0210            STOVL  COSTH           COS(OG) = MGA . ZNB
 0211                   0
 0212            DOT
 0213                   YNB
 0214            STCALL SINTH           SIN(OG) = MGA . YNB
 0215                   ARCTRIG
 0216            STOVL  OGC
 0217  2                0
 0218            VXV    DOT             PROVISION FOR MG ANGLE OF 90 DEGREES
 0219                   XNB
 0220                   YSM
 0221            SL1
 0222            STOVL  COSTH           COS(MG) = IGA . (MGA X OGA)
 0223                   YSM
 0224            DOT
 0225                   XNB
 0226            STCALL SINTH           SIN(MG) = IGA . OGA
 0227                   ARCTRIG
 0228  2         STORE  MGC
 0229            ABS    DSU
 0230                   .166...
 0231            BPL
 0232  2                GIMLOCK1        IF ANGLE GREATER THAN 60 DEGREES
 0233   CALCGA1  VLOAD  DOT
 0234                   ZSM
 0235                   0
 0236            STOVL  COSTH           COS(IG) = ZSM . MGA
 0237  2                XSM
 0238            DOT    STADR
 0239            STCALL SINTH           SIN(IG) = XSM . MGA
 0240  2                ARCTRIG
 0241            STOVL  IGC
 0242                   OGC
 0243            RTB
 0244                   V1STO2S
 0245            STCALL THETAD
 0246  2                S2
 0247   GIMLOCK1 EXIT
 02472           TC     FLAG1UP         SET GIMBAL LOCK FLAG
 02474           OCT    200
 0248            TC     ALARM
 0249            OCT    00401
 0250            TC     INTPRET
 0251            GOTO
 0252  8                CALCGA1
R0253  2AXISGEN COMPUTES THE COORDINATES OF ONE COORDINATE SYSTEM REFERRED TO AN
 0254  9OTHER COORDINATE SYSTEM.
R0255   THE INPUTS ARE  1) THE STAR1 VECTOR REFERRED TO COORDINATE SYSTEM A STOR
 0256  9ED AT STARAD.  2) THE STAR2 VECTOR
R0257   REFERRED TO COORDINATE SYSTEM A STORED AT STARAD +6.  3) THE STAR1 VECTO
 0258  9R REFERRED TO COORDINATE SYSTEM B STORED
R0259   AT LOCATION 6 OF THE VAC AREA.  4) THE STAR2 VECTOR REFERRED TO COORDINA
 0260  9TE SYSTEM B STORED AT LOCATION 12D OF
R0261  2THE VAC AREA.
R0262   THE OUTPUT DEFINES COORDINATE SYSTEM A REFERRED TO COORDINATE SYSTEM B.
 0263  9THE THREE HALF-UNIT VECTORS ARE STORED
R0264  4AT LOCATIONS XDC, XDC +6, XDC +12D, AND STARAD, STARAD +6, STARAD +12D.
 0265   AXISGEN  AXT,1  SSP             PUSHDOWN  00-22D,24D-28D,30D
 0266                   STARAD +6
 0267                   S1
 0268  2                STARAD -6
 0269   AXISGEN1 VLOAD* VXV*            06D   UA = S1
 0270                   STARAD +12D,1          STARAD +00D   UB = S1
 0271                   STARAD +18D,1
 0272            UNIT                   12D   VA = UNIT(S1 X S2)
 0273            STORE  STARAD +18D,1          STARAD +06D   VB = UNIT(S1 X S2)
 02731           VLOAD*
 0274  2                STARAD +12D,1
 0275            VXV*   VSL1
 0276                   STARAD +18D,1   18D   WA = UA X VA
 0277  2         STORE  STARAD +24D,1          STARAD +12D   WB = UB X VB
 0278            TIX,1
 0279  2                AXISGEN1
 0280            AXC,1  SXA,1
 0281                   6
 0282  2                30D
 0283            AXT,1  SSP
 0284                   18D
 0285                   S1
 0286  2                6
 0287            AXT,2  SSP
 0288                   6
 0289                   S2
 0290  2                2
 0291   AXISGEN2 XCHX,1 VLOAD*
 0292                   30D             X1=-6 X2=+6   X1=-6 X2=+4   X1=-6 X2=+2
 0293                   0,1
 0294            VXSC*  PDVL*           J=(UA)(UB1)   J=(UA)(UB2)   J=(UA)(UB3)
 0295                   STARAD +6,2
 0296                   6,1
 0297            VXSC*
 0298                   STARAD +12D,2
 0299            STOVL* 24D             K=(VA)(VB1)   J=(VA)(VB2)   J=(VA)(VB3)
 0300  2                12D,1
 0301            VXSC*  VAD
 0302                   STARAD +18D,2   L=(WA)(WB1)   J=(WA)(WB2)   J=(WA)(WB3)
 0303            VAD    VSL1
 0304                   24D
 0305            XCHX,1
 0306                   30D
 0307  2         STORE  XDC +18D,1      XDC = L+J+K   YDC = L+J+K   ZDC = L+J+K
 0308            TIX,1
 0309  2                AXISGEN3
 0310   AXISGEN3 TIX,2
 0311  2                AXISGEN2
 0312            VLOAD
 0313                   XDC
 0314            STOVL  STARAD
 0315                   YDC
 0316            STOVL  STARAD +6
 0317                   ZDC
 0318  2         STORE  STARAD +12D
 0319  8         RVQ
R0418  2TRANSPSE COMPUTES THE TRANSPOSE OF A MATRIX (TRANSPOSE = INVERSE OF ORTH
 0419  9OGONAL TRANSFORMATION).
R0420   THE INPUT IS A MATRIX DEFINING COORDINATE SYSTEM A WITH RESPECT TO COORD
 0421  9INATE SYSTEM B STORED IN STARAD THRU
R0422  2STARAD +17D.
R0423   THE OUTPUT IS A MATRIX DEFINING COORDINATE SYSTEM B WITH RESPECT TO COOR
 0424  9DINATE SYSTEM A STORED IN STARAD THRU
R0425  2STARAD +17D.
 0426   TRANSPSE DXCH   STARAD +2       PUSHDOWN  NONE
 0427            DXCH   STARAD +6
 0428  2         DXCH   STARAD +2
 0429            DXCH   STARAD +4
 0430            DXCH   STARAD +12D
 0431  2         DXCH   STARAD +4
 0432            DXCH   STARAD +10D
 0433            DXCH   STARAD +14D
 0434            DXCH   STARAD +10D
 0435  4         TCF    DANZIG
R0436   SMD/EREF TRANSFORMS STABLE MEMBER DESIRED COORDINATES FROM STABLE MEMBER
 0437  9 DESIRED (DESIRED = PRESENT HERE) TO
R0438  2EARTH REFERENCE COORDINATES TO ALIGN THE STABLE MEMBER TO SPECIFIED GIMB
 0439  9AL ANGLES.
R0440   THE INPUTS ARE 1) THE MATRIX DEFINING THE EARTH REFERENCE COORDINATE FRA
 0441  9ME WITH RESPECT TO THE NAVIGATION BASE
R0442  2COORDINATE FRAME. 2) SAME AS 2) AND 3) OF SMNB.
R0443   THE OUTPUT IS THE DESIRED STABLE MEMBER COORDINATES WITH RESPECT TO THE
 0444  9EARTH REFERENCE COORDINATE FRAME. THE
R0445  2THREE UNIT VECTORS ARE STORED AT XSM, YSM, AND ZSM.
 0446   SMD/EREF ITA    VLOAD           PUSHDOWN  00,02,04-10D,30D,32D-36D
 0447                   12D
 0448                   XUNIT
 0449            STCALL 32D
 0450                   SMNB            STABLE MEMBER TO NAVIGATION BASE
 0451            MXV    VSL1
 0452                   STARAD          THEN TO EARTH REFERENCE
 0453            STOVL  XSM
 0454  2                YUNIT
 0455            STCALL 32D
 0456                   SMNB            STABLE MEMBER TO NAVIGATION BASE
 0457            MXV    VSL1
 0458                   STARAD          THEN TO EARTH REFERENCE
 0459            STOVL  YSM
 0460  2                ZUNIT
 0461            STCALL 32D
 0462                   SMNB            STABLE MEMBER TO NAVIGATION BASE
 0463            MXV    VSL1
 0464                   STARAD          THEN TO EARTH REFERENCE
 0465            STCALL ZSM
 0466  2                12D
 0467   270DEG   2DEC   -.25
 0468   QTSN45   2DEC   .1768
 0469   HALFDP   2DEC   .5
 0470   ZUNIT    2DEC   0
 0471   YUNIT    2DEC   0
 0472   XUNIT    2DEC   0.5
 0473   ZERODP   2DEC   0
 0474            2DEC   0
 0475            2DEC   0
 0476   .166...  2DEC   .1666666667
P0477   AOTNB CONVERTS THE AOT RETICLE ROTATION ANGLE (YROT AND SROT) AND
R0478   THE DETENT SETTING TO A HALF UNIT STAR VECTOR REFERRED TO THE
R0479   NAVIGATION BASE FOR NON-FLIGHT ALIGNMENT MODES
R0480
R0481   THE INPUTS ARE
R0482
R0483      Y RET. LINE RATATION S(YROT) STORED IN LOC 3 OF THE MARK VAC AREA
R0484      SPIRAL ROTATION ANGLE S(SROT) STORED IN LOC 5 OF MARK VAC AREA
R0485      ANGLE OF CENTER OF FIELD OF VIEW S(ELV) STORED IN LOC 9 OF MARK VAC
R0486      AOT ASZIMUTH ANGLE S(DET) STORED IN LOC 8 OF MARK VAC AREA
R0487      THE COMPLEMENT OF BASE ADDRESS OF MARK VAC IS STORED AT X1
R04871     COMPENSATION FOR FIELD OF VIEW TILT IN LOC 10D
R04872 2THE ABOVE STORAGE IS DONE BY AOTMARK
R0488
R0489   THE OUTPUT IS A HALF UNIT STAR VECTOR IN NB COORDINATES STORED
R0490   AT 32D AND AVAILABLE IN VAC ON RETURN TO THE CALLING PROGRAM
R0491
 0492   AOTNB    SETPD  SLOAD*
 0493                   0
 04931                  10D,1           AOT FOV TILT COMPENSATION ANGLE
 04932           SR1    PUSH            RESCALE TILT TO 2PI
 0494            SLOAD* RTB
 0495                   3,1
 0496                   CDULOGIC
 0497            STORE  14D             STORE UNCOMPENSATED YROT FOR S COMP
 04971           DAD    PUSH            YROT NOW CORRECTED FOR TILT
 0498            COS    PDDL            1/2 COS(YROT) PD 0-1
 0499            SIN    PUSH            1/2 SIN(YROT) PD 2-3
 0500            SLOAD* RTB
 0501                   5,1
 0502                   CDULOGIC
 0503            STORE  16D             STORE S IF S AND Y ARE ZERO, S=0
 0504            BZE    GOTO            S NOT ZERO
 0505                   SISZ            S=0
 0506                   SCOMP
 0507   SISZ     DLOAD  BZE             IS Y ZERO
 0508                   14D
 0509                   YISZ            Y=0
 0510            GOTO
 0511                   SCOMP
 0512   YISZ     DLOAD  GOTO
 0513                   ZERODP
 0514                   SGOT
 0515   SCOMP    DLOAD  DSU
 0516                   14D
 0517                   16D             Y-S
 0518            BDSU
 0519                   NEARONE         S=360-(Y-S)
 0520   SGOT     DMP    PUSH
 0521                   DP1/12
 0522            COS    PDDL
 0523            SIN    PUSH
 0524            DMP    SL1
 0525                   0
 0526  2         STODL  0
 0527                   2
 0528            DMP    STADR
 0529  2         STORE  2
 0530            SLOAD* RTB
 0531                   9D,1
 0532                   CDULOGIC
 0533            PUSH   SIN
 0534            PDDL   COS
 0535            PUSH   DMP
 0536                   0
 0537            PDDL   DMP
 0538                   4
 0539                   6
 0540            DAD    SL1
 0541            STADR
 0542  2         STODL  32D
 0543            DMP
 0544                   4
 0545  2         STODL  4
 0546            DMP    BDSU
 0547                   0
 0548            PUSH   SLOAD*
 0549                   8D,1
 0550            RTB    PUSH
 0551                   CDULOGIC
 0552            COS    PDDL
 0553            SIN
 0554  2         STORE  0
 0555            DMP    PDDL
 0556                   4
 0557                   6
 0558            DMP    DAD
 0559                   2
 0560            SL2
 0561  2         STODL  34D
 0562            DMP    STADR
 0563  2         STODL  36D
 0564            DMP
 0565            BDSU   SL2
 0566                   36D
 0567            STOVL  36D
 0568                   32D
 0569  2         RVQ
 0570   DP1/12   2DEC   .0833333333                  : :
 0571   NEARONE  2DEC   .999999999
P0572   AOTSM CALCULATES A HALF UNIT STAR VECTOR IN STABLE MEMBER COORDINATES
R0573   FROM TWO PLANES CONTAINING THE STAR REFERRED TO NB
R0574
R0575   THE INPUTS ARE
R0576
R0577     AOT AZIMUTH AND ELEVATION STORED IN 8D AND 9D RESP. OF VAC AREA
R0578     CDUY, CDUZ AND CDUX FROM A YMARK STORED AT 3, 5, AND 7 OF VAC AREA
R0579     CDUY, CDUZ AND CDUX FROM A XMARK STORED AT 2, 4, AND 6 OF VAC AREA
R05791    COMPENSATION FOR FIELD OF VIEW STORED AT 10D OF VAC AREA
R0580   THE BASE ADDRESS OF THE CDUS IS STORED AT LOCATION S1
R0581
R0582   THE OUTPUT IS A STAR VECTOR REFERRED TO STABLE MEMBER AT LOC 32D
R0583   AND AVAILBLE IN MPAC
R0584
 0585   AOTSM    STQ    SETPD
 0586                   29D             SET UP RETURN
 0587                   0
 0588            LXC,1  SLOAD*
 0589                   S1              COMPLEMENT OF CDU ADR FOR XMARK
 0590                   8D,1            LOAD APPARENT TILT ANGLE,ONES COMP
 05901           SR1                    RESCALE TILT TO 2PI
 0591            PUSH   COS
 0592            PDDL   SIN             1/2 COS(TA)  0-1
 0593            PUSH   SLOAD*          1/2 SIN(TA)  2-3
 0594                   6,1             LOAD AZIMUTH, 2S COMP
 0595            RTB    PUSH
 0596                   CDULOGIC
 0597            COS    PDDL            1/2 COS(AZ)  4-5
 0598            SIN    PUSH            1/2 SIN(AZ)  6-7
 0599            DMP    PDDL
 0600                   0
 0601            DMP    PDDL
 0602                   2
 0603                   4
 0604            DMP    PDDL
 0605                   0
 0606                   4
 0607            DMP    PUSH
 0608            SLOAD* RTB
 0609                   7,1             LOAD ELEVATION, 2S COMP
 0610                   CDULOGIC
 0611            PUSH   SIN
 0612            PDDL   COS             1/2 SIN(ELV)  14-15
 0613            PUSH   DMP             1/2 COS(ELV)  16-17
 0614                   0
 0615            SL1
 0616  2         STODL  32D             X COMPONENT OF X-PLANE VECTOR
 0617            DMP    SL1             UP 16-17
 0618                   2
 0619  2         DCOMP  PDDL            X COMPONENT OF Y-PLANE VECTOR 16-17
 0620                   14D
 06201           DMP    SL1
 0621                   6
 0622            BDSU   SL1
 0623                   12D
 0624  2         STODL  34D             Y COMPONENT OF X-PLANE VEC
 0625                   14D
 0626            DMP    SL1
 0627                   10D
 0628            DAD    SL1
 0629                   8D
 0630            DCOMP
 0631  2         STODL  36D             Z COMPONENT OF X-PLANE VECTOR
 0632                   14D
 0633            DMP    SL1
 0634                   8D
 0635            DAD    SL1
 0636                   10D
 0637  2         PDDL   DMP             Y COMPONENT OF Y-PLANE VECTOR 18-19
 0638                   14D
 0639                   12D
 0640            DSU    SL1
 0641                   6
 0642  2         STCALL 20D             Z COMPONENT OF Y-PLANE VECTOR 20-21
 0643                   NBSM            TRANSFORM TO SM
 0644  2         STOVL  10D             STORE X-PLAVE VECTOR (SM)
 0645                   16D             LOAD Y-PLANE VECTOR (NB)
 0646            XCHX,1 INCR,1
 0647                   S1              INCREMENT CDU BASE ADR TO YMARK CDUS
 06471                  1
 06472           XCHX,1                 PUT IT BACK IN S1
 06473                  S1
 06474           STCALL 32D
 06475                  NBSM            GET Y-PLANE IN SM
 06476           VXV    VSL1            YP CROSS XP
 06477                  10D
 06478           VCOMP  UNIT            UNIT(XP CROSS YP)
 06479           STORE  32D             STAR VECTOR IN SM COORDINATES
 06480           GOTO
 06481                  29D             RETURN
P0649            THE FOLLOWING ROUTINE TAKES A HALF UNIT TARGET VECTOR REFERRED
 0650  9TO NAV BASE COORDINATES AND FINDS BOTH
R0651   GIMBAL ORIENTATIONS AT WHICH THE RR MIGHT SIGHT THE TARGET. THE GIMBAL A
 0652  9NGLES CORRESPONDING TO THE PRESENT MODE
R0653   ARE LEFT IN MODEA AND THOSE WHICH WOULD BE USED AFTER A REMODE IN MODEB.
 0654  9 THIS ROUTINE ASSUMES MODE 1 IS TRUNNION
R0655   ANGLE LESS THAN 90 DEGS IN ABS VALUE WITH ARBITRARY SHAFT, WITH A CORRES
 0656  9PONDING DEFINITION FOR MODE 2. MODE
R0657  2SELECTION AND LIMIT CHECKING ARE DONE ELSEWHERE.
R0658  2         THE MODE 1 CONFIGURATION IS CALCULATED FROM THE VECTOR AND THEN
 0659  9 MODE 2 IS FOUND USING THE RELATIONS
R0660            S(2) = 180 + S(1)
R0661  2         T(2) = 180 - T(1)
 0662   RRANGLES DLOAD  DCOMP           SINCE WE WILL FIND THE MODE 1 SHAFT
 0663                   34D             ANGLE LATER, WE CAN FIND THE MODE 1
 0664            SETPD  ASIN            TRUNNION BY SIMPLY TAKING THE ARCSIN OF
 0665                   0               THE Y COMPONENT, THE ASIN GIVING AN
 0666            PUSH   BDSU            ANSWER WHOSE ABS VAL IS LESS THAN 90 DEG
 0667                   HALFDP
 0668  2         STODL  4               MODE 2 TRUNNION TO 4.
 0669                   ZERODP
 0670            STOVL  34D             UNIT THE PROJECTION OF THE VECTOR IN THE
 0671                   32D             X-Z PLANE.
 0672            UNIT   BOVB            CALL FOR S/C MANEUVER ON GIMBAL LOCK.
 0673                   DESRETRN +1
 0674            STODL  32D             PROJECTION VECTOR.
 0675                   32D
 0676            SR1    STQ
 0677                   S2
 0678            STODL  SINTH           USE ARCTRIG SINCE SHAFT COULD BE ARB.
 0679                   36D
 0680            SR1
 0681            STCALL COSTH
 0682  8                ARCTRIG
 0683            PUSH   DAD             MODE 1 SHAFT TO 2.
 0684                   HALFDP          (OVERFLOW DOESNT MATTER SINCE SCALED REV
 0685            STOVL  6
 0686                   4
 0687            RTB                    FIND MODE 2 CDU ANGLES.
 0688                   2V1STO2S
 0689            STOVL  MODEB
 0690                   0
 0691            RTB                    MODE 1 ANGLES TO MODE A.
 0692                   2V1STO2S
 0693            STORE  MODEA
 0694  2         EXIT
 0695            CS     RADMODES        SWAP MODEA AND MODEB IF RR IN MODE 2.
 0696            MASK   BIT12
 0697            CCS    A
 0698  2         TCF    +4
 0699            DXCH   MODEA
 0700            DXCH   MODEB
 0701  2         DXCH   MODEA
 0702            TC     INTPRET
 0703            GOTO
 0704  2                S2
P0705      GIVEN RR TRUNION AND SHAFT (T,S) IN TANG,+1, FIND THE ASSOCIATED
R0706   LINE OF SIGHT IN NAV BASE AXES.  THE HALF UNIT VECTOR, .5(SIN(S)COS(T),
R0707  2-SIN(T),COS(S)COS(T)) IS LEFT IN MPAC AND 32D.
 0708   RRNB     SLOAD  RTB
 0709                   TANG
 07091                  CDULOGIC
 0710            SETPD  PUSH            TRUNNION ANGLE TO 0
 0711                   0
 0712            SIN    DCOMP
 0713  2         STODL  34D             Y COMPONENT
 0714            COS    PUSH            .5 COS(T) TO 0
 0715            SLOAD  RTB
 0716                   TANG +1
 0717                   CDULOGIC
 0718            PUSH   COS             SHAFT ANGLE TO 2
 0719            DMP    SL1
 0720                   0
 0721  2         STODL  36D             Z COMPONENT
 0722            SIN    DMP
 0723            SL1
 0724            STOVL  32D
 0725                   32D
 0726            RVQ
L      2RTB OP CODES
 0001            BANK   15
R0002  2         LOAD TIME2, TIME1 INTO MPAC:
 0003   LOADTIME EXTEND
 0004            DCA    TIME2
 0005  2         TCF    SLOAD2
R0006            CONVERT THE SINGLE PRECISION 2'S COMPLEMENT NUMBER ARRIVING IN
 0007  9MPAC (SCALED IN HALF-REVOLUTIONS) TO A
R0008  2DP 1'S COMPLEMENT NUMBER SCALED IN REVOLUTIONS.
 0009   CDULOGIC CCS    MPAC
 0010            CAF    ZERO
 0011            TCF    +3
 0012            NOOP
 0013  2         CS     HALF
 0014            TS     MPAC +1
 0015            CAF    ZERO
 0016            XCH    MPAC
 0017            EXTEND
 0018            MP     HALF
 0019            DAS    MPAC
 0020  2         TCF    SLOAD2 +2       C(A) = +0.
R0021  2         READ IMU CDUS INTO MPAC AS A VECTOR. ESPECIALLY USEFUL IN CONNE
 0022  9CTION WITH SMNB, ETC.
 0023   READCDUS INHINT
 0024            CA     CDUY            IN ORDER Y Z X
 0025            TS     MPAC
 0026            CA     CDUZ
 0027            TS     MPAC +3
 0028            CA     CDUX
 0029  2         TCF    READPIPS +6     COMMON CODING.
R0030  2         READ THE PIPS INTO MPAC WITHOUT CHANGING THEM:
 0031   READPIPS INHINT
 0032            CA     PIPAX
 0033            TS     MPAC
 0034            CA     PIPAY
 0035            TS     MPAC +3
 0036            CA     PIPAZ
 0037            RELINT
 0038  2         TS     MPAC +5
 0039            CAF    ZERO
 0040            TS     MPAC +1
 0041            TS     MPAC +4
 0042  2         TS     MPAC +6
 0043   VECMODE  CS     ONE
 0044  2         TCF    NEWMODE
R0045  2         FORCE TP SIGN AGREEMENT IN MPAC:
 0046   SGNAGREE TC     TPAGREE
 0047  2         TCF    DANZIG
R0048            CONVERT THE DP 1'S COMPLEMENT ANGLE SCALED IN REVOLUTIONS TO A
 0049  9SINGLE PRECISION 2'S COMPLEMENT ANGLE
R0050  2SCALED IN HALF-REVOLUTIONS.
 0051   1STO2S   TC     1TO2SUB
 0052            CAF    ZERO
 0053            TS     MPAC +1
 0054  2         TCF    NEWMODE
R0055  2         DO 1STO2S ON A VECTOR OF ANGLES:
 0056  2V1STO2S  TC     1TO2SUB         ANSWER ARRIVES IN A AND MPAC.
 0057            DXCH   MPAC +5
 0058            DXCH   MPAC
 0059            TC     1TO2SUB
 0060  2         TS     MPAC +2
 0061            DXCH   MPAC +3
 0062            DXCH   MPAC
 0063            TC     1TO2SUB
 0064  2         TS     MPAC +1
 0065            CA     MPAC +5
 0066  2         TS     MPAC
 0067   TPMODE   CAF    ONE             MODE IS TP.
 0068  2         TCF    NEWMODE
R0069  2         V1STO2S FOR 2 COMPONENT VECTOR. USED BY RR.
 0070   2V1STO2S TC     1TO2SUB
 0071            DXCH   MPAC +3
 0072            DXCH   MPAC
 0073            TC     1TO2SUB
 0074            TS     L
 0075            CA     MPAC +3
 0076  2         TCF    SLOAD2
R0077  2         SUBROUTINE TO DO DOUBLING AND 1'S TO 2'S CONVERSION:
 0078   1TO2SUB  DXCH   MPAC            FINAL MPAC +1 UNSPECIFIED.
 0079            DDOUBL
 0080            CCS    A
 0081            AD     ONE
 0082            TCF    +2
 0083  2         COM                    THIS WAS REVERSE OF MSU.
 0084            TS     MPAC            AND SKIP ON OVERFLOW.
 0085  2         TC     Q
 0086            INDEX  A               OVERFLOW UNCORRECT AND IN MSU.
 0087            CAF    LIMITS
 0088            ADS    MPAC
 0089            TC     Q
P0090            SUBROUTINE TO INCREMENT CDUS
 0091   INCRCDUS CAF    LOCTHETA
 0092            TS     BUF             PLACE ADRES(THETA) IN BUF.
 0093            CAE    MPAC            INCREMENT IN 1S COMPL.
 0094  2         TC     CDUINC
 0095            INCR   BUF
 0096            CAE    MPAC +3
 0097  2         TC     CDUINC
 0098            INCR   BUF
 0099            CAE    MPAC +5
 0100  2         TC     CDUINC
 0101  2         TCF    VECMODE
 0102  2LOCTHETA ADRES  THETAD
R0103            THE FOLLOWING ROUTINE INCREMENTS IN 2S COMPLEMENT THE REGISTER
 0104  9WHOSE ADDRESS IS IN BUF BY THE 1S COMPL.
R0105   QUANTITY FOUND IN TEM2. THIS MAY BE USED TO INCREMENT DESIRED IMU AND OP
 0106  9TICS CDU ANGLES OR ANY OTHER 2S COMPL.
R0107  2(+0 UNEQUAL TO -0) QUANTITY. MAY BE CALLED BY BANKCALL/SWCALL.
 0108   CDUINC   TS     TEM2            1S COMPL.QUANT. ARRIVES IN ACC. STORE IT
 0109            INDEX  BUF
 0110            CCS    0               CHANGE 2S COMPL. ANGLE(IN BUF)INTO 1S
 0111            AD     ONE
 0112            TCF    +4
 0113            AD     ONE
 0114            AD     ONE             OVERFLOW HERE IF 2S COMPL. IS 180 DEG.
 0115  2         COM
 0116            AD     TEM2            ADD IN INCREMENT. WILL OVERFLOW IF RE-
 0117  9SULT MOVES FROM 2ND TO 3D QUAD.(OR BACK)
 0118            CCS    A               BACK TO 2S COMPL.
 0119            AD     ONE
 0120            TCF    +2
 0121            COM
 0122            TS     TEM2            STORE 14BIT QUANTITY WITH PRESENT SIGN
 0123            TCF    +4
 0124            INDEX  A               OVERFLOW MEANS CORRECT 14BIT VALUE,WRONG
 0125  9 SIGN.
 0126            CAF    LIMITS          FIX IT,BY ADDING IN 37777 OR 40000
 0127  2         AD     TEM2
 0128            INDEX  BUF
 0129            TS     0               STORE NEW ANGLE IN 2S COMPLEMENT.
 0130            TC     Q
P0131  2         RTB TO TORQUE GYROS, EXCEPT FOR THE CALL TO IMUSTALL. ECADR OF
 0132  9COMMANDS ARRIVES IN X1.
 0133   PULSEIMU INDEX  FIXLOC          ADDRESS OF GYRO COMMANDS SHOULD BE IN X1
 0134            CA     X1
 0135            TC     BANKCALL
 0136            CADR   IMUPULSE
 0137            TCF    DANZIG
P0138  2         THE FOLLOWING ROUTINE IS USED ONLY IN BENCH TESTING THE RR.
 0139   RRSIM    TC     FIXDELAY
 0140  2         DEC    50
 0141   RRSIM2   CAF    BIT2            SEE IF RR ECTR ENABLED.
 0142            EXTEND
 0143            RAND   12
 0144            EXTEND
 0145  2         BZF    RRSIM
 0146            CA     TEM2            SAVE EXEC TEMPS SINCE IN RUPT.
 0147            TS     RUPTREG1
 0148            CAF    LOPTY
 0149            XCH    BUF
 0150            TS     RUPTREG2
 0151            CA     LASTYCMD        ECTR.
 0152            DOUBLE
 0153            EXTEND
 0154            MP     RRSIMG
 0155            TC     CDUINC
 0156            INCR   BUF
 0157            CA     OPTY            SHAFT CMD IS DIVIDED BY THE ABS VALUE OF
 0158            EXTEND                 THE COS OF THE TRUNNION ANGLE.
 0159            MSU    7               TO 1S COMPLEMENT.
 0160            TC     SPCOS                                           *
 0161            EXTEND                 SPCOS NOW GIVES COS SCALED AT 1 *
 0162            MP     BIT14               (A DAP GROUP FIX)           *
 0163            CCS    A
 0164            TCF    +3
 0165            TCF    +2
 0166            TCF    +1
 0167            AD     ONE
 0168  2         TS     ITEMP1
 0169            CA     LASTXCMD        SHAFT RATE DEPENDS ON TRUNNION.
 0170            EXTEND
 0171            MP     RRSIMG
 0172            EXTEND
 0173            DV     ITEMP1
 0174            TC     CDUINC
 0175            CA     RUPTREG1
 0176            TS     TEM2
 0177            CA     RUPTREG2
 0178            TS     BUF
 0179  2         TCF    RRSIM
 0180   LOPTY    ADRES  OPTY
 0181   RRSIMG   DEC    .59259
R0181012START CODING FOR MODULE 3 REMAKE, AUGUST 1967***START CODING FOR MODULE
 01810293 REMAKE, AUGUST 1967*******************
 0181032         EBANK= DNCDUCNT
 018104215INSRT  TS     DNCDUCNT
 018105          CA     EBANK6
 018107          XCH    EBANK
 0181092         TS     L
 0181102         EBANK= RGIMTIMR
 018111          CS     GMBLBITS
 018113          EXTEND
 0181152         WAND   12
 018117          CA     NEGMAX
 018119          TS     RGIMTIMR
 0181212         TS     QGIMTIMR
 018123          LXCH   EBANK
 0181252         TCF    DNCDUSGO
 0181272GMBLBITS OCT    7400
 018200 CHKSUM15 OCT    37777
R018202 **END CODING FOR MODULE 3 REMAKE, AUGUST 1967*****END CODING FOR MODULE
 01820393 REMAKE, AUGUST 1967*******************
L      2LEM FLIGHT CONTROL SYSTEM TEST
 0001            BANK   6
 0002  4         EBANK= JETSTEP
R0003  2LEM FCS TEST  ENTRY AND INITIALIZATION JOB.
R0004         THIS JOB INITIALIZES THE ERASABLE TABLES FOR THE FCS TEST AND PUTS
 0005  9 THE FOLLOWING PROGRAMS UNDER
R0006   WAITLIST CONTROL.
R0007              (1) RCS JET SET TASK
R0008              (2) ENGINE ON - OFF TASK
R0009              (3) DESCENT ENGINE GIMBAL TRIM TASK
R0010              (4) DESCENT ENGINE THROTTLE TASK
R0011  4           (5) INTERFACE CHANNEL LOOK TASK
 0012   FCSSTART TC     GRABWAIT        SO NOTHING DISRUPTS THE LOAD.
 0013            CAF    JSTEPADR        THE START OF THE LIST.
 0014   FCS3     CCS    A
 0015            TS     MPAC +2
 0016   FCS2     CAF    V04N01K         DISPLAY PRESENT CONTENTS IN R2.
 0017            TC     NVSBWAIT
 0018            INCR   MPAC +2
 0019            CAF    V21N02K
 0020            TC     NVSBWAIT        IN CASE IT,S BUSY BUT IT SHOULDN,T BE.
 0021            TC     ENDIDLE         WHILE LOADING.
 0022            TC     +3              V34E. TERMINATE LOAD OF THIS LIST
A0023                                   SECTION, GO TO NEW SECTION OR TO TEST.
 0024            TC     +1              V33E. PRESENT CONTENTS OK, PROCEED TO
A0025                                   NEXT LOCATION IN LIST.
 0026            TC     FCS2
 0027            CAF    V21N30K
 0028            TC     NVSBWAIT
 0029            TC     ENDIDLE
 0030            TC     EJFREE
 0031            TC     FCSTEST1        PROCEED TO TEST.
 0032            CAE    DSPTEM1         NEW ADDRESS.
 0033            TC     FCS3
 0034   FCSTEST1 CAF    V47K
 0035            TC     NVSBWAIT        OUR VERB IN THE LIGHTS.
 0036   FCSTEST  INHINT
 0037            CAF    TWO             20MS.
 0038            TC     WAITLIST
 0039            EBANK= JETSTEP
 0040            2CADR  JETSTART
 0041            CAF    BIT1            10MS.
 0042            TC     WAITLIST
 0043            EBANK= JETSTEP
 0044            2CADR  ENGSTART
 0045            CAF    THREE           30MS.
 0046            TC     WAITLIST
 0047            EBANK= JETSTEP
 0048            2CADR  TRIMTOP
 0049            CAF    FOUR            40MS.
 0050            TC     WAITLIST
 0051            EBANK= JETSTEP
 0052            2CADR  THRSTART
 0053            CAF    FIVE            50MS.
 0054            TC     WAITLIST
 0055            EBANK= JETSTEP
 0056            2CADR  LOOKTOP
 0057  2         TC     EJFREE          NOW THEY START.
 0058   JSTEPADR ECADR  JETSTEP
 0059   V21N02K  OCT    02102
 0060   V21N30K  OCT    02130
 0061   V04N01K  OCT    00401
 0062   V47K     OCT    04700
P0063   LEM FCS TEST   RCS JETSET TASK
R0064       THIS JOB ISSUES A PROFILE OF  JET ON-OFF SIGNALS AS DETERMINED BY TH
 0065  9E CONSTANTS IN A SET OF SIX REGISTERS.
R0066   THE SIX REGISTERS ARE, (1) NTIMES, THE NUMBER OF TIMES A PARTICULAR STEP
 0067  9 WILL BE PERFORMED. (2) NEXTTIME, THE
R0068   TIME BETWEEN STEPS, A MAXIMUM OF 2 MINUTES, (3) JETONTM, THE TIME TO TUR
 0069  9N THE JETS ON, SCALED FOR T3, (4) JET-
R0070   OFFTM, THE TIME AFTER ONTM TO TURN THE JETS OFF, (5) XJETS, THE PARTICUL
 0071  9AR X JETS TO BE TURNED ON AND OFF
R0072   DURING EACH REPEAT OF A STEP, AND (6) YZJETS,, THE Y AND Z JETS TO BE TU
 0073  9RNED ON AND OFF DURING EACH REPEAT OF A
R0074   STEP.  XJETS AND YZJETS MUST BE IN THE SAME FORMAT AS CHANNELS 5 AND6 RE
 0075  9SPECTIVELY.  THERE ARE EIGHT SETS OF
R0076   THESE SIX REGISTERS.
R0077       THE REGISTER JETSTEP IS USED TO INDEX THE 8 SETS OF REGISTERS, THE A
 0078  9LLOWABLE VALUES OF JETSTEP ARE +0 THRU 7
R0079  4    THIS JOB WILL BE ENTERED BUT IMMEDIATELY ENDED IF THE INITIAL VALUES
 0080  9 OF JETSTEP AND NTIMES ARE +0.
 0081   NEXTSET  CCS    JETSTEP         IT MAY BE ZERO.
 0082            TC     +2              NOPE
 0083            TC     TASKOVER        IT IS SO WE ARE DONE WITH THIS TASK.
 0084  2         TS     JETSTEP
 0085   JETSTART NDX    JETSTEP         ENTER HERE.
 0086            CCS    NTIMES          SEE IF THIS STEP IS FINISHED.
 0087            TC     +2              NO
 0088            TC     NEXTSET         YES
 0089            NDX    JETSTEP
 0090            CAE    NEXTTIME        MUST BE SCALED FOR T3.  REMEMBER TO BIAS
A0091                                   THIS FOR ON TIME.
 0092            TC     WAITLIST
 0093            EBANK= JETSTEP
 0094            2CADR  JTOP
 0095  2         TC     TASKOVER
 0096   JETOFF   CAF    ZERO
 0097            EXTEND
 0098            WRITE  5
 0099            EXTEND
 0100            WRITE  6
 0101            NDX    JETSTEP
 0102            CCS    NTIMES
 0103            NDX    JETSTEP
 0104            TS     NTIMES          ONE LESS TIME.
 0105   JTOP     NDX    JETSTEP
 0106            CCS    NTIMES          FOR LOOPING.
 0107            TC     +2
 0108            TC     NEXTSET
 0109            NDX    JETSTEP
 0110            CAE    JETONTM         SCALED FOR T3.  TIME FOR JETS ON.
 0111            TC     WAITLIST
 0112            EBANK= JETSTEP
 0113            2CADR  JETON
 0114  2         TC     TASKOVER
 0115   JETON    NDX    JETSTEP
 0116            CAE    XJETS           MUST BE IN CHANNEL 5 FORMAT.
 0117            TS     XJBUF
 0118            NDX    JETSTEP
 0119            CAE    YZJETS          MUST BE IN CHANNEL 6 FORMAT.
 0120            TS     YZJBUF
 0121   JFAILCK  EXTEND                 THIS ROUTINE EXAMINES EACH JETFAIL BIT
 0122            READ   32              AND IF A FAILURE IS INDICATED THE CORRES
 0123            COM                    PONDING COMMANDS ARE MASKED OUT .
 0124            TS     JFBUF           SAVE 32 REINVERTED.
 0125            CAF    SEVEN
 0126   JF3      TS     FCNTR
 0127            CAE    JFBUF
 0128            NDX    FCNTR
 0129            MASK   BIT8
 0130            CCS    A
 0131            TC     JFAIL
 0132   JFAIL1   CCS    FCNTR
 0133            TC     JF3
 0134            CAE    XJBUF
 0135            EXTEND
 0136            WRITE  5               XJETS GO ON.
 0137            CAE    YZJBUF
 0138            EXTEND
 0139            WRITE  6               YZJETS GO ON.
 0140            NDX    JETSTEP
 0141            CAE    JETOFFTM        JET OFF TIME SCALED FOR T3.
 0142            TC     WAITLIST
 0143            EBANK= JETSTEP
 0144            2CADR  JETOFF
 0145  2         TC     TASKOVER
 0146   JFAIL    NDX    FCNTR
 0147            CS     XJETMASK
 0148            MASK   XJBUF
 0149            TS     XJBUF
 0150            NDX    FCNTR
 0151            CS     YZJETMSK
 0152            MASK   YZJBUF
 0153            TS     YZJBUF
 0154            TC     ALARM
 0155            OCT    01410           TEMPORARY JET FAIL ALARM CODE.
 0156  8         TC     JFAIL1
 0157   YZJETMSK OCT    00010           JET 11
 0158            OCT    00020           JET 12
 0159            OCT    00004           JET 15
 0160            OCT    00200           JET 16
 0161            OCT    00001           JET 7
 0162            OCT    00002           JET 3
 0163            OCT    00040           JET 8
 0164  2         OCT    00100           JET 4
 0165   XJETMASK OCT    00040           JET 10
 0166            OCT    00020           JET 9
 0167            OCT    00100           JET 13
 0168            OCT    00200           JET 14
 0169            OCT    00010           JET 6
 0170            OCT    00001           JET 1
 0171            OCT    00004           JET 5
 0172            OCT    00002           JET 2
P0173   LEM FCS TEST  ENGINE ON - OFF TASK
R0174   THIS TASK TURNS THE LEM ASCENT OR DESCENT ENGINE ON AND OFF ACCORDING TO
 0175  9THE CONSTANTS STORED IN THE FIVE SETS OF
R0176   REGISTERS, (1) CYLTIMES, WHICH CONTAINS THE NUMBER OF TIMES A PARTICULAR
 0177  9STEP WILL BE REPEATED, (2) NEXTCYLT,
R0178    WHICH CONTAINS THE TIME BETWEEN STEPS SCALED FOR T3, (3) ONTIME, WHICH
 0179  9CONTAINS THE TIME TO TURN THE ENGINE ON
R0180   WHICH ALSO DETERMINES THE LENGTH OF TIME THE ENGIME WILL BE OFF WITHIN A
 0181  9 SERIES OF ON:OFF CYCLES, (4) OFFTIME,
R0182    WHICH CONTAINS THE NUMBER OF 2 MINUTES BEFORE THE ENGINE WILL BE TURNED
 0183  9 OFF, AND (5) OFFTIMER, WHICH
R0184   CONTAINS THE RESIDUAL TIME BEFORE THE ENGINE WILL BE TURNED OFF.  OFFTIM
 0185  9E AND OFFTIMER DETERMINE THE LENGTH
R0186   OF TIME THE ENGINE WILL BE ON IN ANY ONE CYCLE. THERE ARE THREE SETS OF
 0187  9THESE REGISTERS.
R0188       THE ENGSTEP REGISTER IS USED AS AN INDEX TO PICK UP A PARTICULAR SET
 0189  9  OF THE ABOVE 5 REGISTERS.  THIS TASK
R0190   WILL BE ENTERED BUT IMMEDIATELY ENDED IF ENGSTEP AND CYLTIMES = +0.
 0191  9THE ALLOWABLE VALUES OF ENGSTEP ARE +0,
R0192  41 AND 2.
 0193   NXTONOFF CCS    ENGSTEP
 0194            TC     +2
 0195            TC     TASKOVER        EXIT HERE WHEN STEP AND CYL ARE +0.
 0196  2         TS     ENGSTEP         ONE LESS.
 0197   ENGSTART NDX    ENGSTEP         ENTER HERE.
 0198            CCS    CYLTIMES        NUM OF EACH  ON/OFF SET
 0199            TC     +2
 0200            TC     NXTONOFF        NO MORE OF THIS SET
 0201            NDX    ENGSTEP
 0202            CAE    NEXTCYLT        START OF NEXT CYCLE.
 0203            TC     WAITLIST
 0204            EBANK= ENGSTEP
 0205            2CADR  ENGONTM
 0206  2         TC     TASKOVER
 0207   ENGRESET CS     PRIO30          BITS 13 AND 14.
 0208            EXTEND
 0209            RAND   11
 0210            AD     BIT14
 0211            EXTEND
 0212            WRITE  11              ENG ON = 0, ENG OFF = 1.
 0213            NDX    ENGSTEP
 0214            CCS    CYLTIMES
 0215            CCS    A
 0216            TC     +2
 0217            TC     NXTONOFF        WAS ONE.
 0218            AD     ONE             WAS MORE THAN ONE.
 0219            NDX    ENGSTEP
 0220  2         TS     CYLTIMES
 0221   ENGONTM  NDX    ENGSTEP
 0222            CAE    OFFTIME
 0223            TS     OFFTMBUF
 0224            NDX    ENGSTEP
 0225            CAE    ONTIME
 0226            TC     WAITLIST
 0227            EBANK= ENGSTEP
 0228            2CADR  ENGSET
 0229  2         TC     TASKOVER
 0230   ENGSET   CS     PRIO30
 0231            EXTEND
 0232            RAND   11
 0233            AD     BIT13
 0234            EXTEND
 0235            WRITE  11              ENG ON = 1, ENG OFF = 0.
 0236   ENGRST   CCS    OFFTMBUF
 0237            TC     LTIMEON         AT LEAST 2MIN. BEFORE ENGINE OFF.
 0238            NDX    ENGSTEP
 0239            CAE    OFFTIMER        LESS THAN 2MIN. TO ENGINE OFF.
 0240            TC     WAITLIST
 0241            EBANK= ENGSTEP
 0242            2CADR  ENGRESET
 0243  2         TC     TASKOVER
 0244   LTIMEON  CCS    OFFTMBUF        IS THERE ANY MORE.
 0245            TC     +2              YES.
 0246            TC     ENGRST          NO.
 0247            TS     OFFTMBUF        ONE LESS.
 0248            CAF    2MIN
 0249            TC     WAITLIST
 0250            EBANK= ENGSTEP
 0251            2CADR  LTIMEON
 0252  2         TC     TASKOVER
 0253   2MIN     DEC    12000
P0254   LEM FCS TEST  TRIM TASK
R0255   THIS PROGRAM ISSUES A PROFILE OF PITCH AND ROLL TRIM COMMANDS TO THE LEM
 0256  9 DESCENT ENGINE GIMBAL IN ACCORDANCEWITH
R0257   THE VALUE S IN THE TRIMSTEP REGISTER AND THE 12 SETS OF 5 REGISTERS CALL
 0258  9ED NUMTIMES, STEPDLYT, TRIMONT, TRIMOFFT
R0259   AND TRIMIND.  TRIMSTEP IS USED TO PICK UP A PARTICULAR SET OF THE 5 REGI
 0260  9STERS AND HAS ALLOWABLE VALUES FROM +0
R0261   THROUGH +11 DECIMAL.  THE 5 REGISTERS IN EACH SET ARE DEFINED AS FOLLOWS
R0262       (1) NUMTIMES DETERMINES THE NUMBER OF TIMES THE COMMAND IN TRIMIND
 0263  9WILL BE ISSUED.  VALUES FROM +0 TO
R0264   OCT 37777 ARE PERMITTED.
R0265       (2) STEPDLYT DETERMINES THE TIME BETWEEN THE START OF A STEP AND THE
 0266  9 BEGINNING OF TRIMONT.  STEPDLYT MUST BE
R0267   FORMATTED FOR T3, ITS MAXIMUM VALUE IS 2 MINUTES.
R0268       (3) TRIMONT DETERMINES THE TIME BETWEEN THE END OF STEPDLYT OR TRIMO
 0269  9FFT AND THE TIME THE TRIM COMMANDS ARE
R0270   ISSUED.  IT MUST BE FORMATTED FOR T3.
R0271       (4) TRIMOFFT DETERMINES THE LENGTH OF TIME THE TRIM COMMAND WILL BE
 0272  9ON, FORMATTED FOR T3.
R0273       (5) TRIMIND DETERMINES THE PITCH AND ROLL COMMAND TO BE ISSUED.  THE
 0274  9 FORMAT IS, BIT9=1=+ PITCH COMMAND,
R0275   BIT10=1=-PITCH, BIT11=1= +ROLL, BIT12=1= -ROLL.  A BIT=0 INDICATES NO CO
 0276  9MMAND.  ANY COMBINATION OF COMMANDS IS
R0277   PERMITTED.
R0278  4   THIS TASK WILL BE ENTERED BUT IMMEDIATELY ENDED IF TRIMSTEP AND NUMTI
 0279  9MES = +0.
 0280   NEXTTRIM CCS    TRIMSTEP
 0281            TC     +2
 0282            TC     TASKOVER        EXIT HERE.
 0283  2         TS     TRIMSTEP        LESS ONE.
 0284   TRIMTOP  NDX    TRIMSTEP        ENTER HERE.
 0285            CCS    NUMTIMES
 0286            TC     +2
 0287            TC     NEXTTRIM
 0288            NDX    TRIMSTEP
 0289            CAE    STEPDLYT
 0290            TC     WAITLIST
 0291            EBANK= TRIMSTEP
 0292            2CADR  TRIMSET
 0293  2         TC     TASKOVER
 0294   TRIMOFF  CS     TRIMMASK
 0295            EXTEND
 0296            WAND   12              TRIM GOES OFF.
 0297   NUMSTEP  NDX    TRIMSTEP
 0298            CCS    NUMTIMES
 0299            CCS    A
 0300            TC     +2
 0301            TC     NEXTTRIM        WAS ONE.
 0302            AD     ONE
 0303            NDX    TRIMSTEP
 0304            TS     NUMTIMES
 0305   TRIMSET  NDX    TRIMSTEP
 0306            CAE    TRIMONT
 0307            TC     WAITLIST
 0308            EBANK= TRIMSTEP
 0309            2CADR  TRIMON
 0310  2         TC     TASKOVER
 0311   TRIMON   CAF    BITS9,10        CHECK PITCH AND ROLL TRIM FAIL BITS.
 0312            EXTEND
 0313            RXOR   32
 0314            MASK   BITS9,10
 0315            EXTEND
 0316            BZF    TRIMON1
 0317            CAF    PRIO35          FAIL IS ON. FLASH FAIL CODE (01400) AND
 0318            TC     NOVAC           IDLE UNTIL SOMEONE RESETS IT, TERMINATES
 0319            EBANK= JETSTEP
 0320            2CADR  PERFORM         THE TASK, OR DECIDES TO PROCEED WITH IT.
 0321  2         TC     TASKOVER
 0322   TRIMON1  NDX    TRIMSTEP
 0323            CAE    TRIMIND
 0324            MASK   TRIMMASK        SAFETY PLAY
 0325            EXTEND
 0326            WOR    12              TRIM STARTS.
 0327            NDX    TRIMSTEP
 0328            CAE    TRIMOFFT
 0329            TC     WAITLIST
 0330            EBANK= TRIMSTEP
 0331            2CADR  TRIMOFF
 0332  2         TC     TASKOVER
 0333   PERFORM  TC     GRABWAIT        KEY RELEASE MAY COME ON.
 0334            CAF    TRIMCODE        01400
 0335            TS     DSPTEM1
 0336            CAF    V01N25K
 0337            TC     NVSBWAIT
 0338            CAF    V50K            PLEASE PERFORM.
 0339            TC     NVSBWAIT
 0340            TC     FLASHON         ANY RESPONSE TURNS IT OFF.
 0341            TC     ENDIDLE         WAIT FOR SOMEONE TO DO SOMETHING.
 0342            TC     EJFREE          V34E. TERMINATE THE TASK.
 0343            TC     TR1             V33E. PROCEED WITH THE FAIL ON.
 0344            INHINT                 ENTER. THE FAIL HAS BEEN RESET.
 0345            CAF    BIT2            20MS.
 0346            TC     WAITLIST
 0347            EBANK= JETSTEP
 0348            2CADR  TRIMON          CHECK AGAIN TO BE SURE. THEN PROCEED..
 0349  2         TC     EJFREE
 0350   TR1      INHINT                 PROCEED WITH THE FAIL.
 0351            CAF    BIT2            20MS.
 0352            TC     WAITLIST
 0353            EBANK= JETSTEP
 0354            2CADR  TRIMON1         BYPASS THE RECHECK.
 0355  2         TC     EJFREE
 0356   BITS9,10 OCT    01400
 0357   TRIMCODE EQUALS BITS9,10
 0358   TRIMMASK OCT    07400
 0359   V01N25K  OCT    00125
 0360   V50K     OCT    05000
P0361   LEM FCS TEST  THROTTLE TASK
R0362      THIS PROGRAM ISSUES A PROFILE OF THROTTLE COMMANDS TO THE LEM DESCENT
 0363  9 ENGINE.  THE PROFILE IS DETERMINED BY
R0364   THE VALUES IN THE THRTSTEP REGISTER AND THE 6  SETS OF REGISTERS, 5 PER
 0365  9SET, CALLED  DOTIMES, DELAY, THR1TIME,
R0366   THCOMM1 AND THCOMM2.  THE THRTSTEP REGISTER VALUE IS USED TO INDEX THE
 0367  96  SETS OF 5 REGISTERS AND HAS ALLOWABLE
R0368   VALUES OF +0 THROUGH +5.  THE 5 REGISTERS PER SET ARE DEFINED AS FOLLOWS
R0369       (1) DOTIMES DETERMINES THE NUMBER OF TIMES THE THROTTLE WILL BE EXER
 0370  9CISED AS PER THE VALUES OF THR1TIME,
R0371   THCOMM1 AND THCOMM2 OF THE CURRENT STEP.  IT HAS ALLOWABLE VALUES OF +0
 0372  9THROUGH 37777 OCT.
R0373       (2) DELAY DETERMINES THE TIME BETWEEN THE START OF A STEP AND THE BE
 0374  9 GINNING OF THR1TIME. ITIS CALLED ONLY
R0375   ONCE PER STEP,I.E., REPEATS OF THE SAME THCOMM1 AND THCOMM2 START AT THR
 0376  91TIME.  DELAY MUST BE FORMATTED FOR T3
R0377   AND HENCE HAS A MAXIMUM VALUE OF 2 MINUTES.
R0378       (3) THR1TIME DETERMINES THE TIME BETWEEN THE END OF DELAY OR THE END
 0379  9   OF THCOMM2 AND THE START OF
R0380   THCOMM1.  IT MUST BE FORMATTED FOR T3.
R0381       (4) THCOMM1 AND (5) THCOMM2 DETERMINE THE NUMBER OF THRUST INCREASE
 0382  9 OR DECREASE PULSES TOBE ISSUED AT A
R0383   3.2KPPS RATE.  THE RANGE OF POSSIBLE VALUES OF EITHER IS FROM POSMAX (OC
 0384  9T 37777) TO NEGMAX (OCT 40000) ALTHOUGH
R0385   THE ACTUAL THROTTLE RANGE IS FROM OCT 6116 TO OCT 71661 (+,- 3150 DEC).
R0386  4   THIS TASK WILL BE ENTERED BUT IMMEDIATELY ENDED IF THE INITIAL VALUES
 0387  9 OF THRTSTEP AND DOTIMES ARE +0.
 0388   NEXTTHRT CCS    THRTSTEP
 0389            TC     +2
 0390            TC     TASKOVER        EXIT HERE.
 0391  2         TS     THRTSTEP
 0392   THRSTART NDX    THRTSTEP        ENTER HERE.
 0393            CCS    DOTIMES         NUMBER OF TIMES COMMANDS 1 AND 2 DONE.
 0394            TC     +2
 0395            TC     NEXTTHRT
 0396            NDX    THRTSTEP
 0397            CAE    DELAY           TIME BETWEEN STEPS.  BIAS FOR THR1TIME.
A0398                                   MUST BE SCALED FOR T3.
 0399            TC     WAITLIST
 0400            EBANK= THRTSTEP
 0401            2CADR  THROTON1
 0402  2         TC     TASKOVER
 0403   THR2COMM NDX    THRTSTEP
 0404            CAE    THCOMM2         SAME REMARKS AS FOR THCOMM1.
 0405            TC     THROTON
 0406            AD     BIT1            10MS IN CASE OF NO THCOMM2.
 0407            TC     WAITLIST
 0408            EBANK= THRTSTEP
 0409            2CADR  CKDOTIME
 0410  2         TC     TASKOVER
 0411   CKDOTIME NDX    THRTSTEP
 0412            CCS    DOTIMES
 0413            CCS    A
 0414            TC     +2
 0415            TC     NEXTTHRT        WAS ONE.
 0416            AD     ONE
 0417            NDX    THRTSTEP
 0418            TS     DOTIMES
 0419   THROTON1 NDX    THRTSTEP
 0420            CAE    THR1TIME        TIME BETWEEN DOTIMES.  SCALED FOR T3.
 0421            TC     WAITLIST
 0422            EBANK= THRTSTEP
 0423            2CADR  THR1COMM
 0424  2         TC     TASKOVER
 0425   THR1COMM NDX    THRTSTEP
 0426            CAE    THCOMM1         SHOULD BE NO LARGER THAN 3150DEC.
 0427            TC     THROTON
 0428            AD     250MS           SO ACE CAN SAMPLE.
 0429            TC     WAITLIST
 0430            EBANK= THRTSTEP
 0431            2CADR  THR2COMM
 0432  2         TC     TASKOVER
 0433   THROTON  TS     THRUST          THROTTLE OUTPUT COUNTER.
 0434            TS     THBUF           SAVE FOR BZMF.
 0435            CAF    BIT4
 0436            EXTEND
 0437            WOR    14              ENABLE THRUST DRIVE.  COMMAND STARTS NOW
 0438            CAE    THBUF
 0439            EXTEND
 0440            BZMF   +2
 0441            COM
 0442            COM
 0443            EXTEND
 0444            MP     BIT10           SCALES FOR T3.
 0445  2         TC     Q
 0446   250MS    OCT    00031
P0447  2LEM FCS TEST  INTERFACE LOOK TASK.
R0448       THIS PROGRAM KEEPS A RUNNING HISTORY OF THE STATE OF ALL THE BITS IN
 0449  9 INPUT CHANNELS 30, 31, 32 AND 33.
R0450   IT DOES THIS BY DETECTING A CHANGE OF AN INPUT BIT FROM AN INITIAL ONE S
 0451  9TATE TO A ZERO STATE OR FROM AN INITIAL
R0452   ZERO TO A ONE.  THE HISTORY IS MAINTAINED IN TWO BUFFER REGISTERS FOR EA
 0453  9CH CHANNEL, ONE FOR STORING ONE TO ZERO
R0454   CHANGES (30BUF1, +1, +2, AND +3) AND ONE FOR ZERO TO ONE CHANGES (30BUF0
 0455  9, +1 +2 AND +3).  THE OPERATOR MUST
R0456   LOAD THE INITIAL STATES OF THE INPUT CHANNELS INTO THEIR RESPECTIVE BUFF
 0457  9ER REGISTERS BEFORE THIS PROGRAM IS IN-
R0458   ITIATED.
R0459       TO ALLOW THIS PROGRAM TO RUN C(QUITLOOK) MUST BE SET GREATER THAN +0
 0460  9 BEFORE IT IS STARTED.  IF THE OPERATOR
R0461   DOES NOT DESIRE THIS PROGRAM TO RUN HE SHOULD SET C(QUITLOOK)=+0 BEFORE
 0462  9STARTING THE FCS TEST.  AFTER THIS TASK
R0463   IS RUNNING THE OPERATOR CAN STOP IT BY SETTING C(QUITLOOK) = +0.
R0464       NO DISPLAYS OF EITHER THE BUFFER REGISTERS OR CHANNELS ARE INCORPORA
 0465  9TED INTO THIS PROGRAM.  THIS WAS DONE TO
R0466   ALLOW THE TEST OPERATOR MONITORING FLEXIBILITY.  FOR REAL TIME MONITORIN
 0467  9G IT IS SUGGESTED THAT THE BUFFER
R0468   REGISTERS BE DISPLAYED WITH THE MONITOR VERBS (11 THROUGH 15).  ON THE O
 0469  9THER HAND, THE OPERATOR MAY ELECT TO
R0470   PERFORM NO REAL TIME MONITORING UNTIL THE TEST IS COMPLETED, WHEN THE BU
 0471  9FFER REGISTERS WOULD BE CALLED FOR
R0472   DISPLAY (VERB 01) AND RECORDED.
R0473       THIS PROGRAM IS PRIMARILY INTENDED FOR INTERFACE MONITORING DURING T
 0474  9HE LEM VIBRATION TEST AT BETHPAGE, N.Y.,
R0475  2ALTHOUGH IT MAY ALSO BE USEFUL DURING VEHICAL LEVEL EMI TESTS.
 0476   LOOKTOP  CCS    QUITLOOK        IS THIS TASK WANTED.
 0477            TC     +2              YES.
 0478            TC     TASKOVER        NO.
 0479            CAF    THREE           START SCAN OF CHANNELS.
 0480   LOOKLOOP TS     CHCNTR          3, 2, 1, 0.
 0481            NDX    CHCNTR
 0482            CAE    30BUF1
 0483            EXTEND
 0484            NDX    CHCNTR
 0485            RAND   30              DETECTS CHANGES FROM 1 TO 0.
 0486            NDX    CHCNTR
 0487            XCH    30BUF1          STORE NEW ZEROS.
 0488            NDX    CHCNTR
 0489            CAE    30BUF0
 0490            EXTEND
 0491            NDX    CHCNTR
 0492            ROR    30              DETECTS CHANGES FROM 0 TO 1.
 0493            NDX    CHCNTR
 0494            XCH    30BUF0          STORE NEW ONES.
 0495            CCS    CHCNTR          IS THIS SCAN DONE.
 0496            TC     LOOKLOOP        NO.
 0497            CAF    TEN             YES.  100MS RECALL.
 0498            TC     WAITLIST
 0499            EBANK= QUITLOOK
 0500            2CADR  LOOKTOP
 0501            TC     TASKOVER
L      2IMU PERFORMANCE TESTS 1
 0001            BANK   14
 0002  4         EBANK= XSM
 0003   AOTNBIMU CAF    ONE             AOT-NB-IMU FINE ALIGNMENT TEST
 0004  2         TS     EROPTN          ... TEST CAPABILITY ...
 0005            TC     BANKCALL
 0006            CADR   IMUZERO         IMU ZERO ENCODER MODE
 0007            TC     INTPRET
 0008            CALL
 0009                   LATAZCHK        TO LOAD AZIMUTH (SM) AND LATITUDE
 0010            CALL
 0011                   MAKEXSMD        TO SET UP A STABLE MEMBER DESIRED MATRIX
 0012            SET    CALL
 0013                   COAROFIN        FOR COARSE OR FINE ALIGN MARKS
 0014                   ERTHRVSE        TO CALCULATE EARTH RATE VECTOR
 0015  2         EXIT
 0016   POSLOAD  CAF    V24N30E         R1  0000X ENTER    POSITION 1,2, OR 3
 0017            TC     NVSBWAIT        R2  00000 ENTER    00001 FOR LAB OPTION
 0018            TC     ENDIDLE
 0019            TCF    ENDTEST
 0020            TCF    -4
 0021            XCH    DSPTEM1         DO NOT USE POSITION 3 WITH NAV BASE AT
 0022  2         TS     POSITON            ZERO DEGREE TILT ANGLE. (GIMBAL LOCK)
 0023            CCS    DSPTEM1 +1
 0024  2         TCF    LEMLAB          SPECIAL LAB TEST TO BYPASS MARKS
 0025  2         TC     POSNJUMP        SET UP STABLE MEMBER DESIRED COORDINATES
 0026  2         TC     OPTDATA         TARGETS 1,2 AZIMUTH AND ELEVATION
 0027  2         TC     FINDNAVB        COARSE ALIGN MARKS
 0028            TC     BANKCALL
 0029            CADR   IMUSTALL        INSURE IMUZERO COMPLETION
 0030  2         TCF    ENDTEST
 0031  2         TC     PUTPOSX         TO COARSE ALIGN STABLE MEMBER
 0032            TC     GMLCKCHK        CHECK FOR GIMBAL LOCK BEFORE FINE ALIGN
 0033  2         TC     OGCZERO         FOR EARTH RATE COMPENSATION
 0034            TC     BANKCALL
 0035            CADR   IMUFINE         FINE ALIGN MODE
 0036            TC     BANKCALL
 0037            CADR   IMUSTALL
 0038  2         TCF    ENDTEST
 0039  2         TC     FINDNAVB        FINE ALIGN MARKS
 0040  2         TC     FREEDSP         FREE DISPLAY SYSTEM
 0041  2         TC     SMDCALC         TO FINE ALIGN STABLE MEMBER
 0042   ERFINAL  TC     BANKCALL        LAST EARTH RATE SHOT
 0043            CADR   EARTHR
 0044            CCS    EROPTN          IF DESIRED TO COMPENSATE CONTINUALLY
 0045            TCF    MONSTART            CHANGE BY V21 N02 E XXXXX E 00000 E
 0046            TCF    ERFINAL
 0047            TCF    ENDTEST
 0048            TS     EROPTN
 0049            INHINT
 0050            CAF    PRIO21          PRIORITY 1 HIGHER THAN SXTNBIMU
 0051            TC     FINDVAC
 00515           EBANK= XSM
 0052            2CADR  RDR37511
 0053            RELINT
 0054  2         TC     ERFINAL
 0055   MONSTART TC     FINETIME        TIME AT INITIAL MISALIGNMENT
 0056            DXCH   MPAC
 0057            RELINT
 0058            CAF    ZERO            ZERO PIPA COUNTERS
 0059            TS     PIPAX
 0060            TS     PIPAY
 0061            TS     PIPAZ
 0062            TS     STOREPL
 0063            TS     NDXCTR
 0064  2         TC     STORRSLT        STORE T(INITIAL) AND PIPAI = 0
 0065            INHINT
 0066            CAF    60SEC           INSURE PIPAI VARIES IN ONE DIRECTION
 0067            TC     WAITLIST
 00675           EBANK= XSM
 0068            2CADR  PIP1
 0069            CAF    PIP2ADR
 0070  2         TC     JOBSLEEP
 0071   PIP1     CAF    PIP2ADR
 0072            TC     JOBWAKE
 0073  2         TC     TASKOVER
 0074   PIP2     CAE    PIPNDX
 0075            TS     PIPINDEX        POS1 PIPAY     POS2 PIPAX     POS3 PIPAX
 0076            TC     BANKCALL
 0077  2         CADR   DOCHECKG        SYNC ON PIPA PULSE
 0078            RELINT
 0079  2         TC     STORRSLT        STORE TIME AND PIPAI
 0080            CAE    PIPNDX +1
 0081            TS     PIPINDEX        POS1 PIPAZ     POS2 PIPAY     POS3 PIPAZ
 0082            TC     BANKCALL
 0083  2         CADR   DOCHECKG        SYNC ON PIPA PULSE
 0084            RELINT
 0085  2         TC     STORRSLT        STORE TIME AND PIPAI
 0086            INHINT
 0087            CAF    30SEC           MONITOR PIPAS AT 30 SECOND INTERVALS
 0088            TC     WAITLIST
 00885           EBANK= XSM
 0089            2CADR  PIP1
 0090            CAF    PIP2ADR
 0091            TC     JOBSLEEP
 0092  8PIP2ADR  CADR   PIP2
 0093   FINDNAVB EXTEND                 MARKS * CALC NB OR SM WRT EARTH REF
 0094  2         QXCH   QPLACE
 0100            TC     BANKCALL
 0101            CADR   MKRELEAS        RELEASE MARK SYSTEM
 0102            CAF    ONE
 0103            TS     DSPTEM1
 0104            CAF    V01N30E         DISPLAY 00001 IN R1
 0105            TC     NVSBWAIT
 0106            CAF    ZERO            TO INDICATE GROUND MARKS
 0107            TC     BANKCALL
 0108  2         CADR   AOTMARK         MARK ON TARGET 1
 0109            TC     BANKCALL
 0110            CADR   OPTSTALL        INSURE SUCCESSFUL MARK
 0111            TCF    ENDTEST
 0112            EXTEND
 0113            INDEX  MARKSTAT
 0114            DCA    0
 0115  2         DXCH   TMARK           TIME(PRES) FOR EARTH RATE COMPENSATION
 0116  2         TC     GIMANGS1
 0117            TC     INTPRET
 0118            LXC,1  CALL
 0119                   MARKSTAT        BASE ADDRESS VAC AREA FOR AOTNB
 0120                   AOTNB           OPTICS TO NAV BASE COORDINATE FRAME
 0121            BON    CALL
 0122                   COAROFIN        COARSE MARKS = 0    FINE MARKS = 1
 0123                   +2
 0124                   NBSM            NAV BASE DIRECT TO STABLE MEMBER
 0125            STORE  STARAD          TARGET 1 WRT NAV BASE OR STABLE MEMBER
 0126            STORE  LOS1            ...FOR K...
 0127  2         EXIT
 0128            TC     BANKCALL
 0129            CADR   MKRELEAS        RELEASE MARK SYSTEM
 0130            CAF    TWO
 0131            TS     DSPTEM1
 0132            CAF    V01N30E         DISPLAY 00002 IN R1
 0133            TC     NVSBWAIT
 0134            CAF    ZERO            TO INDICATE GROUND MARKS
 0135            TC     BANKCALL
 0136  2         CADR   AOTMARK         MARK ON TARGET 2
 0137            CAF    BIT10
 0138            MASK   STATE           BIT10 = COAROFIN
 0139            CCS    A
 0140  8         TCF    EARRTCOM +5     IF COARSE ALIGN MARKS
 0141   EARRTCOM TC     BANKCALL        EARTH RATE COMPENSATION BETWEEN MARKS
 0142            CADR   EARTHR
 0143            CCS    OPTCADR         +0 IF MARK BUTTON NOT DEPRESSED
 0144            TCF    +3
 0145            TCF    EARRTCOM        CONTINUE TO COMPENSATE FOR EARTH RATE
 0146            TCF    +1
 0147            TC     BANKCALL
 0148            CADR   OPTSTALL        INSURE SUCCESSFUL MARK
 0149  2         TCF    ENDTEST
 0150  2         TC     GIMANGS1
 0151            TC     INTPRET
 0152            LXC,1  CALL
 0153                   MARKSTAT        BASE ADDRESS VAC AREA FOR AOTNB
 0154                   AOTNB           OPTICS TO NAV BASE COORDINATE FRAME
 0155            BONCLR CALL            SET TO ZERO FOR FINE ALIGN MARKS
 0156                   COAROFIN        COARSE MARKS = 0    FINE MARKS = 1
 0157                   +2
 0158                   NBSM            NAV BASE DIRECT TO STABLE MEMBER
 0159            STORE  STARAD +6       TARGET 2 WRT NAV BASE OR STABLE MEMBER
 0160  2         STORE  LOS2            ...FOR K...
 0161   MATXDET  CALL
 0162                   TAR/EREF        TARGETS 1,2 WRT EARTH REF FRAME
 0163            CALL
 0164                   AXISGEN         NAV BASE OR SM WRT EARTH REF FRAME
 0165            EXIT
 0166  4         TC     QPLACE
 0167   GIMANGS1 CAF    TWO             BASE ADDRESS GIMBAL ANGLES FOR NBSM
 0168            AD     MARKSTAT
 0169            INDEX  FIXLOC
 0170            TS     S1
 0171  8         TC     Q
 0172   PUTPOSX  EXTEND                 COARSE ALIGNS STABLE MEMBER
 0173  2         QXCH   QPLACE
 0174            TC     INTPRET
 0175            CALL
 0176                   CALCGA          CALCULATE COARSE ALIGN GIMBAL ANGLES
 0177  2         EXIT
 0178            TC     BANKCALL
 0179            CADR   IMUCOARS        COARSE ALIGN MODE
 0180            TC     BANKCALL
 0181            CADR   IMUSTALL
 0182            TCF    ENDTEST
 0183  6         TC     QPLACE
 0184   SMDCALC  EXTEND                 FINE ALIGNS STABLE MEMBER
 0185  2         QXCH   QPLACE
 0186            TC     INTPRET
 0187            VLOAD  MXV
 0188                   XSM             XSM DESIRED WRT EARTH REF FRAME
 0189                   STARAD          THEN TO SM PRESENT OR NAV BASE FRAME
 0190            VSL1   BOFF
 0191                   COAROFIN        BIT10 FOR LEMLAB TEST
 0192                   +3
 0193            STCALL 32D
 0194                   NBSM            THEN TO SM PRESENT FRAME
 0195            STOVL  XDC
 0196  2                YSM             YSM DESIRED WRT EARTH REF FRAME
 0197            MXV    VSL1
 0198                   STARAD          THEN TO SM PRESENT OR NAV BASE FRAME
 0199            BOFF
 0200                   COAROFIN        BIT10 FOR LEMLAB TEST
 0201                   +3
 0202            STCALL 32D
 0203                   NBSM            THEN TO SM PRESENT FRAME
 0204            STOVL  YDC
 0205  2                XDC
 0206            VXV    VSL1
 0207                   YDC
 0208            STCALL ZDC             ZSM DESIRED WRT SM PRESENT FRAME
 0209  2                CALCGTA         CALCULATE FINE ALIGN TORQUING ANGLES
 0210            AXT,1  RTB
 0211            ECADR  OGC             X1 = BASE ADDRESS OF TORQUING ANGLES
 0212                   PULSEIMU        TO PUT OUT GYRO TORQUING PULSES
 0213  2         EXIT
 0214            TC     BANKCALL
 0215            CADR   IMUSTALL        WAIT FOR PULSES TO GET OUT
 0216            TCF    ENDTEST
 0217  8         TC     QPLACE
 0218  2MAKEXSMD EXIT                   XSM V   YSM SW   ZSM SE
 0219            CAF    17DEC           ZERO XSM, YSM, AND ZSM
 0220            TS     ZERONDX
 0221            CAF    XSMADRX
 0222            TC     BANKCALL
 0223  2         CADR   ZEROING                 VERT       SOUTH      EAST
 0224            CAF    HALF            XSM    * +1          0          0     *
 0225            TS     XSM                    *                              *
 0226            TC     INTPRET                *                              *
 0227            DLOAD  SIN             YSM    *  0      +SIN(AZ)    +COS(AZ) *
 0228                   AZIMUTH                *                              *
 0229            STORE  XSM +8D                *                              *
 0230            STODL  XSM +16D        ZSM    *  0      -COS(AZ)    +SIN(AZ) *
 0231                   AZIMUTH
 0232            COS
 0233            STORE  XSM +10D
 0234            DCOMP
 0235            STORE  XSM +14D
 0236  4         RVQ
 0237   TAR/EREF AXT,1  AXT,2                        TARGET VECTOR
 0238                   2               SIN(EL)  -COS(AZ)COS(EL)  SIN(AZ)COS(EL)
 0239                   12D
 0240            SSP
 0241                   S2
 0242  2                6               TARGET 1                        TARGET 2
 0243   TAR1     SLOAD* SR2             X1=2  X2=12  S2=6 . X1=0  X2=6  S2=6
 0244                   TAZEL1 +3,1
 0245            STORE  0               PD00           ELEVATION            PD00
 0246            SIN
 0247            STORE  18D,2           PD06  ***       SIN(EL)        ***  PD12
 02471           DLOAD
 0248                   0
 0249            COS    PUSH            PD00            COS(EL)             PD00
 0250            SLOAD* RTB
 0251                   TAZEL1 +2,1
 0252                   CDULOGIC
 0253            STORE  2               PD02            AZIMUTH             PD02
 0254            SIN    DMP
 0255                   0
 0256            SL1
 0257            STORE  22D,2           PD10  ***   +SIN(AZ)COS(EL)    ***  PD16
 02571           DLOAD
 0258                   2
 0259            COS    DMP
 0260            SL1    DCOMP
 0261  2         STORE  20D,2           PD08  ***   -COS(AZ)COS(EL)    ***  PD14
 0262            AXT,1  TIX,2
 0263                   0
 0264                   TAR1
 0265  8         RVQ
 0266   ERTHRVSE DLOAD  PDDL
 0267                   ZERODP          PD24 = (SIN  -COS  0)(OMEG/MS)
 0268                   LATITUDE
 0269            COS    DCOMP
 0270            PDDL   SIN
 0271                   LATITUDE        EARTH RATE = .1504 ARCSEC / 10 MSEC
 0272            VDEF   VXSC            1.618 GYRO PULSES = 1 ARCSEC
 0273                   OMEG/MS         OMEG/MS = .243... GYRO PULSES / 10 MSEC
 0274  2         STORE  ERVECTOR
 0275            RTB
 0276                   LOADTIME
 0277            STORE  TMARK           TIME FOR GYRO DRIFT - PIPA SCALE FACTOR
 0278  6         RVQ
 0279   EARTHR   TC     MAKECADR        CALCULATES AND COMPENSATES EARTH RATE
 0280  2         TS     QPLACES
 02810           TC     CHECKMM         TEST FOR MAJOR MODE 4
 02813           OCT    4               IS PRELAUNCH OVER ?
 02815           TCF    GETPLTIM        NO
 02817           INHINT                 YES,
 02820           CA     BIT1            SET UP MP2TASK NOW
 02823           TC     WAITLIST
 02825           EBANK= TGRR
 02827           2CADR  MP2TASK
 02828           CA     3.27CADR        SET UP RETURN TO BYPASS PRELAUNCH
 02829 2         TS     QPLACES
 02830  GETPLTIM EXTEND                 GET CURRENT TIME
 02833           DCA    TIME2
 02835           DXCH   MPAC
 028351          EXTEND
 028352          DCA    MPAC
 02836           DXCH   TEMPTIME        STORE IN TEMPTIME BEFORE RELINT
 02837 2         RELINT
 028374          CAF    ZERO            DECLARE DP MODE.
 028376          TS     MODE
 02838           TC     INTPRET
 0285            DSU    SL
 0286                   TMARK           T(PRES) - T(PREV) = DT    SCALED 10 MSEC
 0287                   9D              2 TO 21ST POWER = 1 REVOLUTION
 0288            VXSC   MXV
 0289                   ERVECTOR        VT = (SIN  -COS  0)(OMEG/MS)(DT)
 0290                   XSM             (XSM)(VT) = EARTH RATE COMPENSATION
 0291            VAD
 0292                   ERCOMP
 0293            STODL  ERCOMP
 0294                   TEMPTIME
 0295  2         STORE  TMARK           T(PREVIOUS)
 0296            AXT,1  RTB
 0297            ECADR  ERCOMP
 0298                   PULSEIMU        TO PUT OUT GYRO TORQUING PULSES
 0299  2         EXIT
 0300            TC     BANKCALL
 0301            CADR   IMUSTALL        WAIT FOR PULSES TO GET OUT
 0302            TCF    ENDTEST
 0303            CAE    QPLACES
 0304  2         TCF    BANKJUMP
 03045 43.27CADR CADR   REDO3.27
 0305   STORRSLT EXTEND
 0306  2         QXCH   QPLACE
 0307            TC     INTPRET         DP TIME IN MPAC SCALED .312(5) MSEC
 0308            LXC,1  SL
 0309                   NDXCTR
 0310                   3
 0311            DMP    RTB
 0312                   SCALFTR
 0313                   SGNAGREE
 0314            STORE  GENPL,1         STORE DP TIME
 0315  2         EXIT
 0316            XCH    STOREPL         CONTAINS C(PIPAI)
 0317            INDEX  NDXCTR
 0318            TS     GENPL +2        STORE PIPA COUNTER READING
 0319            CS     NDXCTR
 0320            AD     72DEC
 0321            EXTEND
 0322            BZMF   MISALIGN        TO CALCULATE MISALIGNMENT
 0323            CAF    THREE
 0324            ADS    NDXCTR
 0325  2         TC     QPLACE
 0326   OPTDATA  EXTEND                 CALLS FOR AZIMUTH AND ELEVATION OF
 0327  2         QXCH   QPLACE             TARGET 1, THEN TARGET 2
 0328            CAF    BIT1            AZIMUTH CLOCKWISE FROM NORTH TO TARGET
 0329            ZL                     ELEVATION MEASURED FROM HORIZONTAL
 0330            LXCH   RUN
 0331            TS     DSPTEM1 +2
 0332            CAF    V05N30E         DISPLAY TARGET NUMBER IN R3
 0333            TC     NVSBWAIT
 0334            INDEX  RUN
 0335            DXCH   TAZEL1
 0336  2         DXCH   DSPTEM1
 0337            TC     CHECKLD         R1  +- XXX.XX    AZIMUTH IN DEGREES
 0338            OCT    00661           R2  +- XX.XXX    ELEVATION IN DEGREES
 0339  2         TCF    ENDTEST         R3      0000X    TARGET NUMBER 1 OR 2
 0340            DXCH   DSPTEM1         TAZEL1       TARGET 1 AZIMUTH
 0341            INDEX  RUN
 0342            DXCH   TAZEL1          TAZEL1 +2    TARGET 2 AZIMUTH
 0343            CCS    RUN
 0344            TCF    +4
 0345   OPTRDRIN CAF    TWO             SPECIAL ENTRY FOR RDR37511
 0346            TS     L
 0347            TCF    OPTDATA +4      MPAC    1ST PASS = 0    2ND PASS = 2
 0348  8         TC     QPLACE
 0349   LATAZCHK DLOAD  SL2             CALLS FOR AZIMUTH (SM) AND LATITUDE
 0350                   LATITUDE
 0351            STODL  DSPTEM1 +1
 0352  2                AZIMUTH         ...NOT REALLY...
 0353            RTB    EXIT
 0354  2                1STO2S          FRACTION OF REVOLUTION TO 2S COMPLEMENT
 0355            XCH    MPAC            AZIMUTH MUST BE 135 DEGREES  R1 = +13500
 0356            TS     DSPTEM1            FOR SXT-NB-IMU FINE ALIGNMENT TEST
 0357            TC     CHECKLD         R1  +- XXX.XX    AZIMUTH IN DEGREES (SM)
 0358            OCT    00661           R2  +- XX.XXX    LATITUDE IN DEGREES
 0359  2         TCF    ENDTEST         R3               NOT USED
 0360            TC     INTPRET
 0361            SLOAD  RTB
 0362                   DSPTEM1
 0363                   CDULOGIC        BACK TO FRACTION OF REVOLUTION
 0364  2         STORE  AZIMUTH
 0365            SLOAD  SR2
 0366                   DSPTEM1 +1
 0367            STORE  LATITUDE
 0368  4         RVQ
 0369   CHECKLD  EXTEND
 0370  2         QXCH   QPLAC
 0371            INDEX  QPLAC
 0372            CA     A
 0373            TC     NVSUB
 0374  2         TCF    CHECKLD1
 0375  2         TC     FLASHON
 0376            TC     ENDIDLE         CHANGE R1  V21 N61 E  +- XXX.XX E
 0377            TCF    +3              CHANGE R2  V22 N61 E  +- XX.XXX E
 0378            TCF    +4              VERIFY, THEN PROCEED WITH VERB 33 ENTER
 0379            TCF    CHECKLD +2
 0380            INDEX  QPLAC
 0381            TC     1
 0382            INDEX  QPLAC
 0383  2         TC     2
 0384   CHECKLD1 CAF    CHECKLD2
 0385            TC     NVSUBUSY
 0386  8CHECKLD2 CADR   CHECKLD +2
 0387   POSNJUMP EXTEND                 POSITIONS FOR SXTNBIMU
 0388  2         QXCH   QPLACE
 0389            INDEX  POSITON
 0390            TCF    +1
 0391            TCF    ENDTEST
 0392            TCF    POS1
 0393            TCF    POS2
 0394            TCF    POS3
 0395            TCF    POS4
 0396  4         TCF    POS5
 0397   POS1     CAF    ONE             XSM = V     YSM = SW    ZSM = SE
 0398            TS     PIPNDX
 0399            CAF    TWO
 0400            TS     PIPNDX +1       MONITOR PIPAY AND PIPAZ
 0401  4         TC     QPLACE
 0402   POS2     TC     INTPRET         XSM = SE    YSM = SW    ZSM = -V
 0403            VLOAD  VCOMP
 0404                   XSM
 0405            PDVL
 0406                   ZSM
 0407            STOVL  XSM
 0408            STADR
 0409            STORE  ZSM
 0410            EXIT
 0411            CAF    ZERO
 0412            TS     PIPNDX
 0413            CAF    ONE
 0414            TS     PIPNDX +1       MONITOR PIPAX AND PIPAY
 0415  4         TC     QPLACE
 0416   POS3     TC     INTPRET         XSM = SE    YSM = V     ZSM = SW
 0417            VLOAD  PDVL
 0418                   XSM
 0419                   YSM
 0420            PDVL
 0421                   ZSM
 0422  2         STOVL  XSM
 0423            STADR
 0424  2         STOVL  ZSM
 0425            STADR
 0426            STORE  YSM
 0427            EXIT
 0428            CAF    ZERO
 0429            TS     PIPNDX
 0430            CAF    TWO
 0431            TS     PIPNDX +1       MONITOR PIPAX AND PIPAZ
 0432  4         TC     QPLACE
 0433   POS4     CAF    BIT5            OPTION TO ALIGN SM TO SPECIFIED ANGLES
 0434            AD     FIXLOC
 0435            INDEX  FIXLOC
 0436            TS     S1              BASE ADDRESS GIMBAL ANGLES
 0437            CAF    V25N22E         R1  +- XXX.XX   OUTER GIMBAL ANGLE
 0438            TC     NVSBWAIT        R2  +- XXX.XX   INNER GIMBAL ANGLE
 0439            TC     ENDIDLE         R3  +- XXX.XX   MIDDLE GIMBAL ANGLE
 0440            TCF    ENDTEST
 0441            TCF    -4
 0442            CA     THETAD          SET UP ANGLES FOR SMNB
 0443            INDEX  FIXLOC
 0444            TS     24
 0445            CA     THETAD +1
 0446            INDEX  FIXLOC
 0447            TS     20
 0448            CA     THETAD +2
 0449            INDEX  FIXLOC
 0450  2         TS     22
 0451            TC     INTPRET
 0452            RTB    CALL
 0453                   TRANSPSE        EARTH REF WRT NAV BASE
 0454                   SMD/EREF        STABLE MEMBER DESIRED WRT EARTH REF
 0455            RTB
 0456                   TRANSPSE        BACK TO NAV BASE WRT TO EARTH REF
 0457            EXIT
 0458  8         TC     QPLACE
 0459   POS5     CA     QPLACE          OPTION TO ALIGN SM TO ANY ORIENTATION
 0460  2         TS     STOREPL           WRT EARTH REFERENCE FRAME
 0461  2         TC     OPTDATA         LOAD YSM AND ZSM AZIMUTH AND ELEVATION
 0462            TC     INTPRET
 0463            CALL
 0464                   TAR/EREF        CALC YSM AND ZSM WRT EARTH REF. FRAME
 0465            VLOAD  PUSH
 0466                   6D
 0467            STORE  YSM
 0468            VXV    VSL1
 0469                   12D
 0470            STORE  XSM             XSM = (YSM) X (ZSM)
 0471            VXV    VSL1
 0472            STADR
 0473            STORE  ZSM             ZSM = (XSM) X (YSM)
 0474  2         EXIT
 0475  8         TC     STOREPL
 0476   OGCZERO  EXTEND                 ZERO EARTH RATE TORQUING ANGLES
 0477  2         QXCH   QPLACE
 0478            TC     INTPRET
 0479            VLOAD
 0480                   ZERODP          VECTOR IN THIS CASE
 0481            STORE  ERCOMP
 0482            EXIT
 0483  6         TC     QPLACE
 0484   GMLCKCHK CAF    BIT6            CHECK FOR GIMBAL LOCK  (MGA GREATER 70)
 0485            MASK   DSPTAB +11D
 0486            EXTEND
 0487            BZF    +2
 0488            TCF    ENDTEST
 0489  6         TC     Q
 0490   ENDTEST  CA     IMUSEFLG        BIT8
 0491            AD     RRUSEFLG        BIT7
 0492            CS     A
 0493            INHINT
 0494            MASK   STATE
 0495  2         TS     STATE
 0496            TC     NEWMODEX
 0497  2         OCT    00000
 0498            TC     BANKCALL
 0499            CADR   MKRELEAS        RELEASE MARK SYSTEM
 0500  8         TC     EJFREE
 0501   LEMLAB   TC     INTPRET
 0502            VLOAD  VCOMP
 0503  2                YUNIT
 0504            STORE  ZNB             XNB MATRIX USED IN CALCGA
 0505            STOVL  STARAD +12D     STARAD MATRIX USED IN AXISGEN * SMDCALC
 0506  2                XUNIT
 0507            STORE  XNB             *XNB*   *1    0    0* *V*
 0508            STOVL  STARAD          *   *   *           * * *
 0509                   ZUNIT           *YNB* = *0    0    1* *S*
 0510            STORE  YNB             *   *   *           * * *
 0511            STORE  STARAD +6       *ZNB*   *0   -1    0* *E*
 0512  2         EXIT
 0513            CS     POSITON
 0514            AD     THREE
 0515            EXTEND
 0516            BZF    +2
 0517  2         TCF    LEMLAB1
 0518            TC     INTPRET
 0519            VLOAD  VCOMP
 0520                   XNB
 0521            PDVL                   *XNB*   * 0   -1    0* *V*
 0522                   ZNB             *   *   *            * * *
 0523            STORE  XNB             *YNB* = * 0    0    1* *S*
 0524            STOVL  STARAD          *   *   *            * * *
 0525            STADR                  *ZNB*   *-1    0    0* * *
 0526            STORE  ZNB
 0527            STORE  STARAD +12D
 0528  2         EXIT
 0529   LEMLAB1  TC     BANKCALL
 0530  2         CADR   IMUSTALL        INSURE IMUZERO COMPLETION
 0531  2         TCF    ENDTEST
 0532            TC     POSNJUMP        SET UP STABLE MEMBER DESIRED COORDINATES
 0533            TC     FREEDSP         FREE DISPLAY SYSTEM
 0534  2         TC     PUTPOSX         TO COARSE ALIGN STABLE MEMBER
 0535  2         TC     GMLCKCHK
 0536            TC     BANKCALL
 0537            CADR   IMUFINE         FINE ALIGN MODE
 0538            TC     BANKCALL
 0539            CADR   IMUSTALL
 0540  2         TCF    ENDTEST
 0541            CA     CDUX
 0542            INDEX  FIXLOC
 0543            TS     24
 0544            CA     CDUY
 0545            INDEX  FIXLOC
 0546            TS     20
 0547            CA     CDUZ
 0548            INDEX  FIXLOC
 0549  2         TS     22
 0550            CAF    BIT5
 0551            AD     FIXLOC
 0552            INDEX  FIXLOC
 0553  2         TS     S1
 0554  2         TC     SMDCALC         TO FINE ALIGN STABLE MEMBER
 0555            TC     INTPRET         IF EARTH RATE COMPENSATION DESIRED
 0556            RTB
 0557                   LOADTIME
 0558            STORE  TMARK
 0559  2         EXIT
 0560            CS     EROPTN
 0561            AD     TWO
 0562            EXTEND
 0563  2         BZF    +2
 0564  2         TCF    ERFINAL +2
 0565            TC     BANKCALL
 0566  8         CADR   SAMODRTN        RETURN TO SEMI-AUTOMATIC MODING TEST
 0567   RDR37511 CAF    RDRRETN         RENDEZVOUS RADAR AND ANTENNA TRACKING
 0568  2         TS     QPLACE          TO RETURN FROM OPTDATA
 0569            TC     BANKCALL
 0570  2         CADR   RRZERO
 0571            TC     BANKCALL
 0572  2         CADR   AURLOKON        OPERATOR DECISION TO LOCK ON OR NOT
 0573  2RDR1     TCF    OPTRDRIN        CALL FOR AZIMUTH AND ELEVATION
 0574            TC     BANKCALL
 0575            CADR   RADSTALL
 0576  2         TCF    ENDOFJOB
 0577            TC     INTPRET
 0578            AXT,1  AXT,2           SET UP X1 AND X2 FOR TAR/EREF
 0579                   0
 0580                   6
 0581            CALL
 0582                   TAR/EREF +3     LINE-OF-SIGHT WRT EARTH REF FRAME
 0583            VLOAD  MXV
 0584                   12D             LINE-OF-SIGHT WRT EARTH REF FRAME
 0585                   XSM             TO STABLE MEMBER PRESENT FRAME
 0586            VSL1
 0587            STCALL RRTARGET
 0588  2                RRDESSM
 0589            TCF    37511ALM
 0590            TC     BANKCALL
 0591            CADR   RADSTALL
 0592            TCF    ENDOFJOB
 0593  6         TCF    ENDOFJOB
 0594   37511ALM TC     ALARM
 0595            OCT    524
 0596  6         TCF    ENDOFJOB
 0597   RDRINIT  CS     ZERO
 0598            TS     EROPTN
 0599  8         TCF    AOTNBIMU +2
 0600   MISALIGN TC     GRABWAIT        DISPLAY SYSTEM WAS FREED
 0601            CAF    ZERO
 0602            TS     NDXCTR
 0603   BBBB     INDEX  NDXCTR
 0604            CS     GENPL +68D
 0605            INDEX  NDXCTR
 0606            ADS    GENPL +74D
 0607            CAF    63DEC
 0608            AD     NDXCTR
 0609            CCS    A
 0610            CS     THREE
 0611            ADS    NDXCTR
 0612            TCF    BBBB
 0613  4         TS     NDXCTR
 0614   CCCC     TC     INTPRET
 0615            LXA,1  DLOAD*
 0616                   NDXCTR
 0617                   GENPL +72D,1
 0618            DSU
 0619                   GENPL
 0620            STORE  GENPL +72D,1
 0621            EXIT
 0622            CS     NDXCTR
 0623            AD     69DEC
 0624            CCS    A
 0625            CAF    THREE
 0626            ADS    NDXCTR
 0627            TCF    CCCC
 0628            TS     RUN
 0629            CAF    THREE
 0630  4         TS     NDXCTR
 0631   DDDD     TC     INTPRET
 0632            VLOAD
 0633                   ZERODP
 0634            STORE  24D
 0635            STORE  30D
 0636            SLOAD
 0637                   11DEC
 0638            STORE  32D
 0639  2         EXIT
 0640   DDDD1    TC     INTPRET
 0641            LXA,1  DLOAD*
 0642                   NDXCTR
 0643                   GENPL +72D,1
 0644            DSU*   PUSH
 0645                   GENPL +66D,1
 0646            SR1    DAD*
 0647                   GENPL +66D,1
 0648  2         STORE  GENPL +72D,1
 0649            SL2    DAD
 0650                   24D
 0651            STODL* 24D
 0652                   GENPL +72D,1
 0653            SL4    DSQ
 0654            DAD
 0655                   26D
 0656            STORE  26D
 0657            EXIT
 0658            CAE    RUN
 0659            AD     NDXCTR
 0660            COM
 0661            AD     63DEC
 0662            CCS    A
 0663            CAF    SIX
 0664            ADS    NDXCTR
 0665            TCF    DDDD1
 0666            AD     RUN
 0667  4         TS     NDXCTR
 0668   EEEE     TC     INTPRET
 0669            LXC,1  SLOAD*
 0670                   NDXCTR
 0671                   GENPL +11D,1
 0672            STORE  34D
 0673            DLOAD
 0674            PUSH   SL
 0675                   8D
 0676            BDDV   DAD
 0677                   34D
 0678                   28D
 0679            STODL  28D
 0680            SL     BDDV
 0681                   6
 0682                   34D
 0683            PDDL*  SL4
 0684                   GENPL +9D,1
 0685            DMP
 0686            DAD
 0687                   30D
 0688            STORE  30D
 0689            EXIT
 0690            CS     NDXCTR
 0691            AD     60DEC
 0692            AD     RUN
 0693            CCS    A
 0694            CAF    SIX
 0695            ADS    NDXCTR
 0696  4         TCF    EEEE
 0697            TC     INTPRET
 0698            DLOAD  DMP
 0699                   24D
 0700                   30D
 0701            PDDL   DMP
 0702                   26D
 0703                   28D
 0704            DSU
 0705            PDDL   DSQ
 0706                   24D
 0707            SR1    PDDL
 0708                   32D
 0709            SL     DMP
 0710                   11
 0711                   26D
 0712            DSU    BDDV
 0713            DMP    SL
 0714                   KKKK
 0715                   3
 0716            STORE  DSPTEM2
 0717  2         EXIT
 0718            CA     POSITON
 0719  2         TS     DSPTEM2 +2
 0720            CAF    V06N66E
 0721            TC     NVSBWAIT
 0722            TC     FLASHON
 0723            TC     ENDIDLE
 0724            TCF    ENDTEST
 0725            CAF    THREE
 0726            TS     RUN
 0727            CAF    ZERO
 0728  8         TCF    DDDD -1
R0729   THIS REVISION REFLECTS CHANGES AS OF
R0730    1/31/66
R0731   ENGINE ON/OFF NOW IN CHANNEL ELEVEN.  THE BITS FOR EACH CHANNEL GET TURN
 0732  9ED ON ALL AT ONCE.  THEY STAY ON UNTIL
R0733    :ENTER:IS PUSHED.  THEN THEY ALL GO OUT AND THE NEXT CHANNEL:S BITS ARE
 0734  9 TURNED ON.
R0735   CHANNEL 5  BITS 1-8
R0736   CHANNEL 6  BITS 1-8
R0737   CHANNEL 11 BITS  13,14
R0738   CHANNEL 12 BITS 9-14
R0739   FOLLOWING THE CHANNEL 12 TESTS ENTER IS PRESSED.  CHANNEL 12 IS SET TO Z
 0740  9ERO AND THE NEXT TEST BEGUN. LOW9
R0741   GOES IN LOCATION (COUNTER) 55.
R0742   INCREASE THROTTLE RATE DESCENT ENGINE
R0743   :ENTER: NOW CAUSES THE CONTENTS OF 55 TO BE MADE NEGATIVE
R0744   DECREASE THROTTLE RATE DESCENT ENGINE
R0745   THE NEXT :ENTER: ZEROS THE REGISTER AND SENDS A PULSE TRAIN (HERE ALTERN
R0746   ZEROS FOR CLARITY) TO THE ALTITUDE METER.
R0747   THE NEXT :ENTER: WILL ADVANCE THE TEST TO THE ALTITUDE RATE METER TEST.
R0748  4THE NEXT :ENTER : WILL TERMINATE THE TEST.
 0749   SAUTOIFS CA     POSMAX
 0750            TS     NOBITS
 0751            CA     ZERO
 0752            TS     CHAN
 0753            TS     TEMP
 0754            TC     DINO
 0755  2BACK1    INCR   CHAN
 0756   DINO     INDEX  CHAN
 0757            CA     SAUTLOCS
 0758            TCF    SWCALL
 0759   SAUTLOCS CADR   CHAN5D
 0760            CADR   CHAN6D
 0761            CADR   CHAN11D
 0762            CADR   CHAN12D
 0763            CADR   PTITRDE
 0764            CADR   PTDTRDE
 0765            CADR   ALTMET
 0766            CADR   ALTRMET
 0767            CADR   ENDTEST
 0768   THROTADD CADR   PTDTRDE +5
 0769   METERADD CADR   ALTMET +3
 0770   MRATEADD CADR   ALTRMET +3
 0771   CHAN5D   CA     FIVE
 0772            TS     DSPTEM1
 0773   2ENTRY   CA     LOW8            CHANNEL 6 RETURNS HERE
 0774            TS     DSPTEM1 +1
 0775            EXTEND
 0776            INDEX  TEMP
 0777            WRITE  5
 0778   3ENTRY   CA     V04N30D         CH11,12 RETURN HERE TO USE THE DISPLAY
 0779            TC     NVSBWAIT
 0780   4ENTRY   CAF    WAITER          WAITER IS 03300
 0781            TC     NVSBWAIT
 0782            TC     ENDIDLE
 0783            TC     ENDTEST
 0784  2         TC     BACK1
 0785   CHAN6D   INCR   TEMP
 0786            INCR   DSPTEM1
 0787            CAF    ZERO
 0788            EXTEND
 0789            WRITE  5               GET RID OF CHANNEL 5 BITS
 0790            TC     2ENTRY
 0791   CHAN11D  CA     OCT11
 0792            TS     DSPTEM1
 0793            CA     BIT13-14
 0794            TS     DSPTEM1 +1
 0795            EXTEND
 0796            WOR    11              WOR IS NON EXCLUSIVE OR
 0797            CAF    ZERO
 0798            EXTEND
 0799            WRITE  6
 0800            TC     3ENTRY
 0801   CHAN12D  CA     OCT12
 0802            TS     DSPTEM1
 0803            CS     BIT13-14
 0804            EXTEND
 0805            WAND   11
 0806            CA     CH12BITS
 0807            TS     DSPTEM1 +1
 0808            EXTEND
 0809            WOR    12
 0810            TC     3ENTRY
 0811   PTITRDE  CS     CH12BITS
 0812            EXTEND
 0813            WAND   12
 0814            CA     ZERO
 0815            TS     DSPTEM1
 0816            TS     DSPTEM1 +1
 0817            TS     TEMP
 0818            CA     BIT1
 0819            TS     NOBITS
 0820   PIT      INHINT
 0821            TC     WAITLIST
 08215           EBANK= XSM
 0822            2CADR  THROTASK
 0823            RELINT
 0824            CA     WAITER
 0825            TC     NVSBWAIT
 0826            TC     ENDIDLE
 0827            TC     ENDTEST
 0828            CA     ZERO
 0829            TS     NOBITS
 0830  2         TC     BACK1
 0831   PTDTRDE  CA     ZERO
 0832            TS     THRUST
 0833            CA     THROTADD
 0834            TS     TEMPADD
 0835            TC     JOBSLEEP        THIS INHIBITS THE NEXT TASK UNTIL
R0836                                            CURRENT TASK HAS BEEN COMPLETED
 0837            CA     POSMAX
 0838            TS     TEMP
 0839            CA     BIT7
 0840            TC     PIT
 0841   THROTASK CCS    NOBITS          IS THIS TASK STILL REQ
 0842            TC     +5              YES
 0843            CA     TEMPADD         NO
 0844            TS     NOBITS
 0845            TC     JOBWAKE
 0846            TC     TASKOVER
 0847            CCS    TEMP
 0848            TC     SOMETIME
 0849            CA     LOW11
 0850   ALWAYS   TS     THRUST
 0851            CA     BIT4
 0852            EXTEND                 A SMERZH FIX.
 0853            WOR    14
 0854            CA     BIT6            320 MS.DELAY
 0855            TC     WAITLIST
 08555           EBANK= XSM
 0856            2CADR  THROTASK
 0857            TC     TASKOVER
 0858   SOMETIME CS     LOW11
 0859            TC     ALWAYS
 0860   ALTASK   CCS    NOBITS          IS TASK STILL REQ
 0861            TC     +5
 0862            CA     TEMPADD         NO
 0863            TS     NOBITS          ENABLES NEXT TASK
 0864            TC     JOBWAKE
 0865            TC     TASKOVER
 0866            CA     ALBITS          ACTUAL TASK STARTS HERE
 0867            TS     ALTM
 0868            CA     BIT3
 0869            EXTEND
 0870            WOR    14
 0871            CA     BIT6            320 MS. DELAY
 0872            TC     WAITLIST
 08725           EBANK= XSM
 0873            2CADR  ALTASK
 0874            TC     TASKOVER
 0875   ALTMET   CA     METERADD
 0876            TS     TEMPADD
 0877            TC     JOBSLEEP
 0878            CA     ZERO
 0879            TS     TEMP
 0880            CS     BIT4
 0881            EXTEND
 0882            WAND   14
 0883            INHINT
 0884            CA     ONE
 0885            TC     WAITLIST
 08855           EBANK= XSM
 0886            2CADR  ALTASK
 0887            RELINT
 0888            CA     WAITER
 0889            TC     NVSBWAIT
 0890            TC     ENDIDLE
 0891            TC     ENDTEST
 0892            CA     ZERO
 0893            TS     NOBITS
 0894  2         TC     BACK1
 0895   ALTRMET  CA     MRATEADD
 0896            TS     TEMPADD
 0897            TC     JOBSLEEP
 0898            CA     ONE
 0899            TS     TEMP            TEMP WILL BE INDEXED TO ACQUIRE BIT2 INS
 0900  9TEAD OF BIT3
 0901            CA     BIT2
 0902            EXTEND
 0903            WOR    14
 0904            TC     ALTMET +8D
P0905        THE AOT ANGLE CHECKING PROGRAM PROVIDES A SIMPLE VERIFICATION OF TH
 0906  9E ACCURACY OF THE AOT.  THE IDEA IS TO
R0907   COMPUTE THE ANGLE BETWEEN TWO LINES OF SIGHT AS INDICATED BY THE AOT, WH
 0908  9ICH IS WHAT THIS PROGRAM DOES.
R0909   INDEPENDENT KNOWLEDGE OF THE INCLUDED ANGLE PROVIDES A COMPARISON AND TH
 0910  9US A MEASURE OF THE AOT ACCURACY.
R0911  4      THE ISS NEED NOT BE ON TO RUN THIS PROGRAM.
 0912   AOTANGCK TC     INTPRET
 0913            SET    EXIT             IN CASE THE ISS IS OFF.
 0914                   COAROFIN
 0915            TC     FINDNAVB         FOR LOS1 AND LOS2.
 0916            TC     INTPRET
 0917            VLOAD  VXV
 0918                   LOS1
 0919                   LOS2
 0920            ABVAL
 0921            STOVL  SINTH            SINTH = ABVAL (VXV ).
 0922                   LOS1
 0923            DOT
 0924                   LOS2
 0925            STCALL COSTH            COSTH = V.V
 0926                   ARCTRIG
 0927            RTB
 0928                   1STO2S           DP 1S COMP TO SP 2S COMP.
 0929            STORE  THETA
 0930            EXIT
 0931            CAF    THETAADR
 0932            AD     FIXLOC
 0933            TS     MPAC +2
 0934            CAF    V06N03E          XXX.XX DEGREES IN R1.
 0935            TC     NVSBWAIT
 0936  8         TCF    ENDTEST
 0937            EBANK= 1400
 0938   ZEROERAS INHINT                 PROGRAN BY MUNTZ TO ZERO ERASEABLE
 09381           CAF    ZERO
 09382           TS     TIME3
 0939            CAF    OCT27
 0940            TS     EBANK
 0941   ZEROLP   ZL
 0942            INDEX  A
 0943            LXCH   1401
 0944            AD     TWO
 0945            ADS    EBANK
 0946            MASK   LOW8
 0947            CCS    A
 0948            TCF    ZEROLP
 0949            CCS    EBANK
 0950            TCF    ZEROLP1
 0951            TC     POSTJUMP
 0952            CADR   SLAP1
 0953   ZEROLP1  RELINT
 09531           CAF    ZERO            KEEP T4RUPT GOING, BUT NOT CYCLING.
 09532           TS     DSRUPTSW
 0954            INHINT
 0955            CS     ONE
 0956            TCF    ZEROLP
 09565 8OCT27    OCT    27
 0958            EBANK= OGC
 0960   V04N30D  OCT    00430
 0961   ALBITS   OCT    52525
 0962   THRSBITS OCT    70707
 0963   OCT12    =      TEN
 0964   OCT11    =      NINE
 0965   CH12BITS OCT    37400
 0966   V01N30D  OCT    00130
 0967  6WAITER   OCT    03300
 0968   V01N30E  OCT    00130           FOR FINDNAVB
 0969   V05N30E  OCT    00530           FOR OPTDATA
 0970   V06N03E  OCT    00603
 0971   V06N66E  OCT    00666
 0972   V24N30E  OCT    02430           FOR POSITION LOAD
 0973  2V25N22E  OCT    02522           FOR POS4
 0974   11DEC    DEC    11
 0975   17DEC    DEC    17
 0976   60DEC    DEC    60
 0977   63DEC    DEC    63
 0978   69DEC    DEC    69              FOR MISALIGN
 0979  272DEC    DEC    72              FOR STORRSLT
 0980   30SEC    DEC    3000            3000 X 10 MSEC
 0981  260SEC    DEC    6000            6000 X 10 MSEC
 0982   OGCADR   ADRES  OGC             FOR ZEROING
 0983   GENPLAD1 ADRES  GENPL
 0984   GENPLADR ECADR  GENPL           FOR POS4
 0985   KKKK     2DEC   210.39 B-14     1230 B-14 FOR CSM
 0986   RDRRETN  ADRES  RDR1 +1         FOR RDR37511
 0987   THETAADR ECADR  THETA
 0988  2XSMADRX  ADRES  XSM             FOR MAKEXSMD
 0989   SCALFTR  2DEC   .64             FOR STORRSLT
 0990   OMEG/MS  2DEC   .24339048       GYRO PULSES / 10 MSEC
P0991            THE FOLLOWING ROUTINE READS THE CLOCK AND SCALAR (CHANNELS 3 AN
 0992  9D 4) INTO A AND L, INSURING THAT THE
R0993  2DATA WAS NOT IN TRANSITION WHEN IT WAS READ.
 0994            BLOCK  02
 0995   FINETIME INHINT                 RETURNS WITH INTERRUPT INHIBITED.
 0996            EXTEND
 0997            READ   LOSCALAR
 0998  2         TS     L
 0999            EXTEND                 SEE IF 2 READINGS AGREE. IF NOT, READ
 1000            RXOR   LOSCALAR        LOSCALAR AGAIN.
 1001            EXTEND
 1002  2         BZF    +4
 1003            EXTEND                 IF CLOCK RIPPLED BEFORE, IT WONT NOW.
 1004            READ   LOSCALAR
 1005  2         TS     L
 1006    +4      CS     POSMAX          IF LOW PART CONTAINS SOMETHING LESS THAN
 1007            AD     L               POSMAX, THE HIGH PART CAN BE READ SAFELY
 1008            EXTEND
 1009  2         BZF    FINETIME +1     TRY AGAIN - CONDITION WILL DISAPPEAR.
 1010            EXTEND
 1011            READ   HISCALAR
 1012  2         TC     Q
 1014            SETLOC OMEG/MS +2
 1015   REDYTORK TC     BANKCALL
 1016            CADR   IMUSTALL
 1017  2         TCF    ENDTEST
 1018  2         TC     OGCZERO
 1019            TC     INTPRET
 1020            CALL
 1021                   ERTHRVSE        SETS UP EARTHRATE ANGLES AND TIME
 1022            EXIT
 1023            CA     OPTNREG         INITIALIZE CDUNDX FOR PULSE CATCHING
 1024            AD     NEG2            C(K) WAS 4 2 1 NOW C(A) IS 2 0 -1
 1025            TS     GYTOBETQ        C(K) = 2,0,-1 FOR  X,Y,Z.
 1026            EXTEND
 1027            BZF    +3
 1028            CAF    TWO
 1029            TC     +2
 1030            CAF    ONE
 1031            TS     CDUNDX          C(K) = 1 FOR Y, 2 FOR Z CDU SELECT
 1032            TC     BANKCALL
 1033            CADR   ENABLE
 1034   CHKSUM14 OCT    37777
L      2IMU PERFORMANCE TESTS 2
 0001            BANK   24
 0002  4         EBANK= XSM
 00021  IMUTEST  CA     ZERO            DRIFT AND SCALE FACTOR TEST
 00022           TS     DRIFTT
 00023           TS     GEOCOMPS
 00024           CAF    1SECX
 00025 2         TS     1SECXT
 0003            TC     INTPRET
 0004            CALL
 0005                   LATAZCHK
 0006            EXIT
 0009            CA     ONE
 0010  2         TS     POSITON
 0011            TS     DSPTEM2 +2
 00111  GEOIMUTT CA     ONE              COMPASS COMES IN HERE
 0012            TS     THETAD
 0013            TS     THETAD +1
 0014            TS     THETAD +2
 0015            TC     BANKCALL
 0016            CADR   IMUZERO
 0017            TC     BANKCALL
 0018            CADR   IMUSTALL
 0019            TCF    ENDTEST1
 0020   IMUBACK  CA     ZERO
 0021            TS     DSPTEM2 +1
 0022            TS     NDXCTR
 0023            TS     TORQNDX
 0024            TS     TORQNDX +1
 0026            CAF    TESTTIME
 0028            TS     DSPTEM2
 0029            TC     BANKCALL        ISS RETURNS IN COARSE ALIGN MODE TO
 0030            CADR   IMUCOARS        ENABLE OPERATOR TO DECIDE WHAT TO DO
R0031   ABOUT GIMBAL LOCK
 00311           CCS    GEOCOMPS
 00312           TC     +3
 0032            TC     SHOWLD
 0033  4         TC     SHOW
 0034            TC     BANKCALL
 0035            CADR   IMUSTALL
 0036            TC     ENDTEST1
 0037            TC     NBPOSPL
 0038            TC     POSGMBL
 0039            TC     PIPACHK         IF MGA IS 60DEG+ PROG WILL STAY IN COARS
 0040  9ALIGN AND MEASURE VERTICAL PIPA RATE
 0041            TC     FALNE
 0042            TC     BANKCALL
 0043            CADR   IMUSTALL
 0044            TCF    ENDTEST1
 00442           CCS    GEOCOMPS
 00443           TC     JUMPLOAD
 0045   GUESS    TC     INTPRET         CALCULATE -COS LATITUDE AND SIN LATITUDE
 0046            DLOAD  COS             FOR ESTIMATE
 0047                   LATITUDE
 0048            DCOMP  SL1
 0049            STODL  WANGI
 0050                   LATITUDE
 0051            SIN    SL1
 0052            STOVL  WANGO            LOAD TRANSITION MATRIX INTO ERASABLE
 00521                  GEORGED
 00522           STOVL  TRANSM1
 00523                  GEORGEC
 00524           STOVL  TRANSM1 +6
 00525                  GEORGEB
 00526           STORE  TRANSM1 +12D
 0053            EXIT
 005301          TC     +2
 00531  JUMPLOAD TC     FREEDSP          FREE DISPLAY IF IN GYROCOMPASS
 00532           TC     LOADGTSM
 0054            TC     BANKCALL
 0055            CADR   ESTIMS
 0075   TORQUE   TC     PHASCHNG         FILTER RETURNS AFTER TORQUE AND ER SET
 0076            OCT    00005
 0081            CA     ZERO
 0082            TS     DSPTEM2
 0083            CA     DRIFTI
 0084            TS     DSPTEM2 +1
 0085            INDEX  POSITON
 0086            TS     SOUTHDR -1
 0087  2         TC     SHOW
 0088   PIPACHK  INDEX  NDXCTR          TORQUE PLATFORM TO CORRECT  LEVELING ERR
 0089            TC     +1              IN PREPARATION TO MEASURING VERTICAL
 0090            TC     BANKCALL        PIPA OUTPUT PULSE RATE
 0091  2         CADR   EARTHR
 0092            CA     DEC17            ALLOW PIP COUNTER TO OVERFLOW 17 TIMES
 0093            TS     DATAPL +4
 0094            CA     BIT10           IN THE ALLOTED TIME INTERVAL
 0095            TS     LENGTHOT
 0096            CA     ONE
 0097            TS     RESULTCT
 0098            CA     ZERO            ZERO PIPA COUNTER INITIALLY
 0099            INDEX  PIPINDEX
 0100            TS     PIPAX
 0101            TS     DATAPL
 0102            CA     DEC56            LOOP 56 TIMES 5.12 SEC "ACH. EACH INCR.
 0103            TC     WAITLOOP        WILL ALSO CORRECT EARTH RATE
 0104            INHINT
 0105            TC     CHECKG
 0106            RELINT
 0107            TC     DATALD
 0108            CA     FIVE
 0109            TS     RESULTCT
 0110            INDEX  NDXCTR
 0111            TC     +1
 0112            TC     BANKCALL
 0113            CADR   EARTHR
 0114            CCS    COUNTPL
 0115            TC     WAITLP2
 0116            CCS    DATAPL +1
 0117            TC     +4
 0118            TC     CCSHOLE
 0119            CS     DATAPL +4
 0120            TS     DATAPL +4
 0121            EXTEND
 0122            DCS    DATAPL
 0123  2         DAS    DATAPL +4
 0124            TC     INTPRET
 0125            DLOAD  DSU
 0126                    DATAPL +6
 0127                   DATAPL +2
 0128            PDDL   DDV
 0129                   DATAPL +4
 0130            PDDL   DMP
 0131                   DEC585          DEC585 HAS BEEN REDEFINED FOR LEM
 0132            RTB
 0133                   SGNAGREE
 0134            STORE  DSPTEM2
 0135            EXIT
 0136            TC     SHOW
 0137   VERTDRFT CA     3990DEC         3900 SECONDS FOR VERTICAL DRIFT
 0138            TS     LENGTHOT
 01381           TC     BANKCALL        THIS WILL CORRECT FOR EARTH RATE DURING
 01382           CADR   EARTHR          TIME SPENT IN SHOW ABOVE*
 01383           CA     CDUX            STOORE AXIS  FOR LAB CALC OF DRIFT
 01384           TS     LOSVEC
 0139            INDEX  POSITON
 0140            CS     SOUTHDR -2
 0141            TS     DRIFTT
 014101          TC     LOADGTSM
 0142            CA     ZERO            ALLOW ONLY SOUTH GYRO EARTH RATE COMPENS
 0143            TS     XSM
 0144            TS     XSM +1
 0145            TS     XSM +4
 0146            TS     XSM +5
 0147            TS     YSM
 0148            TS     YSM +1
 0149            TS     YSM +4
 0150            TS     YSM +5
 0151            TS     ZSM
 0152            TS     ZSM +1
 0153            TS     ZSM +4
 0154            TS     ZSM +5
 0155   GUESS1   CAF    POSMAX
 0156            TS     TORQNDX
 0157            TS     TORQNDX +1
 0158            TC     BANKCALL
 0159            CADR   ESTIMS
 0160   VALMIS   TC     PHASCHNG
 0161            OCT    00005
 0170            CA     DRIFTO
 0171            TS     DSPTEM2 +1
 01711           CA     CDUX            STORE OG ANGLE FOR LAB CALC OF DRIFT**
 01715           TS     LOSVEC +1
 0172            CA     ZERO
 0173            TS     DSPTEM2
 0174  4         TC     SHOW
 0175   FINISH   CA     ONE
 0176            AD     POSITON
 0177            TS     DSPTEM2 +2
 0178            CA     TWO
 0179            TS     QPLACE
 0180            TC     BANKCALL
 0181            CADR   TSELECT -6
 0182   ENDTEST1 TC     BANKCALL
 0183  8         CADR   ENDTEST
 0184   OPCHK    CAF    DELYOFF         AUTOMATIC TEST FOR SYSTEM OPERATION
 0185            EXTEND
 0186            RAND   30              CHECK TO SEE IF IMU IS ON
 0187            CCS    A
 0188            TC     ALARMS
 0189            CAF    V16N20S
 0190  2         TC     NVSBWAIT
 0191            TC     FREEDSP
 0192            TC     BANKCALL
 0193            CADR   IMUZERO
 0194            TC     BANKCALL
 0195  2         CADR   IMUSTALL
 0196            TCF    ENDTEST1
 0197            CA     BIT8            ZERO ALL ERASEABLE USED IN TEST
 0198            TS     ZERONDX
 0199            CA     GENPLAD
 0200            TC     ZEROING
 0201  2         TC     NBPOSPL         ALIGN ANGLE COMPUTATION
 0202  2         TC     POSGMBL         COARSE ALIGN THOSE GIMBALS NOW
 0203            TCF    OPCHK
 0204  2         TC     FALNE           FINE ALIGN PLATFORM BY TORQUING GYROS
 0205            TC     BANKCALL
 0206            CADR   IMUSTALL
 0207            TCF    ENDTEST1
 0208            CA     TWO
 0209   CDUCHECK TS     CDUNDX          THIS LOOP CHECKS FOR NO ERROR BETWEEN
 0210            INDEX  CDUNDX          DESIRED CDU ANGLES AND THE ACTUAL ANGLES
 0211            CS     THETAD
 0212            INDEX  CDUNDX
 0213            AD     CDUX
 0214            TS     STOREPL
 0215            CCS    STOREPL
 0216            TC     ERRMASK
 0217            TC     NOERR
 0218            TC     ERRMASK
 0219   NOERR    CCS    CDUNDX
 0220            TC     CDUCHECK
 0221            TC     LOADIC
 0222   ERRMASK  MASK   LOWFOUR         ALLOW FIVE BIT ERRORS
 0223            CCS    A
 0224            TC     ALARMS
 0225            TC     NOERR
 0226   LOADIC   CA     ONE
 0227            TS     RESULTCT
 0228            CS     ONE
 0229  2         TS     MASKREG         SETS UP AZIMUTH AND VERTICAL VECTORS FOR
 0230            CA     ZERO
 0231            TS     PIPAX
 0232            TS     PIPAY
 0233  2         TS     PIPAZ
 0234            CA     BIT11
 0235            TS     LENGTHOT         VECTOR IN PIPA COUNTERS
 0236            CA     ONE
 0237            TC     WAITLOOP
 0238            CCS    COUNTPL
 0239            TC     WAITLP2
 0240            CA     DEC56
 0241            TC     WAITLOOP
 0242   OPCHK1   CA     TWO
 0243   OPCHK2   TS     PIPINDEX
 0244            INHINT
 0245            TC     CHECKG
 0246            RELINT
 0247            CA     ZERO
 0248            INDEX  PIPINDEX
 0249            TS     PIPAX
 0250            TC     DATALD          LOAD PIPA DATA AND TIME IN DATAPL
 0251            XCH    RESULTCT
 0252            AD     FOUR
 0253            TS     RESULTCT
 0254            CCS    PIPINDEX
 0255            TC     OPCHK2
 0256   READOUT  CS     FOUR
 0257            AD     RESULTCT
 0258            TS     RESULTCT
 0259            ZL
 0260            INDEX  RESULTCT
 0261            CA     DATAPL
 0262            LXCH   A
 0263            INDEX  RESULTCT
 0264            DAS    GENPL +1
 0265            CA     RESULTCT
 0266            MASK   MASKREG
 0267            CCS    A
 0268            TC     READOUT
 0269            CA     TEN
 0270            AD     THREE
 0271            TS     RESULTCT
 0272            CS     A
 0273            TS     MASKREG
 0274            CCS    COUNTPL
 0275            TC     WAITLP2
 0276            TC     COMPUT
 0277   RADCK    CA     V16N40S
 0278            TC     NVSBWAIT        OPERATOR WILL CHECK RADAR STATUS.IN LAB.
 0279            TC     FLASHON         SET RADAR OFF THEN PUT RESOLVER STANDARD
 0280            TC     ENDIDLE         ON TRUNNION AND SET TO +45 DEG.SHAFT WIL
 0281            TC     ENDTEST1
 0282            TC     +1              AFTER SETTING RES STANDARD DO A V33
 0283            CA     ZERO
 0284            TS     TANG +1
 0285            CA     45DEG
 0286            TS     TANG
 0287   DRIVRAD  TC     BANKCALL        IN SC WHEN RAD PRESENT DO V33 RIGHT AWAY
 0288            CADR   RRZERO          LGC WILL ATTEMPT TO DRIVE 45 DEG TRUNN.
 0289            TC     BANKCALL        TO MATCH STANDARD, AFTER ZEROING CDUS
 0290            CADR   RADSTALL
 0291            TC     ENDTEST1
 0292            TC     BANKCALL
 0293  2         CADR   RRDESNB
 0295            TC     BANKCALL
 0296            CADR   RADSTALL        IF CDU FAILS TO AGREE WITH COMMAND TO
 0297  2         TC     ALARMS          1 DEG GET ALARM HERE
 0298            TC     FLASHON         OPERATOR WILL CHECK STATUS OF RADAR
 0299            TC     ENDIDLE         IN S/C DO V33 TO CONTINUE WITH SHAFT
 0300            TC     ENDTEST1        TEST
 0301            TC     +1              IN LAB TURN RADAR OFF CHANGE RES STANDAR
 0302            CA     ZERO            TO SHAFT AND SET FOR -45DEG.
 0303            TS     TANG            THEN DO A V33 IF WANT TO REPEAT CHECK
 0304            CS     45DEG           DO A V34 TO TERMINATE
 0305            TS     TANG +1
 0306            TC     DRIVRAD
 0307   ALARMS   XCH    Q
 0308            TS     QPLACE
 0309            TC     ALARM
 0310            OCT    1411
 0311  8         TC     QPLACE
 0312   GYRSFTST TC     INTPRET         START ADRESS FOR IRIG SF TEST
 0313            CALL
 0314                   LATAZCHK        LOAD AZ AND LAT
 0315            EXIT
 0316   TESTCALL CAF    V21N30E
 0317            TC     NVSBWAIT        LOAD + OR - 1 FOR + OR - X TEST (+00001)
 0318            TC     ENDIDLE         LOAD + OR - 2 FOR + OR - Y TEST
 0319            TCF    ENDTEST1        LOAD + OR - 3 FOR + OR - Z TEST
 0320            TC     TESTCALL
 0321            XCH    DSPTEM1
 0322            TS     CALCDIR
 03221           EXTEND                 THIS ROUTINE LOOKS AT THE SIZE OF THE
 03222           BZMF   NEGSIZ          ENTRY MADE BY THE OPERATOR, IF HE DID NO
 03223  SIZLOOK  MASK   NEG3            T ENTER TEST NO THAT IS W/I PERMISSIBLE
 03224           EXTEND                 RANGE- HE WILL BE ASKED TO LOAD AGAIN.
 03225           BZF    GUDENTRY          THIS IS CONSIDERED NECESSARY BECAUSE
 03226 2         TC     TESTCALL        OF FOLLOWING INDEXED TC WHICH COULD
 03227  NEGSIZ   COM                    SEND THE COMPUTER OFF INTO THE BOONDOCKS
 03228           TC     SIZLOOK         TO PLAY WITH ITSELF IF THE OPERATOR
 03229  GUDENTRY CA     CALCDIR         MAKES ABAD ENTRY******
 0323            AD     FOUR
 0324            INDEX  A
 0325            TC     +1
 0326            TC     TESTCALL
 0327            TC     +6              C(A)=+00001 FOR -Z
 0328            TC     +4              C(A)=+00002 FOR -Y
 0329            TC     +2              C(A)=+00003 FOR -X
 0330            TC     -4              C(A)=+00004   ERROR
 0331            TC     +3              C(A)=+00005 FOR +X
 0332            TC     +6
 0333            TC     +10
 0334            CAF    FOUR
 0335            TS     POSITON         4 IS FOR A.L. POSN 4 USED FOR X SF TEST
 0336            TC     +7
 0337            TC     +6
 0338            CAF    TWO
 0339            TS     POSITON         +2 IS A.L. POS 2 USED FOR Y SF TEST
 0340            TC     +3
 0341            CAF    ONE
 0342            TS     POSITON         +1 IS A.L. POS 1 USED FOR Z SF TEST
 0343            TS     OPTNREG         C(K) = (4,2,1) FOR X,Y,Z
 0344            TS     SAVE +1
 0345            TC     FREEDSP
 0346            CAF    ZERO
 0347            TS     NBPOS           SET UP NB COORD TO Z NORTH, X UP
 0348            TS     SAVE +2         INITIALIZE FOR EARTHR DESIGNATE USAGE
 0349            TS     TESTNO          INITIALIZE FOR TEST ABORT ROUTINE
 0350            TS     CDUFLAG         ZEROS FOR STRTWACH USE
 0351            CAF    SFCONST
 0352  2         TS     SFCONST1         FOR DIVISION DURING CALCSFE
 0353            TC     BANKCALL
 0354            CADR   IMUZERO
 0355            TC     BANKCALL
 0356            CADR   IMUSTALL
 0357            TCF    ENDTEST1
 0358            TC     NBPOSPL
 0359            TC     POSGMBL
 0360            TCF    ENDTEST1
 0361            TC     FALNE
 0362            TC     BANKCALL
 0363            CADR   REDYTORK
 0364   WAITFIVE TS     SOUTHDR
 0365            CAF    BIT6            THIS SECTION CALLS FOR 2-32 MSEC WAITS
 0366            TC     DIRECTN -5
 0367   ENABLE   CAF    BIT6
 0368            EXTEND                 ENABLE GYRO TORQUING LOOP BY TURNING
 0369  2         WOR    14C             ON CAL MODULE RELAY
 0370            INHINT
 0371            CS     TWO             SETS UP EXEC SWITCH SO IMUPULSE WILL
 0372            MASK   IMODES33        NOT TURN OFF GYRO TORQ ENABLE RELAY
 0373            AD     TWO
 0374            TS     IMODES33
 0375            CAF    TWO
 0376            TS     SOUTHDR
 0377            TS     LENGTHOT         20 MSEC DELAY FOR GYRO LOOP STABILIZAT.
 0378            CA     ONE
 0379            TC     WAITLOOP
 0380            CCS    COUNTPL
 0381            TC     WAITLP2
 0382   DIRECTN  TC     BANKCALL         TORQUING ROUTINE IN IMU PERFORMANCE
 0383            CADR   SILVER             BANK 3
 0384            CCS    SOUTHDR         A ONE FIRST TIME THROUGH, THEN ZERO
 0385  2         TC     WAITFIVE
 0386   STRTWACH CCS    CDUFLAG          RETURNS HERE VIA QPLACE FROM SILVER
 0387            TC     CDUZOTST        BEEN CAUGHT AND CDU THROUGH ZERO IS
 0388            CCS    SAVE +1
 0389            TC     LOOKCDUP -4
 0390            TC     LOOKCDUP
 0391   CORRECT  CAF    ZERO
 0392            TS     LGYRO            RELEASES GYROS FOR IMUPULSE USAGE
 0393            TC     BANKCALL        EARTHRATE CORRECTION TO GYROS NOT EAST
 0394            CADR   EARTHR          OR WEST
 0395            CAF    ONE
 0396            TS     LGYRO           RESERVES GYROS FOR S.F. TEST TORQUING
 0397            TS     SAVE +2         INITIALIZES TO INSURE 5.6 DEG OF TORQ)
 0398            ADS    TESTNO          INCR THE BURST COUNTER, WHICH IS USED TO
 0399            CS     TESTNO          COUNT THE NO. OF TIMES THE GYRO COUNTER
 0400            MASK   FIVE            IS LOADED. IF A TENTH LOAD IS REQUESTED
 0401            EXTEND                 THE SFE IS TOO LARGE TO BE MEANINGFULL
 0402            BZF    STOPTEST        OR THE CDU,S ARE NOT WORKING.
 0403  2         TC     DIRECTN
 0404            CAF    ZERO            ZEROS CDU REG WHICH WILL BE USED TO
 0405            TS     SAVE +1
 0406            INDEX  CDUNDX          MEASURE ANGLE.
 0407            TS     CDUX
 0408   LOOKCDUP INHINT
 0409            CAF    BIT5
 0410   STILLOOK TS     TIMER
 0411            INDEX  CDUNDX          LOOKS FOR FIRST CDU PULSE AFTER TORQUING
 0412            CCS    CDUX            STARTS
 0413            TC     OUTPLUS         HERE IS PLUS PULSE
 0414            TC     TIMEWACH
 0415            TC     ALARMS          TTELL OPERATOR FIRST CDU PULSE WAS MISSD
 0416            TC     OUTNEG          HERE IS MINUS PULSE
 0417   TIMEWACH CCS    TIMER           WATCHES TIME IN INHINT SO COPS WILL NOT
 0418            TC     STILLOOK        CATCH US
 0419  2         RELINT
 0420            CCS    NEWJOB
 0421            TC     CHANG1
 0422  2         TC     LOOKCDUP        KEEP WATCHING IF THE PULSE IS NOT HERE
 0423   OUTPLUS  CS     DESANGLE        -2047 CDU PULSES ADDED TO CDU REG SO
 0424            INDEX  CDUNDX          ZERO CROSSOVER CAN BE DETECTED
 0425            TS     CDUX
 0426   LOADFLAG CAF    ONE
 0427            TS     CDUFLAG
 0428            CA     GYROCTR         GYRO TORQ CMDS LEFT OUT OF FIRST 5.625
 0429            TS     SAVE            DEG COMMANDED WHEN CDU PULSE ARRIVED
 0430            RELINT
 0431  2         TC     CDUZOTST
 0432   OUTNEG   CA     DESANGLE
 0433            INDEX  CDUNDX
 0434            TS     CDUX
 0435  2         TC     LOADFLAG
 0436   CDUZOTST INDEX  CDUNDX
 0437            CCS    CDUX
 0438            TC     +4
 0439            TC     ENDWATCH
 0440            TC     +2
 0441            TC     ENDWATCH
 0442            CAF    BIT10           RAND WITH BIT 10 TO SEE IF STILL TORQ.
 0443            EXTEND
 0444            RAND   14C
 0445            CCS    A
 0446  2         TC     +6
 0447            CCS    SAVE +2          SEE IF 2.8DEG OR 5.6 DEG SINCE LAST
 0448            TC     +2              EEARTHR USE, IF 2.8 DEG, DO 2.8 MORE
 0449            TC     CORRECT           THEN GO TO CORRECT
 0450            TS     SAVE +2
 0451            TC     DIRECTN
 0452            CCS    NEWJOB
 0453            TC     CHANG1
 0454  2         TC     CDUZOTST
 0455   ENDWATCH INHINT                 WWILL STOR GYROCTR AT END OF 2048 CDU
 0456            CAF    ZERO            PULSES AND STOP TORQ BY ZEROING REQUESTS
 0457            TS     LGYRO            RELEASE GYROS FOR OTHERS USAGE
 04575           AD     NEG0            PREVENT +0 IN OUTPUT COUNTER
 0458            XCH    GYROCTR
 0459            TS     SAVE +1         AND STOPS TORQUING BY ZEROING TORQ
 0460            CS     TWO
 0461            MASK   IMODES33        THIS TURNS OFF EXEC SWITCH SO THE GYRO
 0462            TS     IMODES33        TORQ. ENABLE RELAY CAN BE TURNED OFF.
 0463            RELINT
 0464   CALCSFE  CA     SAVE            GYROCTR AT TEST START
 0465            EXTEND
 0466            SU     SAVE +1         GYROCTR AT TEST END
 0467            TS     SAVE +2
 0468            EXTEND
 0469            BZMF   ARITH           SEE IF IT IS NEG OR ZERO,IF NEG,SFE IS +
 0470            MASK   SIZCHK
 0471            EXTEND                 THIS ROUTINE TESTS SAVE-(SAVE+1) TO SEE
 0472            BZF    NEGSFE          IF THE RESULT IS WITHIN PERMISSIBLE SIZE
 0473            CS     SAVE +2         AND DETERMINES POLARITY OF SFE USING THE
 0474            MASK   SIZCHK          PRESENCE OR ABSENCE OF BITS 12,13,14.
 0475            EXTEND                 IF BITS ARE PRESENT IN POSITIVE SAVE +2
 0476            BZF    POSSFE          THEN THE SFE MUST BE POS. IF DIFFERENCE
 0477            TC     STOPTEST        IS GREATER THAN 2047 PULSES FROM THE
 0478   NEGSFE   CAE    SAVE +2         IDEAL NO OF PULSES, THE SFE EXCEEDS
 0479  2         TC     ARITH           15600 PPM, THE TEST IS NOT VALID AND
R0480   THEREFORE ABORTS AND TURNS ON PROGRAM ALARM
 0481   POSSFE   CAF    POSMAX          POS SFE DEFINITION = IRIG SF IN SEC OF
 0482            EXTEND                 ARC PER PULSE IS GREATER THAN
 0483            SU     SAVE +2         .61798095703125  SEC OF ARC/ PULSE
 0484  2         TC     ARITH +1
 0485   ARITH    COM
 0486            ZL
 0487            EXTEND
 0488            DV     SFCONST1
 0489   LOADIT   TS     DSPTEM2
 0490  2         TC     DATADSP
 0491   DATADSP  TC     GRABDSP
 0492            TC     PREGBSY
 0493            CA     CALCDIR
 0494            TS     DSPTEM2 +2      DISPLAYS TEST NO JUST PERFORMED
 0495            CAF    VB06N66          R3 = TEST NO JUST PERFORMED
 0496            TC     NVSBWAIT
 0497            TC     FLASHON
 0498            TC     ENDIDLE         TO END TEST DO V34E
 0499            TC     +2
 0500            TC     TESTCALL        TO CONTINUE TEST DO V33E
 0501            TC     BANKCALL
 0502            CADR   IMUZERO
 0503            TC     BANKCALL
 0504            CADR   IMUSTALL
 0505            TCF    ENDTEST1
 0506  2         TCF    ENDTEST1
 0507   STOPTEST TC     BANKCALL
 0508            CADR   IMUZERO
 0509            TC     BANKCALL        CORRECT CDUCTRS AND TURN ON PROG ALARM
 0510            CADR   IMUSTALL        TO TELL OPERATOR LAST CDU PULSE WAS
 0511            TCF    ENDTEST1        MISSED OR GYRO TORQ LOOP WAY OUT OF
 0512            CAF    ZERO            ALLOWABLE LIMITS.........
 05122           TS     LGYRO           **** RELEASE GYROS FOR OTHERS USAGE*****
 05126           TC     ALARMS
 0513  8         TCF    ENDTEST1
 0514   CHECKG   EXTEND                 PIP PULSE CATCHING ROUTINE
 0515            QXCH   QPLACE          RECORDS TIME AT OCCURRENCE OF A DELTA V
 0516   CHECKG1  RELINT                 KEEPS CONTENT OF PIPA REG INTACT
 0517            CCS    NEWJOB
 0518            TC     CHANG1
 0519            INHINT
 0520            CAF    ZERO
 0521            INDEX  PIPINDEX
 0522            XCH    PIPAX
 0523            TS     STOREPL
 0524            CCS    STOREPL
 0525            TC     CHECKP
 0526            TC     RESTOREA
 0527            TC     CHECKM
 0528            TC     RESTOREA
 0529   CHECKP   CAF    BIT6            LOOKS FOR ONE MORE PLUS PULSE
 0530            TS     PIPANO
 0531            INDEX  PIPINDEX
 0532            CCS    PIPAX
 0533            TC     CHECKG3
 0534            TC     +3
 0535            TC     RESTOREA
 0536            TC     +1
 0537            CCS    PIPANO
 0538            TC     CHECKP +1
 0539            TC     RESTOREA
 0540   CHECKM   CAF    BIT6            LOOKS FOR ONE MORE MINUS PULSE
 0541            TS     PIPANO
 0542            INDEX  PIPINDEX
 0543            CCS    PIPAX
 0544            TC     RESTOREA
 0545            TC     +3
 0546            TC     CHECKG3
 0547            TC     +1
 0548            CCS    PIPANO
 0549            TC     CHECKM +1
 0550            TC     RESTOREA
 0551  2CHECKG3  TC     FINETIME        TIME IN DOUBLE PRECISION LEFT IN MPAC
 0552            DXCH   MPAC
 0553            CAF    BIT4
 0554   CHECKG5  TS     PIPANO
 0555            INDEX  PIPINDEX
 0556            CCS    PIPAX
 0557            TC     +4
 0558            TC     RESTOREA
 0559            TC     +2
 0560            TC     RESTOREA
 0561            CCS    PIPANO
 0562            TC     CHECKG5
 0563   NREAD    TC     RESTORE
 0564            TS     STOREPL
 0565            TC     QPLACE
 0566   RESTORE  XCH    STOREPL         A WILL CONTAIN PREVIOUS PIPA CNTR CONTEN
 0567            INDEX  PIPINDEX        STOREPL WILL CONTAIN ZERO
 0568            AD     PIPAX
 0569            INDEX  PIPINDEX
 0570            TS     PIPAX
 0571  8         TC     Q
 0572   RESTOREA TC     RESTORE
 0573            TC     CHECKG1
 0574   DATALD   CA     STOREPL
 0575            INDEX  RESULTCT
 0576            TS     DATAPL
 0577            CA     MPAC
 0578            INDEX  RESULTCT
 0579            TS     DATAPL +1
 0580            CA     MPAC +1
 0581            INDEX  RESULTCT
 0582            TS     DATAPL +2
 0583  6         TC     Q
 0584   POSGMBL  EXTEND                 COARSE ALIGNING SUBROUTINE
 0585  2         QXCH   QPLACE
 0586            TC     INTPRET
 0587            CALL
 0588                   CALCGA
 0589  2         EXIT
 0590            TC     BANKCALL
 0591            CADR   IMUCOARS
 0592            CA     FLAGWRD1
 0593            MASK   BIT8
 0594            CCS    A               L +1, OTHERWISE TO L +2.
 0595            TC     LOCK
 0596            INCR   QPLACE
 0597            TC     +3
 0598   LOCK     CA     TWO
 0599            TS     NDXCTR
 05991           TC     FLAG1DWN
 059912          OCT    200
 0600            TC     BANKCALL
 0601            CADR   IMUSTALL
 0602            TCF    ENDTEST1
 0603            TC     QPLACE
 0604  8GMLOCKCK OCT    00401
 0606   FALNE    EXTEND                 TORQUES GYROS TO NULL OVT DIFFERENCE
 0607            QXCH   QPLACE          BETWEEN DESIRED SM ORIENTATION WITH RESP
 0608            TC     BANKCALL        TO NBASE AND ACTUAL
 0609            CADR   IMUZERO
 0610            TC     BANKCALL
 0611            CADR   IMUSTALL
 0612            TCF    ENDTEST1
 0613            TC     BANKCALL
 0614            CADR   IMUFINE
 0615            TC     BANKCALL
 0616            CADR   IMUSTALL
 0617            TCF    ENDTEST1
 0618   FALNE1   CA     CDUX
 0619            INDEX  FIXLOC
 0620            TS     24
 0621            CA     CDUY
 0622            INDEX  FIXLOC
 0623            TS     20
 0624            CA     CDUZ
 0625            INDEX  FIXLOC
 0626            TS     22
 0627            CA     BIT5
 0628            AD     FIXLOC
 0629            INDEX  FIXLOC
 0630            TS     S1
 0631            TC     INTPRET
 0632            VLOAD  MXV
 0633                   XSM
 0634                   STARAD
 0635            VSL1
 0636            STCALL 32D
 0637                   NBSM
 0638            STOVL  XDC
 0639                   YSM
 0640            MXV    VSL1
 0641                   STARAD
 0642            STCALL 32D
 0643                   NBSM
 0644            STOVL  YDC
 0645                   XDC
 0646            VXV    VSL1
 0647                   YDC
 0648            STCALL ZDC
 0649                   CALCGTA
 0650            EXIT
 0651            CA     OGCPL
 0652            TC     BANKCALL
 0653            CADR   IMUPULSE
 0654  2         TC     QPLACE
 0655   WAITLOOP EXTEND                 LOOPS IN X SEC INCREMENTS FOR NUMBER OF
 0656            QXCH   QPLAC
 0657            TS     COUNTPL         NUMBER PUT INTO LENGTHOT
 0658   WAITLP1  CCS    COUNTPL
 0659            TC     +4
 0660            TC     QPLAC
 0661            TC     +2
 0662            TC     WAITLP1 -1
 0663            INHINT
 0664            CAE    LENGTHOT
 0665            TC     WAITLIST
 06655           EBANK= XSM
 0666            2CADR  WAITLP3
 0667            RELINT
 0668            CCS    COUNTPL
 0669            TC     QPLAC
 0670            TC     QPLAC
 0671            NOOP
 0672   WAITLP2  TS     COUNTPL         ENTER HERE AFTER DOING CALLING JOB
 0673            CAF    WTLPCADR
 0674            TC     JOBSLEEP
 0675   WTLPCADR CADR   WAITLP1
 0676   WAITLP3  CAF    WTLPCADR
 0677            TC     JOBWAKE
 0678  6         TC     TASKOVER
 0679   ZEROING  TS     L
 0680            TCF    +2
 0681   ZEROING1 TS     ZERONDX
 0682            CAF    ZERO
 0683            INDEX  L
 0684            TS     0
 0685            INCR   L
 0686            CCS    ZERONDX
 0687            TCF    ZEROING1
 0688            TC     Q
 0689   COMPUT   TC     INTPRET         CALCULATE LENGTH OF GRAVITY VECTOR AS
 0690            AXT,1  AXT,2           MEASURED BY ACCELEROMETERS
 0691                   22D
 0692                   10D
 0693            SSP
 0694                   S1
 0695                   4
 0696            SSP
 0697                   S2
 0698                   4
 0699   LOPDELOP DLOAD* DSU*
 0700                   DATAPL +24D,2
 0701                   DATAPL +24D,1
 0702            PDDL*  DMP
 0703                   GENPL +24D,2
 0704                   DEC585
 0705            DDV
 0706            TIX,2  VDEF
 0707                   NEXT
 0708            ABVAL  RTB
 0709                   SGNAGREE
 0710            STCALL DSPTEM2
 0711                   KODU
 0712   NEXT     PUSH   TIX,1
 0713                   LOPDELOP
 0714   KODU     EXIT
 0715            TC     GRABWAIT
 0716            TC     SHOW
 0717            TC     INTPRET
 0718            SLOAD  PUSH
 0719                   DATAPL +1
 0720            SLOAD  PUSH
 0721                   DATAPL +5
 0722            SLOAD  VDEF
 0723                   DATAPL +11
 0724            UNIT   VSL1
 0725            PUSH
 0726            SLOAD  PUSH
 0727                   DATAPL +15
 0728            SLOAD  PUSH
 0729                   DATAPL +21
 0730            SLOAD  VDEF
 0731                   DATAPL +25
 0732            UNIT   VSL1
 0733            PDDL   DSU
 0734                   DATAPL +26
 0735                   DATAPL +12
 0736            SL4
 0737            SL3
 0738            STOVL  LENGTHOT
 0739            VXV    ABVAL
 0740            DMP    DDV
 0741                   ERUNITS
 0742                   LENGTHOT
 0743            RTB
 0744                   SGNAGREE
 0745            STORE  DSPTEM2
 0746            EXIT
 0747            TC     SHOW
 0748            TCF    RADCK
 0749   NBPOSPL  EXTEND                 SETS UP AZIMUTH AND VERTICAL VECTORS FOR
 0750            QXCH   QPLACE          AXISGEN,RESULTS TO BE USED IN CALCGA TO
 0751            TC     INTPRET
 0752            AXC,1  XSU,1           AZIMUTH IN NB COORDS
 0753                   SCNBAZ
 0754                   NBPOS
 0755            VLOAD*
 0756                   0,1
 0757  2         STORE  STARAD
 0758            AXC,1  XSU,1           VERTICAL IN NB COORDS
 0759                   SCNBVER
 0760                   NBPOS
 0761            VLOAD*
 0762                   0,1
 0763            STODL  STARAD +6
 0764                   SCHZEROS
 0765            STODL  6D
 0766                   AZIMUTH
 0767            COS    DCOMP
 0768            STODL  8D
 0769                   AZIMUTH
 0770            SIN
 0771            STORE  10D             VERTICAL IN CER
 0772            VLOAD
 0773                   SCNBVER
 0774            STCALL 12D
 0775                   AXISGEN
 0776  2         EXIT
 0777   SELPOSN  CA     DEC17
 0778            TS     ZERONDX
 0779            CA     XSMADR
 0780  2         TC     ZEROING
 0781            INDEX  POSITON
 0782            TC     +1
 0783            TC     OPCHKPOS        OPCHK WILL PUT ZERO IN POSITON
 0784            TC     POSN1
 0785            TC     POSN2
 0786            TC     POSN3
 0787            TC     POSN4
 0788            TC     POSN5
 0789            TC     POSN6
 0790            TC     POSN7
 0791            TC     POSN8
 0792            TC     POSN9
 0793            TC     POSN10
 0794  2         TC     POSN11           COMPASS POSITION
R0795   (XXX.XX MERU) AND A VERTICAL TEST BY DV (XXX.XX MERU) EACH POSITION TELL
R0796   HOW THE DISPLAYS ARE RELATED TO TTHE DRIFT COEFFICIENTS BEING MEASURED.
R0797   NOTE THAT IT IS ILLEGAL TO RUN VERTICAL IN POS 6,4, OR 2 WITHOUT FIRST
R0798   RUNNING HORIZONTAL OF POS 5,3, OR1. THIS IS BECAUSE THE HORIZ DRIFT CALC
R0799   IN 1,3, OR 5 IS USED AS EAST DRIFFFT FOR VERTICAL TEST. THIS IS DONE BY
R0800   THE MACHINE AUTOMATICALLY EXCEPT FOR VERTICAL POSITION 6 WHICH THE
R0801   OPERATOR MUST DO. (SEE POSITION 6 BELOW)
 0802   POSN1    CA     HALF            X UP, Y SOUTH, Z EAST
 0803            TS     XSM
 0804            TS     YSM +2            NBDY = DH
 0805            TS     ZSM +4
 0806   NGUBGH   CA     ZERO
 0807            TS     PIPINDEX
 0808  4         TC     QPLACE
 0817   POSN2    CS     HALF            X DOWN, Y WEST, Z NORTH
 0818            TS     XSM
 0819            TS     YSM +4           NBDZ=DH,NBDX-ADIAX=-DV
 0820            TS     ZSM +2
 0821  4         TC     NGUBGH
 0832   POSN3    CA     HALF             Z UP, Y WEST ,X NORTH
 0833            TS     ZSM
 0834            COM                      NBDX = -DH
 0835            TS     XSM +2
 0836            TS     YSM +4
 0837   NSFLAGD  CA     TWO
 0838            TS     PIPINDEX
 0839   NSBUGD   CA     ZERO
 0840            TS     DRIFTT
 0841  4         TC     QPLACE
 0845   POSN4    CA     HALF             Z DOWN, Y SOUTH ,X EAST
 0846            TS     XSM +4
 0847            TS     YSM +2
 0848            COM                     NBDY+SRAY=DH,NBDZ+ADIAZ=DV
 0849            TS     ZSM
 0850            CA     TWO
 0851            TS     PIPINDEX
 0852  4         TC     QPLACE
 0855   POSN5    CA     HALF            Y UP, Z NORTH, X WEST
 0856            TS     YSM
 0857            COM                     NBDZ-SRAZ=DH
 0858            TS     XSM +4
 0859            TS     ZSM +2
 0860            CA     ONE
 0861            TS     PIPINDEX
 0862  4         TC     NSBUGD
R0866   TO RUN POSITION 6 VERTICAL AFTER PIP TEST POS 6 IS DISPLAYED THE OPERATR
R0867   MUST CALCULATE FROM POSN 2,5 -NBDZ-ADSRAZ (XXX.XX)MERU. WHEN P
R0868   IP DATA FLASHES DO VERB 33 ENTER. THIS STARTS VERTICAL TEST. THEN THE
R0869   DATA XXX.XX MERU AS CALCULATED MUST BE ENTERED INTO DRIFTT. IE VERB 21
R0870   ENTER NOUN 01 ENTER LOCATION OF DRIFTT ENTER + (OR -) XXXXX ENTER
 0871   POSN6    CA     HALF            Y DOWN, Z EAST, X SOUTH
 0872            TS     XSM +2
 0873            TS     ZSM +4
 0874            COM                     NBDX +ADSRAX = DH, NBDY -ADIAY = -DV
 0875            TS     YSM
 0876            CA     ONE
 0877            TS     PIPINDEX
 0878  4         TC     QPLACE
 0883   POSN7    CS     HALF            Z UP-EAST,Y UP-WEST,X NORTH.THIS POSITON
 0884            TS     XSM +2
 0885            CA     ROOT1/2
 0886            TS     YSM              NBDX - .707 ADSRAX = -DH
 0887            TS     ZSM
 0888            TS     ZSM +4
 0889            COM
 0890            TS     YSM +4
 0891   GEORGES  TC     FLAG1DWN        UNSET GIMBAL LOCK FLAG
 0892            OCT    200
 0893  4         TC     NSBUGD
 0907   POSN8    CA     HALF            Z UP-SOUTH,Y UP-NORTH,X EAST.THIS POSITN
 0908            TS     XSM +4
 0909            CA     ROOT1/2          .707(-NBDZ-NBDY) +.5(ADIAZ-ADIAY)
 0910            TS     YSM              +.5(ADSRAY +ADSRAZ)=DH
 0911            TS     ZSM +2
 0912            TS     ZSM
 0913            COM
 0914            TS     YSM +2
 0915  4         TC     NSBUGD
 0922   OPCHKPOS CA     ROOT1SQ          OG=+45DEG,IG=-45DEG,MG=+45DEG.
 0923            TS     XSM
 0924            TS     YSM +2
 0925            TS     YSM +4
 0926            TS     ZSM
 0927            CA     ROOT1/2
 0928            TS     YSM
 0929            CA     ROOT3SQ
 0930            TS     XSM +2
 0931            TS     ZSM +4
 0932            CS     ROOT2SQ
 0933            TS     XSM +4
 0934            TS     ZSM +2
 0935  2         TC     QPLACE
 0936   POSN9    CA     HALF            X UP EAST,Y UP WEST,Z SOUTH.THIS POSITON
 0937            TS     ZSM +2
 0938            CA     ROOT1/2          -NBDZ +.707 SRAZ =DH
 0939            TS     XSM
 0940            TS     XSM +4
 0941            TS     YSM
 0942            COM
 0943            TS     YSM +4
 0944  4         TC     NSBUGD
 0955   POSN10   CA     HALF            X UP NORTH,Y UP SOUTH,Z EAST.THIS POSITN
 0956            TS     ZSM +4
 0957            CA     ROOT1/2           .707(NBDY -NBDX) +.5(ADIAY -ADIAX)
 0958            TS     XSM              +.5(ADSRAX) = DH
 0959            TS     YSM
 0960            TS     YSM +2
 0961            COM
 0962            TS     XSM +2
 0963  4         TC     NSBUGD
 0964   POSN11   TC     BANKCALL         COMPASS POSITION
 0965            CADR   LOADXSM
 0966  4         TC     QPLACE
 0970   SHOWLD   CA     DSPTEM2
 0971            TS     LENGTHOT
 0972            CA     DSPTEM2 +1
 0973            TS     NBPOS
 0974            CA     DSPTEM2 +2
 0975            TS     POSITON
 0976  2         TC     Q
 0977   SHOW     EXTEND
 0978            QXCH   QPLACE
 0979   SHOW1    CA     POSITON
 0980            TS     DSPTEM2 +2
 0981            CA     VB06N66
 0982            TC     NVSBWAIT
 0983            TC     FLASHON
 0984            TC     ENDIDLE
 0985            TC     FINISH
 0986            TC     QPLACE
 0987            TC     SHOWLD
 0988  4         TCF    SHOW1
 098801 LOADGTSM EXTEND                 THIS LOADS XSM INTO GEOMATRX
 098802          QXCH   QPLACE
 098803          TC     INTPRET
 098804          VLOAD
 098805                 XSM
 098806          STOVL  GEOMTRX
 098807                 YSM
 098808          STOVL  GEOMTRX +6
 098809                 ZSM
 098810          STORE  GEOMTRX +12D
 098811          EXIT
 0988128         TC     QPLACE
 0989   14C      EQUALS 0014
 0990   V21N30E  OCT    02130
 0991   DESANGLE DEC    2048
 0992   SFCONST  DEC    .13107
 0993   SIZCHK   OCT    34000
 0994   180DEC   DEC    180
 0995   3990DEC  DEC    3990
 0996   VB06N66  OCT    00666
 0997   TESTTIME DEC    600
 0998   V16N20S  OCT    01620
 0999   V16N40S  OCT    01640
 1000   DEC17    DEC    17
 1001   DEC585   2DEC   3200 B+14
 1002   DELYOFF  OCT    00400
 1003   ERUNITS  2DEC   342844 B-28
 1004   GENPLAD  GENADR AZIMUTH
 1005   GYRODPL  ECADR  GYROD
 1006   OGCPL    ECADR  OGC
 1007   LOWFOUR  OCT    77760
 1008   DEC56    DEC    56
 1009   45DEG    OCT    10000
 1010   ROOT1/2  DEC    .353553
 1011   ROOT1SQ  DEC    .250000
 1012   ROOT2SQ  DEC    .426776
 1013   ROOT3SQ  DEC    .073223
 1014  4XSMADR   GENADR XSM
 1018   SCNBAZ   2DEC   0
 1019            2DEC   0
 1020   LABNBAZ  2DEC   .5
 1021            2DEC   0
 1022            2DEC   0
 1023   SCNBVER  2DEC   .5
 1024            2DEC   0
 1025   LABNBVER 2DEC   0
 1026            2DEC   0
 1027            2DEC   -.5
 10271  1SECX    DEC    100
 10272  GEORGED  2DEC   .47408845
 10273           2DEC   .23125894
 10274           2DEC   .14561689
 10275  GEORGEC  2DEC   -.06360691
 10276           2DEC   -.16806746
 10277           2DEC   .15582939
 10278  GEORGEB  2DEC   -.06806784
 10279           2DEC   -.75079894
 102791          2DEC   -.24878704
 1030   DOCHECKG TC     MAKECADR
 1031            TS     QPLACES
 1032            TC     CHECKG
 1033            CA     QPLACES
 1034            TC     BANKJUMP
L      2IMU PERFORMANCE TESTS 3
 0001            BANK   23
 0002  4         EBANK= XSM
 0500   SILVER   EXTEND
 0501  2         QXCH   QPLACE           SHOULD BE ADDRESS OF STRTWACH
 0502            CCS    CALCDIR         2F COMMAND IS POSITIVE THE MINUS TORQ
 0503            CAF    BIT9             WINDING IS TO BE ENERGIZED
 0504            TC     +2
 0505            TC     TORK             COMMAND IS NEG SO USE PLUS WINDING
 0506            EXTEND
 0507  2         WOR    14C              SELECTS THE MINUS WINDING
 0508   TORK     CAF    POSMAX
 0509  2         TS     GYROCTR         16383 PULSES =2.8125 DEG LESS ONE PULSE
 0510            CCS    GYTOBETQ        C(K)= 1 FOR X, -0 FOR Y, -1FOR Z.
 0511            TC     SELECTX
 0512            TC     CCSHOLE
 0513            TC     SELECTZ
 0514            TC     SELECTY
 0515   SELECTX  CAF    TORKX           BBITS 7AND 10 IN CHANNEL 14 WILL
 0516            EXTEND                  SELECT X GYRO AND TURN ON BCSW 1/3200
 0517            WOR    14C             SSEC LATER BY CHANNEL OUTPUT DESIGN.....
 0518  2         TC     QPLACE
 0519   SELECTY  CAF    TORKY           BBITS 8 AND 10 TO TORQ Y GYRO
 0520            EXTEND
 0521            WOR    14C
 0522  2         TC     QPLACE
 0523   SELECTZ  CAF    TORKZ           BBITS 7,8AND 10 TO TORQ Z GYRO
 0524            EXTEND
 0525            WOR    14C
 0526            TC     QPLACE
 0527   TORKX    OCT    01100
 0528   TORKY    OCT    01200
 0529  8TORKZ    OCT    01300
 0530   SAMODCHK CAF    ZERO
 0531            TS     TESTNO
 0532  2         TS     RUN
 0533            TC     ZEROMODE
 0534  2         TC     OPRTRDLY
 0535  2         TC     COARZERO
 0536            TC     ZEROMAIN
 0537  2         TC     OPRTRDLY
 0538  2         TC     ZEROMODE
 0539            CAF    ZERO
 0540  2         TC     THETADLD
 0541            CAF    45ANG
 0542  2         TC     THETADLD
 0543  2         TC     FNZEROFN
 0544            CAF    90ANG
 0545  2         TC     THETADLD
 0546            CAF    135ANG
 0547  2         TC     THETADLD
 0548            CAF    ZERO
 0549  2         TC     THETADLD +2
 0550  2         TC     FNZEROFN
 0551            CAF    180ANG
 0552            TS     THETAD
 0553            TS     THETAD +1
 0554            CAF    71ANG
 0555  2         TC     THETADLD +2
 0556            CAF    225ANG
 0557  2         TC     THETADLD
 0558            CAF    ZERO
 0559  2         TC     THETADLD
 0560            CAF    TWO
 0561  2CHK2     TS     CDUNDX
 0562            CAF    170ANG
 0563            INDEX  CDUNDX
 0564  2         TS     THETAD
 0565            TC     BANKCALL
 0566  2         CADR   IMUCOARS
 0567            CAF    10ANG
 0568  2         TC     CDURATE
 0569            CAF    160ANG
 0570  2         TC     CDURATE
 0571  2         TC     CALCRATE
 0572            TC     BANKCALL
 0573            CADR   IMUSTALL
 0574  2         TCF    ENDTST03
 0575  2         TC     COARZERO
 0576            CCS    CDUNDX
 0577  2         TCF    CHK2
 0578            CS     45ANG
 0579  2         TC     THETADLD
 0580  2         TC     FNZEROFN
 0581            CS     135ANG
 0582            TS     THETAD
 0583            TS     THETAD +1
 0584            CS     71ANG
 0585  2         TC     THETADLD +2
 05851           CAF    ZERO
 05852 2         TC     THETADLD +2
 0586  2         TC     FNZEROFN
 0587  2         TC     COARZERO
 0588            TC     FINEZERO
 0589  2         TC     FINEZERO
 0590   CHK5     CS     4+6BITS
 0591            EXTEND
 0592  2         WAND   12
 0593            CAF    FOUR
 0594            TC     WAITLIST
 05945           EBANK= XSM
 0595            2CADR  ECE1
 0596            CAF    ECE2CADR
 0597  2         TC     JOBSLEEP
 0598   ECE1     CAF    ECE2CADR
 0599            TC     JOBWAKE
 0600  2         TC     TASKOVER
 0601   ECE2     CS     SIX
 0602            AD     TESTNO
 0603            EXTEND
 0604            BZMF   +2
 0605  2         TCF    CHKX
 0606            INDEX  TESTNO
 0607            CAF    ERCTRANG
 0608            TS     THETAD
 0609            TS     THETAD +1
 0610  2         TS     THETAD +2
 0611            CAF    BIT6
 0612            EXTEND
 0613  2         WOR    12
 0614            INHINT
 0615            CAF    TWO
 0616            TC     WAITLIST
 06165           EBANK= XSM
 0617            2CADR  ATTCK2
 0618  2         RELINT
 0619  2         TC     OPRTRDLY
 0620  2         INCR   TESTNO
 0621  2         TCF    CHK5
 0622  2CHKX     TC     COARZERO
 0623            CAF    ZERO
 0624  2         TS     TESTNO
 0625            TC     BANKCALL
 0626            CADR   RRZERO
 0627            TC     BANKCALL
 0628            CADR   RADSTALL
 0629  2         TCF    ENDTST03
 0630   CHK6     INDEX  TESTNO
 0631            CAF    RADECNTR
 0632            TS     TANG +1
 0633  2         TS     TANG
 0634            TC     BANKCALL
 0635  2         CADR   RRDESNB
 0637            TC     BANKCALL
 0638            CADR   RADSTALL
 0639  2         TCF    ENDTST03
 0640  2         TC     RROPRDLY
 0641  2         INCR   TESTNO
 0642            CS     FOUR
 0643            AD     TESTNO
 0644            EXTEND
 0645  2         BZMF   CHK6
 0646            CAF    ZERO
 0647            TS     TESTNO
 0648            TS     ALTRATE
 0649            TS     ALT
 0650  2         TS     ALT +1
 0651            CS     ONE
 0652  2         TS     DIDFLG
 0653   CHK7     INDEX  TESTNO
 0654            CAF    RRRATFPS
 0655            TS     FORVEL
 0656  2         TS     LATVEL
 0657  2         TC     RROPRDLY
 0658  2         INCR   TESTNO
 0659            CS     BIT5
 0660            AD     TWO
 0661            AD     TESTNO
 0662            EXTEND
 0663  2         BZMF   CHK7
 0664   ENDTST03 TC     BANKCALL
 0665  6         CADR   ENDTEST
 0666   ERCTRANG OCT    03013
 0667            OCT    02660
 0668            OCT    01042
 0669            OCT    00000
 0670            OCT    76736
 0671            OCT    75120
 0672  6         OCT    74765
 0673   RADECNTR OCT    01463
 0674            OCT    01042
 0675            OCT    00000
 0676            OCT    76736
 0677  6         OCT    76315
 0678   RRRATFPS OCT    00000
 0679            OCT    00001
 0680            OCT    00002
 0681            OCT    00004
 0682            OCT    00010
 0683            OCT    00020
 0684            OCT    00040
 0685            OCT    00100
 0686            OCT    00200
 0687            OCT    00237
 0688            OCT    00400
 0689            OCT    00545
 0690            OCT    00544
 0691            OCT    77540
 0692  8         OCT    77232
 0693   CDURATE  EXTEND
 0694  2         QXCH   QPLACE
 0695  2         TS     CDULIMIT
 0696            CCS    NEWJOB
 0697  2         TC     CHANG1
 0698            CS     CDULIMIT
 0699            INDEX  CDUNDX
 0700            AD     CDUX            CATCH FIRST PULSE
 0701            EXTEND
 0702  2         BZMF   CDURATE +3      LOOK AGAIN
 0703            INDEX  CDUNDX
 0704            CAE    CDUX
 0705            XCH    CDUREADF        CDU FINAL READING
 0706  2         XCH    CDUREADI        CDU INITIAL READING
 0707            TC     FINETIME
 0708            DXCH   CDUTIMEF        DP FINAL TIME
 0709  2         DXCH   CDUTIMEI        DP INITIAL READING
 0710            RELINT
 0711  6         TC     QPLACE
 0712   CALCRATE EXTEND
 0713  2         QXCH   QPLACE
 0714            DXCH   CDUREADF
 0715            EXTEND
 0716            MSU    L
 0717  2         TS     CDUANG
 0718            TC     INTPRET
 0719            DLOAD  DSU
 0720                   CDUTIMEF
 0721                   CDUTIMEI
 0722            PUSH   SLOAD
 0723                   CDUANG
 0724            SR     DDV
 0725                   14D
 0726            DMP    RTB
 0727                   DEG/SEC
 0728                   SGNAGREE
 0729            STORE  DSPTEM2
 0730  2         EXIT
 0731   RATEDSP  CAF    V06N66X
 0732            TC     NVSBWAIT
 0733            TC     FLASHON
 0734            TC     ENDIDLE
 0735            TCF    ENDTST03
 0736            TCF    +2
 0737  2         TCF    RATEDSP
 0738            INCR   RUN
 0739  8         TC     QPLACE
 0740   THETADLD TS     THETAD
 0741            TS     THETAD +1
 0742  2         TS     THETAD +2
 0743            EXTEND
 0744  2         QXCH   QPLACE
 0745            CAF    SEVEN
 0746  2THLD1    TS     STOREPL
 0747            TC     BANKCALL
 0748            CADR   IMUCOARS
 0749            TC     BANKCALL
 0750            CADR   IMUSTALL
 0751  2         TCF    ENDTST03
 0752            CCS    STOREPL
 0753  2         TC     THLD1
 0754  2         TC     OPRTRDLY
 0755  6         TC     QPLACE
 0756   FINEALGN EXTEND
 0757  2         QXCH   QPLACE
 0758            TC     BANKCALL
 0759            CADR   IMUFINE
 0760            TC     BANKCALL
 0761            CADR   IMUSTALL
 0762  2         TCF    ENDTST03
 0763  8         TC     QPLACE
 0764   CH30DSPY EXTEND
 0765  2         QXCH   QPLACE
 0766            CAF    OCT30
 0767            TS     MPAC +2
 0768            CAF    V01N10X
 0769            TC     NVSBWAIT
 0770            TC     FLASHON
 0771            TC     ENDIDLE
 0772            TCF    ENDTST03
 0773            TCF    +2
 0774  2         TCF    CH30DSPY +2
 0775            TC     FLASHOFF
 0776            INCR   RUN
 0777  6         TC     QPLACE
 0778   ZEROMODE EXTEND
 0779  2         QXCH   QPLACE
 0780            TC     BANKCALL
 0781            CADR   IMUZERO
 0782            TC     BANKCALL
 0783            CADR   IMUSTALL
 0784  2         TCF    ENDTST03
 0785  6         TC     QPLACE
 0786   ZEROMAIN CS     4+6BITS
 0787            EXTEND
 0788  2         WAND   12
 0789            CAF    BIT5
 0790            EXTEND
 0791  2         WOR    12
 0792  6         TC     Q
 0793   RROPRDLY EXTEND
 0794  2         QXCH   QPLAC
 0795  2         INCR   RUN
 0796            CAF    V06N40X
 0797  6         TCF    OPRTRDLY +4
 0798   OPRTRDLY EXTEND
 0799  2         QXCH   QPLAC
 0800            INCR   RUN
 0801            CAF    V06N20X
 0802            TC     NVSBWAIT
 0803            CAF    V33N00X
 0804            TC     NVSBWAIT
 0805            CA     RUN
 0806            MASK   6LOW
 0807            TC     NVSBWAIT
 0808            TC     FLASHON
 0809            TC     ENDIDLE
 0810            TCF    ENDTST03
 0811            TCF    +2
 0812  2         TCF    OPRTRDLY +3
 0813            TC     FLASHOFF
 0814  2         TC     QPLAC
 0815   FINEZERO EXTEND
 0816  2         QXCH   QPLAC
 0817            TC     BANKCALL
 0818  2         CADR   IMUZERO
 0819            CAF    TWO
 0820            TS     EROPTN
 0821            CAF    FOUR
 0822  2         TS     POSITON
 0823            INHINT
 0824            CS     BIT10
 0825            MASK   STATE
 0826            AD     BIT10
 0827            TS     STATE
 0828  2         RELINT
 0829            TC     BANKCALL
 0830  2         CADR   LEMLAB
 0831  2SAMODRTN TC     GRABWAIT
 0834  2         TC     ZEROMAIN
 083405          INHINT
 083410          CAF    BIT11
 083415          TC     WAITLIST
 083417          EBANK= XSM
 083420          2CADR  DSPY30
 083425          CAF    CH30WAKE
 0834302         TC     JOBSLEEP
 083435 DSPY30   CAF    CH30WAKE
 083440          TC     JOBWAKE
 0834452         TC     TASKOVER
 0835   DSPYCH30 TC     CH30DSPY
 0836  2         TC     ZEROMODE
 0837  4         TC     QPLAC
 0838   COARZERO CAF    ZERO
 0839            TS     THETAD
 0840            TS     THETAD +1
 0841  2         TS     THETAD +2
 0842            EXTEND
 0843  2         QXCH   QPLACE
 0844            TC     BANKCALL
 0845            CADR   IMUCOARS
 0846            TC     BANKCALL
 0847            CADR   IMUSTALL
 0848  2         TCF    ENDTST03
 0849  8         TC     QPLACE
 0850   FNZEROFN EXTEND
 0851  2         QXCH   QPLAC
 0852  2         TC     FINEALGN
 0853            CAE    CDUX
 0854            TS     CDUREADF
 0855            CAE    CDUY
 0856            TS     CDUREADI
 0857            CAE    CDUZ
 0858  2         TS     CDULIMIT
 0859  2         TC     ZEROMODE
 0868   FZF2     CAE    CDUREADF
 0869            EXTEND
 0870            MSU    CDUX
 0871  2         TS     DSPTEM1
 0872            CAE    CDUREADI
 0873            EXTEND
 0874            MSU    CDUY
 0875  2         TS     DSPTEM1 +1
 0876            CAE    CDULIMIT
 0877            EXTEND
 0878            MSU    CDUZ
 0879  2         TS     DSPTEM1 +2
 0880   FZFDSP   CAF    V05N30X
 0881            TC     NVSBWAIT
 0882            TC     FLASHON
 0883            TC     ENDIDLE
 0884            TCF    ENDTST03
 0885            TCF    +2
 0886  2         TCF    FZFDSP
 0887            INCR   RUN
 0888  8         TC     QPLAC
 0889   1ANG     OCT    00133
 0890   33.75ANG OCT    06000
 0891   45ANG    OCT    10000
 0892   71ANG    OCT    14477
 0893   90ANG    OCT    20000
 0894   135ANG   OCT    30000
 0895   10ANG    OCT    01616
 0896   160ANG   OCT    34344
 0897   180ANG   OCT    40000
 0898   225ANG   OCT    50000
 0899  2170ANG   OCT    36162
 0900   6LOW     OCT    77
 0901   OCT30    OCT    30
 0902   3SEC     DEC    300
 0903  24+6BITS  OCT    00050
 0904   V01N10X  OCT    00110
 0905   V05N30X  OCT    00530
 0906   V06N20X  OCT    00620
 0907   V06N40X  OCT    00640
 0908   V06N66X  OCT    00666
 0909  2V33N00X  OCT    03300
 09095  CH30WAKE CADR   DSPYCH30
 0910   ECE2CADR CADR   ECE2
 0911   FZF2CADR CADR   FZF2
 0912  2OGCECADR ECADR  OGC
 0913  6DEG/SEC  2DEC   576000 B-28
L      2OPTIMUM PRELAUNCH ALIGNMENT CALIBRATION
R000001 PROGRAM NAME-OPTIMUM PRELAUNCH ALIGNMENT CALIBRATION
R000002 DATE- NOVEMBER 2  1966
R000003 BY- GEORGE SCHMIDT IL 7-146 EXT. 126
R000004 MOD NO 2
R0000062FUNCTIONAL DESCRIPTION
R000008 THIS LOG SECTION CONSISTS OF PRELAUNCH ALIGNMENT AND GYRO DRIFT TESTS
R000009 INTEGRATED TOGETHER TO SAVE WORDS. IT IS COMPLETELY RESTART PROOFED.
R000010 THE PRELAUNCH ALIGNMENT TECHNIQUE IS BASICALLY THE SAME AS IN BLOCK 1
R000011 EXCEPT THAT IT HAS BEEN SIMPLIFIED IN THE SENSE THAT SMALL ANGLE APPROX.
R000012 HAVE BEEN USED. THE DRIFT TESTS USE A UNIQUE IMPLEMENTATION OF THE
R000013 OPTIMUM STATISTICAL FILTER. FOR A DESCRIPTION SEE E-1973.BOTH OF THESE
R000014 ROUTINES USE STANDARD SYSTEM TEST LEADIN PROCEDURES. THE INITIALIZATION
R000015 PROCEDURE FOR THE DRIFT TESTS IS IN THE JDC S. THE INITIALIZATION METHOD
R000016 FOR GYROCOMPASS IS IN A STG MEMO FOR EACH ASSEMBLY.
R000017 THIS LOG SECTION ALWAYS STARTS BY A CADR IN IMU PERF. TESTS 2 AND BEGINS
R000018 AT ESTIMS. THE PIPS ARE READ EVERY .5 SEC IN COMPASS AND 1 SEC IN DRIFT
R000019 TESTS. THEN IN BOTH CASES RELEVANT COMPUTATION IS DONE. THE KEY ERASABLE
R000020 IS GEOCOMPS- 0 WE ARE IN A DRIFT TEST -NONZERO WE ARE IN COMPASS.
R000021 THE GYROCOMPASS HAS THE CAPABILITY TO ALIGN TO ANY ORIENTATION,HAS THE
R000022 CAPABILITY TO BE COMPENSATED FOR
R0000232COMPONENT ERRORS,IS CAPABLE OF OPTICAL VERIFICATION( CSM ONLY).
R0000252SUBROUTINES CALLED
R000027 EARTHR, CALGTA,  OGC ZERO,ERTHRVSE,GCOMPZERO AND
R000028 IMU COMPENSATION
R000029 DURING OPTICAL VERIFICATION (CSM ONLY) ESSENTIALLY ALL OF INFLIGHT ALIGN
R0000302IS CALLED IN ONE WAY OR ANOTHER. SEE THE LISTING.
R0000322NORMAL EXIT
R000034 DRIFT TESTS- LENGTHOT GOES TO ZERO-RETURN TO IMU PERF TEST2 CONTROL
R000035 GYROCOMPASS-GRR RECEIVED OR G LEVEL EXCEEDS GLIFTOFF-START UP MP 2
R0000362                                                     206 IMPLEMENTATION
R0000382ALARMS
R000040 1600     OVERFLOW IN DRIFT TEST
R000041 1601     BAD IMU TORQUE ABORT
R00004221602     BAD OPTICS DURING VERIFICATION-RETURN TO COMPASS      CSM ONLY
R0000442OUTPUT
R000046 DRIFT TESTS- FLASHING DISPLAYS OF RESULTS-CONTROLLED IN IMU PERF TESTS 2
R000047 COMPASS-PROGRAM MODE LIGHTS TELL YOU WHAT PHASE OF PROGRAM YOU ARE IN
R000048    01    INITIALIZING THE PLATFORM POSITION AND ERASABLE
R000070    02    GYROCOMPASSING
R000071    03    DOING OPTICAL VERIFICATION (CSM)
R000072    04    GRR SIGNAL RECEIVED FINISH UP TORQUE AND TC MP2JOB
R0000732                                                      206 IMPLEMENTATION
R0000752DEBRIS
R0000778ALL CENTRALS,ALL OF EBANK XSM,AND 78 DEC LOCATIONS  (SEE STOREDTA..
 0001            BANK   35
 0003  4         EBANK= XSM
R0004   G SCHMIDT SIMPLIFIED ESTIMATION PROGRAM FOR ALIGNMENT CALIBRATION. THE
R0005   PROGRAM IS COMPLETELY RESTART PROFED. DATA STORED IN BANK4.
 0010   ESTIMS   TC     PHASCHNG
 0011            OCT    00075
 00115           CAF    BIT1
 00116 2         TC     SETRSTRT        SET RESTART FLAG
 0012   RSTGTS1  INHINT                  COMES HERE PHASE1 RESTART
 0015            CA     TIME1
 0016            TS     GTSWTLST
 0017            CS     ZERO
 0018            TS     PIPAX
 0019            TS     PIPAY
 0020            TS     PIPAZ
 00201           TS     DELVX +1
 00202           TS     DELVY +1
 00203           TS     DELVZ +1
 0021            RELINT
 0022            TC     SETUPER
 0023            CA     77DECML
 0024            TS     ZERONDX
 0025            CA     ALXXXZ
 0026            TC     BANKCALL
 0027            CADR   ZEROING
 0028            TC     INTPRET
 0029            VLOAD
 0030                   INTVAL +2
 0031            STORE  ALX1S
 0032  2         EXIT
 0033            CCS    GEOCOMPS        GEOCOMPS IN NON ZERO IF COMPASS
 0034            TC     +2
 0035            TC     SLEEPIE +1
 0036            CA     LENGTHOT          TIMES FIVE IS THE NUM OF SEC ERECTING
 0037  2         TS     ERECTIME
 003701          CA     ONE
 003702          TS     PHASENUM
 0038            TC     NEWMODEX
 0039            OCT    02
 003910          TC     BANKCALL
 003911          CADR   GCOMPZER          ZERO COMPENSATION PROGRAM REGISTERS
 0040  8         TC     ANNNNNN
 0087   ALLOOP   CA     TIME1
 0088            XCH    GTSWTLST        STORE TIME TO SET UP NEXT WAITLIST.
 00885 2         TS     OLDGT           SAVE LAST READ TIME.
 0089   ALLOOP3  CA     ALTIM
 0090            TS     GEOSAVED
 0091            TC     PHASCHNG
 0092            OCT    00115
 0095   ALLOOP1  CA     GEOSAVED
 0096            TS     ALTIM
 0097            CCS    A
 0098            CA     A               SHOULD NEVER HIT THIS LOCATION
 0099            TS     ALTIMS
 0100            CS     A
 0101            TS     ALTIM
 01011           CA     PIPAX
 01012           TS     DELVX
 01013           CA     PIPAY
 01014           TS     DELVY
 01015           CA     PIPAZ
 010151          TS     DELVZ
 010152          CA     SCHOCT23
 010153          TC     NEWPHASE
 010154          OCT    00005
 010161 SPECSTS  CS     ZERO
 010162          TS     PIPAX
 010163          TS     PIPAY
 010164          TS     PIPAZ
 0113            CAF    PRIO20
 0116            TC     FINDVAC
 01165           EBANK= XSM
 0117            2CADR  ALFLT            START THE JOB
 0118  8         TC     TASKOVER
 0119   ALFLT    TC     STOREDTA         STORE DATA IN CASE OF RESTART IN JOB
 0120            TC     PHASCHNG        THIS IS THE JOB DONE EVERY ITERATION
 0121            OCT    00215
 012101          TCF    +2
 012102 ALFLT1   TC     LOADSTDT         COMES HERE ON RESTART
 01211           CCS    GEOCOMPS
 01212           TC     +2
 01213           TC     NORMLOP
 012131          TC     CHKCOMED             SEE IF PRELAUNCH OVER
 01214           TC     BANKCALL         COMPENSATION IF IN COMPASS
 01215           CADR   1/PIPA
 012200          CS     GTSWTLST        SEE IF MEASURED DELV LOOKS LIKE LIFTOFF
 012205          AD     OLDGT           HAS OCCURRED.
 012210          EXTEND
 012215          BZMF   +3
 012220          AD     NEG1/2          (IF TIME1 OVERFLOWED)
 012225          AD     NEG1/2
 0122302         TS     MPAC +3         DT STORED NEGATIVELY
 0122352         TC     INTPRET
 012240          SLOAD  SL4             SCALE DT AT 2(+10) CS.
 012245                 MPAC +3
 012250          PDVL   ABVAL
 012255                 DELV
 012260          DDV                    GET ACC (NEG) IN M/SEC SQ SCALED 2(4)
 012265          DAD    BMN             (DV OVFLO GIVES DP POSMAX)
 012270                 GLIFTOFF        WHEN GLIFTOFF = DP POSMAX, THIS KIND OF
 012275                 GRRNOW          LIFTOFF DETECTION IS INHIBITED.
 0122802         EXIT                   CONTINUE GYROCOMPASS IF NO LIFTOFF.
 0124   NORMLOP  EXTEND
 0125            DCA    INTVAL
 01251           INDEX  FIXLOC
 0126            DXCH   S1
 0127            CCS    GEOCOMPS
 0128            TC     PALFLT           COMPASS
 0129            TC     INTPRET          NO COMPZSS
 0131   ALCGKK   SLOAD  BMN
 0132                   ALTIMS
 0133                   ALFLT2
 0134   ALKCG    AXT,2  LXA,1            LOADS SLOPES AND TIME CONSTANTS AT RQST
 0135                   12D
 0136                   ALX1S
 0137   ALKCG2   DLOAD* INCR,1
 0138                   ALFDK +144D,1
 0139            DEC    -2
 0140            STORE  ALDK +10D,2
 0141            TIX,2  SXA,1
 0142                   ALKCG2
 0143  2                ALX1S
 01431           EXIT
 01432  PALFLT   TC     INTPRET
 0144   ALFLT2   VLOAD  VXM
 0145                   DELVX
 0146                   GEOMTRX
 0147            VSL1
 0149            DLOAD  DCOMP
 0150                   MPAC +3
 0151            STODL  DPIPAY
 0152                   MPAC +5
 0153  2         STORE  DPIPAZ
 0154            SETPD  AXT,1           MEASUREMENT INCORPORATION ROUTINES.
 0155                   0
 0156                   8D
 0157            SLOAD  DCOMP
 0158                   GEOCOMPS
 01581           BMN
 0159                   ALWAYSG         DO A QUICK COMPASS
 0160   DELMLP   DLOAD* DMP
 0161                   DPIPAY +8D,1
 0162                   PIPASC
 0163            SLR    DAD*
 0164                   9D
 0165                   DELM +8D,1
 0166            DSU*   PDDL*
 0167                   INTY +8D,1
 0168                   VLAUN +8D,1
 0169            DSU*   DMP
 0170                   VLAUNS +8D,1
 0171                   VELSC
 0172            SL2R
 0173            DAD    STADR
 0174            STORE  DELM +8D,1
 0175            STORE  DELM +10D,1
 01751           DLOAD*
 0176                   VLAUN +8D,1
 0177            STORE  VLAUNS +8D,1
 01771           DLOAD
 0178                   INTVAL -2
 0179            STORE  INTY +8D,1
 0180            TIX,1  AXT,2
 0181                   DELMLP
 0182                   4
 0183   ALILP    DLOAD* DMPR*
 0184                   ALK +4,2
 0185                   ALDK +4,2
 0186            STORE  ALK +4,2
 0187            TIX,2  AXT,2
 0188                   ALILP
 0189                   8D
 0190   ALKLP    LXC,1  SXA,1
 0191                   CMPX1
 0192                   CMPX1
 0193            DLOAD* DMPR*
 0194                   ALK +1,1
 0195                   DELM +8D,2
 0196            DAD*
 0197                   INTY +8D,2
 0198            STORE  INTY +8D,2
 01981           DLOAD* DAD*
 0199                   ALK +12D,2
 0201                   ALDK +12D,2
 0202            STORE  ALK  +12D,2
 0203            DMPR*  DAD*
 0204                   DELM +8D,2
 0205                   INTY +16D,2
 0206            STORE  INTY +16D,2
 02061           DLOAD* DMP*
 0207                   ALSK +1,1
 0209                   DELM +8D,2
 0210            SL1R   DAD*
 0211                   VLAUN +8D,2
 0212            STORE  VLAUN +8D,2
 0213            TIX,2  AXT,1
 0214                   ALKLP
 0215  4                8D
 0216   LOOSE    DLOAD* PDDL*
 0217                   ACCWD +8D,1
 0218                   VLAUN +8D,1
 0219            PDDL*  VDEF
 0220                   POSNV +8D,1
 0221            MXV    VSL1
 0222                   TRANSM1
 0223            DLOAD
 0224                   MPAC
 0225            STORE  POSNV +8D,1
 02251           DLOAD
 0226                   MPAC +3
 0227            STORE  VLAUN +8D,1
 02271           DLOAD
 0228                   MPAC +5
 0229            STORE  ACCWD +8D,1
 0230            TIX,1
 0231  4                LOOSE
 0232            AXT,2  AXT,1            EVALUATE SINES AND COSINES
 0233                   6
 0234                   2
 0235   BOOP     DLOAD* DMPR
 0236                   ANGX +2,1
 0237                   GEORGEJ
 0238            SR2R
 0239            PUSH   SIN
 0240            SL1R   XAD,1
 0241                   X1
 0242            STORE  6D,2
 0243            DLOAD
 02435           COS
 0244            STORE  22D,2            COSINES
 0245            TIX,2  DLOAD
 0246  4                BOOP
 0247                   14D
 0248            SL2    DAD
 0249                   INTY
 0250            STODL  INTY
 0251                   12D
 0252            DMP    SL3R
 0253                   20D
 0254            DAD
 0255                   INTZ
 0256            STODL  INTZ
 0257                   16D
 0258            DMPR   DMPR
 0259                   18D
 0260                   14D
 0261            SL2
 0262            PDDL   DMPR
 0263                   10D
 0264                   12D
 0265            DAD
 0266            DMPR
 0267                   WANGI
 0268            PDDL   DMPR
 0269                   18D
 0270                   20D
 0271            DMP    SL2R
 0272                   WANGO
 0273            BDSU
 0274                   DRIFTO
 0275            DSU    STADR
 0276            STODL  WPLATO
 0277                   16D
 0278            DMPR   DMP
 0279                   20D
 0280                   WANGI
 0281            SL2R
 0282            PDDL   DMPR
 0283                   WANGO
 0284                   14D
 0285            DAD
 0286                   DRIFTI
 0287            DSU
 0288            PDDL   DMPR
 0289                   WANGT
 0290                   WANGI
 0291            DAD    STADR
 0292            STODL  WPLATI
 0293                   18D
 0294            DMP    SL1R
 0295                   10D
 0296            PDDL   DMPR
 0297                   12D
 0298                   16D
 0299            DMP    SL1R
 0300                   14D
 0301            BDSU
 0302            DMPR
 0303                   WANGI
 0304            PDDL   DMPR
 0305                   12D
 0306                   20D
 0307            DMP    SL1R
 0308                   WANGO
 0309            BDSU
 0310                   DRIFTT
 0311            DAD                     WPLATT NOW IN MPAC
 0312            PUSH                   PUSH IT DOWN-X IT BY SANG +2
 0313            DMPR   SR1R
 0314                   12D
 0315            PDDL   DMPR
 0316                   WPLATO
 0317                   18D
 0318            DAD
 0319            DDV
 0320                   20D
 0321            PUSH   DMPR
 0322                   GEORGEK
 0323            SRR    DAD
 0324                   13D
 0325                   ANGX
 0326            STODL  ANGX
 0327            DMPR   DAD
 0328                   14D
 0329                   WPLATI
 0330            DMPR   SRR
 0331                   GEORGEK
 0332                   13D
 0333            DAD
 0334                   ANGY
 0335            STODL  ANGY
 0336                   18D
 0337            DMP    SL1R            MULTIPLY X WPLATT -SL1- PUSH AND RELOAD
 0338            PDDL   DMPR
 0339                   12D
 0340                   WPLATO
 0341            BDSU
 0342            DMPR   SRR
 0343                   GEORGEK
 0344                   13D
 0345            DAD
 0346                   ANGZ
 0347            STORE  ANGZ
 0348            BOVB   EXIT
 0349                   SOMEERRR
 0350            CCS    LENGTHOT
 03501           TC     SLEEPIE
 03502 4         TC     SETUPER1
 0351   ALWAYSG  DLOAD* DSU*            COMPASS AND ERECT
 0352                   DPIPAY +8D,1
 0353                   FILDELV +8D,1
 0354            DMPR   DAD*
 0355                   GEOCONS1
 0356                   FILDELV +8D,1
 0357            STORE  FILDELV +8D,1
 0358            DAD*
 0359                   INTVEC +8D,1
 0360            STORE  INTVEC +8D,1
 0361            DMPR   DAD*
 0362                   GEOCONS2
 0363                   FILDELV +8D,1
 0364            DMPR   PUSH
 0365                   GEOCONS1
 0366            TIX,1  SLOAD
 0367                   ALWAYSG
 0368                   ERECTIME
 0369            BZE    DLOAD
 0370                   COMPGS          COMPASS
 0371                   THETAN +2
 0372            DSU    STADR
 0373            STODL  THETAN +2
 0374            BDSU
 0375                   THETAN +4
 0376            STORE  THETAN +4
 0377            GOTO
 0378                   ADDINDRF
 0379   COMPGS   DLOAD  DAD             COMPASS
 0380                   THETAN
 0381                   FILDELV
 0382            STODL  THETAN
 0383                   FILDELV
 0384            DMPR   BDSU
 0385                   GEOCONS3
 0386                   THETAN +4
 0387            STODL  THETAN +4
 0388                   FILDELV +4
 0389            DMPR   BDSU
 0390                   GEOCONS3
 0391                   THETAN +2
 0392            PDDL   DMP
 0393                   INTVEC +4
 0394                   GEOCONS4
 0395            BDSU   STADR
 0396            STORE  THETAN +2
 0397   ADDINDRF VLOAD
 0398                   THETAN
 0399            STORE  COMPTORK        IN E7 FOR DOWNLINK.
 0400  2         EXIT
 0404   ENDGTSAL CCS    LENGTHOT         IS 5 SEC OVER-THE TIME TO TORQ PLATFORM
 0405            TC     SLEEPIE          NO-SET UP NEXT WAITLIST CALL FOR .5 SEC
 0406            CCS    LGYRO            YES BUT ARE GYROS BUSY
 0407  4         TCF    ANNNNNN +2       BUSY-GET THEM .5 SECONDS FROM NOW
 0408  2         TC     CHKCOMED        SEE IF LAST TIME FOR COMPASS
 04100  LASTGTS  TC     INTPRET
 04101           VLOAD
 04102                  ERCOMP
 04103           STODL  THETAX
 04104                  TMARK
 04105           STORE  ALK
 04106 2         EXIT                    PREVIOUS SECTION WAS FOR RESTARTS
 04107 2RESTAIER TC     PHASCHNG
 0411            OCT    00255
 0415            TC     INTPRET          ADD COMPASS COMMANDS INTO ERATE
 0416            VLOAD  MXV
 04161                  THETAN
 0417                   GEOMTRX
 04171           VSL1   VAD
 0418                   THETAX
 0419            STODL  ERCOMP
 04191                  ALK
 04192           STORE  TMARK
 0420            EXIT
 0421            TC     BANKCALL
 04211           CADR   EARTHR           TORQUE IT ALL IN
 04212           CA     ERECTIME
 0422            TS     GEOSAVED
 04221 4RESTEST1 TCF    NOCHORLD
 04223  REDO3.27 INHINT                 PRELAUNCH DONE
 042231          TC     CHECKMM
 042232          OCT    11              SEE IF LIFTOFF IS DISPLAYED
 042233          TC     +2              NO , DISPLAY MM 7.
 0422342         TCF    ENDOFJOB        LIFTOFF DISPLAYED - IGNORE MM 7.
 04224           TC     NEWMODEX        PRELAUNCH DONE
 0423            OCT    7               DISPLAY MAJOR MODE 7
 04235           CAF    ZERO
 04236           TC     NEWPHASE        TURN OFF FINAL PRELAUNCH PROTECTION.
 04237 2         OCT    00003
 0424  4         TCF    ENDOFJOB        TERMINATE PRELAUNCH
 0458   SETUPER1 TC     INTPRET
 0459            DLOAD  PDDL             ANGLES FROM DRIFT TEST ONLY
 0460                   ANGZ
 0461                   ANGY
 0462            PDDL   VDEF
 0463                   ANGX
 0464            VCOMP  VXSC
 0465                   GEORGEJ
 0466            MXV    VSR1
 0467                   GEOMTRX
 0468            STORE  OGC
 0469  4         EXIT
 0470   TORQINCH TC     PHASCHNG
 0471            OCT    00175
 0472            CA     AINGYRO
 0473            TC     BANKCALL
 0474            CADR   IMUPULSE
 0475            TC     BANKCALL
 0476            CADR   IMUSTALL
 0477  8         TC     SOMERR2          BAD GYRO TORQUE-END OF TEST
 0478   GEOSTRT4 CCS    TORQNDX          ONLY POSITIVE IF IN VERTICAL DRIFT TEST
 0479            TC     GEOBAVR         VERT DRIFT TEST OVER
 0480            TC     SETUPER          SET UP ERATE FOR PIPTEST OR COMPASS
 0483            TC     BANKCALL        GO TO IMU2 FOR A PIPA TEST AND DISPLAY
 0484  2         CADR   TORQUE
 0485   GEOBAVR  TC     BANKCALL
 0486  8         CADR   VALMIS           DISPLAY VERTICAL DRIFT
R04861  SET UP WAITLIST SECTION
 0487   SLEEPIE  TS     LENGTHOT        TEST NOT OVER-DECREMENT LENGTHOT
 0488            TC     PHASCHNG         CHANGE PHASE
 0489            OCT    00135
 0490            CCS    TORQNDX         ARE WE DOING VERTDRIFT
 0491            TC     EARTTPRQ        YES,DO HOR ERATE TORQ THEN SLEEP
 0492            TC     WTLISTNT        GO TO SET UP NEXT WAITLIST
 0493   EARTTPRQ TC     BANKCALL        IN VERTDRIFT,ADD HOR ERATE AND SLEEP
 0494            CADR   EARTHR
 0495  2WTLISTNT TC     CHKCOMED        SEE IF GYROCOMPASS OVER
 04951           INHINT
 0496            CS     TIME1
 0497            AD     GTSWTLST
 0498            EXTEND
 0499            BZMF   +2
 0500            AD     NEGMAX
 0501            AD     1SECXT          1 SEC FOR CALIBRATION,.5 SEC IN COMPASS
 0502            EXTEND
 0503            BZMF   RIGHTGTS
 0504   WTGTSMPL TC     WAITLIST
 05045           EBANK= XSM
 0505            2CADR  ALLOOP
 0506            RELINT
 0507            TC     ENDOFJOB
 0508   RIGHTGTS CAF    TWO
 0509  4         TC     WTGTSMPL
 0510   SOMEERRR TC     ALARM
 0511            OCT    1600
 0512            TC     +3
 0513   SOMERR2  TC     ALARM
 0514            OCT    1601
 0515            TC     BANKCALL
 0516  8         CADR   ENDTEST
 0519   NOCHORLD TC     PHASCHNG
 0520  2         OCT    00155
 0521            TC     INTPRET
 0522            VLOAD
 0523                   SCHZEROS
 0525            STORE  THETAN
 0526            EXIT
 0527            CCS    GEOSAVED
 0528  2         TS     ERECTIME                COUNTS DOWN FOR ERECTION
 0529   ANNNNNN  CAF    NINE
 0530            TS     LENGTHOT
 0532  4         TC     SLEEPIE +1
 0536   SETUPER  EXTEND                  SUBROUTINE CALLED IN 3 PLACES
 0537            QXCH   QPLACES
 0538            TC     INTPRET
 0539            CALL
 0540                   ERTHRVSE
 0541            EXIT
 0542            TC     BANKCALL
 0543            CADR   OGCZERO
 0544  8         TC     QPLACES
 0578   GEOBND   =      EBANK3
 0579   GEOBND1  =      EBANK5
 0581   STOREDTA CAF    GEOBND
 0582            TS     L
 0583            CAF    77DECML
 0584            TS     MPAC
 0585            INDEX  MPAC
 0586            CA     ALX1S
 0587            LXCH   EBANK
 0588            EBANK= RESTRTCS
 0589            INDEX  MPAC
 0590            TS     RESTRTCS
 0591            LXCH   EBANK
 0592            EBANK= XSM
 0593            CCS    MPAC
 0594            TCF    +2
 0595            TC     Q
 0596            TS     MPAC
 0597            CAF    GEOBND
 0598            TS     L
 0599  4         TCF    STOREDTA +4
 0600   LOADSTDT CAF    77DECML
 0601            TS     MPAC
 0602            CA     GEOBND
 0603            XCH    EBANK
 0604            TS     L
 0605            EBANK= RESTRTCS
 0606            INDEX  MPAC
 0607            CA     RESTRTCS
 0608            LXCH   EBANK
 0609            EBANK= XSM
 0610            INDEX  MPAC
 0611            TS     ALX1S
 0612            CCS    MPAC
 0613            TCF    +2
 0614            TC     Q
 0615            TS     MPAC
 0616  8         TCF    LOADSTDT +2
 0617   LOADXSM  EXTEND
 0618            QXCH   QPLACES
 0619            CAF    17DECML
 0620            TS     MPAC
 0621            INDEX  A
 0622            CA     PRELMTRX
 0623            INDEX  MPAC
 0624            TS     XSM
 0625            CCS    MPAC
 0626            TCF    LOADXSM +3
 0627            TC     QPLACES
 0628   ALFDK    DEC    -28             SLOPES AND TIME CONSTANTS FOR FIRST 30SC
 0629            DEC    -1
 0630            2DEC   .91230833       TIME CONSTANTS-PIPA OUTPUTS
 0631            2DEC   .81193187       TIME CONSTANT-ERECTION ANGLES
 0632            2DEC   -.00035882      SLOPE-AZIMUTH ANGLE
 0633            2DEC   -.00000029      SLOPE-VERTICAL DRIFT
 0634  4         2DEC   .00013262       SLOPE-NORTH SOUTH DRIFT
 0635            DEC    -58             31-90 SEC
 0636            DEC    -1
 0637            2DEC   .99122133
 0638            2DEC   .98940595
 0639            2DEC   -.00079010
 0640            2DEC   -.00000265
 0641  4         2DEC   .00043154
 0642            DEC    -8              91-100 SEC
 0643            DEC    -1
 0644            2DEC   .99971021
 0645            2DEC   .99852047
 0646            2DEC   .00042697
 0647            2DEC   -.00000213
 0648  4         2DEC   .00011864
 0649            DEC    -98             101-200 SEC
 0650            DEC    -1
 0651            2DEC   .99550063
 0652            2DEC   .98992124
 0653            2DEC   .00043452
 0654            2DEC   -.00000401
 0655  4         2DEC   -.00021980
 0656            DEC    -248            201-450 SEC
 0657            DEC    -1
 0658            2DEC   .99673264
 0659            2DEC   .99365467
 0660            2DEC   .00003767
 0661            2DEC   -.00002317
 0662  4         2DEC   -.00003305
 0663            DEC    -338            451-790 SEC
 0664            DEC    -1
 0665            2DEC   .99924362
 0666            2DEC   .99888274
 0667            2DEC   .00000064
 0668            2DEC   -.00004012
 0669  4         2DEC   -.00000195
 0670            DEC    -408            791-1200 SEC
 0671            DEC    -1
 0672            2DEC   .99963845
 0673            2DEC   .99913162
 0674            2DEC   .00000090
 0675            2DEC   .00002927
 0676  4         2DEC   -.00000026
 0677            DEC    -498            1201-1700 SEC
 0678            DEC    -1
 0679            2DEC   .99934865
 0680            2DEC   .99868793
 0681            2DEC   .00000055
 0682            2DEC   .00001183
 0683  4         2DEC   -.00000005
 0684            DEC    -398            1701-2100 SEC
 0685            DEC    -1
 0686            2DEC   .99947099
 0687            2DEC   .99894799
 0688            2DEC   .00000018
 0689            2DEC   .00000300
 0690  4         2DEC   -.00000001
 0691            DEC    -598            2101-2700 SEC
 0692            DEC    -1
 0693            2DEC   .99957801
 0694            2DEC   .99916095
 0695            2DEC   .00000007
 0696            2DEC   .00000096
 0697  4         2DEC   .00000000
 0698            DEC    -698            2700-3400 SEC
 0699            DEC    -1
 0700            2DEC   .99966814
 0701            2DEC   .99933952
 0702            2DEC   .00000002
 0703            2DEC   .00000028
 0704  4         2DEC   .00000000
 0705            DEC    -598            3401-4000 SEC
 0706            DEC    -1
 0707            2DEC   .99972716
 0708            2DEC   .99945654
 0709            2DEC   .00000001
 0710            2DEC   .00000010
 0711  4         2DEC   .00000000
 0712   SCHZEROS 2DEC   .00000000
 0713            2DEC   .00000000
 0714            2DEC   .00000000
 0715   INTVAL   OCT    4
 0716            OCT    2
 0717            DEC    144
 0718            DEC    -1
 0719   SOUPLY   2DEC   .93505870        INITIAL GAINS FOR PIP OUTPUTS
 0720  4         2DEC   .26266423        INITIAL GAINS/4 FOR ERECTION ANGLES
 0721   77DECML  DEC    77
 0722   ALXXXZ   GENADR ALX1S -1
 0723   AINGYRO  ECADR  OGC
 0724   PIPASC   2DEC   .13055869
 0726   VELSC    2DEC   -.52223476       512/980.402
 0727   ALSK     2DEC   .17329931       SSWAY VEL GAIN X 980.402/4096
 0728  4         2DEC   -.00835370      SSWAY ACCEL GAIN X 980.402/4096
 0731   GEORGEJ  2DEC   .63661977
 0732   GEORGEK  2DEC   .59737013
 07325  SCHOCT23 OCT    00023
 0733   GEOCONS1 2DEC   .1
 0734   GEOCONS2 2DEC   .005
 0735   GEOCONS3 2DEC   .025
 0736   GEOCONS4 2DEC   .00003
 07362  1/PIPAGT OCT    06200
 0737   17DECML  DEC    17
 0738   19DECML  DEC    19
 0739  41/2SECX  DEC    50
 0740   GTSCPSS  CA     ONE
 0741            TS     GEOCOMPS          THIS IS THE LEAD IN FOR COMPASS
 0743            TC     NEWMODEX
 074417          OCT    01
 074518          CA     1/PIPAGT
 074619          TS     1/PIPADT
 074720          CA     ELEVEN           COMPASS IS POSITION 11
 074721          TS     POSITON
 074722          CA     BIT8             620 SECONDS ERECTING
 074723          TS     LENGTHOT
 074724          CAF    1/2SECX          COMPASS IS A .5 SEC LOOP
 074725          TS     1SECXT
 074922          CAF    ZERO
 075023          TS     NBPOS
 0781            TC     BANKCALL
 0782  4         CADR   GEOIMUTT
 0783   CHKCOMED CA     FLAGWRD1        CHECK FOR END OF COMPASS
 0784            MASK   BIT2            TEST FOR GRR FLAG
 0785            CCS    A
 0786            TCF    PRELTERM        YES   GRR HAS OCCURRED
 0787  4         TC     Q               NO   CONTINUE
 07885  PRELTERM TC     NEWMODEX
 0789            OCT    04              04 IS END OF COMPASS
 0790  4         TCF    LASTGTS         GET LAST TORQUING
 0800   GRRNOW   SET    VLOAD           COME HERE WHEN DELV CHECK SHOWS LIFTOFF
 0801                   GRRFLAG         TO HAVE OCCURRED.
 0802                   DELV
 0803            STORE  DELVBUF
 0804            SSP    EXIT
 08043                  DT-LIFT         START LIFTOFF 100 MS AFTER MP2TASK
 08046 2                10D
 0805            INHINT
 0806            CAF    1SEC+1          DELAY TILL PRELAUNCH IF FINISHED, BUT
 0807            TC     WAITLIST        NOT SO LONG THAT READACCS HAPPENS FIRST.
 0808            EBANK= GTSWTLST
 0809            2CADR  LIFTFIXT
 0810            RELINT
 0811            TCF    PRELTERM
L0010  2DAP INTERFACE SUBROUTINES
 0001            BANK   20
 0002            EBANK= DT
R0003  2MOD 0              DATE  11/15/66          BY  GEORGE W. CHERRY
R0004  2FUNCTIONAL DESCRIPTION
R0005            HEREIN ARE A COLLECTION OF SUBROUTINES WHICH ALLOW MISSION CONT
 0006  9ROL PROGRAMS TO CONTROL THE MODE
R0007  2         AND INTERFACE WITH THE DAP.
R0008  2CALLING SEQUENCES
R0009   IN INTERRUPT OR WITH INTERRUPT INHIBITED
R0010            TC     IBNKCALL
R0011  2         FCADR  ROUTINE
R0012   IN A JOB WITHOUT INTERRUPT INHIBITED
R00121           INHINT
R0013            TC     IBNKCALL
R0014            FCADR  ROUTINE
R00141 2         RELINT
R0015  2OUTPUT
R0016  2         SEE INDIVIDUAL ROUTINES BELOW
R0017  2DEBRIS
R0018  8         A,L, AND SOMETIMES MDUETEMP
R0019  2DAPBOOLS BITS AND NAMES
 0020   OURRCBIT EQUALS BIT1            INTERNAL DAP RATE COMMAND ACTIVITY FLAG
 0021   TRYGIMBL EQUALS BIT2            TRIM GIMBAL FLAG
 0022   DATAGOOD EQUALS BIT3            RECIPROCAL ACCELERATIONS OKAY FLAG
 0023   ACC4OR2X EQUALS BIT4            2 OR 4 JET X-TRANSLATION MODE FLAG
 0024   AORBSYST EQUALS BIT5            P-AXIS ROTATION JET SYSTEM (A OR B) FLAG
 0025   ULLAGER  EQUALS BIT6            INTERNAL ULLAGE REQUEST FLAG
 0026   DBSELECT EQUALS BIT7            DAP DEADBAND SELECT FLAG
 0027   APSGOING EQUALS BIT8            ASCENT PROPULSION SYSTEM BURN FLAG
 0028   VIZPHASE EQUALS BIT9            DESCENT VISIBILITY PHASE FLAG
 0029   PULSES   EQUALS BIT10           MINIMUM IMPULSE RHC MODE FLAG
 0030   GODAPGO  EQUALS BIT11           DAP ENABLING FLAG
 0031  2MASSGOOD EQUALS BIT12           MASS OKAY FLAG
R0032  2STILL AVAILABLE BIT13
 0033   AUTORHLD EQUALS BIT14           AUTOMATIC MODE RATE HOLD FLAG
 0034  4SPSBACUP EQUALS BIT15           SPS BACKUP DAP FLAG
 0034012USEQRJTS EQUALS TRYGIMBL        ALTERNATE TRIM GIMBAL FLAG
R003405              BIT     FLAGWORD   SWITCH   SWITCH    ON-STATE
 0034069         OFF-STATE
R003410 LOCATION    NUMBER    SYMBOL    NUMBER   SYMBOL    INDICATES
 0034119         INDICATES
R0034152--------   --------  --------   ------   ------    ---------
 0034169         ---------
R003420 DAPBOOLS      1      OURRCBIT     59               INTERNAL RATE COMMAND
 0034219         NO INTERNAL RATE COMMAND
R003425                                                       ACTIVITY
 0034269            ACTIVITY  (LOCKED ON 0)
R003430               2      TRYGIMBL     58               TRIM GIMBAL CONTROL
 0034319         TRIM GIMBAL CONTROL POSSIBLE
R003435                                                       IMPOSSIBLE
R003440               3      DATAGOOD     57               RECIPROCAL ACCELERATI
 0034419ON       RECIPROCAL ACCELERATION
R003444                                                       PROBABLY CORRECT
 0034459            PROBABLY INCORRECT
R003450               4      ACC4OR2X     56               P-AXIS 4 JET
 0034519         P-AXIS 2 JET
R003455                                                       X-TRANSLATION MODE
 0034569            X-TRANSLATION MODE
R003460                                                       (LOCKED ON 1)
R003465               5      AORBSYST     55               P-FORCE COUPLES 15, 7
 0034669 AND     P-FORCE COUPLES 4, 12 AND 3, 11
R003470                                                       16, 8
R003475               6      ULLAGER      54               INTERNAL ULLAGE REQUE
 0034769ST       NO INTERNAL ULLAGE REQUEST
R003480               7      DBSELECT     53               MAX DEADBAND SELECT
 0034819         MIN DEADBAND SELECT
R003485               8      APSGOING     52               ASCENT PROPULSION SYS
 0034869TEM      APS OFF
R003490                                                       BURN
R003495               9      VIZPHASE     51               DESCENT VISIBILITY PH
 0034969ASE      NOT IN DESCENT VISIBILITY
R003500                                                       (LOCKED ON 1)
 0035019            PHASE
R003505              10      PULSES       50               MINIMUM IMPULSE RHC M
 0035069ODE      RATE COMMAND RHC MODE
R003510
 0035119            (LOCKED ON 0)
R003515              11      GODAPGO      49               DAP ENABLED
 0035169         DAP IDLING
R003520              12      MASSGOOD     48               VALUE OF MASS PROBABL
 0035219Y        VALUE OF MASS PROBABLY
R003524                                                       CORRECT
 0035259            INCORRECT
R003530              13                   47               NOT AVAILABLE - STATE
R003535                                                       IRRELEVANT
R003540              14      AUTORHLD     46               AUTOMATIC RATE HOLD M
 0035419ODE      AUTOMATIC ATTITUDE HOLD
R003545              15      SPSBACUP     45               NOT IN SPS BACK-UP DA
 0035469P MODE   SPS BACK-UP DAP MODE
R0035504                                                      (LOCKED ON 1)
 0039   SETMINDB CAF    NARROWDB
 0040            TS     DB
 0041            CS     DBSELECT
 0042            MASK   DAPBOOLS
 0043            TS     DAPBOOLS
 0046  2         TC     Q
 0051   SETMAXDB CAF    WIDEDB
 0052            TS     DB
 0053            CS     DAPBOOLS
 0054            MASK   DBSELECT
 0055            ADS    DAPBOOLS
 0058  2         TC     Q
 0060   ULLAGE   CS     DAPBOOLS
 0061            MASK   ULLAGER
 0062            ADS    DAPBOOLS
 0064  2         TC     Q
 0066   NOULLAGE CS     ULLAGER
 0067            MASK   DAPBOOLS
 0068            TS     DAPBOOLS
 0070  2         TC     Q
 0075   HOLDRATE TCF    COMNEXIT        REPLACE BY  CS DAPBOOLS  FOR RATE HOLD.
 0076            MASK   AUTORHLD
 0077  2         ADS    DAPBOOLS
 00772           CAF    EBANK6
 00774           XCH    EBANK
 00776 2         TS     OMEGARD
 0078            EXTEND
 0079            DCA    OMEGAP
 0080            DXCH   OMEGAPD
 0081            CAE    OMEGAR
 0082  2         XCH    OMEGARD
 00822 2         TS     EBANK
 0083   COMNEXIT EXTEND
 0084            DCA    CDUY
 0085            DXCH   CDUYD
 0086            CAE    CDUX
 0087  2         TS     CDUXD
 0091  2         TC     Q
 0096   STOPRATE CS     AUTORHLD
 0097            MASK   DAPBOOLS
 0098  2         TS     DAPBOOLS
 0099            CAF    ZERO
 0100            TS     OMEGAPD
 0101            TS     OMEGAQD
 0102            TS     OMEGARD
 0103            TS     DELCDUX
 0104            TS     DELCDUY
 0105            TS     DELCDUZ
 0106  2         TCF    COMNEXIT
 0107   SETRATE  EQUALS HOLDRATE
P0110   SUBROUTINE NAME: 1. UPCOAST     MOD. NO. 1  DATE: DECEMBER 4, 1966
R0111                    2. ALLCOAST
R0112  2                 3. WCHANGE
R0113  2AUTHOR: JONATHAN D. ADDELSTON (ADAMS ASSOCIATES)
R0114  2"UPCOAST" SETS UP DAP VARIABLES TO THEIR ASCENT-COAST VALUES.
R0115  2GROUNDRULE: IT MUST BE CALLED AS SOON AS ASCENT COAST IS DETECTED.
R0116  2"ALLCOAST" SETS UP MANY DAP VARIABLES FOR "STARTDAP" IN "DAPIDLER".
R0117  2GROUNDRULE: DESCOAST IS CALLED AS SOON AS DESCENT COAST IS DETECTED.
R0118  2"WCHANGE" SETS UP THE VARIABLE FOR "WCHANGER" AS A STORAGE SAVING DEVICE
 0119  9.
R0120  2CALLING SEQUENCE: (SAME AS ABOVE.)
R0121  2SUBROUTINES CALLED: NONE.
R0122  2ZERO: AOSQ,AOSR,AOSU,AOSV,AOSQTERM,AOSRTERM,ALL NJS.
R0123  2SET URGRATQ AND URGRATR TO POSMAX.
R0124   OUTPUT: WFORP   (1-K)    MINIMPDB  APSGOING/DAPBOOLS
R01245           WFORQR  (1-K)/8  DBMINIMP  1/AMINQ  1/AMINR  1/AMINU  1/AMINV
R0125  2DEBRIS: A,L.
R0126  2***** WARNING. *****  EBANK MUST BE SET TO 6.
 0127            BANK   20
 0128  2         EBANK= WFORP
 0134   ALLCOAST CAF    EBANK6
 0135            XCH    EBANK
 0136  2         TS     ITEMP6
 0137            CS     APSGOING
 0138            MASK   DAPBOOLS
 0139  2         TS     DAPBOOLS
 01395           CAF    NEGONE          MAKES SPECIAL DAP APS CODING INACTIVE
 01396           TS     AOSCOUNT
 0140            CAF    0.00444
 0141            TS     MINIMPDB        IMPULSE DBS ARE SET TO 0.8 DEGREES.
 01415           TS     DBMNMPAX        (AND P-AXIS VALUE)
 0142  2         TS     DBMINIMP
 0143            CAF    POSMAX          SET URGENCY FUNCTION CORRECTION RATIOS
 0144            TS     URGRATQ         TO ALMOST 1 BEFORE BEING SET IN AOSJOB.
 0145  2         TS     URGRATR         SCALED AT 1.
 01451           CAF    ACCFIFTY        INVERSE MINIMUM ACCELERATIONS ARE SET TO
 01452           TS     1/AMINQ         50 SECONDS(2)/RADIAN.  THESE VARIABLES
 01453           TS     1/AMINR         ARE SET TO HALF THAT VALUE WITH THE
 01454           TS     1/AMINU         SCALE FACTOR 2(+8)/PI.
 01455 2         TS     1/AMINV
 0146            CAF    13DEC           ZERO THE FOLLOWING DAP ERASABLES:
 0147   CLEARASC TS     KCOEFCTR        AOSQ  AOSQTERM  NJ+Q  NJ+U
 0148            CAF    ZERO            AOSR  AOSRTERM  NJ-Q  NJ-U
 0149            INDEX  KCOEFCTR        AOSU            NJ+R  NJ+V
 0150            TS     AOSQ            AOSV            NJ-R  NJ-V
 0151            CCS    KCOEFCTR
 0152  2         TCF    CLEARASC
 0153   WCHANGE  CAF    0.3125          K = 0.5
 0154            TS     WFORP           WFORP = WFORQR = K/DT = K/.1 = 10K = 5
 0155  2         TS     WFORQR          SCALED AT 16 PER SECOND.
 0156            EXTEND                 K = 0.5 IMPLIES (1-K) = 0.5:
 0157            DCA    (1-K)S          (1-K)   = 0.5    SINCE SCALED AT 1.
 0158  2         DXCH   (1-K)           (1-K)/8 = 0.0625 SINCE SCALED AT 8.
R0159  2*** NOTE THAT STARTDAP RESETS WFORP,WFORQR,(1-K),(1-K)/8. ***
 0160            CAE    ITEMP6
 01605 2         TS     EBANK
 0161  4         TC     Q               RETURN
 0162   0.3DEGDB DEC    0.00167
 0163   13DEC    DEC    13
P01632  APS AND DPS ENGINE-ON ROUTINES (MUST BE CALLED WITH INTERRUPT INHIBIT)
R01633  THE NAMES ENGINEON, ENGINOFF, AND ENGINOF1 ARE PRESERVED TO KEEP CURRENT
R0163352SIMULATIONS AND EDITS OUT OF TROUBLE.
 01634  APSENGON CAF    EBANK6
 0164            XCH    EBANK
 0165  2         TS     TEVENT +1
 0166            CS     ZERO            DUMMYFIL WILL SET APSGOING BIT BECAUSE
 0167            TS     AOSCOUNT        OF MINUS ZERO IN AOSCOUNT
 0169  2         CAF    PGNSCADR        ACTIVATE PGNCS MONITOR
R01692  START CODING FOR MODULE 3 REMAKE, AUGUST 1967***START CODING FOR MODULE
 01694 93 REMAKE, AUGUST 1967******************
 01696  20INSRT  TCF    20INSRTA        STORE TIME FOR ENGINOFF DELAY LOGIC.
R01698  **END CODING FOR MODULE 3 REMAKE, AUGUST 1967****END CODING FOR MODULE
 01700 93 REMAKE, AUGUST 1967******************
 017001          CS     DAPBOOLS        TURN TRIM GIMBAL OFF IN CASE WE DID FITH
 017005          MASK   USEQRJTS
 0170092         ADS    DAPBOOLS
 0171            CS     INPARAB         MODIFY THE TJETLAW FOR ASCENT BURNS:
 0172            TS     MINIMPDB        (IN ONE EQUATION DELETE MINIMPDB AND
 0173            CAF    ZERO            SHIFT THE SWITCHING CURVE TO THE ORIGIN)
 0174  2         TS     DBMINIMP        MINIMPDB = -DB, DBMINIMP = 0
 01821           EXTEND                 SET UP ASCENT URGENCY LIMITS SCALED AT
 01822           DCA    ASCURGLM        2(+9) SECONDS AND
 01823 2         DXCH   URGLMS          2(+4) SECONDS.
 01824           EXTEND                 SET UP ASCENT RATE COMMAND VALUES:
 01825           DCA    ASCRATEC        -2.0 DEGREES/SECOND SCALED AT PI/4 LIMIT
 01826 2         DXCH   -2JETLIM        -1.0 DEGREES/SECOND SCALED AT PI/4 DB
 01827           CAF    -.06ACC         SET ACC. LIMIT FOR INVERSE CALCULATION
 018282          TS     -.06R/S2        HERE FOR STAGING AT APS BURN.
 0188  2         TCF    ENGINEON        BYPASS THE SPECIAL DPS MONITOR SETUP
 01881 2-.06ACC  DEC    -.03820         -0.06 RADIANS/SECOND(2) AT PI/2
 01882 2INPARAB  DEC    +.00333         NOTE FOR AS206 USE -.6DB NOT -DB
 0189   DPSENGON CA     EBANK           SAVE CALLER'S EBANK
 0190            TS     TEVENT +1
 0191            CAF    GMBLMNAD        GIMBLMON HANDLES THE TRIM GIMBAL ON/OFF
A01911 2                                LOGIC AND EXITS TO PGNCSMON
R0191502START CODING FOR MODULE 3 REMAKE, AUGUST 1967***START CODING FOR MODULE
 01915193 REMAKE, AUGUST 1967*******************
 0192002INSERT20 TCF    SETCNTR         SET FLAGS FOR CRITICAL GTS ENTRIES.
R0192062**END CODING FOR MODULE 3 REMAKE, AUGUST 1967*****END CODING FOR MODULE
 01920793 REMAKE, AUGUST 1967*******************
 01921           CS     BIT4            CLEAR GIMBLMON INHIBIT FLAG JUST IN CASE
 01922           MASK   FLAGWRD2        IT HAD NOT BEEN RESET BY THROTTLE CONTRO
 01923 2         TS     FLAGWRD2
 0193   ENGINEON EXTEND                 THE ENGINE-ON COMMAND IS RECORDED
 0194            DCA    TIME2           FOR THE DOWNLINK
 0195  2         DXCH   TEVENT
 01952           CA     STOPDVC
 01954           TS     SETDVCNT
 0196            CA     BURNDB          SET ONE DEGREE DEADBAND FOR THE BURN
 0197  2         TS     DB
 0198            CS     PRIO30          TURN ON THE ENGINE - APS OR DPS
 0199            EXTEND                 DEPENDING ON THE ARM COMMAND
 0200            RAND   11
 0201            AD     BIT13
 0202            EXTEND
 0203  2         WRITE  11
 0204            CS     FLAGWRD1        SET ENGINBIT - THE BIT WILL BE CLEARED
 0205            MASK   ENGINBIT        IN ENGINOFF AND THUS NODV CAN CHECK IT
 0206  2         ADS    FLAGWRD1        TO ASCERTAIN NORMAL OR PREMATURE CUTOFF
 02061           CA     EBANK5
 02062           TS     EBANK
 020625          EBANK= DVCNTR
 02063           CA     STARTDVC        SET UP THE DV MONITOR
 02064           TS     DVCNTR
 02065           LXCH   EBANK           RESTORE CALLER:S EBANK
 0207            TC     Q               RETURN TO CALLER
P0208  2APS AND DPS ENGINE - OFF ROUTINE ( CALL WITH INTERRUPT INHIBITED )
R02082  START CODING FOR MODULE 3 REMAKE, AUGUST 1967***START CODING FOR MODULE
 02085 93 REMAKE, AUGUST 1967******************
 02090 2ENGINOFF TCF    20INSRTB        PROCEED TO ENGINOFF DELAY LOGIC.
R02095  **END CODING FOR MODULE 3 REMAKE, AUGUST 1967****END CODING FOR MODULE
 02100 93 REMAKE, AUGUST 1967******************
 02105 2         TC     ALLCOAST        DO DAP COASTING FLIGHT INITIALIZATION.
 0211            EXTEND
 0212            DCA    TIME2           THE ENGINE - OFF COMMAND IS RECORDED
 0213  2         DXCH   TEVENT          FOR THE DOWNLINK
R0214   START CODING FOR MODULE 3 REMAKE, AUGUST 1967***START CODING FOR MODULE
 0215  93 REMAKE, AUGUST 1967******************
 02155           EXTEND                 RESTORE ORIGINAL Q SETTING.
 0216  2         QXCH   /TEMP1/
R0217   **END CODING FOR MODULE 3 REMAKE, AUGUST 1967****END CODING FOR MODULE
 02170193 REMAKE, AUGUST 1967******************
 021702          CS     DAPBOOLS        TURN TRIM GIMBAL OFF.
 021704          MASK   USEQRJTS
 021706          ADS    DAPBOOLS
 021708          CAF    PGNSCADR        MAKE SURE GIMBLMON DOES NOT TURN GIMBAL
 0217092         TS     DVSELECT        BACK ON.
 0218   ENGINOF1 CS     PRIO30          TURN OFF THE ENGINE
 0219            EXTEND
 0220            RAND   11
 0221            AD     BIT14
 0222            EXTEND
 0223  2         WRITE  11
 02231           CS     ENGINBIT        CLEAR ENGINBIT - THIS IS AN INDICATION
 02232           MASK   FLAGWRD1        OF NORMAL SHUTDOWN
 02233 2         TS     FLAGWRD1
R02240 2START CODING FOR MODULE 3 REMAKE, AUGUST 1967***START CODING FOR MODULE
 02241 93 REMAKE, AUGUST 1967*******************
 02242 2INSRT20A TCF    RESETCTR        GO DEACTIVATE EXTRAORDINARY GTS FLAGS,
A02243                                  THEN RETURN TO CALLER.
R02244 2**END CODING FOR MODULE 3 REMAKE, AUGUST 1967*****END CODING FOR MODULE
 02245 93 REMAKE, AUGUST 1967*******************
 0225   ENGINBIT EQUALS BIT5
 0300   ASCURGLM DEC    -0.25 B-9       -0.25 SECONDS SCALED AT 2(+9).
 0301            DEC    -0.25 B-4       -0.25 SECONDS SCALED AT 2(+4).
 0302   ASCRATEC OCTAL  77001           -1.4 DEG/SEC SCALED AT PI/4 RADIANS/SEC
 0303  2         OCTAL  77555           -0.4 DEG/SEC SCALED AT PI/4 RADIANS/SEC
 0310   1STENGOF LXCH   Q               COME HERE FROM FRESH START.
 0311            TC     ENGINOF1        JUST TURN OFF ENGINE
 0312            LXCH   Q
 0313            TCF    ALLCOAST        AND SET UP FOR COAST.
L      2T6-RUPT PROGRAMS
R0001  2PROGRAM NAMES: (1) DOT6RUPT     MOD. NO. 4  DATE: FEBRUARY 9, 1967
R0002  2               (2) T6JOBCHK
R0003  2MODIFICATION BY: JONATHAN D. ADDELSTON (ADAMS ASSOCIATES)
R0004   THESE PROGRAMS ENABLE THE LM DAP TO CONTROL THE THRUST TIMES OF THE REAC
 0005  9TION CONTROL SYSTEM JETS BY USING TIME6.
R0006   SINCE THE LM DAP MAINTAINS EXCLUSIVE CONTROL OVER TIME6 AND ITS INTERRUP
 0007  9TS, THE FOLLOWING CONVENTIONS HAVE BEEN
R0008   ESTABLISHED AND MUST NOT BE TAMPERED WITH:
R0009            1. NO NUMBER IS EVER PLACED INTO TIME6 EXCEPT BY LM DAP.
R0010            2. NO PROGRAM OTHER THAN LM DAP ENABLES THE TIME6 COUNTER.
R0011            3. ONLY POSITIVE NUMBERS ARE ENTERED INTO TIME6, SO IT COUNTS D
 0012  9OWN TO -0 (MINUS ZERO) TO INTERRUPT.
R0013            4. IF -0 IS NOT IN TIME6 WHEN THE INTERRUPT OCCURS, THEN THE IN
 0014  9TERRUPT HAS ALREADY BEEN PROCESSED.
R0015            5. ALL PROGRAMS WHICH OPERATE IN EITHER INTERRUPT MODE OR WITH
 0016  9INTERRUPT INHIBITED MUST CALL T6JOBCHK
R0017  2            EVERY 6 MILLISECONDS TO PROCESS A POSSIBLE WAITING T6RUPT BE
 0018  9FORE IT CAN BE HONORED BY THE HARDWARE.
R0019  2DOT6RUPT CALLING SEQUENCE:
R0020   REF   1                 4004  52 011 0           DXCH   ARUPT
 0021  9T6RUPT
R0022                           4005  0 0006 1           EXTEND
R0023   REF   1                 4006  3 5045 0           DCA    T6ADR
R0024  2                        4007  52 006 0           DTCB
R0025  2T6JOBCHK CALLING SEQUENCE:
R0026  2REF   0              23,1000  0 4200 1           TC     T6JOBCHK
R0027  2SUBROUTINES CALLED: DOT6RUPT CALLS T6JOBCHK.
R0028   NORMAL EXIT MODES: DOT6RUPT TRANSFERS CONTROL TO RESUME.
R0029  2                   T6JOBCHK TRANSFERS CONTROL TO CALLER AT LOCATION AFTE
 0030  9R CALL.
R0031  2ALARM/ABORT MODES: NONE.
R0032  2INPUT: TIME6,T6NEXT REGS,T6NEXTJT REGS.
R0033  2OUTPUT: (SAME AS INPUT.)
R0034  2DEBRIS: DOT6RUPT: NONE.  T6JOBCHK: A,L
R0035  8*** NOTE: AS OF MOD. NO. 2, T6NEXT AND T6NEXTJT LISTS ARE IN UNSWITCHED
 0036  9ERASABLE. ***
 0037            BLOCK  02
 0038  2         EBANK= T6NEXT
 0039            EBANK= T6NEXT
 0040   T6ADR    2CADR  DOT6RUPT        2CADR OF INTERRUPT PROCESSOR.
 0041            BANK   16
 0042  2         EBANK= T6NEXT
 0043   DOT6RUPT LXCH   BANKRUPT        (INTERRUPT LEAD IN CONTINUED)
 0044            EXTEND
 0045  2         QXCH   QRUPT
 0046  2         TC     T6JOBCHK        CALL T6JOBCHK
 0047  4         TCF    RESUME          END TIME6 RUPT
 0048            BLOCK  03
 0049  2         EBANK= T6NEXT
 0050   T6JOBCHK CCS    TIME6           CHECK TIME6 FOR WAITING T6RUPT:
 0051            TC     Q               NONE: CLOCK COUTING DOWN.
 0052            TC     Q               NONE: T6RUPT ALREADY PROCESSED.
 0053  2         TC     Q               NONE: INVALID VALUE. (POSSIBLE ABORT.)
R0054  2CONTROL PASSES TO T6JOB ONLY WHEN C(TIME6) = -0 (I.E. WHEN A T6RUPT MUST
 0055  9 BE PROCESSED).
 0056   T6JOB    CAF    POSMAX          DISABLE CLOCK: NEEDED SINCE RUPT OCCURS
 0057            EXTEND                 1 DINC AFTER T6 = 77777.  FOR 625 MUSECS
 0058  2         WAND   13              MUST NOT HAVE T6 = +0 WITH ENABLE SET.
 0059            CAF    ZERO            UPDATE ORDERED LIST OF T6NEXT REGISTERS
 0060            XCH    T6NEXT +1       1) PUSH FIRST ENTRY INTO TIME6.
 0061            XCH    T6NEXT          2) PUSH SECOND ENTRY INTO FIRST PLACE.
 0062  2         TS     TIME6           3) ZERO LAST (SECOND) DT IN LIST.
 0063            CCS    TIME6           TIME6 EITHER POSITIVE OR PLUS ZERO:
 0064  2         TCF    T6NZERO         (BRANCH IF TIME6 STILL ACTIVE.)
 0065            CAE    T6NEXTJT        THESE ARE TRANSLATION JETS (NO DT),
 0066  2         TCF    WRITEJTS        DETERMINE CHANNEL AND WRITE.
 0067   T6NZERO  CAF    BIT15           ENABLE TIME6 COUNTER TO START TIMING
 0068            EXTEND                 THIS JET FIRING (PROPER JETS NOT YET
 0069  2         WOR    13              WRITTEN INTO CHANNEL, BUT WILL BE SOON).
 0070            CAF    ZERO            UPDATE ORDERED LIST OF JET POLICIES:
 0071            XCH    T6NEXTJT +2     1) LEAVE JETS TO GO ON NOW IN A.
 0072            XCH    T6NEXTJT +1     2) CYCLE LIST UP TOWARD TOP.
 0073            XCH    T6NEXTJT        3) ZERO LAST ENTRY IN LIST.
P0074  2THE FOLLOWING JET-ON LOGIC MAY BE USED AS A SUBROUTINE (3 ENTRY POINTS):
R0075   FIRST, LET SGN(A) DETERMINE THE JET CHANNEL:
R0076            POSITIVE IMPLIES P-AXIS POLICY.
R0077  2         NEGATIVE IMPLIES Q,R-AXES POLICY.
 0078   WRITEJTS EXTEND                 TEST FOR CHANNEL TO WRITE POLICY IN:
 0079  2         BZMF   WRITEQR         NEG: Q,R-AXES JETS IN CHANNEL 5
R0080  2SECOND, FOR P-AXIS JET POLICIES:
 0081   WRITEP   EXTEND                 POS: P-AXIS   JETS IN CHANNEL 6
 0082            WRITE  6
 0083  2         TC     Q               RETURN.
R0084  2THIRD, FOR Q,R-AXES JET POLICIES:
 0085   WRITEQR  EXTEND                 Q,R-AXES JETS IN CHANNEL 5
 0086            WRITE  5
 0087            TC     Q               RETURN.
L      2DAPIDLER PROGRAM
R0001   THE DAPIDLER PROGRAM IS STARTED BY FRESH START AND RESTART.
 0002  9THE DAPIDLER PROGRAM IS DONE 10 TIMES
R0003   PER SECOND UNTIL THE ASTRONAUT DESIRES THE DAP TO WAKE UP, AND THE IMU A
 0004  9ND CDUS ARE READY FOR USE BY THE DAP.
R0005   THE NECESSARY INITIALIZATION OF THE DAP IS DONE BY THE DAPIDLER PROGRAM.
R0006  4ADDITIONAL WORK MUST BE DONE ON DAPIDLER IN THE FUTURE.
 0007            BANK   16
 0008  2         EBANK= DT
 0009   CHEKBITS CAF    BIT6
 0010            MASK   IMODES30
 0011            CCS    A
 0012  2         TCF    MOREIDLE
 0013            CAF    BIT4
 0014            AD     BIT5
 0015            EXTEND
 0016            RAND   12
 0017            CCS    A
 0018  2         TCF    MOREIDLE
 0019            CAF    BIT10           BIT10 OF 30 IS PNGCS CONTROL OF S/C
 0020            EXTEND
 0021            RAND   30              BITS IN 30 ARE INVERTED
 0022            CCS    A
 0023  2         TCF    MOREIDLE
 0024            EXTEND
 0025            READ   31              IF BOTH    BIT13 AND BIT14 ARE ONE
 0026            COM                    THEN MODE SELECT SWITCH IS IN OFF
 0027            MASK   BIT13-14        POSITION.
 0028            EXTEND
 0029  2         BZF    MOREIDLE        HENCE DAP SHOULD BE OFF.
 0030            CAF    GODAPGO
 0031            MASK   DAPBOOLS
 0032            EXTEND
 0033  2         BZF    MOREIDLE
 0034            RETURN
P0035  2DAPIDLER ENTRY.
 0036   DAPIDLER LXCH   BANKRUPT        INTERRUPT LEAD INS (CONTINUED)
R003605 START CODING FOR MODULE 3 REMAKE, AUGUST 1967***START CODING FOR MODULE
 00360693 REMAKE, AUGUST 1967*******************
 0037            TCF    T5IDLERI
 0038  2         TC     CCSHOLE
 003805 DAPIDLEI CAF    DATAGOOD
R0038082**END CODING FOR MODULE 3 REMAKE, AUGUST 1967*****END CODING FOR MODULE
 00380993 REMAKE, AUGUST 1967*******************
 003810          MASK   DAPBOOLS
 003815          EXTEND
 003820          BZF    TESTMASS
 0039  2         TC     CHEKBITS        CHECK TO SEE IF LM DAP IS TO GO ON.
 0051   STARTDAP TC     IBNKCALL
 0052            FCADR  STOPRATE
 0053            CAF    ZERO            ********** INITIALIZE: **********
 0054            TS     TIME6           T6RUPT CLOCK
 0055            TS     TP              RATE DERIVATION DTS
 0056            TS     TQR
 00561           TS     JETRATEQ        Q,R JETRATES USED IN Q,R-AXES BEFORE
 00562           TS     JETRATER        BEING SET, GIVEN TQR ZERO.
 0057            TS     LASTPER         ATTITUDE ERROR RECORDS FOR EIGHTBALL.
 0058            TS     LASTQER
 0059            TS     LASTRER
 0060            TS     PERROR
 0061            TS     QERROR
 0062            TS     RERROR
 0063            TS     OMEGAP          RATES IN BODY (PILOT) COORDINATES.
 0064            TS     OMEGAQ
 0065            TS     OMEGAR
 0066            TS     T6NEXT          JTLST VARIABLES.
 0067            TS     T6NEXT +1
 0068            TS     ADDT6JTS
 0069            TS     ADDTLT6
 0070            TS     DELAYCTR        MINIMUM IMPULSE RHC MODE COUNTER.
 0071            TS     ALPHAQ          DESCENT ACCELERATION ESTIMATES.
 0072            TS     ALPHAR
 0073            TS     DISPLACT        EIGHTBALL ROUTINE SWITCH.
 0074  2         TS     (1-K)           K=1 FIRST PASS.
R00745 2START CODING FOR MODULE 3 REMAKE, AUGUST 1967***START CODING FOR MODULE
 00746 93 REMAKE, AUGUST 1967*******************
 00750  INSRT16B TCF    PROTCTOR        RESTART PROTECT ENGINE-ON AND GIMBAL
A00755                                    DRIVE BITS.
R00756 2**END CODING FOR MODULE 3 REMAKE, AUGUST 1967*****END CODING FOR MODULE
 00757 93 REMAKE, AUGUST 1967*******************
 007600          CAF    BIT2            CHECK FOR STAGE
 007602          EXTEND
 007604          RAND   30
 007606          EXTEND
 0076072         BZF     +9D            (BRANCH FOR ASCENT.)
 007608          CAF    ZERO            1/ACCS BRANCHING VALUE IS ZERO FOR
 0076092         TS     -.06R/S2        DESCENT LM DAP.
 007610          EXTEND                 SET DESCENT URGENCY LIMIT = 1.5 SECONDS
 007612          DCA    URGLMDWN        AS BOUND TO USE MAXIMUM JETS.
 007614          DXCH   URGLMS
 007616          EXTEND                 RATE ERROR LIMIT W/MIN JETS: 1.4 DEG/SEC
 007618          DCA    RCOMDOWN        RATE ERROR DB    W/MIN JETS: 0.4 DEG/SEC
 0076192         TCF     +8D
 007620  +9D     CAF    ACCLIMIT        1/ACCS BRANCHING VALUE MUST BE
 0076212         TS     -.06R/S2        0.06 RADIANS/SECOND(2) FOR ASCENT DAP.
 007622          EXTEND                 SET ASCENT URGENCY LIMIT = .25 SECONDS
 007624          DCA    URGLMUP         AS BOUND TO USE MAXIMUM JETS.
 007626          DXCH   URGLMS
 007629          EXTEND                 RATE ERROR LIMIT W/MIN JETS: 2.0 DEG/SEC
 007630          DCA    RCOMNDUP        RATE ERROR DB    W/MIN JETS: 1.0 DEG/SEC
 0076322 +8D     DXCH   -2JETLIM
R0078  2SET UP "OLD" MEASURED CDU ANGLES:
 0079            EXTEND
 0080            DCA    CDUX            OLDXFORP AND OLDYFORP
 0081            DXCH   OLDXFORP
 0082            EXTEND
 0083            DCA    CDUY            OLDYFORQ AND OLDZFORQ
 0084  2         DXCH   OLDYFORQ
 0085            CAF    0.62170
 0086            TS     4JETTORK
 0087            CAF    .68387          2200 FT LBS. SCALED AT 2(10) X PI.
 0088            TS     JETTORK4        QR AXIS JET TORQUE FOR 4 JETS.
R0089  2SET UP THE TORQUE VECTOR RECONSTRUCTION SWITCHES:
 0090            EXTEND
 0091            DCA    VISNORMQ        PJUMPADR AND QJUMPADR
 0092  2         DXCH   PJUMPADR
R00921 2SET SWITCH TO SKIP Q,R-TJETLAW SQUARE ROOT:
R0093  2SET UP INITIAL VALUES FOR WFORP AND WFORQR:
 0094            EXTEND                 SCALED AT 16:
 0095            DCA    WFORPQRK        WFORP  = K/DT = K/.1  = 1/.1  = 0.625
 0096  2         DXCH   WFORP           WFORQR = K/DT = K/.15 = 1/.15 = 0.41667
R0097  2SET UP WAITLIST CALL TO RESET WFORP AND WFORQR:
 0098            CAF    180MS
 0099            TC     WAITLIST
 0100            EBANK= WFORQR
 0101            2CADR  WCHANGER
 0150            EXTEND                 SET UP P-AXIS TO GO TO DUMMYFIL
 0151            DCA    DF2CADR
 0152  2         DXCH   PFILTADR
 0153            EXTEND
 0154            DCA    PAXADIDL
 0155            DXCH   T5ADR
 0156   SETTIME5 CAF    MS100
 0157            TS     TIME5
 0158            TCF    RESUME
 0159            EBANK= DT
 0160   IDLERADR 2CADR  DAPIDLER
 016100 MOREIDLE CS     PAXADIDL        DAP SHOULD BE OFF
 016105          AD     T5ADR
 016110          EXTEND
 0161152         BZF    SHUTDOWN        CHECK TO SEE WHETHER THIS IS FROM P-AXIS
 016120 SETT5ADR EXTEND
 016125          DCA    IDLERADR
 016130          DXCH   T5ADR
 0161352         TCF    SETTIME5
 0164   SHUTDOWN CAF    ZERO            COMMAND JETS OFF
 0165            EXTEND
 0166            WRITE  5
 0167            EXTEND
 0168  2         WRITE  6
 0169            CS     BGIM23          TURN TRIM GIMBAL OFF
 0170            EXTEND
 0171  2         WAND   12
 017200          TCF    SETT5ADR
 017205 TESTMASS CAF    MASSGOOD
 017210          MASK   DAPBOOLS
 017215          EXTEND
 0172202         BZF    MOREIDLE
 017225          CAF    PRIO34
 017230          TC     NOVAC
 017235          EBANK= DT
 017240          2BCADR 1/ACCS
 017245          TCF    SETT5ADR
 0173   BGIM23   OCTAL  07400
 0174   .707P    DEC    .70711          SQUARE ROOT OF 1/2
 0175            EBANK= OMEGAP
 0176   PAXADIDL 2CADR  PAXIS
 0177            EBANK= ALPHAQ
 0178   DF2CADR  2CADR  DUMMYFIL
 0179   MS100    OCTAL  37766
 0180   0.00167  DEC    0.00167
 0181   0.62170  DEC    0.62170
 0182   .68387   DEC    0.68387
 0183  20.31250  DEC    0.31250
 0184   DELTADOT DEC    0.07111         0.2 DEG/SEC SCALED AT PI/64
 0186   .5ACCMIN DEC    0.30680
 0187   DBMNMP   DEC    0.00167         .3 DEGREES SCALED AT PI RADIANS
R0188  2TORQUE AND WEIGHTING CONSTANTS:
 0189   180MS    DEC    18              180 MS WAITLIST DT.
 0190   .075DEC  DEC    0.075           100 MS JET PULSE TORQUE TERM WITH K = .5
 0191   VISNORMQ GENADR CHKVISFZ        D.P. GENADR FOR INITIALIZATION OF THE
 0192            GENADR NORMALQ         TORQUE VECTOR RECONSTRUCTION SWITCHES.
 0193   10AT16   DEC    0.625           INITIAL VALUE FOR WFORP.
 0194   6.6AT16  DEC    0.41667         INITIAL VALUE FOR WFORQR.
 0195  4WFORPQRK EQUALS 10AT16          D.P. NAME FOR BOTH CONSTANTS
 0200   RCOMDOWN OCTAL  77001           -1.4 DEG/SEC SCALED AT PI/4 RADIANS/SEC.
 0201            OCTAL  77555           -0.4 DEG/SEC SCALED AT PI/4 RADIANS/SEC.
 0202   RCOMNDUP OCTAL  76447           -2.0 DEG/SEC SCALED AT PI/4 RADIANS/SEC.
 0203            OCTAL  77223           -1.0 DEG/SEC SCALED AT PI/4 RADIANS/SEC.
 0204   URGLMDWN DEC    -.00293         -1.5 SECONDS SCALED AT 2(+9).
 0205            DEC    -.09375         -1.5 SECONDS SCALED AT 2(+4).
 0206   URGLMUP  DEC    -0.25 B-9       -0.25 SECONDS SCALED AT 2(+9).
 0207            DEC    -0.25 B-4       -0.25 SECONDS SCALED AT 2(+4).
 0208   ACCLIMIT DEC    -.03820         -.06 RADIANS/SECOND(2) SCALED AT PI/2.
L      2P-AXIS REACTION CONTROL SYSTEM AUTOPILOT
 0001            BANK   16
 0002  2         EBANK= DT
R0003   THE FOLLOWING T5RUPT ENTRY BEGINS THE PROGRAM WHICH CONTROLS THE P-AXIS
 0004  9ACTION OF THE LEM USING THE RCS JETS.
R0005  2THE NOMINAL TIME BETWEEN THE P-AXIS RUPTS IS 100 MS IN ALL NON-IDLING MO
 0006  9DES OF THE DAP.
 0007   PAXIS    CAF    TWENTYMS        RESET TIMER IMMEDIATELY - DT= 20 MS
 0008  2         TS     TIME5
 0009            LXCH   BANKRUPT        INTERRUPT LEAD IN (CONTINUED)
 0010            EXTEND
 0011  2         QXCH   QRUPT
R0012  2CHECK TO SEE IF DAP IS STILL IN USE:
 0013  2         TC     CHEKBITS        RETURN IS TO I+1 IF DAP SHOULD STAY ON.
R0014  2WHILE DAP IS ON, SET UP EITHER A KALMAN FILTER RUPT OR A DUMMY FILTER RU
 0015  9PT BY SETTING UP T5ADR FROM ERASABLE.
 0016            EXTEND                 T5ADR IS SET TO EITHER FILTER OR
 0017            DCA    PFILTADR        DUMMYFIL IN A BLIND MANNER SINCE
A0017052                                PFILTADR IS SET UP ELSEWHERE
R0017102START CODING FOR MODULE 3 REMAKE, AUGUST 1967***START CODING FOR MODULE
 00171593 REMAKE, AUGUST 1967*******************
 0017202INSRT16A TCF    PAXISCNT        GO DECREMENT COUNTERS.
R0017992**END CODING FOR MODULE 3 REMAKE, AUGUST 1967*****END CODING FOR MODULE
 00180093 REMAKE, AUGUST 1967*******************
R0018022***** KALCMANU-DAP AND "RATE-HOLD"-DAP INTERFACE *****
R001804 THE FOLLOWING SECTION IS EXECUTED EVERY 100 MS (10 TIMES A SECOND) WITHI
 0018069N THE P-AXIS REACTION CONTROL SYSTEM
R0018082AUTOPILOT (WHENEVER THE DAP IS IN OPERATION).
 001810          CAF    TWO             SET UP LOOP TO DO Z,Y,X CDU AXES:
 0018122KALCLOOP TS     QRCNTR
 001814          INDEX  QRCNTR          KALCMANU AND RATE-HOLD USE THIS SECTI
 001816          CAE    CDUXD           TO PERFORM THEIR INDEPENDENT FUNCTION
 001818          EXTEND                 BOTH PROCEDURES SET UP THE DELCUD'S
 001820          INDEX  QRCNTR          TO HAVE THE NEGATIVE VALUE OF THE
 001822          MSU    DELCDUX         DESIRED CDU CHANGE FOR EACH 100 MS CS
 001824          CCS    A               DURING THE MANEUVER (OR MODE).  EACH
 001826          AD     ONE             STORED AT PI RADIANS IN 2'S COMPLEMEN
 001828          TCF     +2             SINCE THE MODULAR SUBTRACT YIELDS THE
 001830          COM                    NEW CDUD VALUE IN 1'S COMPLEMENT, THE
 001832          INDEX  QRCNTR          CCS SECTION IS NEEDED FOR 1'S TO 2'S
 0018342         TS     CDUXD           CONVERSION OF DESIRED CDU ANGLES.
 001836          CCS    QRCNTR          (THIS MAKES THE LOOP DO ALL THREE
 001838          TCF    KALCLOOP        AXES.  A = QRCNTR, DO NEXT DELCDU.
R0019   DO P AXIS RATE DERIVATION AND CONTROL LAW.
R0020  2DERIVE DELTA P.
 0021            CA     ZERO
 0022            TS     ITEMP1
 0023            CAE    TP
 0024            AD     NEGCSP1
 0025            EXTEND
 0026            BZMF   DOTORQUE
 0027            TS     ITEMP1
 0028            CA     CSPAT1P
 0029            TCF    SCALEDTP
 0030   DOTORQUE CA     TP
 0031            EXTEND
 0032            MP     BIT5
 0033            CAE    L
 0034            EXTEND
 0035            MP     16/25
 0036   SCALEDTP TS     TP
 0037            EXTEND
 0038            MP     WFORP
 0039            AD     (1-K)/8
 0040            EXTEND
 0041            MP     TP
 0042            EXTEND
 0043            MP     BIT4
 0044            CA     1JACC
 0045            EXTEND
 0046            MP     L
 0047            EXTEND
 0048            MP     NO.PJETS
 0049            LXCH   JETRATE
 0050            CA     ITEMP1
 0051  2         TS     TP
 0052            CAE    CDUX
 0053            TS     L
 0054            EXTEND
 0055            MSU    OLDXFORP        SCALED AT PI
 0056            LXCH   OLDXFORP
 0057            ZL
 0058            DXCH   DELTAP
 00591           CAF    BIT9
 00592           TS     Q
 0060            CA     CDUY
 0061            TS     L
 0062            EXTEND
 0063            MSU    OLDYFORP        SCALED AT PI
 0064            LXCH   OLDYFORP
 0065            EXTEND
 0066            MP     M11             M11 SCALED AT 1
 0067            DAS    DELTAP
 00674           EXTEND
 00675           DCA    DELTAP
 0068            EXTEND
 0069            DV     Q                NOW SCALED AT PI/64
 0071            EXTEND
 0072            MP     WFORP           SCALED AT 2(4)=16, RESULT IN A AT PI/4.
 0073            XCH    OMEGAP          W*DELTAP IN OMEGAP LOC. OLD OMEGAP IN A.
 0074            EXTEND
 0075            MP     (1-K)           SCALED AT 1
 0076            AD     JETRATE         RATE DUE TO JETS TORQUING.
 0077            ADS    OMEGAP          PRATE= WFORP*DELTAP+ALPHA*LAST-PRATE+TPF
 0078   PAXFILT  TC     PJUMPADR
 0079   SKIPPAXS CAF    VISNORMQ
 0080            TS     PJUMPADR
 0081  2         TCF    RESUME
 0082  2CHKVISFZ TC     T6JOBCHK        CHECK FOR T6 RUPT.
 0083  2         TCF    PURGENCY        NO RHC INPUTS ON 206
R00835 2START CODING FOR MODULE 3 REMAKE, AUGUST 1967***START CODING FOR MODULE
 00836 93 REMAKE, AUGUST 1967*******************
R00837  FROM P-AXIS-
R00838     1. COUNT DOWN GIMBAL DRIVE TIMES.
R00839     2. END DRIVES WHEN APPROPRIATE.
R0083952   3. COUNT DOWN TIME FOR FORCED GTS JUST BEFORE THROTTLE-UP.
 00840 2PAXISCNT DXCH   T5ADR            (PRESERVE OLD CODING)
 00841           CCS    SIMPCNTR        COUNT DOWN SIMPCNTR TO +0.  DECISECONDS
 00842 2         TS     SIMPCNTR
 0085            CCS    QGIMTIMR        Q-AXIS GIMBAL DRIVE TIMER-
 0086            TCF    DECQTIMR          POSITIVE- COUNTING DOWN
 0087            TCF    TURNOFFQ          POS ZERO- DRIVE SHOULD BE ENDED
 0088   CHKRTIMR CCS    RGIMTIMR          NEGATIVE- INACTIVE
 0089            TCF    DECRTIMR          NEG ZERO- IMPOSSIBLE
 0090  2         TCF    TURNOFFR        REPEATED FOR R-AXIS (ABOVE).
 0091   CKTRMCTR CCS    TRIMCNTR        COUNT DOWN FOR FORCED GTS ENTRY-
 0092            TCF    +4                POSITIVE- COUNTING DOWN
 0093            TC     CCSHOLE           POS ZERO- IMPOSSIBLE
 0094            TCF    CHKSMART          NEGATIVE- INACTIVE- RETURN
 0095            TCF    CHKSMART          NEG ZERO- THIS VALUE UNTIL DRIVE DONE.
 0096            CAF    NEGONE
 0097            ADS    TRIMCNTR        COUNT TRIMCNTR DOWN TO NEG ZERO.
 0098            TCF    CHKSMART
 0099   DECQTIMR TS     QGIMTIMR        COUNT QGIMTIMR DOWN TO POS ZERO.
 0100            TCF    CHKRTIMR
 0101   DECRTIMR TS     RGIMTIMR        COUNT RGIMTIMR DOWN TO POS ZERO.
 0102  2         TCF    CKTRMCTR
 0103   TURNOFFQ TS     NEGUQ           REWRITE GIMBAL-DRIVE BITS TO HALT Q.
 01035           TS     QACCDOT
 0104            CS     QGIMBITS
 0105            EXTEND
 0106            WAND   12
 01065           CAF    NEGMAX
 0107            TS     QGIMTIMR        DEACITIVATE TIMER.
 0108            TCF    CHKRTIMR
 0109   TURNOFFR TS     NEGUR           REWRITE GIMBAL DRIVE BITS TO HALT R.
 01095           TS     RACCDOT
 0110            CS     RGIMBITS
 0111            EXTEND
 0112            WAND   12
 01125           CAF    NEGMAX
 0113            TS     RGIMTIMR        DEACTIVATE TIMER.
 0114            TCF    CKTRMCTR
 011402 QGIMBITS OCTAL  01400
 0114042RGIMBITS OCTAL  06000
R01141 2FROM STARTDAP- RESTART PROTECT THE CHANNEL 11 ENGINE-ON BIT AND THE CHAN
 01142 9NEL 12 GIMBAL-DRIVE BITS.
 0115  2PROTCTOR TS     (1-K)/8           (OLD CODING)
 0116            CAE    FLAGWRD1
 0117            MASK   ENGINBIT
 0118            EXTEND
 0119            BZF    INSRT16B +1     RETURN TO STARTDAP IF ENGINE SHOULD BE
A0120                                     OFF.
 0121            CAF    BIT13           OTHERWISE-
 0122            EXTEND
 0123            WOR    11              RESET ENGINE-ON BIT.
 0124            CS     QGIMTIMR
 0125            EXTEND
 0126            BZMF   +3              BRANCH IF Q-DRIVE TIMER ACTIVE.
 0127            CAF    ZERO            OTHERWISE ZERO NEGUQ.
 0128            TS     NEGUQ
 0129            CS     RGIMTIMR        REPEAT FOR R-DRIVE.
 0130            EXTEND
 0131            BZMF   +3
 0132            CAF    ZERO
 01321           TS     NEGUR
 01322           TC     IBNKCALL        SET UP DRIVES ACCORDING TO NEGUS.
 01323           FCADR  WRCHN12
 01324 2         TCF    INSRT16B +1     RETURN TO OLD CODING.
 0133   NODAPNO  CAF    ULLAGER
 0134            MASK   DAPBOOLS
 0135            EXTEND
 0136            BZF    ZEROFIVE
 0137            CS     PHASENUM        ULLAGE BIT IS SET.PROTECT MP7 +X COMMAND
 0138            AD     SEVEN
 0139            EXTEND
 0140            BZF    PROTCT+X
 0141            TCF    LEAVASIS        THIS IS NOT MP7. THIS IS NOT COLD PURGE.
 0142   PROTCT+X CAF    +XJETS
 0143   TWINEXIT EXTEND
 0144  2         WRITE  5
 0145   LEAVASIS CAF    MS30P
 0146            TS     TIME5
 0147  2         TCF    RESUME
 0149   ZEROFIVE CAF    ZERO
 0150  2         TCF    TWINEXIT
 0152  2+XJETS   OCT    00252
 0163   ADDLT5ID EXTEND                 (ARRIVE WITH BIT 11 IN A, FROM T5IDLERI)
 0164            RAND   DSALMOUT
 0165            CCS    A
 0166  2         TCF    MORET5ID        SMARTJOB IS ALREADY RUNNING.  NO ACTION.
 0167            CCS    SMODE           NOT RUNNING.  SEE IF SELFCHECK WANTED.
 0168            TCF    MORET5ID        SELFCHECK IS ON, SO DON'T RUN SMARTJOB.
 0169            TCF    GETSMART        SELFCHECK IS OFF, SO START SMARTJOB.
 0170            TCF    MORET5ID        SELFCHECK IS ON, SO DON'T RUN SMARTJOB.
 01705 2         TCF    MORET5ID        SELFCHECK IS ON, SO DON'T RUN SMARTJOB.
 0171   GETSMART CAF    PRIO1
 0172            TC     NOVAC
 0173            EBANK= SMARTFLG
 0174            2CADR  SMARTJOB
 0175            CAF    BIT11           SET THE SMARTJOB-RUNNING FLAG.
 0176            EXTEND
 0177  2         WOR    DSALMOUT
 0178   MORET5ID CAF    GODAPGO
 0179            MASK   DAPBOOLS
 0180            EXTEND                 NODAPNO WILL STOP COLD FIRE PURGE AND
 0181  2         BZF    NODAPNO         RESTART-PROTECT MP 7 +X TRANSLATION.
 0182  4         TCF    DAPIDLEI        GODAPGO IS ON, SO RUN DAPIDLER NOW.
R0183   SMARTJOB IS A DUMMYJOB-LIKE FUNCTION DESIGNED TO ABSORB IDLE TIME.  IT C
 0184  9AUSES THE COMPUTER-ACTIVITY LAMP TO
R0185   REMAIN ON, AND PREVENTS THE EXISTENCE OF A JOB SLEEPING IN THE LOWEST NU
 0186  9MBERED CORE SET.  IT IS PREVENTED FROM
R0187   STARTING, OR MADE TO TERMINATE IF ALREADY RUNNING, BY MAKING SMARTFLG CO
 0188  9NTAIN ANY NEGATIVE VALUE OR ZERO, OR
R0189  2BY MAKING SMODE (THE SELFCHECK CONTROL REGISTER) UNEQUAL TO +0.
 0190   SMARTJOB CCS    NEWJOB          ANY HIGHER PRIORITY JOB WAITING?
 0191  2         TC     CHANG1          YES.  GO DO IT.
 0192            CA     SMARTFLG        NO.  SHOULD SMARTJOB TERMINATE?
 0193            EXTEND
 0194  2         BZMF   STOPSMRT        YES.  GO KILL IT.
 0195            CCS    SMODE           MAYBE NOT.  SEE IF SELFCHECK WANTED.
 0196            TCF    STOPSMRT        WANTED.  TERMINATE SMARTJOB.
 0197            TCF    SMARTJOB        NOT WANTED.  CONTINUE SMARTJOB.
 01975           NOOP                   WANTED.  TERMINATE SMARTJOB.
 0198   STOPSMRT CS     BIT11           TERMINATE SMARTJOB.
 0199            EXTEND                 FIRST, TURN THE SMARTJOB-RUNNING FLAG
 0200  2         WAND   DSALMOUT        OFF.
 0201  2         TCF    ENDOFJOB        THEN KILL JOB.
 020110 CHKSMART CA     SMARTFLG        IS SMARTJOB DESIRED?
 020114          EXTEND
 0201182         BZMF   INSRT16A +1     NO.  TAKE NO ACTION.
 020122          CAF    BIT11           YES.  SEE IF IT IS ALREADY RUNNING.
 020126          EXTEND
 020130          RAND   DSALMOUT
 020134          CCS    A
 0201382         TCF    INSRT16A +1     SMARTJOB IS ALREADY RUNNING.  NO ACTION.
 020142          CCS    SMODE           NOT RUNNING.  SEE IF SELFCHECK WANTED.
 020146          TCF    INSRT16A +1     SELFCHECK IS ON, SO DON'T RUN SMARTJOB.
 020150          TCF    SETSMART        SELFCHECK IS OFF, SO START SMARTJOB.
 020154          TCF    INSRT16A +1     SELFCHECK IS ON, SO DON'T RUN SMARTJOB.
 0201582         TCF    INSRT16A +1     DITTO.
 020162 SETSMART CAF    PRIO1
 020166          TC     NOVAC
 020170          EBANK= SMARTFLG
 020174          2CADR  SMARTJOB
 020178          CAF    BIT11           SET THE SMARTJOB-RUNNING FLAG.
 020182          EXTEND
 0201862         WOR    DSALMOUT
 0201902         TCF    INSRT16A +1     RETURN TO PAXIS.
R0202  2**END CODING FOR MODULE 3 REMAKE, AUGUST 1967**** END CODING FOR MODULE
 0203  93 REMAKE, AUGUST 1967*******************
R0204  2THE FOLLOWING CODING IS LEFT IN PLACE TO PRESERVE ADDRESSES.
 0240            EXTEND
 0241            MP     BIT3            ENOUGH FOR 4 JETS
 0242            CAE    L
 0243            EXTEND
 0244            MP     25/32           A CONTAINS TJET SCALED AT 2EXP(4)(16/25)
 0245            TS     TP
 0246  2         TS     TOFJTCHG
 0247            CAE    PRATEDIF        TEST WHETHER 2 OR 4 JETS TO BE USED BY
 0248            AD     -2JETLIM        COMPARING DELTA RATE WITH 2 JET LIMIT
 0249            EXTEND
 0250  2         BZMF   +4              IF NEGATIVE, 2 JETS ARE ENOUGH
 0251            CAF    POSMAX          POSITIVE, NON-ZERO.  PUT POSMAX IN NJET
 0252            TS     NJET
 0253  2         TCF    PJETSLEC        AND GO SELECT GOOD POLICY
 0254            CAF    NEGMAX          2 JETS, PUT NEGMAX IN NJET,
 0255            TS     NJET
 0256            CAE    TP              DOUBLE TP,
 0257            DOUBLE
 0258  2         TS     TP              AND GO CHECK MINIMUM IMPULSE
R0259   ........................................................................
R0260   CHECK RATE COMMAND ON TIME AGAINST MINIMUM IMPULSE
 0261            TS     TOFJTCHG
 0262            AD     -TJMINT6
 0263            EXTEND                   AS TP. TEST JET TIME. IS IT GREATER OR
 0264            BZMF   JETSOFF         LESS THAN A MINIMUM IMPULSE
R0265   ........................................................................
P0266  2PROGRAM NAME: PJETSLEC                       DATE: DECEMBER 9, 1966
R0267  2MODIFICATION 2 TO SUNBURST REVISION 58 ON DECEMBER 30, 1966 BY JOHN BLIS
 02675 9S(ADAMS ASSOCIATES) RM 7-286, X183
R0268  4LOG SECTION: P-AXIS REACTION CONTROL SYSTEM AUTOPILOT -- FIRST PUT INTO
 0269  9SUNBURST(III) REVISION 29
R0270  2FUNCTIONAL DESCRIPTION:
R0271       THE OBJECT OF PJETSLEC IS TO CHOOSE THE BEST JET POLICY WHOSE NECESS
 0272  9ARY JETS HAVE NOT BEEN RECORDED AS
R0273   FAILED IN THE CH6MASK REGISTER.  THE CONDITIONS ON SELECTION ARE THE NUM
 0274  9BER OF JETS REQUESTED(2 OR 4), THE
R0275  2SENSE OF P-AXIS ROTATION REQUIRED(+/-), AND ALTERNATING USE OF DIAGONAL
 0276  9FORCE-COUPLED PAIRS OF JETS.
R02770      PJETSLEC FIRST READS CHANNEL 6 TO SEE IF THE JETS ARE CURRENTLY FIRI
 02775 9NG.  IF THEY ARE OFF, THE DIAGONAL JETS
R02780  ARE SWITCHED TO COMPLY WITH THE ALTERNATION CONDITION, AS THERE IS NO DA
 02785 9NGER OF SWITCHING ONE OFF AND THE OTHER
R02790  ON IN RAPID SUCCESSION.  AFTER SWITCHING THE DIAGONALS, OR IF THE JETS A
 02795 9RE ON, 6.5 MS IS ADDED TO THE JET
R02800  FIRING TIME, TOFJTCHG, TO ALLOW FOR DELAY IN TURNING ON THE JETS OR IN C
 02805 9ASE THE CURRENT POLICY HAS SUFFERED A
R02810  JET FAILURE AND MUST BE REPLACED.  HOWEVER, IF THE SAME JET POLICY IS SE
 02815 9LECTED, THE FACT WILL BE DETECTED BEFORE
R02820  THE POLICY IS WRITTEN INTO CHANNEL 6, THE UNNECESSARY 6.5MS DELAY TIME W
 02825 9ILL BE DEDUCTED FROM TOFJTCHG.  THE TIME
R02830  OF CALCULATION, 5MS, IS SUBTRACTED AT THE SAME TIME IN THE COMBINED CONS
 02835 9TANT, -COM-6.5 = -11.5MS.  NOTE THAT IN
R02840  CASE JET FAILURE REQUIRES SELECTION OF A NEW POLICY, TOFJTCHG IS NOT MOD
 02845 9IFIED BY -5MS, AND SO THERE WILL BE AN
R02850 2OVERSHOOT OF 5MS OF JET FIRING.
R02855 2    NEXT, THE SENSE OF P-AXIS ROTATION(ROLL) IS TESTED, TO DETERMINE WHI
 02860 9CH SET OF JET POLICIES MUST BE INDEXED.
R0287       IF THE P-AXIS IS +, REL = 7, IF -, REL = 0,.  NJET IS TESTED NEXT; I
 0288  9F POSMAX, 4 JETS DESIRED, REL = REL + 6,
R0289   CTR = 6.  IF NEGMAX, 2 JETS DESIRED, REL = REL + 5, CTR = 5.  IF 4 JETS
 0290  9DESIRED, GO TO POLICY TESTING LOOP
R0291  2WITHOUT TESTING TO SEE WHICH DIAGONAL PAIR IS PREFERRED THIS TIME.
R0292       IF 2 JETS ARE DESIRED, SEE WHETHER NO. 2 PAIR IS PREFERRED.  IF IT I
 0293  9S, TEST IT FIRST AND USE IT IF IT'S OK.
R0294   IF IT HAS FAILED, GO TO THE TEST LOOP TO TEST THE POLICIES IN ORDER.  IF
 0295  9 NO. 1 POLICY IS PREFERRED, GO DIRECTLY
R0296  2TO THE TEST LOOP.
R0297       THE TEST LOOP USES REL TO PICK UP THE NEXT POLICY IN PPOLTABL AND CT
 0298  9R TO KEEP TRACK OF THE NUMBER OF
R0299   POLICIES(1-7) TESTED.  WHEN A GOOD POLICY IS FOUND, IT IS WRITTEN INTO C
 0300  9HANNEL 6, OTHERWISE THE NEXT POLICY IS
R0301  2TRIED.  IF NO GOOD POLICIES ARE FOUND, CONTROL GOES TO ABORTJET TO TURN
 0302  9OFF THE JETS AND THE DAP.
R03030      WHEN A GOOD POLICY IS FOUND, CONTROL TRANSFERS TO WRITEPOL.  THERE,
 03033 9THE SELECTED POLICY IS COMPARED TO THE
R03035  CURRENT POLICY IN CHANNEL 6.  IF THEY ARE NOT THE SAME, EITHER THE JETS
 03040 9HAVE NOT BEEN ON, OR A JET FAILED IN THE
R03043  CURRENT POLICY.  IN EITHER CASE, TOFJTCHG HAS ALREADY BEEN INCREASED BY
 03045 9THE 6.5MS JET FIRE DELAY.  AS DESCRIBED
R03050  ABOVE, HOWEVER, THE EFFECT OF THE OLD POLICY FIRING DURING THE COMPUTATI
 03053 9ON IS NOT TAKEN INTO ACCOUNT.  THIS IS
R03055  CONSIDERED SAFER, SINCE OTHERWISE, A TOFJTCHG ALREADY CALCULATED NEAR TH
 03060 9E MINIMUM IMPULSE TIME MIGHT BE REDUCED
R03063 2TO LESS THAN 14MS AND THE RESULT WOULD BE THE EXPLOSION OF THE JETS.
R03065      IF THE JET POLICY IS THE SAME AS THE LAST ONE, THE 6.5MS DELAY TIME
 03070 9IS DEDUCTED FROM TOFJTCHG, AND IN ANY
R03072  CASE, THE POLICY IS WRITTEN INTO CHANNEL 6, +/-2/4 IS STORED IN NO.PJETS
 03074 9, AND BIT9 IS PUT INTO JTSATCHG TO CAUSE
R03076 2THE P-AXIS JETS TO BE TURNED OFF ON THE NEXT T6RUPT.  CONTROL THEN TRANS
 03078 9FERS TO SKIPTEST.
R0308   CALLING SEQUENCES: NONE                      SUBROUTINES CALLED:
R0309                                                WRITEP - WRITES C(A), THE
R0310                                                SELECTED JET POLICY, INTO
R0311  2                                             CHANNEL 6
R0312  2NORMAL EXIT MODES:                           ALARM OR ABORT EXIT MODES:
R0313       TCF SKIPTEST                                      EXTEND
R0314                                                         DCA    ABORTADR
R0315  2                                                      DTCB
R0316                                                         EBANK= JTSONNOW
R0317  2                                             ABORTADR 2CADR  ABORTJET
R0318                                                THIS SEQUENCE IS FOLLOWED
R0319                                                IF NONE OF THE POLICIES IS
R0320  2                                             WITHOUT JET FAILURES
R0321  2ERASABLE INITIALIZATION REQUIRED
R0322       TP        =  ) TIME PERIOD OF JET FIRING
R0323       TOFJTCHG  =  ) AT T6 SCALING, 625 MICROSECONDS PER BIT
R0324       NJET      =  37777, 40000, DEPENDING ON WHETHER 4 OR 2 JETS DESIRED
R0325       TJETSIGN  = +/-00001, DEPENDING ON DESIRED SENSE OF P-AXIS ROTATION
R0326       CH6MASK   =  BITS 1-8 INDICATE WHETHER CORRESPONDING JETS HAVE FAILE
 0327  9D - BIT ON IS FAILURE, BIT OFF IS OK.
R03273 2    DAPBOOLS,BIT5(AORBSYST) =0/1, DEPENDING UPON WHETHER DIAGONAL 1 OR D
 03276 9IAGONAL 2 WAS PREFERRED DURING LAST PASS
R0328  2OUTPUT:
R0329       CHANNEL 6 - CONTAINS SELECTED JET POLICY UNLESS NONE IS AVAILABLE
R0330       NO.PJETS  - +/-2/4, SENSE OF P-AXIS ROTATION AND NUMBER OF JETS USED
R0331                   BY POLICY ACTUALLY SELECTED(MAY NOT = 4 IF 4 JETS RE-
R0332                   QUESTED BUT ONE OR MORE JETS FAILED)
R0333       TOFJTCHG  - MODIFIED BY -5MS OR +6.5MS OR NEITHER, DEPENDING ON WHET
 03335 9HER THE JETS WERE ON, AND WHETHER THE
R0334                   NEW POLICY IS A CHANGE FROM THE OLD OR NOT.
R03343 2    DAPBOOLS, BIT5(AORBSYST) = 1/0, IF THE INPUT VALUE WAS 0/1, UNLESS J
 03346 9ETS WERE ON WHEN PJETSLEC STARTED.
R0335  2    JTSATCHG  - = BIT9, UNLESS NO POLICIES AVAILABLE
R0336  2    NJET, TP, TJETSIGN, AND CH6MASK NOT CHANGED BY PJETSLEC
R0337       REL AND CTR ARE LEFT AT THEIR LAST VALUES WHEN THE GOOD POLICY WAS
R0338  2    FOUND
R0339  2DEBRIS:
R0340       REL = ITEMP5
R0341       CTR = ITEMP6
R0342  2    A,L,Q
 0343   PJETSLEC EXTEND                 BEGIN JET SELECT ROUTINE BY SEEING WHE-
 0344            READ   6               THER THE JETS ARE TURNED ON(CHANNEL 6
 0345            CCS    A               NON-ZERO)
 0346  2         TCF    ADDELAY         JETS ON, DON'T SWITCH DIAGONALS.
 0347            CAF    AORBSYST        JETS NOT ON NOW, START BY SWITCHING BIT5
 0348            LXCH   DAPBOOLS        IN DAPBOOLS
 0349            EXTEND                 BIT5 ON - DIAGONAL JETS 15, 7 AND 8, 16
 0350            RXOR   L
 0351  2         TS     DAPBOOLS        BIT5 OFF - DIAGONAL JETS 4, 12 AND 3, 11
 0352   ADDELAY  CAF    14-TJMIN        ADD DELAY TIME BECAUSE JETS USUALLY OFF
 0353  2         ADS    TOFJTCHG        AND EASIER IF JET POLICY NOW HAS FAILED.
 0357            CAF    ZERO            BEFORE TESTING P-AXIS SIGN,
 0358            TS     REL             INITIALIZE ADDRESSING INDEX AT ZERO
 0359            CCS    TJETSIGN        TEST DIRECTION OF P-AXIS ROTATION(ROLL)
 0360            CAF    SEVEN           IF POSITIVE, GET POLICY FROM LOWER SEVEN
 0361  2         ADS    REL             LOCATIONS OF TABLE
 0362            CCS    NJET            SEE IF 4-JET POLICY IS REQUESTED
 0363            CAF    SIX             IT IS, PICK UP 6 FOR REL AND CTR
 0364            TCF    FOURJETS        AND GO STORE THEM
 0365            CAF    FIVE            2 JETS ONLY REQUESTED, PICK UP 5, STORE
 0366            TS     CTR             IN CTR AND ADD TO REL.
 0367            ADS    REL
 0368            CS     DAPBOOLS        CHECK BIT5 IN DAPBOOLS TO SEE WHICH PAIR
 0369            MASK   AORBSYST        OF DIAGONAL JETS SHOULD BE USED NEXT
 0370            CCS    A
 0371  2         TCF    TESTPOL         FIRST PAIR, SO GO TO TESTING LOOP NOW
 0372            EXTEND                 SECOND PAIR, DECREMENT REL TO 4 OR 11,
 0373            DIM    REL
 0374            INDEX  REL             PICK UP SECOND DIAGONAL PAIR FROM POLICY
 0375            CAF    PPOLTABL
 0376            MASK   CH6MASK         TABLE AND COMPARE WITH FAILURE BITS
 0377            EXTEND
 0378  2         BZF    WRITEPOL        THE JETS ARE GOOD, GO WRITE IN CHANNEL
 0379            INCR   REL             THE JET(S) HAVE FAILED FOR THIS POLICY,
 0380  2         TCF    TESTPOL         RESTORE REL AND DO TEST POLICY LOOP
 0381   FOURJETS ADS    REL             COME HERE TO SET REL AND CTR FOR 4-JET
 03815           CAF    SIX                     ****ADS STINKS****
 0382  2         TS     CTR             POLICY REQUESTED.  ALSO, SET CTR -1 HERE
 0383   TESTPOL  INDEX  REL             PICK UP NEXT POLICY AS LOCATED RELATIVE
 0384            CAF    PPOLTABL        TO PPOLTABL BY REL.
 0385            MASK   CH6MASK         COMPARE WITH FAILURE BITS
 0386            EXTEND
 0387            BZF    WRITEPOL        THE JETS ARE GOOD, WRITE IN THE CHANNEL
 0388            EXTEND                 THE JET(S) HAVE FAILED FOR THIS POLICY
 0389            DIM    REL             DECREMENT THE INDEX,
 0390            CCS    CTR             SEE IF ALL POLICIES HAVE BEEN TESTED.
 0391            TCF    TESTPOL -1      CTR NOT ZERO, A = CTR -1, DO LOOP AGAIN
 0392            EXTEND                 CTR ZERO, ALL ALLOWABLE POLICIES FAILED
 0393            DCA    ABORTADR        PICK UP 2CADR OF ABORTJET
 0394  2         DTCB                   AND GO THERE
 0395   WRITEPOL INDEX  REL             A GOOD POLICY IS FOUND, PICK IT UP AND
 0396            CAF    PPOLTABL
 03962           EXTEND                 BEFORE WRITING IT, CHECK TO SEE IF THE
 03963           RXOR   6               SAME POLICY IS CURRENTLY IN CHANNEL 6.
 03964           EXTEND
 03965           BZF    SAMEJETS        SAME POLICY, GO ADJUST TOFJTCHG
 03966  OK2WRITE INDEX  REL             DIFFERENT POLICY(CHANNEL 6 WAS ZERO OR A
 03967           CAF    PPOLTABL        JET FAILED IN LAST POLICY).  GET POLICY,
 0397  2         TC     WRITEP          GO WRITE IT IN CHANNEL 6 AND RETURN
 0398            CCS    A               THE POLICY IS STILL IN A, TEST NUMBER OF
 0399            CAF    TWO
 0400            TCF    +2              JETS(BIT15 ON FOR 4-JET POLICIES) AND
 0401            CAF    FOUR
 0402            EXTEND                 MULTIPLY BY TJETSIGN(+/-1) TO GET +/-2,4
 0403            MP     TJETSIGN
 0404  2         LXCH   NO.PJETS        IN L, WHICH IS THEN STORED IN NO.PJETS
 0405            CAF    BIT9            TURN OFF P-AXIS JETS AFTER T6RUPT
 0406  2         TS     JTSATCHG
 0407  2         TCF    SKIPTEST        CHECK FOR SKIP.PERHAPS TO DO JETLIST
 04072  SAMEJETS CAF    -COM-6.5        COME HERE TO ADJUST TOFJTCHG BY FACTOR
 04073           ADS    TOFJTCHG        OF 11.5MS(COMP TIME + MINIMP DELAY) WHEN
 04074 2         TCF    OK2WRITE        CURRENT JET POLICY IS TO BE MAINTAINED.
 0408            EBANK= JTSONNOW        WOULD YOU BELIEVE, EBANK = 6
 0409   ABORTADR 2CADR  ABORTJET        WHERE TO GO WHEN ALL JET POLICIES FAIL
R0410  2........................................................................
 0411  9........................................
R0412  2TABLE OF P-AXIS JET POLICIES IS ASSEMBLED HERE TO BE ADDRESSED BY RELATI
 0413  9VE INDEX FROM BASE ADDRESS PPOLTABLE
A0414  2      CHANNEL 6 BITS            INDEX                            JETS ON
 0415   PPOLTABL OCTAL  00202           REL=0    -P NON-FORCE COUPLE 4- 16, 3
 0416            OCTAL  00210           REL=1    -P NON-FORCE COUPLE 3- 11, 16
 0417            OCTAL  00050           REL=2    -P NON-FORCE COUPLE 2- 8, 11
 0418            OCTAL  00042           REL=3    -P NON-FORCE COUPLE 1- 3, 8
 0419            OCTAL  00240           REL=4    NUMBER TWO FORCE COUPLE- 8, 16
 0420            OCTAL  00012           REL=5    -P 2-JET FORCE COUPLE- 3, 11
 0421  2         OCTAL  40252           REL=6    -P 4-JET POLICY- 3, 8, 11, 16
 0422            OCTAL  00101           REL=7    +P NON-FORCE COUPLE 4- 7, 4
 0423            OCTAL  00021           REL=8D   +P NON-FORCE COUPLE 3- 12, 7
 0424            OCTAL  00024           REL=9D   +P NON-FORCE COUPLE 2- 15, 12
 0425            OCTAL  00104           REL=10D  +P NON-FORCE COUPLE 1- 4, 15
 0426            OCTAL  00005           REL=11D  NUMBER TWO FORCE COUPLE- 15, 7
 0427            OCTAL  00120           REL=12D  +P 2-JET FORCE COUPLE- 4, 12
 0428  2         OCTAL  40125           REL=13D  +P 4-JET POLICY- 4, 15, 12, 7
R0429  2........................................................................
 0430  9........................................
 0431   JETSOFF  CAF    ZERO
 0432            TS     TP
 0433            TS     TOFJTCHG
 0434            TC     WRITEP          TURN ON P JETS USING T6JOB SUBROUTINE
 0435            TCF    RESUME
R0436  2P-AXIS URGENCY FUNCTION CALCULATION
R0437  2(NOTE -- M13 = 1 IDENTICALLY IMPLIES NULL MULTIPLICATION.)
 0438   PURGENCY CA     CDUY            P-ERROR CALCULATION
 0439            EXTEND
 0440            MSU    CDUYD           CDU VALUE - ANGLE DESIRED (Y-AXIS)
 0441            EXTEND
 0442            MP     M11             (CDUY-CDUYD)M11 SCALED AT PI RADIANS
 0443            XCH    E               SAVE FIRST TERM (OF TWO)
 0444            CA     CDUX            THIRD COMPONENT
 0445            EXTEND
 0446            MSU    CDUXD           CDU VALUE - ANGLE DESIRED (X-AXIS)
R0447                                                    EXTEND
R0448                                                    MP     M13
 0449  2         ADS    E               SAVE SUM OF TERMS, NO OVERFLOW EVR
 0450  2         TS     PERROR          SAVE P ERROR FOR DISPLAY
 04501           CS     OMEGAPD         THIS CODING IS COMMON TO BOTH LM DAP AND
 04502           AD     OMEGAP          SPS-BACKUP MODE.
 04503           TS     EDOTP           EDOTP = OMEGAP - OMEGAPD AT PI/4 RAD/SEC
P04504 2P-AXIS SPS BACK-UP TEST AND SPS BACK-UP CONTROL LOGIC:
 0451            CAE    DAPBOOLS        BIT15 = 0 FOR SPS BACK-UP
 0452            EXTEND
 0453  2         BZMF   NOBACKUP        DAPBOOLS IS NEVER +0.
R0454  2SPS BACK-UP CONTROL LOGIC:
 0457            CAF    SLOPEMP
 0458            EXTEND
 0459            MP     E
 0460            AD     EDOTP
 0461            EXTEND
 0462  2         BZMF   PLUSDP
 0463  2         CAF    NEGDP
 0464   GCOMPER  TS     ITEMP3
 0465            CAE    EDOTP
 0466            EXTEND
 0467            MP     ACONSTP
 04674           CCS    A
 04676           TCF    LIMPRATE
 04680           TCF    +2
 04684           TCF    LIMPRATE
 04686           LXCH   A
 04690           EXTEND
 04694           SQUARE
 0470   LIMSQP   AD     E
 0471            AD     NEGDP
 0472            EXTEND
 0473            BZMF   JETSOFF
 0474            CAF    50MS/625
 0475            TS     TP
 0476            TS     TOFJTCHG
 0477            CAF    NEGMAX
 0478            TS     NJET
 0479            CCS    ITEMP3
 0480            CAF    BIT1
 0481            TCF    +2
 04815           CS     BIT1
 0482            TS     TJETSIGN
 04825           TCF    PJETSLEC
 0483   PLUSDP   CS     E
 0484            XCH    E
 0485            CS     EDOTP
 0486            XCH    EDOTP
 0487            CS     NEGDP
 0488            TCF    GCOMPER
 0489   LIMPRATE CAF    QUARTER
 0490            TCF    LIMSQP
 0492   50MS/625 OCTAL  00120            TJET = 50 MS IN SPS BACKUP MODE
 0493   NEGDP    DEC    -0.00555
 0494   SLOPEMP  EQUALS POSMAX
 0495   ACONSTP  OCTAL  00007
P04951 2CONTINUATION OF P-AXIS RCS AUTOPILOT:
 0496   NOBACKUP CAF    BIT14
 0497            TS     SIGNTAG         INDICATES EDOT POSITIVE FOR TIME BEING
 0500            CCS    EDOTP
 0501            TCF    SCALEDOT
 0502            TCF    PTJETLAW
 0503            TCF    REFLECT
 0504            TCF    PTJETLAW
 0505   REFLECT  TS     EDOT
 0506            CS     BIT14
 0507            TS     SIGNTAG         INDICATES EDOT REALLY NEGATIVE
 0508            CS     PERROR
 0509            TS     E
 0510            CAE    EDOT            EDOT SCALED AT 45 DEG/SEC
 0511   SCALEDOT AD     BIT1
 0512            EXTEND
 0513            MP     BIT3
 0514            EXTEND
 0515            BZF    PTJETLAW -1
 0516            CAF    POSMAX
 0517            TCF    PTJETLAW
 0518            CAE    L               EDOT NOW SCALED AT 11.25 DEG/SEC
 0519   PTJETLAW TS     EDOT
 0520            EXTEND
 0521            MP     EDOT
 0522            TS     EDOT(2)
 0523            CAF    NEGONE
 0524            TS     TJETSIGN
 0525            CAF    NEGMAX
 0526            TS     NJET            INDICATES 2 JETS ONLY FOR TIME BEING
 0527            CAE    EDOT(2)
 0528            EXTEND
 0529            MP     1/2JTSP
 0530            EXTEND
 0531            MP     BIT14
 0532            AD     E
 0533            EXTEND
 0534            SU     DB
 0535            TS     FCT1
 0536            EXTEND
 0537            BZMF   5,6,7,8
 05371           AD     -5DEG+1
 05372           EXTEND                 IN ERROR BY OVER 5 DEG  WITH THE
 05373           BZMF   +5                RATE IN THE OTHER DIRECTION
 05374           CS     EDOT
 05375           AD     HULLSLIM        0.5 DEG/SEC SCALED AT 11.25 DEG/SEC
 05376           EXTEND
 05377           BZMF   MULTIJET
 0538            CAE    EDOT
 0539            EXTEND
 0540            MP     1/2JTSP
 0541            TS     TERMA
 0546            CS     1.5CSP16
 0547            AD     TERMA
 0548            EXTEND
 0549            BZMF   +3
 0550   MAXPTJET CAF    BIT14
 0551            TCF    FINDSIGN
 0552            CS     FCT1
 0553            AD     DBMNMPAX
 0554            EXTEND
 0555            BZMF   PMBR
 0556            CAE    TERMA
 0557            AD     -35AT16
 0558            EXTEND
 0559            BZMF   ZONE4
 0560            AD     38.7AT16
 0561            TCF    SCALTJET
 0562   MULTIJET CAF    POSMAX
 0563            TS     NJET
 0564            TCF    MAXPTJET
 0565   5,6,7,8  CAE    EDOT(2)
 0566            EXTEND
 0567            MP     .5ACCMIN
 0568            AD     E
 0569            AD     DB
 0570            AD     DBMNMPAX
 0571            EXTEND
 0572            BZMF   +2
 0573   ZONE5    TCF    JETSOFF
 0574   +2       CS     RATEMAX
 0575            AD     EDOT
 0576            EXTEND
 0577            BZMF   ZONES6,7
 0578   ZONE8    TCF    JETSOFF
 0579   ZONES6,7 CAF    BIT1
 0580            TS     TJETSIGN
 0581            CS     EDOT
 0582            EXTEND
 0583            MP     1/2JTSP
 0584            TS     TERMA
 0585            CS     FCT1
 0586            AD     E
 0587            AD     E
 0588            AD     DBMNMPAX
 0589   PMBR     TS     FCT1            FCT1 NOW HOLDS -FCT5 OR -FCT2
 0590            CAE    1/2JTSP
 0591            EXTEND
 0592            MP     BIT14
 0593            AD     .5ACCMIN
 0594            TS     DENOM
 0595            EXTEND
 0596            MP     RATEMAX2
 0597            AD     FCT1
 0598            EXTEND
 0599            BZMF   MISSROOT
 060000          CAE    1/2JTSP
 060005          EXTEND
 060010          MP     1/2JTSP         (1/2JTSP)(1/2JTSP) SCALED AT 2(16)/PI(2)
 060015          DXCH   RUPTREG3        DP PRODUCT STORED IN RUPTREG3,RUPTREG4
 060020          CAE    FCT1            SCALED AT PI
 060025          ZL
 060030          EXTEND
 060035          DV     DENOM           (FCT1/DENOM) IN A SCALED AT PI(2)/2(8).
 060040          TS     RUPTREG2        (FCT1/DENOM) STORED IN RUPTREG2
 060045          EXTEND
 060050          MP     RUPTREG4        (FCT1/DENOM)(LOWER PART OF (1/2JTSP)(2))
 060055          TS     RUPTREG4        IS STORED IN RUPTREG4
 060060          CAF    ZERO
 060065          XCH    RUPTREG3
 060070          EXTEND
 060075          MP     RUPTREG2        PRODUCT OF SP FCT1/DENOM AND DP
 060080          DAS    RUPTREG3        (1/2JSP)(2) IS STORED DP IN RUPTREG3 AND
 060085          EXTEND                 RUPTREG4 AT A SCALING OF 2(8). PRODUCT
 060090          DCA    RUPTREG3        IS ALSO STORED IN ITEMP3 AND ITEMP4.
 060095          DXCH   ITEMP3
 0608            CS     1.5CSP16
 0609            AD     TERMA           SCALED AT 2(4)
 0610            EXTEND
 0611            SQUARE                 (TERMA-1.5CSP)(2) IN A,L SCALED AT 2(8)
 06120           DAS    RUPTREG3        DP EXPRESSION STORED IN RUPTREG3 AND
 06125           CAE    RUPTREG3        RUPTREG4. IF NEG, TP EXCEEDS 1.5CSP.
 06130           EXTEND
 06135           BZF    TESTONL1        IF RUPTREG3 ZERO,MUST TEST ON RUPTREG4
 06140 2         TCF    TESTONL1 +1
 06141  TESTONL1 CAE    RUPTREG4
 06142           EXTEND
 06143 2         BZMF   MAXPTJET
 0615   MINTJCHK CS     PTJMINT6        11.5 MS SCALED AT 16. (4MS ADDED TO TMIN
 0616            AD     TERMA           TO PREVENT COMPUTED TP LESS THAN TMIN)
 0617            EXTEND
 0618            BZMF   LASTTEST        LASTTEST TESTS FOR TP LESS THAN MIN IMP.
 0620   ROOTNEXT EXTEND
 0621            DCS    ITEMP3          DP NUMBER SCALED AT 2(8) TO BE ENTERED
 06215           TC     IBNKCALL        SQUARE ROOT SUBROUTINE CALL.
 06216           CADR   DAPSQRT
 0622   SUMTJ    AD     TERMA
 0623   SCALTJET DOUBLE
 0624            EXTEND
 0625            MP     25/32
 0626            TCF    FINDSIGN
 0627   MISSROOT CAF    RATEMAX+        RATEMAX+ = RATEMAX+0.6DEGREES/SECOND
 0628            EXTEND
 0629            MP     1/2JTSP
 0630            TCF    SUMTJ
 063100 LASTTEST EXTEND
 063105          DCA    ITEMP3
 063110          DXCH   RUPTREG3
 063115          CS     PTJMINT6        11.5 MS SCALED AT 16
 0632            AD     TERMA
 0633            EXTEND
 0634            SQUARE
 063500          DAS    RUPTREG3        DP EXPRESSION STORED IN RUPTREG3 AND
 063505          CAE    RUPTREG3        RUPTREG4. IF POS, TP LESS THAN MIN IMP
 063510          EXTEND
 063515          BZF    TESTONL2        IF RUPTREG3 ZERO, MUST TEST ON RUPTREG4
 063520          TCF    TESTONL2 +1
 0639   ZONE4    CAE    EDOT            IF EDOT IS ZERO IN ZONE4, NO JETS FIRED
 06392           EXTEND
 06395           BZF    JETSOFF
 06398           CAE    SIGNTAG
 0640            EXTEND
 0641            BZMF   +3
 0642            CS     .1DPS
 0643            TCF    +2
 0644            CA     .1DPS
 0645            AD     OMEGAPD
 0646            TS     OMEGAP
 0647            CAF    PTJMINT6
 0648   FINDSIGN TS     TP
 0649            CAE    SIGNTAG         NEVER ZERO
 0650            EXTEND
 0651            BZMF   +2              EQUIVALENT TO BRANCH ON MINUS
 0652            TCF    +3
 0653            CS     TJETSIGN
 0654            TS     TJETSIGN
 0655            CAE    TP              LOAD TOFJTCHG
 0656            TS     TOFJTCHG
 0657  2         TCF    PJETSLEC        AND GO SELECT GOOD POLICY
 065730 TESTONL2 CAE    RUPTREG4
 065735          EXTEND
 065740          BZMF   ROOTNEXT
 065745          TCF    JETSOFF
R0658  2TORQUE VECTOR RECONSTRUCTION FOR THE P-AXIS
 0659   SKIPTEST CS     TOFJTCHG        COME HERE FROM PJETSLEC TO TEST P SKIP
 0660            AD     +1.5CSP         USE 150 MS. TO TEST FOR A PAXIS SKIP.
 0661            EXTEND
 0662            BZMF   RESUME          TP GREATER THAN 150MS THEN DO NORMAL P.
 0663            CA     PSKIPADR        SET UP A P AXIS SKIP.
 0664  8         TS     PJUMPADR        GOES TO JTLST FROM HERE
R0665  2PROGRAM NAME   JTLST
R0666  2WRITTEN BY  DICK GRAN ( GAEC - CALL LR-5-1331 AREA CODE 516 )
R0667   THIS PROGRAM IN CONJUNCTION WITH T6-RUPT PROGRAMS ALLOWS JETS TO BE
R0668   TURNED OFF AT THE COMPUTED OFF TIME. THIS TASK IS ACCOMPLISHED BY USING
R0669  2A JET LIST WHICH IS SET UP AS FOLLOWS ....
R0670  2                JET OFF TIMES    DESIRED JETS AT THIS TIME
R0671                     TIME6          T6NEXTJT
R0672                     T6NEXT         T6NEXTJT +1
R0673  2                  T6NEXT +1      T6NEXTJT +2
R0674   THESE LOCATIONS RECEIVE THE JET ON TIMES SCALED AS T6 (.625 MS/BIT). AS
R0675   AN EXAMPLE OF HOW THE PROGRAM WORKS, CONSIDER THE FOLLOWING PROBLEM...
R0676       50 MS AGO A P AXIS JET COMPUTATION DECIDED JETS 12 AND 15 SHOULD BE
R0677       ON FOR 120 MS. AFTER 120 MS IT WAS FURTHER DECIDED THAT JETS 12,15
R0678       16 AND 3  SHOULD BE ON UNTIL THE NEXT P AXIS COMPUTATION (WHICH
R0679       OCCURS IN 200 MS AFTER THE LAST P AXIS JET COMPUTATION). AT THE
R0680       CURRENT TIME THE QR AXES COMPUTES THAT JET 2 SHOULD BE ON FOR 65 MS
R0681       AND JET 9 SHOULD BE ON FOR 72.5 MS. AFTER 72.5 MS NO FURTHER QR JETS
R0682       SHOULD BE ON. THIS SEQUENCE OF JETS CORRESPONDS TO A +P ROTATION
R0683       WITH A SIMULTANEOUS +Y AND -Z TRANSLATION AND ALSO A -V (DIAGONAL)
R0684       ROTATION ABOUT THE Y AND Z AXES . NOTE JET 9 IS ON LONGER THAN JET 2
R0685       WHICH WOULD BE THE CASE IF THE Q-R JETS HAD BEEN ON BEFORE. IN THIS
R0686       CASE, THE FOLLOWING SEQUENCE OF EVENTS OCCURRED AT THE P AXIS
R0687  2    COMPUTATION .....
R0688  2         1) CHANNEL 6 WAS LOADED WITH OCTAL 24 TO TURN ON JETS 12 AND 15
R0689  2         2) TIME 6 WAS LOADED WITH 120 MS
R0690            3) T6NEXT WAS LOADED WITH +0 ( THIS INDICATES THE CONTENTS OF
R0691  2             T6NEXT ARE NOT TO BE USED IN THE T6JOB PROGRAM)
R0692            4) T6NEXTJT WAS LOADED WITH OCTAL 226 TO CAUSE JETS 3,12,15
R0693  2             AND 16 TO GO ON WHEN T6 HAS BEEN DECREMENTED TO -0.
R0694  2         5) THE T6 CLOCK WAS TURNED ON TO BEGIN COUNTING DOWN TIME 6
R0695       AT THE QR AXES JET LIST COMPUTATION, THE T6 CLOCK HAS BEEN REDUCED
R0696  2    TO 70 MS (120-50) THEREFORE THE FOLLOWING OCCURS ....
R0697            1) CHANNEL 5 IS LOADED WITH OCTAL 40022 TO TURN ON JETS 2 AND
R0698  2             9. ( THIS IS PERFORMED IN THE SECTION CALLED RATE)
R0699            2) THE BANK IS SWITCHED FROM THE QR BANK TO THE P BANK (WHERE
R0700                THE JET LIST IS STORED) AS FOLLOWS ....
R0701                       DCA   JTLSTADR
R0702  2                    DTCB             ( IN THE QR AXES ONLY)
R0703  2         3) THE DESIRED JET ON TIME FOR JET 2 IS COMPARED WITH T6.
R0704            4) SINCE T6 IS GREATER THAN THE DESIRED JET ON TIME FOR JET 2,
R0705                T6 IS CHANGED TO 65 MS AND T6NEXT  IS LOADED WITH 5 MS.
R0706  2             ( THE DIFFERENCE BETWEEN JET ON TIME AND T6)
R0707            5) T6NEXTJT IS CHANGED TO OCTAL 40020 , AND THE FORMER CONTENTS
R0708                OF T6NEXTJT IS PLACED IN T6NEXTJT +1. THIS CAUSES JET 9 TO
R0709                REMAIN ON AND JET 2 TO BE TURNED OFF WHEN T6 IS DECREMENTED
R0710                TO ZERO. IT ALSO ASSIGNS THE P AXIS JET CODE TO THE
R0711  2             TIME IN T6NEXT.
R0712            6) THE CONTENTS OF T6NEXT (5MS) IS COMPARED WITH THE
R0713                DIFFERENCE BETWEEN THE TWO QR AXIS JET ON TIMES. SINCE HERE
R0714                THE DIFFERENCE IS 7.5 MS WHICH IS GREATER THAN THE CONTENTS
R0715                OF T6NEXT (5MS), THE ADDITIONAL QR AXIS RUPT OCCURS AFTER
R0716                THE RUPT STORED IN T6NEXT. THUS 2.5 MS (7.5 - 5) IS STORED
R0717  2             IN T6NEXT +1
R0718            7) T6NEXTJT +2 IS MADE EQUAL TO THE JETS WHICH ARE TO BE ON
R0719  2             AFTER THE 75 MS HAS ELAPSED (IN THE CASE HERE IT IS ZERO)
R0720  2    THUS FOR THE EXAMPLE CONSIDERED THE JET LIST IS ....
R0721            JET TIMES               JET CODES
R0722      TIME6     = 65MS.      T6NEXTJT    = 40020     SIGN IS NEGATIVE TO
R0723      T6NEXT    =  5 MS.     T6NEXTJT +1 = 00226        INDICATES Q-R AXIS
R0724      T6NEXT +1 =2.5 MS.     T6NEXTJT +2=, 40000        JETS,POSITIVE TO
R0725                                                        INDICATE P JETS.
R0726      CHANNEL 6 = 00024
R0727  2   CHANNEL 5 = 00022   SIGN IS LOST ONCE THE JET CODE IS LOADED
R0728   THIS EXAMPLE AND THE CODING SHOULD ALLOW ONE TO UNDERSTAND THE JET LIST.
R0729     ONE FURTHER COMMENT IS IN ORDER - IF THE JET ON TIMES EXCEED 150 MS,
R0730     THE JETS ARE TURNED ON AND THE JET LIST IS NOT ENTERED. IN 100 MS
R0731     A NEW JET ON TIME IS COMPUTED WHICH WILL RESET THE JETS IF NEEDED.
R0732     WHEN THE JET ON TIME IS LESS THAN 150MS, THE JET LIST IS LOADED AS
R0733     DISCUSSED ABOVE AND THE TJET COMPUTATION IS SKIPPED NEXT TIME, THAT IS
R0734     THE AXIS IS NOT REPEATED AGAIN UNTIL 200 MS HAS ELAPSED. THIS INSURES
R0735     THAT WHEN A NEW JET TIME IS COMPUTED THE JET LIST WILL NOT HAVE
R0736  2  A TIME STORED WHICH CORRESPONDS TO THE AXIS JUST COMPLETED.
 0737   JTLST    CCS    TIME6            TEST CURRENT STATE OF T6.
 0738            TCF    T6ONNOW          IF T6 IS + THEN CLOCK IS ON.
 0739            TCF    T6OFFNOW         IF T6 IS + ZERO THEN T6 MUST BE OFF
 0740            TCF    T6ONNOW            SINCE ALL DINC S LEAD TO MINUS ZERO.
 0741            TC     T6JOB           WE ARE IN THE UNIQUE STATE WHICH SAYS
 0742            TCF    JTLST             A T6 INTERRUPT IS WAITING.DO T6 JOB.
 0743   T6OFFNOW CA     TOFJTCHG
 0744            TS     TIME6           WE ARE HERE IF T6 CLOCK IS OFF.
 0745            CA     BIT15
 0746            EXTEND                 TURN CLOCK PULSE FOR T6 ON AND LOAD T6.
 0747            WOR    13
 0748            CA     JTSATCHG
 0749            TS     T6NEXTJT
 0750            CA     ZERO
 0751            XCH    ADDTLT6         SET UP NEXT T6 INTERRUPT AFTER THE
 0752            TS     T6NEXT            CURRENT ONE IS COMPLETE. ADDTLT6 MAY
 0753            CA     ZERO              BE ZERO IN WHICH CASE NO MORE T6.
 0754            XCH    ADDT6JTS
 0755            TS     T6NEXTJT +1
 0756            TCF    RESUME
 0757   T6ONNOW  CCS    T6NEXT          HERE IF T6 IS NOW ON. SEE IF T6NEXT IS
 0758            TCF    T6NXT=+           ZERO OR NOT.
 0759            CS     TOFJTCHG        T6NEXT IS NEVER NEGATIVE.
 0760            AD     TIME6           A CONTAINS T6 - TJET.
 0761            CCS    A               TEST SIGN OF A (SAVING THE DIFFERENCE).
 0762            AD     ONE
 0763            TCF    JTSFIRST        TJET IS LESS THAN T6.
 0764            NOOP                   IF DIFFERENCE IS NEGATIVE OR ZERO
 0765            AD     ONE               WE ADD 1 SO ZERO CAN NEVER BE IN LIST.
 0766            TS     T6NEXT
 0767            CA     JTSATCHG
 0768            TS     T6NEXTJT +1     BEGIN SETTING UP JETS IN THE JET LIST.
 0769            CA     ZERO
 0770            XCH    ADDTLT6
 0771            TS     T6NEXT +1
 0772            CA     ZERO
 0773            XCH    ADDT6JTS
 0774            TS     T6NEXTJT +2
 0775            TCF    RESUME
 0776   JTSFIRST TS     T6NEXT          HERE IF TJET IS LESS THAN T6.
 0777            CA     TOFJTCHG
 0778            TS     TIME6           SWITCH T6 AND TJET)
 0779            CA     JTSATCHG
 0780            XCH    T6NEXTJT        BEGIN SWITCHING JET WORDS IN JET LIST.
 0781            TS     T6NEXTJT +1
 0782            CS     ADDTLT6
 0783            EXTEND
 0784            BZF    RESUME          SEE IF AN ADDITIONAL (QR) JET TIME IS
 0785            AD     T6NEXT            REQUIRED.
 0786            CCS    A               IF AN ADDITIONAL T6 IS NEEDEN, COMPARE
 0787            AD     ONE               IT WITH THE CONTENTS OF T6NEXT.
 0788            TCF    +11
 0789            NOOP
 0790            AD     ONE
 0791            TS     T6NEXT +1
 0792            CA     ZERO
 0793            TS     ADDTLT6
 0794            XCH    ADDT6JTS
 0795            TS     T6NEXTJT +2
 0796            TCF    RESUME
 0797    +11     TS     T6NEXT +1
 0798            CA     ZERO
 0799            XCH    ADDTLT6
 0800            TS     T6NEXT
 0801            CA     ZERO
 0802            XCH    ADDT6JTS
 0803            XCH    T6NEXTJT +1
 0804            TS     T6NEXTJT +2
 0805            TCF    RESUME
 0806   T6NXT=+  CS     TOFJTCHG
 0807            AD     TIME6
 0808            AD     T6NEXT
 0809            CCS    A
 0810            AD     ONE
 0811            TCF    +7
 0812            NOOP
 0813            AD     ONE
 0814            TS     T6NEXT +1
 0815            CA     JTSATCHG
 0816            TS     T6NEXTJT +2
 0817            TCF    RESUME
 0818    +7      TS     L
 0819            CS     TOFJTCHG
 0820            AD     TIME6
 0821            CCS    A
 0822            AD     ONE
 0823            TCF    JTSB4T6
 0824            NOOP
 0825            AD     ONE
 0826            TS     T6NEXT
 0827            CA     L
 0828            TS     T6NEXT +1
 0829            CA     JTSATCHG
 0830            TCF    +7
 0831   JTSB4T6  XCH    T6NEXT
 0832            TS     T6NEXT +1
 0833            CA     TOFJTCHG
 0834            TS     TIME6
 0835            CA     JTSATCHG
 0836            XCH    T6NEXTJT
 0837    +7      XCH    T6NEXTJT +1
 0838            XCH    T6NEXTJT +2
 0839            TCF    RESUME
R0840  2T-JET LAW FIXED CONSTANTS
 0841   RATEMAX+ DEC    0.94222
 0842   RATEMAX  DEC    0.88889
 0843   RATEMAX2 DEC    0.79012
 0844   -35AT16  DEC    -0.00219
 0845   -5DEG+1  DEC    -.02772         -5 DEGREES + CCSBIT SCALED AT PI RADIANS
 0846   38.7AT16 DEC    0.00242
 0847   TMINAT16 DEC    0.00047
 0848   PTJMINT6 DEC    0.00073
 0849   .1DPS    DEC    0.00222
 0850   +1.5CSP  DEC    +0.01465
 08501  1.5CSP16 DEC    0.00938
 0851   -COM-6.5 DEC    -.00122         -SUM OF 5MS COMP TIME AND 6.5MS DELAY
 0852   14-TJMIN DEC    11
 0853   NEGCSP1  DEC    -.00977
 0854   MS30P    OCTAL  37775
 0855   0.88975  DEC    0.88975
 0856   16/25    DEC    0.64000
 0857   -DRATEDB OCTAL  77555           -0.4 DEG/SEC SCALED AT PI/4 RADIANS/SEC
 0858   -D2JTLIM OCTAL  77001           -1.4 DEG/SEC SCALED AT PI/4
 0859   -A2JTLIM OCTAL  76447           -2.0 DEG/SEC SCALED AT PI/4
 0860   -ARATEDB OCTAL  77223           -1.0 DEG/SEC SCALED AT PI/4
 0861   25/32    DEC    .78125
 0862   -TJMINT6 OCTAL  77764           -(7.5 MS) + 1 BIT(FOR BZMF), T6 SCALING
 0863   DAPLOW6  OCT    00077
 0864   BITS8,9  OCTAL  00600
 0865   UPM      DEC    -.2             TEMPORARY ESTIMATE
 0866   CSPAT1P  DEC    0.10000         100 MS AT 1.
 0867   PSKIPADR GENADR SKIPPAXS
 0868  4JETLWADR CADR   TJETLAW
 0869   SETIDLE  LXCH   BANKRUPT        FIRST T5RUPT AFTER FRESH START COMES
 086902          EXTEND
 086904          QXCH   QRUPT
 0870            CAF    T5IDADR         HERE.  T5IDLER IS STARTED IN 1 SEC.
 0871            TS     T5ADR
 0872            CAF    1SECRUPT
 0873            TS     TIME5
 087301          TC     IBNKCALL
 087302          FCADR  STOPRATE
 087303          TC     IBNKCALL
 087304          FCADR  ALLCOAST
 08731           CAF    DBWIDE
 08732           TS     DB
 08733           CAF    NEGONE
 08734           TS     AOSCOUNT        MAKES APS CODING INACTIVE
 0874  2         TCF    RESUME
 08745  T5IDLER  LXCH   BANKRUPT        LOOKS FOR GODAPGO TO START THE DAP.
R0874512START CODING FOR MODULE 3 REMAKE, AUGUST 1967***START CODING FOR MODULE
 08745393 REMAKE, AUGUST 1967*******************
 087455 T5IDLERI EXTEND
 0874602         QXCH   QRUPT
 087465          CA     SMARTFLG        IS SMARTJOB DESIRED?
 087470          EXTEND
 0874752         BZMF   MORET5ID        NO.  TAKE NO ACTION.
 087480          CAF    BIT11           YES.  SEE IF IT IS ALREADY RUNNING.
 0874852         TCF    ADDLT5ID        GO TO ADDITIONAL CODING.
R0874872**END CODING FOR MODULE 3 REMAKE, AUGUST 1967*****END CODING FOR MODULE
 08749093 REMAKE,AUGUST 1967********************
 0875  21SECRUPT OCTAL  37634           1 SECOND SCALED AS TIME5 (100 PULSES)
 087505 DBWIDE   DEC    0.02778
 08751           EBANK= AOSQTERM
 08752  T5IDADR  2CADR  T5IDLER
R0876   DUMMY FILTER RUPT AFTER P-AXIS RUPT.
 0877            EBANK= AOSQTERM
 0878   DUMMYFIL CAF    MS30P           RESET TIMER IMMEDIATELY - DT= 30 MS
 0879            TS     TIME5
 0880  2         LXCH   BANKRUPT        INTERRUPT LEAD-IN (CONTINUED).
 0881            EXTEND                 SET UP QRAXIS RUPT.
 0882            DCA    DFQRAXIS
 0883  2         DXCH   T5ADR
R0884  2INCREMENT AOSTERM IN DESCENT MODE TO IMPROVE RATE DERIVATION DURING QRAX
 0885  9IS CONTROL.
 0886            CAF    BIT2            STAGE BIT IS ONE FOR DESCENT.
 0887            EXTEND
 0888            RAND   30              READ STAGE BIT
 0889            EXTEND
 0890            BZF    CHKAPS          NOT IN DESCENT. HOW ABOUT APS BURN.
 0891            CS     FLAGWRD1        SEE IF ENGINE IS OFF.
 0892            MASK   ENGINBIT        READ COMPLEMENT OF ENGINE-ON FLAG.
 0893            NOOP
 0894            EXTEND
 0895  2         BZF    DLOOPBGN        ZERO WHEN ENGINE IS NOT OFF.
 0896            CAF    ZERO            YES.  ENGINE IS OFF.
 0897            TS     AOSQTERM
 0898            TS     AOSRTERM
 0899            TCF    NOQRSM          RESUME.
 0900   DLOOPBGN CAF    BIT1            FIRST THE R-AXIS, THEN THE Q-AXIS.
 0901   DLOOP    TS     ITEMP1
 0902            DOUBLE
 0903            TS     ITEMP2
 0904            INDEX  ITEMP1
 0905            CA     PITCHBTS
 0906            EXTEND
 0907            RAND   12              IS PITCH(ROLL) GIMBAL MOVING.
 0908            EXTEND
 0909  2         BZF    DLOOPCHK        ZERO WHEN GIMBAL IS NOT MOVING.
R0910  2FORM ACCDOT*CSP(2)*(1-.5*K) SCALED AT PI/4.  THIS IS THE INCREMENT TO BE
 0911  9 ADDED TO THE OFFSET ACCELERATION TERM.
 0912            CS     (1-K)           (1-K) SCALED AT 1.  CS TO COMPENSATE FOR
A09125                                  INVERTED SIGN OF QACCDOT.
 0913            EXTEND
 0914            MP     BIT9            .5*(1-K) , SCALED AT 2(5).
 0915            AD     NEGBIT9         (1.-.5*K) SCALED AT 2(5).
 0916            EXTEND
 0917            MP     CSPSQ           CSP(2)*(1.-.5*K) AT 2(5)
 0918            EXTEND
 0919            INDEX  ITEMP2          SELECT THE AXIS .
 0920            MP     QACCDOT         QACCDOT AT PI/2(7).
 0921            INDEX  ITEMP1
 0922            ADS    AOSQTERM        ADD INCREMENT SCALED AT PI/4.
 0923   DLOOPCHK CCS    ITEMP1
 0924            TCF    DLOOP           R-AXIS DONE.  NOW DO THE Q-AXIS.
 0925            TCF    NOQRSM          RESUME.
 092505 CHKAPS   CCS    AOSCOUNT        4 WAY BRANCH EXPLOITED
 092510          TCF    DECCOUNT        COUNTING DOWN FOR AOSTASK
 092515          TCF    AOSNEXT         TIME TO DO AOSTASK
 092520          TCF    NOQRSM          AOSCOUNT NOT IN USE.INACTIVE AOSTASK.
 092530          TS     SUMRATEQ        MINUS ZERO PUT IN AOSCOUNT BY APSENGON.
 092533          TS     SUMRATER
 092534          TS     SAVRATEQ
 092535          TS     SAVRATER
 092536          TS     KCOEFCTR
 092540          CS     OMEGAQ          RECORD -(OLD OMEGA) FOR BOTH AXES FOR
 092545          TS     OLDWFORQ
 092550          CS     OMEGAR          THE FIRST PASS OF AOSTASK.
 092555          TS     OLDWFORR
 092570          CS     DAPBOOLS
 092575          MASK   APSGOING
 092580          ADS    DAPBOOLS
 0925852         CAF    19DECIML
 092586 DECCOUNT TS     AOSCOUNT
 0925872         TCF    NOQRSM
 092588 AOSNEXT  CAF    19DECIML
 092589          TS     AOSCOUNT
 092590          EXTEND
 092591          DCA    TOAOSTSK
 0925922         DTCF
 092593 TOAOSTSK 2FCADR AOSTASK
 092594 19DECIML DEC    19
 0926   PITCHBTS OCT    01400           PITCH GIMBAL BITS  (9,10).
 0927            OCT    06000           ROLL GIMBAL BITS,  (11,12).
 0928   CSPSQ    OCT    00243           .01 SCALED AT 1, FOR CSP(2).
 0929   TWENTYMS OCT    37776           20 MS FOR T5.
 0930            EBANK= QERROR
 0931   DFQRAXIS 2CADR  QRAXIS
 0932   HULLSLIM DEC    0.04444         0.5 DEG/SEC SCALED AT 11.25 DEG/SEC
 0933   NEGBIT9  OCT    -400
 0934   CHKSUM16 OCT    37777
L      2Q,R-AXES REACTION CONTROL SYSTEM AUTOPILOT
 0001            BANK   17
R0003   THE FOLLOWING T5RUPT ENTRY BEGINS THE PROGRAM WHICH CONTROLS THE Q,R-AXI
 0004  9S ACTION OF THE LEM USING THE RCS JETS.
R0005   THE NOMINAL TIME BETWEEN THE Q,R-AXIS RUPTS IS 100 MS (UNLESS THE TRIM G
 0006  9IMBAL CONTROL SYSTEM IS USED, IN WHICH
R0007  2CASE THIS PROGRAM IS IDLE).
 0008            EBANK= DT
 0009   NULLFILT 2CADR  FILDUMMY
 00095 2         EBANK= DT
 0010   QRAXIS   CAF    MS20QR          RESET TIMER IMMEDIATELY - DT= 20 MS
 0011  2         TS     TIME5
 0012            LXCH   BANKRUPT        INTERRUPT LEAD IN (CONTINUED)
 0013            EXTEND
 0014  2         QXCH   QRUPT
R0015   SET UP A DUMMY KALMAN FILTER T5RUPT.  (THIS MAY BE RESET TO THE KALMAN F
 0016  9ILTER INITIALIZATION PASS, IF THE TRIM
R0017  2GIMBAL CONTROL SYSTEM SHOULD BE USED.)
 0018            EXTEND
 0019  2         DCA    NULLFILT
R00195 2START CODING FOR MODULE 3 REMAKE, AUGUST 1967***START CODING FOR MODULE
 00196 93 REMAKE, AUGUST 1967*******************
 00200  INSERT17 TCF    TRMCHECK        ARE EXTRAORDINARY GTS ENTRIES NEEDED
R00205 2**END CODING FOR MODULE 3 REMAKE, AUGUST 1967*****END CODING FOR MODULE
 00206 93 REMAKE, AUGUST 1967*******************
R0021  2CALCULATE LEM BODY RATES FOR Q AND R AXES:
R0022   THIS COMPUTATION IS VALID FOR BOTH ASCENT AND DESCENT SINCE THE OFFSET A
 0023  9CCELERATION TERM IS INCLUDED ALWAYS,
R0024  2BUT HAS VALUE ZERO IN DESCENT, AND SINCE THE WEIGHTING FACTORS ARE IN ER
 0025  9ASABLE AND DISTINCT.
R0026  2FIRST, CONSTRUCT Y AND Z CDU INCREMENTS:
 0027   BODYRATE CAE    CDUY            2:S COMPLEMENT MEASUREMENT SCALED AT PI.
 0028            TS     L               (SAVE FOR UPDATING OF OLDYFORQ)
 0029            EXTEND                 FORM INCREMENT IN CDUY FOR LAST 100 MS
 0030            MSU    OLDYFORQ        (100 MS OLD CDUY SAVED FROM LAST PASS)
 0031            LXCH   OLDYFORQ        UPDATE OLDYFORQ WITH NEW CDUY VALUE
 0032            TS     ITEMP1          SAVE 1:S COMPLEMENT VALUE TEMPORARILY
 0033            CAE    CDUZ            2'S COMPLEMENT MEASUREMENT SCALED AT PI
 0034            TS     L               (SAVE FOR UPDATING OF OLDZFORQ)
 0035            EXTEND                 FORM INCREMENT IN CDUZ FOR LAST 100 MS
 0036            MSU    OLDZFORQ        (100 MS OLD CDUZ SAVED FROM LAST PASS)
 0037            LXCH   OLDZFORQ        UPDATE OLDZFORQ WITH NEW CDUZ VALUE
 0038            TS     ITEMP2          SAVE 1:S COMPLEMENT VALUE TEMPORARILY
P0039  2SECOND, TRANSFORM CDU INCREMENTS TO BODY-ANGLE INCREMENTS:
 0040            CAE    M31             MATRIX*VECTOR(WITH X COMPONENT ZERO)
 0041            EXTEND
 0042            MP     ITEMP1          M31 * ITEMP1 = M31 * DELTA CDUY
 0043            DXCH   ITEMP4
 0044            CAE    M32             M32 * ITEMP2 = M32 * DELTA CDUZ
 0045            EXTEND
 0046            MP     ITEMP2          DELTAR = M31*(DEL CDUY) + M32*(DEL CDUZ)
 0047  2         DAS    ITEMP4          DOUBLE PRECISION R BODY ANGLE INCREMENT
 0048            CAF    BIT9
 0049            TS     Q
 0050            EXTEND
 0051            DCA    ITEMP4
 0052            EXTEND
 0053            DV     Q               RESCALE TO PI/64 AND
 0054            TS     ITEMP4          STORE AS SINGLE PRECISION
 0055            CAE    M21             MATRIX*VECTOR(WITH X COMPONENT ZERO)
 0056            EXTEND                 CLOBBERS ITEMP2=DEL CDUZ, FOR EFFICIENCY
 0057            MP     ITEMP1          M21 * ITEMP1 = M21 * DELTA CDUY
 0058            DXCH   ITEMP2          M22 * ITEMP2 = M22 * DELTA CDUZ
 0059            EXTEND
 0060            MP     M22             DELTAQ = M21*(DEL CDUY) + M22*(DEL CDUZ)
 0061            DAS    ITEMP2          DOUBLE PRECISION Q-BODY-ANGLE INCREMENT
 0062            EXTEND
 0063            DCA    ITEMP2
 0064            EXTEND
 0065            DV     Q               RESCALE TO PI/64
R0066  2FINALLY, DERIVE Q AND R BODY ANGULAR RATES:
 0067            EXTEND                 WFORQR IS K/(NOMINAL DT) SCALED AT 16
 0068            MP     WFORQR          FORM WEIGHTED VALUE OF MEASURED DATA
 0069            XCH    OMEGAQ          SAVE AND BEGIN TO WEIGHT VALUE OF OLD W
 0070            EXTEND                 (1-K) IS SCALED AT 1 FOR EFFICIENT CALC
 0071            MP     (1-K)           (K CHANGES EVERY 2 SECONDS IN ASCENT.)
 0072            AD     JETRATEQ        WEIGHTED TERM DUE TO JET ACCELERATION
 0073            AD     AOSQTERM        TERM DUE TO ASCENT OFFSET ACCELERATION
 0074  2         ADS    OMEGAQ          TOTAL RATE ESTIMATE SCALED AT PI/4
 0075            CAE    ITEMP4          GET DELTAR
 0076            EXTEND                 WFORQR IS K/(NOMINAL DT) SCALED AT 16
 0077            MP     WFORQR          FORM WEIGHTED VALUE OF MEASURED DATA
 0078            XCH    OMEGAR          SAVE AND BEGIN TO WEIGHT VALUE OF OLD W
 0079            EXTEND                 (1-K) IS SCALED AT 1 FOR EFFICIENT CALC
 0080            MP     (1-K)           (K CHANGES EVERY 2 SECONDS IN ASCENT.)
 0081            AD     JETRATER        WEIGHTED TERM DUE TO JET ACCELERATION
 0082            AD     AOSRTERM        TERM DUE TO ASCENT OFFSET ACCELERATION
 0083  2         ADS    OMEGAR          TOTAL RATE ESTIMATE SCALED AT PI/4
 0084            TC     QJUMPADR
 0085   SKIPQRAX CA     NORMQADR
 0086            TS     QJUMPADR        DO NOT JUMP NEXT TIME.
 0087  2         TCF    CHKGIMBL        CHKGIMBL ATTEMPTS TO USE GTS.
 0088   NORMQADR GENADR NORMALQ
 0089  2NORMALQ  TCF    ATTSTEER        NO RHC INPUTS ON 206.
R00891 2START CODING FOR MODULE 3 REMAKE, AUGUST 1967***START CODING FOR MODULE
 00892 93 REMAKE, AUGUST 1967*******************
 00900 2TRMCHECK DXCH   T5ADR           SET UP NEXT T5RUPT ADDRESS.
R00901  CHECK IF TRIMCNTR HAS BEEN COUNTED DOWN TO ZERO, INDICATING THAT 20.0 SE
 00902 9CONDS HAVE PASSED SINCE DPS ON AND
R00903 2CONTROL SHOULD BE TRANSFERRED TO GTS.  THEN SEE IF A RECENT ENGINE-ON RE
 00904 9QUIRES AN EARLY GTS ENTRY.
 0091            CCS    TRIMCNTR        IS GTS NEEDED PRIOR TO THROTTLE-UP
 0092            TCF    CHKMNITR          NOT YET, BUT CHECK IF FIRST GTS DONE.
 0093            TC     CCSHOLE           ILLEGAL VALUE OF TRIMCNTR.
 0094            TCF    INSERT17 +1       NOT ACTIVE, RETURN TO RCS CONTROL.
 00945  OKAYGTS  CAF    USEQRJTS          YES, IS GIMBAL SYSTEM USABLE
 0095            MASK   DAPBOOLS
 0096            EXTEND
 0097            BZF    GOGIMBAL        USABLE.  GO TO GTS.
 0098  2         TCF    INSERT17 +1     NOT USABLE.  GO ON WITH RCS CONTROL.
 0099   CHKMNITR CCS    GTSMNITR        IS AN IMMEDIATE (FIRST) GTS CALLED FOR
 0100            TCF    OKAYGTS           YES, CHECK IF GIMBAL SYSTEM USABLE.
 0101            TCF    INSERT17 +1       NO, RETURN TO RCS CONTROL.
 01044  GOGIMBAL CS     THREE           RESET TIME5 COUNTER FROM 20 TO 50 MSEC.
 01045 2         ADS    TIME5
 010451          CS     BGIM24          TURN OFF GIMBALS FOR BETTER FILTERING.
 010453          EXTEND
 0104552         WAND   12
 0105            CS     BIT1            DEACTIVATE GIMBAL DRIVE TIMERS
 0106            TS     QGIMTIMR
 0107  2         TS     RGIMTIMR
 0113            CAF    ZERO
 0114            EXTEND
 0115  2         WRITE  5               TURN OFF ALL Q,R AXIS JETS.
 01160           EXTEND
 01162           DCA    ADRGOGTS
 01164           DTCB
 01166           EBANK= DT
 01168  ADRGOGTS 2CADR  GOTOGTS +2      TIME5 COUNTER WAS ALREADY ADVANCED.
R01170  *** THE FOLLOWING NEW CODING IS NOT BEING USED   ***
R0117052    LEFT IN PLACE AS FILLER)))MAY BE WRITTEN OVER
 01171           TC     CCSHOLE         FILLER
 01172           TC     CCSHOLE         FILLER
 01173           TC     CCSHOLE         FILLER
 01174           TC     CCSHOLE         FILLER
 01175           TC     CCSHOLE         FILLER
 01176           TC     CCSHOLE         FILLER
 01177           TC     CCSHOLE         FILLER
 01178           TC     CCSHOLE         FILLER
 01180           TC     CCSHOLE         FILLER
 0119            EBANK= NEGUR
 0120   RGIMADR  2CADR  OFFGIMR
 0121   GETCNTR  CAE    FORCETRM        LOAD TRIMCNTR TO FORCE TRIM JUST BEFORE
 0122            TS     TRIMCNTR        THE THROTTLE-UP.
 0123            CAF    BIT1            ENABLE MONITOR TO CALL GTS AS SOON AS
 0124  2         TS     GTSMNITR        POSSIBLE.
 012405          CAE    SIMPINIT        INITIALIZE SIMPCNTR. DECISECONDS.
 0124102         TS     SIMPCNTR
 0125            EXTEND                 RETURN TO ORIGINAL CODING
 0126            DCA    INSRTADR
 0127  2         DTCB
 0128            TC     CCSHOLE         THIS IS A FILLER
 0129            EBANK= PERROR
 0130   INSRTADR 2CADR  INSERT20 +1
 01490  17INSRT  CS     /TEMP1/         COMPARE Q WITH THE GENADR OF SWRETURN
 01491           AD     SWRETADR        TO SEE IF ENGINOFF WAS CALLED VIA
 01492           EXTEND                 BANKCALL OR IBNKCALL.
 01493 2         BZF    17INSRTB        *BANKCALL - DO NOT DELAY*
 01495           EXTEND                 *IBNKCALL - CHECK FURTHER*
 01500           READ   30
 01510           COM                    SEE IF ENGINE IN QUESTION IS APS OR DPS.
 01520           MASK   BIT2
 01530           EXTEND
 01535 2         BZF    17INSRTB        *DPS ENGINE - DO NOT DELAY*
 01536           CS     MODREG          *APS ENGINE - CHECK FURTHER*
 01537           AD     MP3MMODE
 01538           EXTEND                 SEE IF THIS IS THE MP 3 SHORT APS BURN.
 01539 2         BZF    17INSRTB        *IT IS - DO NOT DELAY*
 015391          CS     DVMNEXIT        *IT IS NOT - CHECK FOR A FORGET2 ENTRY*
 015392          AD     KILLAVEG
 015393          EXTEND
 0153942         BZF    17INSRTD        GENADRS MATCH - CHECK THE BBCONS.
 0154   17INSRTE EXTEND
 0155            DCS    /TEMP3/
 0156            DXCH   RUPTREG3        PUT MINUS (ENGINEON TIME) IN RUPTREGS
 0157  2         DXCH   /TEMP5/         AND SAVE FORMER CONTENTS FOR ISWRETRN.
 0158            EXTEND                 BLEND IN THE CURRENT TIME.
 0159            DCA    TIME2
 0160  2         DAS    RUPTREG3
 01601           CAF    HALF            FORCE SIGN AGREEMENT.
 0161            DOUBLE
 0162            AD     RUPTREG4
 0163            TS     RUPTREG4
 0164            CAF    ZERO
 0165            AD     NEGONE
 0166  2         ADS    RUPTREG3
 0167            CA     RUPTREG3        SEE IF BURN HAS BEEN LONGER THAN
 0168            EXTEND                 163.84 SECONDS.
 0169  2         BZF    17INSRTC        *LESS THAN 163.84 SECONDS*
 0170   17INSRTA EXTEND                 *MORE THAN 163.84 SECONDS*
 0171            DCA    /TEMP5/
 01711 2         DXCH   RUPTREG3        RESTORE RUPTREGS FOR ISWRETRN.
 0172   17INSRTF CAF    NEGMAX          SET TMINAPS NEGATIVE TO INACTIVATE
 0173  2         TS     TMINAPS         THE ENGINOFF DELAY LOGIC
 0174   17INSRTB CA     /TEMP2/         RESTORE CALLERS EBANK.
 0175            TS     EBANK
 0176            TC     POSTJUMP        RETURN TO THE ENGINOFF SEQUENCE.
 0177  2         CADR   ENGINOFF +1
 0178   17INSRTC CS     RUPTREG4        CHECK LENGTH OF BURN AGAINST TMINAPS.
 0179            AD     TMINAPS
 0180            EXTEND
 0181  2         BZMF   17INSRTA        BURN IS LONG ENOUGH - DO THE ENGINOFF.
 0182            TC     WAITLIST        SUSPEND CURRENT MISSION PHASE AND SET
 0183            EBANK= TMINAPS         WAITLIST FOR RESUMPTION AT THE PROPER
 01831           2CADR  17INSRTA        TIME.
 01832 2         TC     TASKOVER
 01833  17INSRTD CS     DVMNEXIT +1
 01834           AD     KILLAVEG +1
 01835           EXTEND
 01836           BZF    17INSRTF        BBCONS MATCH - DO NOT DELAY
 01837 2         TCF    17INSRTE
 0184  2SWRETADR GENADR SWRETURN
 0185  2MP3MMODE OCT    00071           MAJOR MODE OF MISSION PHASE 3.
 01852           EBANK= LST1
 01854  KILLAVEG 2CADR  AVEGKILL
R01861 2FOLLOWING CODING LEFT IN PLACE TO KEEP ADDRESSES CONSTANT.
R01962 2**END CODING FOR MODULE 3 REMAKE, AUGUST 1967*****END CODING FOR MODULE
 01963 93 REMAKE, AUGUST 1967*******************
 0214   NOQJETS  TC     CCSHOLE         LABEL PREVENTS ASSEMBLER CUSSES.
 0215            TCF    XTRANS
 0216            TCF    R-,CHKDB
 0217  2         TCF    XTRANS
 0218   NEGQEROR AD     -RATEDB
 0219            EXTEND
 0220  2         BZMF   NOQJETS
 0221            CCS    RRATEDIF
 0222            TCF    R+Q-CHKR
 0223            TCF    Q-NORJTS
 0224  2         TCF    R-Q-CHKR
 0225   Q-NORJTS CS     QRATEDIF
 0226            TS     RATEDIF
 0227            AD     -2JETLIM
 0228            EXTEND
 0229            BZMF   2JETS+Q
 0230  2         TCF    4JETS+Q
 0231   R+Q-CHKR AD     -RATEDB
 0232            EXTEND
 0233            BZMF   Q-NORJTS
 0234            TC     EDOTVGEN
 0235  2         TCF    2-V.RATE
 0236   R-Q-CHKR AD     -RATEDB
 0237            EXTEND
 0238            BZMF   Q-NORJTS
 0239            TC     EDOTUGEN
 0240            EXTEND
 0241            SU     RRATEDIF
 0242  2         TCF    2+U.RATE
 0243   POSQEROR AD     -RATEDB
 0244            EXTEND
 0245  2         BZMF   NOQJETS
 0246            CCS    RRATEDIF
 0247            TCF    R+Q+CHKR
 0248            TCF    Q+NORJTS
 0249  2         TCF    R-Q+CHKR
 0250   Q+NORJTS CA     QRATEDIF
 0251            TS     RATEDIF
 0252            AD     -2JETLIM
 0253            EXTEND
 0254            BZMF   2JETS-Q
 0255  2         TCF    4JETS-Q
 0256   R+Q+CHKR AD     -RATEDB
 0257            EXTEND
 0258            BZMF   Q+NORJTS
 0259            TC     EDOTUGEN
 0260  2         TCF    2-U.RATE
 0261   R-Q+CHKR AD     -RATEDB
 0262            EXTEND
 0263            BZMF   Q+NORJTS
 0264            TC     EDOTVGEN
 0265  2         TCF    2+V.RATE
 0266   R+,CHKDB AD     -RATEDB
 0267            EXTEND
 0268            BZMF   XTRANS
 0269            CA     RRATEDIF
 0270            TS     RATEDIF
 0271            AD     -2JETLIM
 0272            EXTEND
 0273            BZMF   2JETS-R
 0274  2         TCF    4JETS-R
 0275   R-,CHKDB AD     -RATEDB
 0276            EXTEND
 0277            BZMF   XTRANS
 0278            CS     RRATEDIF
 0279            TS     RATEDIF
 0280            AD     -2JETLIM
 0281            EXTEND
 0282            BZMF   2JETS+R
 0283  2         TCF    4JETS+R
 0284   RTJETIME CCS    RATEDIF         SCALED AT PI/4 RADIANS/SECOND
 0285            AD     ONE
 0286            TCF     +2
 0287            AD     ONE             ABS(RATEDIF)
 0288            EXTEND
 0289            MP     1/NJETAC        SCALED AT 2(8)/PI SECOND(2)/RADIANS
 0290            EXTEND
 0291            MP     BIT4            SCALED AT 2(3) SECONDS
 0292            CAE    L
 0293            EXTEND
 0294            MP     25/32.QR        TJET NOW PROPERLY SCALED IN A
 0295            TS     TQR             AT 2(4)16/25 SECONDS
 0296            TCF    MNIMPTST
P0297  2DAP SECTION: XTRANS             MOD. NO. 3  DATE: JANUARY 6, 1967.
R0298  2AUTHOR: JOHN S. BLISS (ADAMS ASSOCIATES)
R0299  2MODIFICATION BY: JONATHAN D. ADDELSTON (ADAMS ASSOCIATES)
R0300  2X-AXIS TRANSLATION LOGIC (IN THE ABSENSE OF Q,R-AXIS ROTATION) IS INITIA
 0301  9TED IN THE "XTRANS" SECTION.
R0302   XTRANS FIRST SETS ADDTLT6 AND ADDT6JTS TO ZERO FOR USE BY "JTLST" AND "T
 0303  96JOB" WHEN THEY ARE CALLED.  IT THEN
R0304   CHECKS FOR PLUS OR MINUS X TRANSLATION REQUESTS FROM THE ASTRONAUT'S STI
 0305  9CK.  IF NONE IS REQUESTED IN THAT WAY,
R0306   THE ULLAGE BIT OF DAPBOOLS IS CHECKED.  (NOTE THAT THE ORDER OF THE TEST
 0307  9S ALLOWS THE ASTRONAUT TO OVERRIDE THE
R0308   INTERNAL ULLAGE REQUEST.)  IF NO TRANSLATION IS REQUESTED, ALL Q,R-AXIS
 0309  9JETS ARE TURNED OFF AND THE INTERRUPT
R0310  2IS TERMINATED.
R0311  2CALLING SEQUENCE: NONE          SUBROUTINES CALLED: WRITEQR
R0312   NORMAL EXIT: 1.  IF NO TRANSLATION, RESUME.
R0313  2             2.  IF TRANSLATION OR ULLAGE, +/-XTRAN
R0314  2ALARM/ABORT MODE: NONE.
R0315  2INPUT:  ULLAGER/DAPBOOLS,BITS7,8/CHANNEL 31.
R0316   OUTPUT: C(ANYTRANS) = NEGMAX FOR +X TRANSLATION.
R0317           C(ANYTRANS) = POSMAX FOR -X TRANSLATION.
R0318           C(TRANSNOW) = C(TRANSAVE) = +0.
R0319           C(TRANONLY) = PNZ
R0320  2C(ADDTLT6), C(ADDT6JTS), C(TQR), C(TOFJTCHG) = 0.
R0321  2        C(CHANNEL 5) = 0 IF NO X-TRANSLATION REQUESTED
R0322  4DEBRIS: A, L, Q
 0323   XTRANS   CAF    ZERO            PICK UP ZERO AND INITIALIZE
 0324            TS     ADDTLT6
 0325            TS     ADDT6JTS
 0326            TS     TOFJTCHG
 0327  2         TS     TQR             A ZERO OF JET TIME FOR THE TORQUE VECTOR
 0328            CAF    BIT7            IS PLUS X TRANSLATION DESIRED
 0329            EXTEND
 0330            RAND   31              CHANNEL 31 BITS INVERTED
 0331            EXTEND
 0332  2         BZF    +XORULGE        YES, +X
 0333            CAF    BIT8            NO, IS MINUS X TRANSLATION DESIRED
 0334            EXTEND
 0335            RAND   31              CHANNEL 31 BITS INVERTED
 0336            EXTEND
 0337  2         BZF    -XTRANS         YES, -X
 0338            CAF    BIT6            NO, IS ULLAGE(+X TRANSLATION) DESIRED
 0339            MASK   DAPBOOLS
 0340            CCS    A
 0341  2         TCF    +XORULGE        YES, ULLAGE
 0342            CAF    ZERO            SINCE NEITHER ROTATION NOR TRANSLATION
 0343            TC     WRITEQR         ARE NEEDED, TURN OFF ALL Q,R-AXES JETS.
 0344  2         TCF    RESUME
 0345   +XORULGE CAF    NEGMAX          PLUS TRANSLATION OR ULLAGE DESIRED:
 0346  2         TCF    +2              LOAD NEGMAX IN A AND SKIP NEXT OPCODE TO
 0347   -XTRANS  CAF    POSMAX          -X TRANSLATION DESIRED, A = POSMAX, AND
 0348  2         TS     ANYTRANS        LOAD ANYTRANS WITH A(NEG/POS MAX)
 0349            CAF    ZERO            INITIALIZE TRANSNOW AND TRANSAVE WITH
 0350            TS     TRANSNOW        ZERO FOR USE IN THE JET POLICY SELECTION
 0351  2         TS     TRANSAVE        PROGRAM.
 0352            EXTEND                 SET UP 2CADR FOR TRANSFER TO +/-XTRAN,
 0353            DCA    JTPOLADR
 0354            TS     TRANONLY        STORE POSITIVE, NON-ZERO S-REGISTER IN
 0355  2         DTCB                   TRANONLY.  AFTER +/-XTRAN, GO TO JTLST.
 0356            EBANK= JTSONNOW
 0357   JTPOLADR 2CADR  +/-XTRAN        TRANSLATION ONLY ENTRY TO JET POLICY
P0358   ALL Q,R AXES TQR COMPUTATIONS TERMINATE IN THIS PROGRAM WHICH PERFORMS A
 0359  9 SERIES OF TESTS TO DETERMINE THE TRUE
R0360  2  TIME THE JETS SHOULD BE ON. THESE TESTS ARE AS FOLLOWS ...
R0361        1.  TEST THE ON TIME AGAINST THE 7.5 MS  ELECTRICAL COMMAND (MIN).I
 0362  9F THE ON TIME IS LESS THAN THE MINIMUM
R0363  2         WE BUG OUT TO XTRAN,WHERE X TRANSLATION IS DONE(IF NEEDED).
R0364        2.  TEST THE ON TIME AGAINST 150 MS, IF TQR IS GREATER THAN 150MS ,
 0365  9THEN THE NEXT QR AXIS IS DONE IN 100 MS.
R0366  2         IF TQR IS LESS THAN 150 MS, THEN THE NEXT QR AXIS IS DONE IN 20
 0367  90 MS. THAT IS A QR AXIS SKIP IS DONE.
R0368  2     3.  WHEN TQR IS LESS THAN 150 MS  THE PROGRAM GOES TO THE JET LIST
 0369  9PROGRAM WHERE THE T6 CLOCK IS SET UP.
R0370        4.  BEFORE GOING TO THE JET LIST THE COMPUTED TIME HAS EITHER 7.5 M
 0371  9S  ADDED OR 5MS  SUBTRACTED-THE EXACT
R0372  2         OPERATION BEING DECIDED BY WHETHER THE JETS WHICH ARE TO GO ON
 0373  9ARE OFF OR ARE ON RESPECTIVELY.
R0374        5.  IF SOME OF THE JETS WHICH ARE TO GO ON ARE NOW ON AND SOME ARE
 0375  9OFF, THEN A ******* COMPUTATION CALLED
R0376            NOTRANS DECIDES WHICH JETS GO OFF AT TQR AND WHICH GO OFF AT TQ
 0377  9R+6.5MS. THIS 6.5 MS. IS STORED IN
R0378  2         ADDTLT6. ADDTLT6 IS SET TO ZERO OTHERWISE.
 0379  4NORMRETN TS     TQR
 0380   MNIMPTST CS     TQR             TEST FOR TQR GREATER THAN MIN. IMPULSE.
 0381            AD     +T6TJMIN
 0382            EXTEND                   CORRECT BRANCH.
 0383            BZMF   TQRGTTMI        BRANCH FOR TQR = OR GREATER THAN MINIMP.
 0384            TCF    XTRANS          SEE IF TRANSLATION IS DESIRED .
 0385   TQRGTTMI CAE    TQR             HERE JETS ON FOR LONGER THAN GRUMANN
 0386            TS     TOFJTCHG        MINIMUM IMPULSE SPECIFICATIONS.
 0387            AD     -1.5CSP
 0388            EXTEND
 0389            BZMF   DOQRSKIP
 0390            CAE    JTSONNOW
 0391            TC     WRITEQR
 0392  2         TCF    RESUME
 0393   SKIPQRAD GENADR SKIPQRAX
R0394   CHANGE JET ON AND OFF BITS TO ACCOUNT FOR THE PRESENT STATE OF THE
R0395     CHANNEL. THE CHANGES ACCOUNT FOR PURE ROTATION ONLY- NOT TRANSLATION.
 0396   DOQRSKIP CA     JTSONNOW
 0397            EXTEND
 0398            RAND   5               MASK THE CHANNEL WITH THE DESIRED STATE.
 0399   FROMROOT EXTEND                 ENTER HERE FROM DORUTDUM (IN K.F. BANK)
 0400            BZF    NOQRON          A IS ZERO IF NO JETS TO GO ON ARE ON.
 0401            AD     BIT15           MAKE DIFFERENCE CORRESPOND TO A QR JET.
 0402            EXTEND
 0403            SU     JTSONNOW        RESULT IS COMPLEMENT OF JET BITS WHICH
 0404            TS     L                 ARE TO BE ON FOR 6.5MS MORE THAN CALC.
 0405            EXTEND
 0406            BZF    JTSAREON        A=0,THUS ALL JETS TO GO ON ARE NOW ON.
 0407   TRSLTMN2 CAE    JTSATCHG
 0408            MASK   POSMAX          REMOVE BIT15 FROM JTSATCHG.
 0409            EXTEND
 0410            BZF    NOTRANS         IF JTSATCHG = 0 THEN NO TRANSLATION NOW.
 0411            CA     14-TQRMN
 0412            ADS    TOFJTCHG        INSURE T GREATER THAN 14 MS.
 0413            TCF    TOJTLST
 0414   NOTRANS  CS     L
 0415            AD     BIT15           MAKE JET BITS CORRESPOND TO QR AXIS.
 0416            XCH    JTSATCHG        JTSONNOW - L = JETS ON AT TOFJTCHG.
 0417            TS     ADDT6JTS        JTS ON AT TOFJTCHG +ONDELAY.
 0418            CA     14-TQRMN
 0419            TS     ADDTLT6
 0420            TCF    TOJTLST
 0421   NOQRON   CA     14-TQRMN
 0422            ADS    TOFJTCHG
 0425            TCF    TOJTLST -2
 0426   JTSAREON CAE    JTSATCHG
 0427            MASK   POSMAX
 0428            EXTEND
 0429            BZF    +2
 0430            TCF    TOJTLST -2
 0431            CAF    MCOMPTQR
 0432            ADS    TOFJTCHG
 04325           EXTEND                 TEST FOR COMPUTATION OF NEGATIVE OR ZERO
 04326           BZMF   QUICKOFF        TOFJTCHG, IF SO, MAKE -0.
 0433    -2      CAF    ZERO
 0434            TS     ADDTLT6
 0435   TOJTLST  CA     SKIPQRAD
 0436            TS     QJUMPADR
 0437            CAE    JTSONNOW        TURN ON JETS TO GO ON NOW (EVEN IF ALL
 0438            TC     WRITEQR         ARE ALREADY ON), AFTER TESTING FOR RISE.
 0439            EXTEND
 0440            DCA    JTLSTADR
 0441  2         DTCB
 04411  QUICKOFF CS     TOFJTCHG        SET TOFJTCHG TO -0 IN SHORTEST WAY.
 04412 2         TCF    NOQRON +1
 0442   -1.5CSP  DEC    -0.01465
 0443   +T6TJMIN DEC    +.00073
 0444   25/32.QR DEC    0.78125
 0445   MS20QR   OCTAL  37776
 0446   MS30QR   OCTAL  37775
 0447   MS50QR   OCTAL  37773
 0448   16/32400 DEC    0.00049
 0449   BIT8,9   OCTAL  00600
 0450   MCOMPTQR DEC    -16             -10 MS SCALED AS TIME6.
 0451   14-TQRMN DEC    11
R04515  START CODING FOR MODULE 3 REMAKE, AUGUST 1967***START CODING FOR MODULE
 04516 93 REMAKE, AUGUST 1967*******************
 0452   MINTADR  TC     CCSHOLE
R04525 2**END CODING FOR MODULE 3 REMAKE, AUGUST 1967*****END CODING FOR MODULE
 04526 93 REMAKE, AUGUST 1967*******************
 0453   -.88975  DEC    -.88975
 0454   (1-K),QR DEC    0.50000         K = 1/2
 0455   (1-KQ)/8 DEC    0.06250
 0456   -90MS    DEC    -.00879
 0457   +90MS    DEC    0.00879
 0458   NEGCSP2  DEC    -.00977
 0459   ALL+XJTS OCTAL  40252
 0460   2,10-OUT OCTAL  00201
 0461   +X,A     OCTAL  40042
 0462   +X,B     OCTAL  40210
 0463   1,9-OUT  OCTAL  00104
 0464   -X,A     OCTAL  40104
 0465   -X,B     OCTAL  40021
 0466            EBANK= JTSONNOW
 0467   JTLSTADR 2CADR  JTLST
 0468   RTJETADR GENADR RTJETIME
P0469  2Q,R-AXES ATTITUDE STEERING CALCULATIONS:
R0470   (EXECUTED WHEN LGC IS IN AUTOMATIC SCSMODE OR IF SCSMODE IS ATTITUDE HOL
 0471  9D AND THE ROTATIONAL HAND CONTROLLER IS
R0472  2NEITHER OUT OF DETENT NOR IS THE RATE COMMAND BIT SET IN DAPBOOLS)
 0481   CHKGIMBL EXTEND
 0482            DCA    TRYGTSAD        TRYGTS ATTEMPTS GTS CONTROL.
 0483            DXCH   Z
 0484  2         TC     CCSHOLE
 0485   BGIM24   OCTAL  07400
 0486  2DESCADR  GENADR TJETLAW
 0487            EBANK= DT
 0488   TRYGTSAD 2CADR  TRYGTS          TRYGTS ATTEMPTS GTS CONTROL.
P0489  2"ATTSTEER" IS THE NOMINAL ENTRY POINT FOR REACTION CONTROL SYSTEM ATTITU
 0490  9DE STEERING
 0491   ATTSTEER EQUALS QERRCALC
 0492   QERRCALC CAE    CDUY            Q-ERROR CALCULATION
 0493            EXTEND
 0494            MSU    CDUYD           CDU ANGLE - ANGLE DESIRED (Y-AXIS)
 0495            TS     ITEMP1          SAVE FOR RERRCALC
 0496            EXTEND
 0497            MP     M21             (CDUY-CDUYD)*M21 SCALED AT PI RADIANS
 0498            XCH    ER              SAVE FIRST TERM (OF TWO) IN OPP.AXIS REG
 0499            CAE    CDUZ            SECOND TERM CALCULATION:
 0500            EXTEND
 0501            MSU    CDUZD           CDU ANGLE -ANGLE DESIRED (Z-AXIS)
 0502            TS     ITEMP2          SAVE FOR RERRCALC
 0503            EXTEND
 0504            MP     M22             (CDUZ-CDUZD)*M22 SCALED AT PI RADIANS
 0505            ADS    ER              SAVE SUM OF TERMS, NO OVERFLOW EVER
 0506  2         TS     QERROR          SAVE QERROR FOR EIGHT-BALL DISPLAY
 0507   RERRCALC CAE    ITEMP1          R-ERROR CALCULATION:
 0508            EXTEND                 CDU ANGLE -ANGLE DESIRED (Y-AXIS)
 0509            MP     M31             (CDUY-CDUYD)*M31 SCALED AT PI RADIANS
 0510            XCH    E               SAVE FIRST TERM (OF TWO) IN OPP.AXIS REG
 0511            CAE    ITEMP2          SECOND TERM CALCULATION:
 0512            EXTEND                 CDU ANGLE -ANGLE DESIRED (Z-AXIS)
 0513            MP     M32             (CDUZ-CDUZD)*M32 SCALED AT PI RADIANS
 0514            ADS    E               SAVE SUM OF TERMS, NO OVERFLOW EVER
 0515  2         TS     RERROR          SAVE R-ERROR FOR EIGHT-BALL DISPLAY
 05155 2         TCF    STILLRCS
R05160 2THIS CODING IS ENTERED FROM BURGZERO, WHEN BOTH URGENCIES ARE ZERO.  EXI
 05165 9TS TO GTS IF POSSIBLE, XTRANS OTHERWISE
 0517   GIMBLTRY CAF    USEQRJTS        IS JET USAGE MANDATORY.
 0518            MASK   DAPBOOLS
 0519            CCS    A
 0520  2         TCF    XTRANS          YES.  GO TO XTRANS.
 05201           EXTEND                 ARE GIMBALS DRIVING?
 05203           READ   12
 05205           MASK   BGIM24          BITS 9,10,11,12 ARE GIMBAL DRIVE BITS.
 05207           CCS    A
 05209 2         TCF    XTRANS          YES.  DRIVING.  GO TO XTRANS.
 0522            EXTEND                 NO.   CHECK JETS.
 0523            READ   5               ARE ANY Q,R JETS ON NOW.
A05235                                  (CAN ONLY BE ROTATION JETS.)
 0524            EXTEND
 0525  2         BZF    XTRANS          NO.   GO TO XTRANS.
 0527            CAF    ZERO            YES.  TURN OFF JETS.
 0528            EXTEND
 0529  2         WRITE  5
 0536            EXTEND                 NO.   GO TO GTS.
 0537            DCA    GOGTSADR
 0538  2         DXCH   Z
 0539            EBANK= DT
 0540   GOGTSADR 2CADR  GOTOGTS
R05405 2REMAINING CODING (HERE TO STILLRCS) STAYS IN TO KEEP ADDRESSES CONSTANT.
 0542            TC     CCSHOLE         FILLER.
 0543            TCF    STILLRCS        NO.      SO USE RCS.
 0544            INDEX  QRCNTR          YES.     TRY THE ERROR MAGNITUDE.
 0545            CCS    QDIFF           IS ERROR SMALL ENOUGH FOR GTS.
 0546            AD     -XBND+1         -1.4 DEG SCALED AT PI    + 1 BIT
 0547            TCF     +2
 0548            AD     -XBND+1
 0549            EXTEND
 0550            BZMF    +2             IS ERROR LESS,EQUAL 1.4 DEG.
 0551            TCF    STILLRCS        NO.      USE RCS CONTROL.
 0552            CCS    QRCNTR          THIS AXIS IS FINE.   ARE BOTH DONE.
 0553            TC     CCSHOLE         REMOVE REFERENCE TO ELIMINATED SYMBOL.
 0554            TC     CCSHOLE         FILLER.
 0555   -RATLM+1 OCT    77512           -.5 DEG/SEC SCALED AT PI/4  + 1 BIT
 0556   -XBND+1  OCT    77601           -1.4 DEG SCALED AT PI, + 1 BIT.
R0557   "STILLRCS" IS THE ENTRY POINT TO RCS ATTITUDE STERRING WHENEVER IT IS FO
 0558  9UND THAT THE TRIM GIMBAL CONTROL
R0559   SYSTEM SHOULD NOT BE USED:
P0560  2Q,R-AXES RCS URGENCY FUNCTION LOGIC:
 0561   STILLRCS CCS    DAPBOOLS        BRANCH TO SPS-BACKUP RCS CONTROL LOGIC.
 0562            TCF    SPSBAKUP        WHEN BIT15/DAPBOOLS = 0.
 0563            NOOP
 0564            CAF    DESCADR         SET JET SELECT LOGIC RETURN ADDRESS TO
 0565  2         TS     TJETADR         THE Q,R-AXIS TJETLAW CALCULATION
 0566  2         TC     T6JOBCHK        CHECK T6 CLOCK RUPT BEFORE SUBROUTINE
R0567  2CALCULATE THE RATE ERRORS SCALED AT PI/4 RADIANS/SECOND(2):
 0568            CS     OMEGAQD
 0569            AD     OMEGAQ          EDOTQ = OMEGAQ - OMEGAQD
 0570  2         TS     EDOTQ
 0571            CS     OMEGARD
 0572            AD     OMEGAR          EDOTR = OMEGAR - OMEGARD
 0573            TS     EDOTR
P0574  2Q,R-AXES URGENCY FUNCTION LOOP:
R0575  2SET UP LOOP TO DO R-AXIS, THEN Q-AXIS:
 0576            CAF    ONE             1: REFERS TO R-AXIS VARIABLES.
 0577  2         TS     AXISCNTR        0: REFERS TO Q-AXIS VARIABLES.
R0578  2PICK UP EDOT AND RESCALE FROM PI/4 TO PI/16 RADIANS/SECOND:
 0579   URGLOOP  INDEX  AXISCNTR        ERROR RATES ARE PRE-CALCULATED BY RATE
 0580            CAE    EDOTQ           DERIVATION SCALED AT PI/4 RADIANS/SECOND
 0581            EXTEND                 MULTIPLYING BY FOUR (BIT3) LEAVES EDOT
 0582            MP     FOUR            AS C(L) IF EDOT LESS THAN 11.25 DEG/SEC.
 0583            EXTEND
 0584            BZF     +2             IF C(A) NON-ZERO, THEN EDOT GREATER THAN
 0585  2         TCF    EDOTMAX         11.25 DEG/SEC IN MAGNITUDE, SO LIMIT IT.
 0586            CCS    L               INSURE NON-ZERO EDOT:
 0587            AD     TWO             C(L) PNZ REMAINS UNCHANGED.
 0588            TCF     +2             C(L) NNZ REMAINS UNCHANGED.
 0589            COM                    C(L)  +0 BECOMES 77776.
 0590            AD     NEG1            C(L)  -0 BECOMES 77776.
 0591  2EDOTSTOR TS     EDOT            SAVE NON-ZERO EDOT SCALED AT PI/16.
 0592            EXTEND                 CALCULATE (EDOT)(EDOT):
 0593            SQUARE
 0594  2         TS     EDOT(2)         SCALED AT PI(2)/2(+8) RAD(2)/SEC(2).
 0595            EXTEND                   0.5              +8       2
 0596            INDEX  AXISCNTR        ------  SCALED AT 2  /PI SEC /RAD.
 0597            MP     1/ACCQ          ACCQ,R
 0598            EXTEND                 DEADBAND = 5.0 OR 1.0 OR 0.3 DEGREES
 0599            SU     DB              SCALED AT PI RADIANS.
 0600  2         TS     FPQR            0.5(1/ACC)EDOT(2)-DB SCALED AT PI RADS.
 0601            CAE    EDOT(2)         SCALED AT PI(2)/2(8) RAD(2)/SEC(2).
 0602            EXTEND
 0603            INDEX  AXISCNTR
 0604            MP     1/AMINQ         .5(1/ACCMIN) AT 2(8)/PI SEC(2)/RAD.
 0605            AD     DB              DEADBAND SCALED AT PI RADIANS.
 0606  2         TS     FPQRMIN         .5(1/ACCMIN)EDOT(2)+DB SCALED AT PI RAD.
 0607            CCS    EDOT            EDOT TEST ON SIGN (NON-ZERO):
 0608            CAE    E               ATTITUDE ERROR FOR THIS AXIS
 0609            TCF     +2             SCALED AT PI RADIANS.
 0610            TCF    EDOTNEG
 0611  2         ADS    FPQR            E+0.5(1/ACC)EDOT(2)-DB SCALED AT PI RAD.
 0612   FTEST    CCS    EDOT            EDOT GUARANTEED NOT +0 OR -0.
 0613            CCS    FPQR            FPQR GUARANTEED NOT +0.
 0614            TCF    QUICKURG        EDOT.G.+0, FPQR.G.+0.
 0615            CCS    FPQR            EDOT.L.-0.
 0616            TCF    FMINCALC        EDOT.L.-0,FPQR.G.+0/EDOT.G.+0,FPQR.L.-0.
 0617            TCF    FMINCALC        EDOT.G.+0,FPQR.E.-0 (FROM FIRST CCS).
 0618  2         TCF    QUICKURG        EDOT.L.-0,FPQR.L.-0.
 0619   QUICKURG CAE    EDOT            EDOT.L.-0,FPQR.E.-0 (FROM 2ND CCS).
 0620            EXTEND                 SCALE FROM PI/16 TO PI RADIANS/SECOND
 0621            MP     BIT11           TO HAVE SAME SCALING AS FPQR AFTER THE
 0622            AD     FPQR            IMPLICIT MULT. OF FPQR BY 1/SEC.
 0623  2         TCF    URGMULT         THIS URGENCY = (1/ACC)(FPQR+EDOT).
 0624   EDOTMAX  CCS    A               GUARANTEED NOT +0 OR -0.
 0625            CAF    POSMAX
 0626            TCF    EDOTSTOR        SET EDOT TO SIGNED MAXIMUM.
 0627            CS     POSMAX
 0628  2         TCF    EDOTSTOR        SCALED AT PI/16 RADIANS/SECOND.
 0629   EDOTNEG  CS     FPQR            SCALED AT PI RADIANS
 0630            AD     E               ATTITUDE ERROR FOR THIS AXIS
 0631            TS     FPQR            E-0.5(1/ACC)EDOT(2)+DB SCALED AT PI RAD.
 0632  2         TCF    FTEST
 0633   FMINCALC CCS    FPQR            NECESSARY RETEST ON FPQR:
 0634            CS     FPQRMIN
 0635            TCF     +2             E-0.5(1/ACCMIN)EDOT(2)-DB
 0636            CAE    FPQRMIN
 0637            AD     E               E+0.5(1/ACCMIN)EDOT(2)+DB
 0638  2         TS     FPQRMIN         SCALED AT PI RADIANS.
 0639            CCS    EDOT            EDOT    GUARANTEED NOT +0 OR -0.
 0640            CCS    FPQRMIN         FPQRMIN GUARANTEED NOT +0 (CALL IT F).
 0641            TCF    ZEROURG         EDOT.G.+0, F.G.+0.
 0642            CCS    FPQRMIN         EDOT.L.-0.
 0643            TCF    NORMURG         EDOT.L.-0, F.G.+0 / EDOT.G.+0, F.L.-0.
 0644            TCF    NORMURG         EDOT.G.+0, F.E.-0 (FROM FIRST CCS).
 0645            TCF    ZEROURG         EDOT.L.-0, F.L.-0.
 0646   ZEROURG  EXTEND                 EDOT.L.-0, F.E.-0 (FROM 2ND CCS).
 0647            DCA    DPZEROY         THIS URGENCY IS ZERO.
 0648            DXCH   URGENCYQ
 0649  2         TCF    MOREURG         TEST FOR NEXT AXIS
 0650   NORMURG  CAE    FPQRMIN         THIS URGENCY IS FPQRMIN(1/ACC).
 0651   URGMULT  EXTEND
 0652            INDEX  AXISCNTR
 0653            MP     1/ACCQ
 0654  2         DXCH   URGENCYQ        SAVE D.P. SCALED AT 2(+9).
 0655   MOREURG  CCS    AXISCNTR        TEST FOR END OF LOOP
 0656            TCF     +2             CONTINUE.
 0657  2         TCF    URGSCALQ        FINISHED.
 0658  2         TS     AXISCNTR        Q-AXIS
 0659            EXTEND
 0660            DCA    URGENCYQ        SET URGENCYR
 0661  2         DXCH   URGENCYR
 0662            DXCH   E               SET ER,EDOT(2)R
 0663            DXCH   ER
 0664            TS     EQ              SET EQ
 0665            CAE    EDOT
 0666  2         TS     EDOT(R)         SET EDOT(R).
 0667  2         TCF    URGLOOP         CONTINUE.
R0668  2SUFFICIENT TEST FOR URGENCY RESCALING:
 0669   URGSCALR CCS    URGENCYR        IF ABVAL(URGENCYR) LESS THAN SCALE BOUND
 0670            AD     SCALEBND
 0671            TCF     +2             THEN BOTH URGENCIES CAN BE RESCALED FROM
 0672            AD     SCALEBND
 0673            EXTEND                 2(+9) TO 2(+4) SECONDS.
 0674            BZMF   URGSCALE
 0675  2         TCF    URGLIMS
R0676  2RESCALE BOTH URGENCIES FROM 2(+9) TO 2(+4) SECONDS:
 0677   URGSCALE CAE    URGENCYQ        SHIFT D.P. URGENCYQ LEFT 5-PLACES TO
 0678            EXTEND                 FORM S.P. URGENCYQ NOW SCALED AT 16 SECS
 0679            MP     BIT6
 0680            LXCH   URGENCYQ
 0681            CAE    URGENCYQ +1
 0682            EXTEND
 0683            MP     BIT6
 0684  2         ADS    URGENCYQ
 0685            CAE    URGENCYR        SHIFT D.P. URGENCYR LEFT 5-PLACES TO
 0686            EXTEND                 FORM S.P. URGENCYR NOW SCALED AT 16 SECS
 0687            MP     BIT6
 0688            LXCH   URGENCYR
 0689            CAE    URGENCYR +1
 0690            EXTEND
 0691            MP     BIT6
 0692  2         ADS    URGENCYR
 0693            CAE    URGLM2          SET URGENCY LIMIT FOR 2(+4) SCALING.
 0694  2         TCF    URGFUDGE
 0695   SCALEBND OCTAL  77400            -8 SECONDS SCALED AT 2(+9).
 0696   DPZEROY  2DEC   0
R0697  2NECESSARY TEST FOR URGENCY RESCALING:
 0698   URGSCALQ CCS    URGENCYQ        IF ABVAL(URGENCYQ) LESS THAN SCALE BOUND
 0699            AD     SCALEBND
 0700            TCF     +2             THEN TEST URGENCYR FOR RESCALABLE
 0701            AD     SCALEBND
 0702            EXTEND                 MAGNITUDE.
 0703  2         BZMF   URGSCALR
 0704   URGLIMS  CAE    URGLM1          SET URGENCY LIMIT FOR 2(+9) SCALING.
 0705  2URGFUDGE TS     URGLIMIT
R0706  2USE URGENCY FUNCTION CORRECTION FACTOR WHEN NECESSARY:
 0707            CCS    AOSQ            IF C(AOSQ) ZERO OR IF C(URGENCYQ) ZERO,
 0708            CS     URGENCYQ        THEN IT IS CLEARLY UNNECESSARY TO FUDGE.
 0709            TCF     +2             WHILE MAKING THIS TEST, WE CALCULATE
 0710            CAE    URGENCYQ        -SIGN(AOSQ)(URGENCYQ) WHICH IF POSITIVE
 0711            EXTEND                 INDICATES THAT WE ARE TRYING TO FIGHT
 0712  2         BZMF   URGFUDG1        THE EFFECT OF AOSQ, SO WE DO NOT FUDGE.
 0713            CAE    URGRATQ         HERE WE KNOW THAT AOSQ WILL ACTUALLY
 0714            EXTEND                 HELP THE RCS JETS MANEUVER FOR THIS AXIS
 0715            MP     URGENCYQ        FOR THIS CSP, MULTIPLYING BY URGRATQ
 0716  2         TS     URGENCYQ        REDUCES URGENCYQ APPROPRIATELY ENOUGH.
 0717   URGFUDG1 CCS    AOSR            HERE WE DO THE SAME LOGIC FOR THE R-AXIS
 0718            CS     URGENCYR        COMPUTATIONS AS WE DID FOR THE Q-AXIS AT
 0719            TCF     +2             URGFUDGE.  RATHER THAN REPEAT THE ABOVE
 0720            CAE    URGENCYR        COMMENTS, WE PROVIDE A BIT OF FURTHER
 0721            EXTEND                 EXPLANATION: FIRST, ONLY A S.P. URGENCY
 0722  2         BZMF   URGPLANE        IS SAVED IF WE DO THE FUDGE, SINCE ONLY
 0723            CAE    URGRATR         S.P. URGENCIES ARE REFERENCED BELOW AND
 0724            EXTEND                 NO D.P. ACCURACY IS NEEDED.  SECOND, BY
 0725            MP     URGENCYR        BY MULTIPLYING BY THE FUDGE RATIO DURING
 0726            TS     URGENCYR        APS BURNS, WE PREVENT SOME RCS FIRINGS
A0727  2                                WHICH WOULD OVER-CORRECT DUE TO THE AOS.
 0728   URGPLANE CAE    URGENCYQ        BEGIN URGENCY-PLANE COMPUTATIONS:
 0729            EXTEND
 0730  2         BZF    BURGZERO        TEST FOR BOTH URGENCIES ZERO
 0731            EXTEND
 0732            MP     -TAN22.5
 0733            AD     URGENCYR
 0734            EXTEND
 0735            MP     COS22.5
 0736  2         TS     TERMA           UR.COS(22.5)-UQ.SIN(22.5)
 0737            CS     URGENCYR
 0738            EXTEND
 0739            MP     -TAN22.5
 0740            AD     URGENCYQ
 0741            EXTEND
 0742            MP     COS22.5
 0743  2         TS     TERMB           UR.SIN(22.5)+UQ.COS(22.5)
 0744   A+B/A-B  AD     TERMA
 0745            TS     A+B
 0746   A-B/ONLY CS     TERMB
 0747            AD     TERMA
 0748  2         TS     A-B
R0749  2AXIS AND MODE SELECTION
 0750            CAE    TERMB           B URGENCY TEST
 0751            EXTEND
 0752  2         BZMF   NEGBURG
 0753   POSBURG  CAE    TERMA           A URGENCY TEST
 0754            EXTEND
 0755  2         BZMF   NEGAPOSB
 0756   POSAPOSB CAE    A-B
 0757            EXTEND
 0758  2         BZMF   MINUSU          NEGATIVE U-AXIS SELECTED
 0759   2/4JET-R CAE    1/AMINR
 0760            TS     .5ACCMNE
 0761            EXTEND
 0762            DCA    ER
 0763            DXCH   E
 0764            CAE    EDOT(R)
 0765            TS     EDOT
 0766            CAE    URGLIMIT
 0767            AD     URGENCYR
 0768            EXTEND
 0769  2         BZMF   2JETS-R
 0770   4JETS-R  CS     ONE
 0771  2         TCF    POLTYPE         GO FIND BEST POLICY
 0772   2JETS-R  CCS    NJ-R
 0773            TCF    4JETS-R
 0774            CS     TWO
 0775  2         TCF    POLTYPE         GO FIND BEST POLICY
 0776   MINUSU   CAE    1/AMINU
 0777            TS     .5ACCMNE
 0778            CAE    URGENCYQ
 0779            AD     URGENCYR
 0780            AD     URGLIMIT
 0781            EXTEND
 0782  2         BZMF   2JETS-U
 0783   2JETSM-U TC     UXFORM
 0784   2-U.RATE CAF    THREE
 0785  2         TCF    POLTYPE         GO FIND BEST POLICY
 0786   2JETS-U  CCS    NJ-U
 0787            TCF    2JETSM-U
 0788            TC     UXFORM
 0789            CAF    TWO
 0790  2         TCF    POLTYPE         GO FIND BEST POLICY
 0791   NEGAPOSB CAE    A+B
 0792            EXTEND
 0793  2         BZMF   PLUSV
 0794   2/4JET-Q CAE    1/AMINQ
 0795            TS     .5ACCMNE
 0796            CAE    URGLIMIT
 0797            AD     URGENCYQ
 0798            EXTEND
 0799  2         BZMF   2JETS-Q
 0800   4JETS-Q  CS     FIVE
 0801  2         TCF    POLTYPE         GO FIND BEST POLICY
 0802   2JETS-Q  CCS    NJ-Q
 0803            TCF    4JETS-Q
 0804            CS     SIX
 0805  2         TCF    POLTYPE         GO FIND BEST POLICY
 0806   PLUSV    CAE    1/AMINV
 0807            TS     .5ACCMNE
 0808            CS     URGENCYR
 0809            AD     URGENCYQ
 0810            AD     URGLIMIT
 0811            EXTEND
 0812  2         BZMF   2JETS+V
 0813   2JETSM+V TC     VXFORM
 0814   2+V.RATE CAF    FIVE
 0815  2         TCF    POLTYPE         GO FIND BEST POLICY
 0816   2JETS+V  CCS    NJ+V
 0817            TCF    2JETSM+V
 0818            TC     VXFORM
 0819            CAF    FOUR
 0820  2         TCF    POLTYPE         GO FIND BEST POLICY
 0821   BURGZERO CAE    URGENCYR        TEST FOR SECOND URGENCY ALSO ZERO
 0822            EXTEND
 0823  2         BZF    GIMBLTRY        BOTH URGENCIES ZERO.  TRY THE GTS.
 0824            EXTEND                 TIME SAVING A,B CALCULATION
 0825            MP     SIN22.5
 0826            TS     TERMB           UR.SIN(22.5)
 0827            CAE    URGENCYR
 0828            EXTEND
 0829            MP     COS22.5
 0830            TS     TERMA           UR.COS(22.5)
 0831  2         TCF    A-B/ONLY
 0832   COS22.5  DEC    0.92388         COSINE OF 22.5 DEGREES
 0833   SIN22.5  DEC    0.38268         SINE OF 22.5 DEGREES
 0834  2-TAN22.5 DEC    -.41421         NEGATIVE OF TANGENT OF 22.5 DEGREES
 0835   NEGBURG  CAE    TERMA           A URGENCY TEST
 0836            EXTEND
 0837  2         BZMF   NEGANEGB
 0838   POSANEGB CAE    A+B
 0839            EXTEND
 0840  2         BZMF   2/4JET+Q
 0841   MINUSV   CAE    1/AMINV
 0842            TS     .5ACCMNE
 0843            CS     URGENCYQ
 0844            AD     URGENCYR
 0845            AD     URGLIMIT
 0846            EXTEND
 0847  2         BZMF   2JETS-V
 0848   2JETSM-V TC     VXFORM
 0849   2-V.RATE CAF    SEVEN
 0850  2         TCF    POLTYPE         GO FIND BEST POLICY
 0851   2JETS-V  CCS    NJ-V
 0852            TCF    2JETSM-V
 0853            TC     VXFORM
 0854            CAF    SIX
 0855  2         TCF    POLTYPE         GO FIND BEST POLICY
 0856   NEGANEGB CAE    A-B
 0857            EXTEND
 0858  2         BZMF   2/4JET+R
 0859   PLUSU    CAE    1/AMINU
 0860            TS     .5ACCMNE
 0861            CS     URGLIMIT
 0862            AD     URGENCYQ
 0863            AD     URGENCYR
 0864            EXTEND
 0865  2         BZMF   2JETSM+U
 0866   2JETS+U  CCS    NJ+U
 0867            TCF    2JETSM+U
 0868            TC     UXFORM
 0869            CAF    ZERO
 0870  2         TCF    POLTYPE         GO TO FIND BEST POLICY
 0871   2JETSM+U TC     UXFORM
 0872   2+U.RATE CAF    ONE
 0873  2         TCF    POLTYPE         GO FIND BEST POLICY
 0874   2/4JET+R CAE    1/AMINR
 0875            TS     .5ACCMNE
 0876            EXTEND
 0877            DCA    ER
 0878            DXCH   E
 0879            CAE    EDOT(R)
 0880            TS     EDOT
 0881            CS     URGENCYR
 0882            AD     URGLIMIT
 0883            EXTEND
 0884  2         BZMF   2JETS+R
 0885   4JETS+R  CS     THREE
 0886  2         TCF    POLTYPE         GO FIND BEST POLICY
 0887   2JETS+R  CCS    NJ+R
 0888            TCF    4JETS+R
 0889            CS     FOUR
 0890  2         TCF    POLTYPE         GO FIND BEST POLICY
 0891   2/4JET+Q CAE    1/AMINQ
 0892            TS     .5ACCMNE
 0893            CS     URGENCYQ
 0894            AD     URGLIMIT
 0895            EXTEND
 0896  2         BZMF   2JETS+Q
 0897   4JETS+Q  CS     SEVEN
 0898  2         TCF    POLTYPE         GO FIND BEST POLICY
 0899   2JETS+Q  CCS    NJ+Q
 0900            TCF    4JETS+Q
 0901  2         CS     EIGHT
R0902  2GENERALIZED CALLING SEQUENCE FOR ALL Q,R-AXES ROTATIONS (FROM BANK 17):
 0903   POLTYPE  TS     NETACNDX        SAVE INDEX INDICATING AXIS, DIRECTION,
 0904            EXTEND                 AND NUMBER OF JETS REQUESTED (THIS SPEC-
 0905            DCA    POLADR          IFIES THE "OPTIMAL" POLICY.  TRANSFER
 0906  2         DTCB                   ACROSS BANKS TO POLICY SELECTION ROUTINE
 0907            EBANK= JTSONNOW
 0908  8POLADR   2CADR  POLTYPEP        2CADR OF JET POLICY SELECT ROUINTE.
R0909   SUBROUTINES UXFORM AND VXFORM CALCULATE NEEDED VALUES FOR T-JET LAW
R0910  2(THEY GO OFF TO REDUCE RATE, IF NECESSARY, AND THEN DO NOT RETURN)
 0911   VXFORM   CAE    1/2JETSV        GET INVERSE OF V-JET ACCELERATION
 0912            TS     1/NJETAC
 0913            CS     EQ              COMPLEMENT FOR TRANSFORMATION
 0914            TS     EQ
 0915            CS     EDOTQ
 0916            TCF    UVXFORM +1
 0917   UXFORM   CAE    1/2JETSU        SET INVERSE OF U-JET ACCELERATION
 0918  2         TS     1/NJETAC
 0919   UVXFORM  CAE    EDOTQ           TRANSFORM ANGULAR RATE TO U/V-AXIS
 0920            AD     EDOTR
 0921            EXTEND
 0922            MP     .707
 0923            TS     EDOT            SAVE FOR REDUCEUV
 0924            EXTEND
 0925            MP     BIT3
 0926            EXTEND
 0927  2         BZF    UVEDOT          BRANCH IF RESCALING SUCCESSFUL.
 0928            CCS    A               LIMIT EDOT TO +/- 11.25 DEG/SEC.
 0929            CAF    POSMAX
 0930            TCF    UVEDOT1
 0931            CS     POSMAX
 0932  2         TCF    UVEDOT1
 0933   UVEDOT   CAE    L
 0934   UVEDOT1  TS     EDOT            RATE ERROR SCALED AT PI/16.
 0935            EXTEND
 0936            SQUARE
 0937  2         TS     EDOT(2)         SAVE RATE SQUARED SCALED AT PI(2)/2(8)
 0938            CAE    EQ              TRANSFORM ATTITUDE ERROR TO U/V -AXIS
 0939            AD     ER
 0940            EXTEND
 0941            MP     .707
 0942  2         TS     E
 0943  4         TC     Q
 0944   -1.5CSPQ DEC    -.00938
 0945   +TJMINT6 DEC    +.00073
 0946   -TJMIN16 DEC    -.00097
 0947   -TJMINQR EQUALS -TJMIN16
 0948   38.7MAT4 DEC    0.00242
 0949   -MS35AT4 DEC    -.00219         -35MS SCALED AT 4
 0950   MAXRATE  DEC    0.88889         10 DEGREES/SECOND SCALED AT PI/16
 0951   MAXRATE2 DEC    0.79012         100 DEG(2)/SEC(2) SCALED AT PI(2)/2(8)
 0952   .6DEG/SC DEC    0.05333         6/10 DEGREES/SECOND SCALED AT PI/16
 0953  825/32QR  DEC    0.78125
R0954   THESE TWO SUBROUTINES TRANSFORM EDOTQ,EDOTR INTO THE U/V-AXIS (RESPECTIV
 0955  9ELY) FOR THE RATE COMMAND MODE (ONLY).
R0956  2VALUE IS STORED IN EDOTGEN SCALED AT PI/4 RADIANS/SECOND.
 0957            BANK   17
 0958   EDOTUGEN CAE    1/2JETSU        FOR U-AXIS TRANSFORMATION
 0959            TS     1/NJETAC
 0960            CAE    EDOTQ
 0961            TCF     +4
 0962   EDOTVGEN CAE    1/2JETSV        FOR V-AXIS TRANSFORMATION
 0963            TS     1/NJETAC
 0964            CS     EDOTQ
 0965            AD     EDOTR
 0966            EXTEND
 0967            MP     .707
 0968            TS     RATEDIF
 0969  4         TC     Q
 0970  2.707     DEC    0.70711
 0971   SPSBAKUP EXTEND
 0972            DCA    SPSRCSAD
 0973            DXCH   Z
 0974            EBANK= DT
 0975   SPSRCSAD 2CADR  SPSRCS
P0976  2*********TJETLAW********************************************************
 0977  9****************************************
 0978   TJETLAW  CS     EDOT            TEST ON EDOT SIGN:
 0979            EXTEND
 0980            BZMF    +4
 0981            TS     EDOT            SIGNS OF E AND EDOT CHANGED IF EDOT NEG,
 0982            CS     E               TO CONSIDER FUNCTIONS IN THE UPPER HALF
 0983  2         TS     E               OF THE E-DOT PHASE PLANE.
 0984            CAE    EDOT(2)         SCALED AT PI(2)/2(+8) RAD(2)/SEC(2)
 0985            EXTEND                 1/NETACC HAS BEEN SET FOR N-JETS WITH
 0986            MP     1/NETACC        IMPLICIT FACTOR OF (1/2).
 0987            AD     E               ATTITUDE ERROR SCALED AT PI RADIANS.
 0988            EXTEND                 DEADBAND VALUE SCALED AT PI RADIANS.
 0989            SU     DB              E+.5EDOT/NETACC-DB
 0990  2         TS     HDAP            SCALED AT PI RADIANS.
 0991            EXTEND
 0992  2         BZMF   NEGHDAP
 0993            CAE    EDOT            RATE ERROR: LIMITED TO +/- 11.25 DEG/SEC
 0994            EXTEND                 SCALED AT PI/16 RADIANS/SECOND.
 0995            MP     1/NETACC        SCALED AT 2(+8)/PI SEC(2)/RAD: (ACC)(-1)
 0996            DDOUBL                 SCALED AT 2(+4) SECONDS.
 0997  2         TS     TERMA
 0998            AD     -1.5CSPQ        (EDOT/NETACC)-1.5CSP SCALED AT 16 SECS.
 0999            EXTEND
 1000  2         BZMF    +3
 1001   MAXTJET  CAF    BIT14           (1/2) IS LIKE POSMAX AT THIS SCALING.
 1002  2         TCF    NORMRETN        (OVERFLOW IS PREVENTED IN THIS WAY.)
 1003            CS     HDAP            MINIMPDB-E-(EDOT(2)/NETACC)+DB
 1004            AD     MINIMPDB        SCALED AT PI RADIANS.
 1005            EXTEND                 (DURING APS BURNS, MINIMPDB = -DB.)
 1006  2         BZMF   MAINBRCH
 1007            CAE    TERMA           EDOT/NETACC-35MS SCALED AT 16 SECONDS.
 1008            AD     -MS35AT4
 1009            EXTEND                 COMPARE TIME-TO-GET-ZERO-RATE WITH 35MS.
 1010  2         BZMF   INZONE4
 1011            AD     38.7MAT4        TIME-TO-GET-ZERO-RATE + 1/2 MINIMP.
 1012  2         TCF    TJETSCAL
 1013   INZONE4  CCS    EDOT            IF EDOT IS EITHER 00001, 00000, 77777,
 1014            EXTEND                 OR 77776 (IN OCTAL), THEN THIS CODING
 1015            BZF    XTRANS          CAUSES A BRANCH TO XTRANS, NO ROTATION
 1016            EXTEND                 JETS ARE FIRED. *** NOTE: IF THE EXTEND
 1017  4         BZF    XTRANS          CODE IS SKIPPED, BZF EXECUTES LIKE TCF.
 1018            CAE    NO.QJETS        IF NO Q-AXIS JETS THEN MUST HAVE R-AXIS.
 1019            EXTEND
 1020  2         BZF    ROTRAXIS
 1021            CAE    OMEGAQD         WITH Q-AXIS JETS, ZERO THE RATE ERROR.
 1022  2         TS     OMEGAQ
 1023            CAE    NO.RJETS        IF NO R-AXIS JETS, THEN Q-AXIS JETS WERE
 1024            EXTEND                 ALREADY FOUND.
 1025  2         BZF    DOTJMIN
 1026   ROTRAXIS CAE    OMEGARD         WITH R-AXIS JETS, ZERO THE RATE ERROR.
 1027  2         TS     OMEGAR
 1028   DOTJMIN  CAF    +TJMINT6        USE MINIMUM IMPULSE DT FOR TQR.
 1029  2         TCF    NORMRETN
 1030   NEGHDAP  CAE    EDOT(2)         RATE ERROR SQUARED SCALED AT PI(2)/2(8).
 1031            EXTEND
 1032            MP     .5ACCMNE        .5(1/ACCMIN) AT 2(8)/PI SEC(2)/RAD.
 1033            AD     E               ATTITUDE ERROR SCALED AT PI RADIANS
 1034            AD     DB              DEADBANDS (2) SCALED AT PI RADIANS
 1035            AD     DBMINIMP        (DURING APS BURNS DBMINIMP = 0.)
 1036            EXTEND
 1037            BZMF    +2
 1038  2         TCF    XTRANS          NO ROTATION JETS NEEDED.
 1039    +2      CS     MAXRATE         10 DEGREES/SECOND SCALED AT PI/16.
 1040            AD     EDOT            EDOT-MAXRATE SCALED AT PI/16 RAD/SEC.
 1041            EXTEND
 1042            BZMF    +2
 1043  2         TCF    XTRANS
 1044    +2      CS     EDOT            RATE ERROR SCALED AT PI/16 RAD/SEC.
 1045            EXTEND                 (LIMITED TO +/- 11.25 DEG/SEC.)
 1046            MP     1/NETACC        SCALED AT 2(+8)/PI SEC(2)/RAD: (ACC):-1)
 1047            DDOUBL                 SCALED AT 2(+4) SECONDS.
 1048  2         TS     TERMA
 1049            CS     HDAP            -E+(.5EDOT(2)/NETACC)+DB
 1050            AD     E
 1051            AD     E               TWICE ERROR NEGATES E OF HDAP(ABOVE)
 1052            AD     MINIMPDB
 1053  2MAINBRCH TS     HDAP            -HDAP(ABOVE)+2E+DBMINIMP AT PI RADIANS.
 1054            CAE    1/NETACC        .5(1/NETACC+1/ACCMIN) SCALED AT 2(8)/PI.
 1055  2         ADS    .5ACCMNE        .5ACCMNE NOW HOLDS DENOM.
 1056            EXTEND                 DENOM(MAXRATE(2))+HDAP AT PI RADIANS.
 1057            MP     MAXRATE2
 1058            AD     HDAP
 1059            EXTEND
 1060  2         BZMF   NOROOT
 1061            CAE    1/NETACC        SAVE (1/NETACC)(2)
 1062            DOUBLE
 1063            EXTEND
 1064            SQUARE
 1065  2         DXCH   INVACCSQ
 1066            CAE    HDAP            (HDAP)/(DENOM)
 1067            ZL
 1068            EXTEND
 1069            DV     .5ACCMNE
 1070  2         TS     QUOTTEMP
 1071            EXTEND                 +(HDAP/DENOM)(1/NETACC)(2) AT 2(8) SECS.
 1072            MP     INVACCSQ +1
 1073            TS     INVACCSQ +1
 1074            CAF    ZERO
 1075            XCH    INVACCSQ
 1076            EXTEND
 1077            MP     QUOTTEMP
 1078  2         DAS    INVACCSQ
 1079            EXTEND                 SAVE COPY OF ABOVE D.P. VALUE
 1080            DCA    INVACCSQ
 1081  2         DXCH   TERMB
 1082            CAF    -1.5CSPQ        (1.5CSP-EDOT/NETACC) AT 16 SECS.
 1083            AD     TERMA
 1084            EXTEND
 1085            SQUARE                 (1.5CSP-EDOT/NETACC)(2) AT 256 SECS.
 1086  2         DAS    INVACCSQ        (1.5CSP-EDOT/NETACC)(2) - TERMB
 1087            CAE    INVACCSQ        CHECK HIGH ORDER PART, IF NON-ZERO.
 1088            EXTEND
 1089            BZF    ONLYTST1
 1090  2         TCF    ONLYTST1 +1
 1091   ONLYTST1 CAE    INVACCSQ +1     USE LOW ORDER PART, SINCE HIGH PART 0.
 1092            EXTEND
 1093  2         BZMF   MAXTJET
 1094            CAF    -TJMIN16        -EDOT/NETACC-TJMIN SCALED AT 16.
 1095            AD     TERMA
 1096            EXTEND
 1097  2         BZMF   MAYNOJET
 1098   PREROOT  CAF    AFTRUTAD        THIS WILL CAUSE SQUARE ROOT TO BE TAKEN
 1099            TS     T5ADR           ON THE NEXT T5RUPT.
 1100            EXTEND
 1101            READ   5
 1102            TS     CH5TEMP
 1103   JETSON   CAE    JTSONNOW        TURN ON JETS AND END RUPT
 1104            TC     WRITEQR
 1105  2         TCF    RESUME
 1106   AFTRUTAD GENADR DORUTDUM
 1107   NOROOT   CAF    MAXRATE
 1108            AD     .6DEG/SC        MAXRATE+DEL SCALED AT PI/16 RAD/SEC.
 1109            EXTEND
 1110            MP     1/NETACC        (MAXRATE+DEL)/NETACC
 1111            DDOUBL                 SCALED AT 2(+4) SECONDS
 1112   TJSUM    AD     TERMA
 1113   TJETSCAL DOUBLE                 NOW SCALED AT 2(+3) SECONDS.
 1114            EXTEND
 1115            MP     25/32QR         SCALED TO 16/25 2(+4) SECONDS AS TIME6.
 1116  2         TCF    NORMRETN
 1117   MAYNOJET EXTEND                 RE-INITIALIZE C(INVACCSQ,D.P.)
 1118            DCA    TERMB           SINCE CLOBBERED ABOVE.
 1119  2         DXCH   INVACCSQ
 1120            CAF    -TJMIN16
 1121            AD     TERMA           TERMA-TJMIN SCALED AT 2(+4) SECONDS.
 1122            EXTEND
 1123            SQUARE                 SCALED AT 2(+8) SECONDS.
 1124  2         DAS    INVACCSQ        FORM D.P. SUM.
 1125            CAE    INVACCSQ        CHECK HIGH ORDER PART IF NON-ZERO.
 1126            EXTEND
 1127            BZF    ONLYTST2
 1128  2         TCF    ONLYTST2 +1
 1129   ONLYTST2 CAE    INVACCSQ +1     USE LOW ORDER PART, SINCE HIGH PART 0.
 1130            EXTEND
 1131            BZMF   PREROOT
 1132            TCF    DOTJMIN         FIRE FOR MINIMUM IMPULSE.
 11325  CHKSUM17 OCT    37777
P1133  2SUBROUTINE NAME: DAPSQRT        MOD. NO. 0  DATE: DECEMBER 28, 1966
R1134  2AUTHOR: JONATHAN D. ADDELSTON (ADAMS ASSOCIATES)
R1135   DAPSQRT IS A SUBROUTINE WHICH PERFORMS THE NECESSARY AND APPROPRIATE INT
 1136  9ERFACE FUNCTIONS BETWEEN THE LM DAP AND
R1137   THE PRESENT SPROOT SUBROUTINE IN MASTER.  DAPSQRT EXPECTS A DOUBLE PRECI
 1138  9SION ARGUMENT IN C(A,L) AND WILL SHIFT
R1139   THAT QUANTITY SIX OR FOUR BITS TO THE LEFT TO FORM A MORE ACCURATE SINGL
 1140  9E PRECISION ARGUMENT FOR SPROOT (AND
R1141   THEN SHIFT THE SINGLE PRECISION RESULT OF SPROOT THREE OR TWO BITS TO TH
 1142  9E RIGHT IN ORDER TO MAINTAIN SCALING
R1143   CONSISTENCY).  DAPSQRT ALSO PERFORMS THE HERETOFORE NEGLECTED FUNCTION O
 1144  9F SAVING AND RESTORING THE CONTENTS OF
R1145  2THE SR (SHIFT-RIGHT) REGISTER WHICH MUST BE DONE BY ALL USERS OF SPROOT
 1146  9IN INTERRUPT.
R1147   NOTE: IF ORIGINAL C(A) = 0, THEN THE SQUARE ROOT SINGLE PRECISION ARGUME
 1148  9NT IS C(L), AND THE RESULT FROM SPROOT
R1149  2IS SHIFTED LEFT SEVEN BITS.
R1150  2CALLING SEQUENCE:
A1151   L        TC     IBNKCALL        CALL IS ALWAYS FROM ANOTHER BANK.
A1152   L +1     CADR   DAPSQRT         ENTER ROUTINE WITH C(A,L) = D.P. ARG.
A1153  2L +2     (RETURN)               C(A) = BEST VALUE OF SQUARE ROOT.
R1154  2ALARM/ABORT MODE: NONE.
R1155  2SUBROUTINES CALLED: SPROOT AND T6JOBCHK.
R1156  2NORMAL EXIT MODE: RETURN TO L +2.
R1157  2OUTPUT: C(A) AT RETURN TO CALLER IS THE BEST SINGLE PRECISION SQUARE ROO
 1158  9T OF THE GIVEN DOUBLE PRECISION ARGUMENT
R1159  2ERASABLE INITIALIZATION REQUIRED: DOUBLE PRECISION ARGUMENT AS C(A,L).
R1160  4DEBRIS: ITEMP4, ITEMP5, ITEMP6 AND A,L,Q.
 1161            BANK   26
 1162  2         EBANK= FUNCTION
A1163   SRTEMP   ERASE                  SCRATCH CELLS FOR DAPSQRT
A1164   SQRTTEMP ERASE                  SCRATCH CELLS FOR DAPSQRT
A1165  2SQRTTEMQ ERASE                  SCRATCH CELLS FOR DAPSQRT
 1166  2DAPSQRT  TS     SQRTTEMP        SAVE C(A) PART OF DOUBLE PRECISION ARG.
 1167            EXTEND                 SAVE C(Q) FOR RETURN TO LM DAP CALLER.
 1168  2         QXCH   SQRTTEMQ
 1169            CAE    SR              SAVE C(SR) SINCE ALL INTERRUPT PROGRAMS
 1170            DOUBLE                 USING SPROOT MUST DO SO.
 1171  2         TS     SRTEMP
 1172  2         TC     T6JOBCHK        CHECK TIME6-RUPT BEFORE SPROOT.
 1173            CAE    SQRTTEMP        RESTORE D.P. ARG. TO C(A,L), AND THEN
 1174            EXTEND                 CHECK FOR C(A) = +0.  IF SO, TAKE THE
 1175  2         BZF    DAPSQRT3        SQUARE ROOT OF C(L) AND POST-SHIFT.
 1176            MASK   DAPHIGH7        IF THIS MASK PRODUCES A WORD OF ZEROS,
 1177            EXTEND                 C(D.P.ARG) WILL BE SHIFTED LEFT 6 BITS
 1178  2         BZF    SQRTSL6         WITHOUT OVERFLOWING BEFORE USING SPROOT.
 1179            MASK   DAPHIGH5        IF THIS MASK PRODUCES A WORD OF ZEROS,
 1180            EXTEND                 C(D.P.ARG) WILL BE SHIFTED LEFT 4 BITS
 1181  2         BZF    SQRTSL4         WITHOUT OVERFLOWING BEFORE USING SPROOT.
 1182  2         CAE    SQRTTEMP        GET UNSHIFTED S.P. ARGUMENT FOR SPROOT.
 1183  2         TC     SPROOT          CALL SUBROUTINE IN FIXED-FIXED.
 1184   DAPSQRT1 LXCH   SRTEMP          RESTORE C(SR).
 1185  2         LXCH   SR
 1186  2         TC     SQRTTEMQ        RETURN WITH SQUARE ROOT AS C(A).
 1187   SQRTSL6  CAF    BIT9            SET UP TO SHIFT D.P. ARG. LEFT 6 BITS
 1188            TS     Q
 1189            CAF    BIT12           AND TO SHIFT SPROOT ANS. RIGHT 3 BITS.
 1190  2         TCF    DAPSQRT2
 1191   SQRTSL4  CAF    BIT11           SET UP TO SHIFT D.P. ARG. LEFT 4 BITS
 1192            TS     Q
 1193            CAF    BIT13           AND TO SHIFT SPROOT ANS. RIGHT 2 BITS.
 1194  2DAPSQRT2 XCH    SQRTTEMP        (RECONSTRUCT D.P. ARGUMENT.)
 1195            EXTEND                 VARIABLE LEFT SHIFT (4 OR 6 BITS).
 1196            DV     Q               (MAC HAS DIFFEQ, LM DAP HAS DV Q - PUN?)
 1197   DAPROOT  TC     SPROOT          CALL SUBROUTINE IN FIXED-FIXED
 1198            EXTEND                 VARIABLE RIGHT SHIFT (2 OR 3 BITS).
 1199  2         MP     SQRTTEMP
 1200  2         TCF    DAPSQRT1        RETURN SEQUENCE.
 1201   DAPSQRT3 CAF    BIT8            SET UP TO SHIFT SPROOT ANS. RIGHT 7 BITS
 1202            TS     SQRTTEMP
 1203            CAE    L               USE C(L) AS SPROOT ARGUMENT.
 1204  2         TCF    DAPROOT
 1205   DAPHIGH7 OCTAL  77400
 1206   DAPHIGH5 OCTAL  76000
L      2Q,R-AXES JET SELECT AND FAILURE CONTROL LOGIC
R0001  2PROGRAM: POLTYPEP               MOD. NO. 1  DATE: NOVEMBER 14, 1966
R0002  2AUTHOR: JONATHAN D. ADDELSTON (ADAMS ASSOCIATES)
R0003   THIS PROGRAM IS DESIGNED TO SELECT A POLICY OF JETS (OF WHICH NONE HAVE
 0004  9FAILED) WHICH CAN BE USED TO CREATE THE
R0005   ROTATION AND/OR TRANSLATION WHICH IS REQUIRED BY THE LM DAP.  FROM THE I
 0006  9NDEX "NETACNDX" (WHICH MUST BE SET WHEN
R0007   ROTATION IS REQUESTED), THE OPTIMAL POLICY IS SELECTED.  WHEN FAILURES A
 0008  9RE DETECTED WITHIN A CHOSEN POLICY, AN
R0009   ALTERNATE POLICY IS SELECTED.  IF ALL ALTERNATE POLICIES ARE EXHAUSTED W
 0010  9ITHOUT FINDING AN UNFAILED POLICY, A JET
R0011   FAILURE ABORT IS INITIATED.  WHEN THE ROUTINE IS USE FOR TRANSLATION JET
 0012  9S ONLY, "TRANONLY" MUST BE SET POSITIVE
R0013  2(NONZERO) AND THE ENTRY POINT IS "+/-XTRAN".
R0014  2CALLING SEQUENCES:
R0015  21. FOR ROTATION (WITH POSSIBLE +X TRANSLATION):
A0016            CAF    RETURN          (GENADR OF RETURN)
A0017            TS     TJETADR
A0018            ...
A0019            CAF    INDEXVAL        INDICATE ROT. AXIS, DIRECTION,
A0020            TS     NETACNDX        AND NUMBER OF JETS.
A0021            EXTEND
A0022            DCA    POLADR          TRANSFER ACROSS BANKS TO POLTYPEP.
A0023  2         DTCB
R0024  22. FOR TRANSLATION ONLY:
A0025            CAF    POSMAX/NEGMAX   INDICATE -X TRANSLATION BY POSMAX.
A0026            TS     ANYTRANS                 +X TRANSLATION BY NEGMAX.
A0027            CAF    ZERO            ZERO EXTRANEOUS FLAGS FOR ROUTINE
A0028            TS     TRANSNOW        ...
A0029            TS     TRANSAVE        ...
A0030            EXTEND
A0031            DCA    JTPOLADR        TRANSFER ACROSS BANKS TO +/-XTRAN
A0032            TS     TRANONLY        (AND SET TRANONLY POSITIVE NONZERO.)
A0033  2         DTCB
R0034  2SUBROUTINES CALLED: NONE.
R0035   NORMAL RETURN  1. FOR ROTATION, TO ADDRESS IN BANK 17 SPECIFIED BY C(TJE
 0036  9TADR).
R0037  2               2. FOR TRANSLATION, RESUME.
R0038  2ALARM/ABORT MODE: WHENEVER THERE IS NO USABLE JET POLICY FOUND, TRANSFER
 0039  9 TO JETABORT.
R0040  2INPUT: NETACNDX,CH5MASK,1/NETACS.
R0041  2OUTPUT: JETS ON IN CHANNEL 5, JTSATCHG.
R0042  2DEBRIS: A,L,ALLL ITEMPS,ALL RUPTREGS.
R0043  2INITIALIZATION AT ROTATION REQUEST ENTRY POINT:
 0044            BANK   20
 0045  2         EBANK= JTSONNOW
 0046   POLTYPEP CAF    ZERO            SET VOLATILE SWITCHES TO INDICATE
 0047            TS     TRANONLY        1) TRANSLATION ENTRY NOT MADE (ROTATION)
 0048            TS     ANYTRANS        2) NO TRANSLATION KNOWN YET.
 0049            TS     TRANSNOW        3) NO TRANS. DURING ROT. KNOWN YET.
 0050  2         TS     TRANSAVE        4) NO TRANSLATION POLICY SELECTED YET.
R0051  2TEST FOR SENSE OF ROTATION JETS.  (MAKE TRANSLATION REQUEST FROM THE AST
 0052  9RONAUT'S STICK OVERRIDE INTERNAL ULLAGE)
 0053            CAF    BIT7            ASTRONAUT +X TRANSLATION REQUEST TEST.
 0054            EXTEND
 0055            RAND   31
 0056            EXTEND
 0057  2         BZF    +XTRANSL
 0058            CAF    BIT8            ASTRONAUT -X TRANSLATION REQUEST TEST.
 0059            EXTEND
 0060            RAND   31
 0061            EXTEND
 0062  2         BZF    -XSENSE
R0063  2CHECK FOR ULLAGE OR ASCENT BURN:
 0064   ULL/+X   CAF    BITS6&8         CHECK FOR ULLAGE OR ASCENT BURN: (EITHER
 0065            MASK   DAPBOOLS        BIT REQUIRES +X SENSE FOR ROTATION JETS)
 0066            CCS    A               BIT6: ULLAGE BIT  (+X TRANSLATION ASKED)
 0067  2         TCF    +XSELECT        BIT8: ASCENT BURN (NO TRANSLATION ASKED)
R0068  2LM IS EITHER IN POWERED DESCENT OR IN COASTING FLIGHT  SELECT JETS WHICH
 0069  9 ARE PAIRED IN FORCE COUPLES.
 0070            INDEX  NETACNDX        PICK UP FORCE-COUPLE TABLE INDEX AND THE
 0071  2         CAF    NORMLPOL        NUMBER OF POLICIES TO CHECK (PACKED).
R0072  2UNPACK THE RELATIVE ADDRESS OF THE BEST POLICY AND THE NUMBER OF ALTERNA
 0073  9TE POLICIES TO CHECK WITHIN THE LOOP.
R0074  2THIS BITS ARE PACKED THUSLY  0XYYY, WHERE X BECOMES C(LOOPCTR) AND YYY B
 0075  9ECOMES C(POLRELOC). BITS8,9 ARE ZERO.
 0076   NUMBALTS TS     L               SAVE FULL WORD TO GET BITS 10-12, LATER.
 0077            MASK   LOW7            MASK BITS GIVING INDEX VALUE FOR BEST
 0078  2         TS     POLRELOC        POLICY (W.R.T. TOP OF POLTABLE).
 0079            CAF    BIT6            EXTRACT BITS 10-12 OF ORIGINAL WORD:
 0080            EXTEND                 THIS VALUE IS USED AS A LOOP COUNTER TO
 0081            MP     L               TEST ALL THE FEASIBLE JET POLICIES FOR
 0082   BESTPOLS TS     LOOPCTR         THE GIVEN REQUEST.  (ALSO TOP OF LOOP.)
P0083  2LOOP TP SET UP "TRANSNOW" AND REJECT ALL FAILED POLICIES:
 0084            INDEX  POLRELOC        PICK UP NEXT POLICY TO CHECK FOR FAILURE
 0085            CAF    POLTABLE        (MUST DO A "CAF" THEN "CCS" FOR RANGE.)
 0086            CCS    A               IF POLICY TABLE ENTRY IS NEGATIVE, THEN
 0087   CHKFAILS TS     THISPOLY        A FLAG IS SET TO DO SOME TRANSLATION
 0088            TCF     +3             WITH THE ROTATION POLICY SELECTED, IF
 0089            TS     TRANSNOW        REQUESTED. POLTABLE VALUES ARE CCS-ABLE.
 0090  2         TCF    CHKFAILS        TRANSNOW (ONCE ON) STAYS ON FOR THIS CSP
 0091            MASK   CH5MASK         COMPARE THISPOLY WITH BITS OF FAILED JET
 0092            CCS    A               IF C(A) = +0, THEN THERE ARE NO FAILURES
 0093            TCF     +2             IN THIS POLICY AND THE LM DAP USES IT.
 0094            TCF    POLFOUND        IF C(A) IS NOT +0, IT IS POSITIVE AND
 0095            EXTEND                 FIRST THE RELATIVE ADDRESS INDEXER IS
 0096            DIM    POLRELOC        DECREMENTED BY ONE FOR THE NEXT POLICY,
 0097            CCS    LOOPCTR         THEN A CHECK IS MADE FOR ANY MORE USABLE
 0098  2         TCF    BESTPOLS        POLICIES, IF NO MORE, C(LOOPCTR) = +0.
R0099  2***** JET FAILURE ABORT SEQUENCE. *****
 0100   ABORTJET CAF    ZERO            TURN OFF ALL JETS.
 0101            EXTEND
 0102            WRITE  5
 0103            EXTEND
 0104  2         WRITE  6
 0105            CAF    PRIO37          ABORT PRIORITY.
 0106            TC     NOVAC           CALL JETABORT THROUGH EXECUTIVE.
 0107            EBANK= JTSONNOW
 0108            2CADR  JETABORT
 0109            CS     GODAPGO         SET GODAPGO TO TURN LM DAP OFF WHEN THIS
 0110            MASK   DAPBOOLS        BIT IS CHECKED IN THE NEXT P-AXIS RUPT.
 0111  2         TS     DAPBOOLS
 0112  2         TCF    RESUME
R01125  ***** END JET FAILURE ABORT SEQUENCE. *****
P0113  2ENTER HERE AFTER ULLAGE/ASCENT DETECTION:
 0114   +XSELECT CS     DAPBOOLS        CHECK FOR ULLAGE  BIT6/DAPBOOLS =1.
 0115            MASK   ULLAGER         IF THE ULLAGE BIT IS 0, THEN THE LM IS
 0116            CCS    A               IN AN ASCENT BURN AND NO +X TRANSLATION
 0117  2         TCF    +XSENSE         HAS BEEN REQUESTED (SEE ULL/+X).
R0118  2ENTER HERE FOR +X TRANSLATION:
 0119   +XTRANSL CAF    NEGMAX          INDICATE +X TRANSLATION FOR CCS LATER.
 0120  2         TS     ANYTRANS        (ANYTRANS IS A VOLATILE SWITCH.)
R0121  2ENTER HERE FOR +X SENSE JETS:
 0122   +XSENSE  INDEX  NETACNDX        PICK UP +X SENSE TABLE INDEX AND THE
 0123  2         CAF    +SENSTAB        NUMBER OF ALTERNATE POLICIES TO CHECK.
 0124  2         TCF    NUMBALTS        GO TO BEGIN FAILURE CHECKING (ROTATION).
R0125  2ENTER HERE FOR -X TRANSLATION:
 0126   -XSENSE  CAF    POSMAX          INDICATE -X TRANSLATION FOR CCS LATER.
 0127  2         TS     ANYTRANS        (ANYTRANS IS A VOLATILE SWITCH.)
 0128            INDEX  NETACNDX        PICK UP -X SENSE TABLE INDEX AND THE
 0129  2         CAF    -SENSTAB        NUMBER OF ALTERNATE POLICIES TO CHECK.
 0130  2         TCF    NUMBALTS        GO TO BEGIN FAILURE CHECKING (ROTATION).
R0131  2ENTER HERE AFTER A ROTATION POLICY HAS BEEN FOUND:
 0132   POLFOUND CAE    THISPOLY        GET POSITIVE-VALUED POLICY TABLE ENTRY
 0133            EXTEND                 WHICH IS INSURED AGAINST FAILURE.
 0134            MP     BIT4            UNPACK BITS 12-14 OF TABLE ENTRY GET THE
 0135            INDEX  A               NUMBER OF Q-AXIS JETS FROM TORQUE TABLE.
 0136            CAF    TORKTABL        SAVE FOR TORQUE VECTOR RECONSTRUCTION
 0137  2         TS     NO.QJETS        AND FOR DETERMINING 1/NETACC.
 0138            CAE    L               UNPACK BITS 9-11 OF TABLE ENTRY WHICH
 0139            EXTEND                 ARE NOW BITS 12-14 OF THE L-REGISTER.
 0140            MP     BIT4            (BIT15 OF L IS 0 DUE TO SIGN AGREEMENT.)
 0141            INDEX  A               GET NUMBER OF R-AXIS JETS FROM TORQUE
 0142            CAF    TORKTABL        TABLE.  SAVE FOR TORQUE VECTOR RECON-
 0143  2         TS     NO.RJETS        STRUCTION AND FOR GETTING 1/NETACC.
R0144  2PICK OUT ROTATION JETS FROM TABLE ENTRY:
 0145            CAE    THISPOLY        UNPACK BITS 1-8 OF TABLE ENTRY (DONE
 0146            MASK   LOW8            MOST EASILY BY THE MASKING OPERATION).
 0147            AD     BIT15           SET SIGN TO INDICATE Q,R-AXES JETS.
 0148            TS     JTSONNOW        SET POLICY UP FOR IMMEDIATE USE.
P0149  2ENTRY POINT FOR +X TRANS. OR -X TRANS. REQUEST ALONE:
R01495 2(ALSO CONTINUATION OF TRANSLATION-WITH-ROTATION LOGIC.)
 0150   +/-XTRAN CAF    TWO             SET UP LOOP TO TEST ALL THREE POSSIBLE
 0151  2         TS     LOOPCTR         TRANSLATION POLICIES, IF 4 JETS ASKED.
 0153            CCS    ANYTRANS        TEST FOR TRANSLATION REQUESTS: -0 UNUSED
 0154            TCF    -XPOLICY        POSMAX: -X TRANSLATION.
 0155  2         TCF    LATERJET         +ZERO: NO TRANSLATION.
R0156  2ENTER HERE FOR +X TRANSLATION POLICIES:
 0157   +XPOLICY CAF    TWO             NEGMAX: +X TRANSLATION.
 0158  2         TCF     +2             SET POLRELOC FOR +X TRANS. INDEXING.
R0159  2ENTER HERE FOR -X TRANSLATION POLICIES:
 0160   -XPOLICY CAF    FIVE            SET POLRELOC FOR -X TRANS. INDEXING.
 0161  2         TS     POLRELOC        (INITIAL VALUE ALWAYS FOR 4-JET POLICY.)
R0162  2TEST FOR TRANSLATION TO BE COMBINED WITH ROTATION JETS.
 0163            CCS    TRANSNOW        TEST IF TRANSLATION WITH ROTATION IS
 0164  2         TCF    TRANCONT        REQUESTED, IF SO, OVER-RIDE 4-JET TEST.
R0165  2DETERMINE IF LM DAP IS IN 2 OR 4 JET TRANSLATION MODE:
 0166            CS     DAPBOOLS        TEST FOR 2/4-JET TRANSLATION MODE IN
 0167            MASK   ACC4OR2X        BIT4/DAPBOOLS (ASTRONAUT DSKY INPUT)
 0168            CCS    A               0: 2 JET MODE (SKIP OUT).
 0169  2         TCF    TRANCONT        1: 4 JET MODE (CONTINUE).
R0170  2TEST TRANSLATION POLICIES FOR JET FAILURES:
 0171   TRANNEXT INDEX  POLRELOC        PICK UP POLICY FOR +/-X TRANSLATION
 0172            CAF    TRANPOLY        FROM TABLE (INDEXED WITHIN REQUESTED
 0173            TS     THISPOLY        RANGE OF POLICIES); TEST FOR FAILURES
 0174            MASK   CH5MASK         IF NO FAILURES, C(A) = +0.  IF POLICY
 0175            CCS    A               CANNOT BE USED, C(A) IS POSITIVE.
 0176  2         TCF    TRANCNTD        IF FAILED, CHECK FOR STORE GOOD TRANS.
R0177  2SPECIAL TESTS ARE NEEDED FOR TRANSLATION DURING ROTATION:
 0178            CCS    TRANSNOW        TEST FOR TRANSLATION DURING ROTATION
 0179  2         TCF    TRANSTOR        IF SO, GO TEST THIS POLICY FOR USE NOW.
R0180  2TEST FOR ONLY TRANSLATION REQUEST:
 0181            CCS    TRANONLY        TEST FOR PURE TRANSLATION REQUEST
 0182  2         TCF    TRANOROT        IF SO, GIVE TRANSLATION, NO ROTATION
R0183  2SPECIAL TEST FOR GOOD 4-JET TRANSLATION:
 0184            CS     TWO             TEST IF POLICY IS USING FOUR JETS (WHICH
 0185            AD     LOOPCTR         IS EQUIVALENT TO LOOPCTR = 2).  IF 4-JET
 0186            EXTEND                 THIS POLICY MUST BE USED AS JTSATCHG.
 0187  2         BZF    TRAN4JET        OTHERWISE, MUST CHECK TRANSAVE FIRST.
R0188  2WHEN NOT 4-JET TRANSLATION, CHECK FOR SAVED POLICY:
 0189            CCS    TRANSAVE        TEST FOR SAVED POLICY; IF SAVED, USE IT.
 0190  2         TCF    TRANUSED        IF NOT SAVED YET, USE THIS POLICY.
R0191  2USE THIS POLICY (EITHER 4 JETS OR BEST 2 JET):
 0192   TRAN4JET CAE    THISPOLY        USE THIS UNFAILED POLICY AS THE TRANS-
 0193  2         TCF    LATERJET        LATION POLICY AFTER ROTATION.
R0194  2FOR TRANSLATION WITHOUT ROTATION, TURN JETS ON IMMEDIATELY AND RESUME:
 0195   TRANOROT CAE    THISPOLY        TURN ON UNFAILED Q,R-AXES JETS AS A PURE
 0196            EXTEND                 TRANSLATION POLICY WITHOUT ANY TJETLAW
 0197  2         WRITE  5               CALCULATIONS (AND NO TIME6 SETTING).
 0198  2         TCF    RESUME          END T5RUPT SINCE JETS ON FOR FULL CSP.
R0199  2TEST THIS TRANSLATION FOR USE DURING ROTATION:
 0200   TRANSTOR CAE    THISPOLY        SAVE THIS POLICY FOR LATER USE AS THE
 0201            TS     TRANSAVE        JTSATCHG POLICY UNLESS IT IS SUPERCEDED.
 0202            MASK   JTSONNOW        TEST FOR USE WITH ROTATION POLICY  MUST
 0203            CCS    A               HAVE NO JETS IN COMMON WITH JTSONNOW.
 0204  2         TCF    TRANCONT        C(A) POSITIVE MEANS POLICIES CONFLICT.
R0205  2COINCIDENT TRANSLATION FOUND, GO FIND PURE TRANSLATION POLICY (FOR USE A
 0206  9FTER ROTATION):
 0207            CAE    THISPOLY        USE BOTH ROTATION AND TRANSLATION JETS
 0208  2         ADS    JTSONNOW        AT JTSONNOW (BIT 15 IS ALREADY SET).
 0209  2         TCF    TRANSLAT        GO TO START FINDING JTSATCHG POLICY.
R0210  2STOP SEARCH IF GOOD TRANSLATION POLICY ALREADY RECORDED:
 0211   TRANCNTD CCS    TRANSAVE        TEST FOR PREVIOUSLY SAVED TRANSLATION
 0212  2         TCF    TRANUSED        POLICY, IF IT EXISTS, USE IT.
R0213  2CONTINUE FAILURE CHECKING LOOP:
 0214   TRANCONT EXTEND                 CONTINUE THE TRANSLATION-FAIL LOOP
 0215            DIM    POLRELOC        DECREMENT THE TRANSLATION POLICY INDEX
 0216            CCS    LOOPCTR         AND THEN TEST LOOPCTR FOR CONTINUATION
 0217  2         TCF    TRNRESET        OF JET FAILURE TESTING.
R0218  2IF NO TRANSLATION CAN BE FOUND FOR ROTATION POLICY, ALL IS NOT LOST, OTH
 0219  9ERWISE, START JET FAILURE ABORT:
 0220            CCS    TRANSNOW        IF FAILURES STOP TRANSLATION DURING
 0221  2         TCF    TRANSLAT        ROTATION' CONTINUE BY FINDING JTSATCHG.
 0222  2         TCF    ABORTJET        TURN OFF JETS AND ABORT.
R0223  2BEGIN SEARCH FOR JTSATCHG POLICY:
 0224   TRANSLAT CAF    ZERO            SET VOLATILE FLAG TO INDICATE SEARCH IS
 0225  2         TS     TRANSNOW        FOR JTSATCHG, AFTER TRANSNOW DONE.
 0226  2         TCF    +/-XTRAN        GO TO RE-INITIALIZE LOOP FROM SCRATCH.
R0227  2"TOP OF LOOP" (FOR ALL BUT FIRST PASS):
 0228   TRNRESET TS     LOOPCTR         RESET LOOP COUNTER TO CONTINUE LOOPING
 0229  2         TCF    TRANNEXT        GO TO CONTINUATION OF LOOP (AT THE TOP).
R0230  2RECONSTRUCT FLAGGED JET POLICY:
 0231   TRANUSED AD     ONE             RESET POLICY THAT WAS POSITIVE AND CCSED
 0232   LATERJET AD     BIT15           SET BIT 15 TO INDICATE Q,R-AXES POLICY.
 0233  2         TS     JTSATCHG        USE FOR JTSATCHG TRANSLATION POLICY.
R0234  2TRANSFORM INITIAL POINTER TO 2-JET POLICY:
 0235            CAF    ONE             FROM THE INDEX VALUE INDICATING NUMBER
 0236            MASK   NETACNDX        OF JETS, DIRECTION, AND AXIS' COMPUTE
 0237            CCS    A               THE INDEX VALUE FOR 2 JETS ABOUT THAT
 0238            TCF     +3             AXIS (IN THAT DIRECTION).  CONTRIVANCE
 0239            EXTEND                 MAKES THIS EQUIVALENT TO  IF BIT1 IS ON,
 0240  2         AUG    NETACNDX        (INDEP. OF SIGN)  AUGMENT  NETACNDX.
R0241  2TRANSFORM POINTER TO CORRESPOND TO JETS ACTUALLY CHOSEN.
 0242            CCS    NO.QJETS        TRANSFORM INDEX TO APPROPRIATE VALUE FOR
 0243            TCF     +2             THE NUMBER OF JETS SELECTED.
 0244            TCF    ALLRJETS        IF NO.QJETS ZERO, NO.RJETS IS NONZERO.
 0245            CCS    A               IF NO.QJETS +/-1, NO.RJETS IS +/-1 (BY
 0246            TCF     +2             DEFINITION)  SO SUBTRACT ONE FROM INDEX.
 0247            TCF    SMALAXIS        GO TRANSFORM FOR 1 U,V-AXIS JET.
 0248            CCS    A               IF STILL NONZERO ON THIRD CCS, NO.QJETS
 0249            INCR   NETACNDX        MUST HAVE BEEN +/-4, SO ADD ONE TO THE
 0250  2         TCF    NETACGET        INDEX, OTHERWISE, NO CHANGE (2 JETS).
 0251   SMALAXIS EXTEND                 DECREMENT INDEX FOR 1 JET AROUND EITHER
 0252            DIM    NETACNDX        THE U- OR V- AXIS.
 0253  2         TCF    NETACGET        (GO PICK UP INVERSE OF NET ACCELERATION)
 0254   ALLRJETS CCS    NO.RJETS        WHEN NO.QJETS ZERO, TEST NO.RJETS WHICH
 0255            MASK   TWO             IS ONLY +/-2 OR +/-4.  NOTE LAST THREE
 0256            TCF     +2             BITS OF THESE AFTER CCS  001 OR 011.
 0257            MASK   TWO             ONLY BIT2 DISTINGUISHES BETWEEN THE TWO.
 0258            EXTEND                 IF BIT2 = 0, THEN TWO JETS, NO CHANGE.
 0259            BZF     +2             IF BIT2 = 1, THEN FOUR JETS, SO THE
 0260  2         INCR   NETACNDX        INDEX MUST BE INCREMENTED.
R0261  2PICK UP AND SAVE 1/NETACC FOR TJETLAW:
 0262   NETACGET INDEX  NETACNDX        USE THE INDEX VALUE FOR THE EXACT JETS
 0263            CAE    1/NETACS        USED, PICK UP THE APPROPRIATE 1/NETACC
 0264  2         TS     1/NETACC        AND SAVE FOR USE BY THE TJETLAW.
R0265  2RETURN TO APPROPRIATE TJETLAW:
 0266            CAF    BBANKSET        ALWAYS RETURN TO THE FIXED BANK OF THE
 0267            TS     L               Q,R-AXES REACTION CONTROL SYSTEM LM DAP.
 0268            CAE    TJETADR         USE VARIABLE GENADR WITH WHICH TO
 0269  2         DTCB                   CROSS BANKS TO RETURN.
 0270            EBANK= OMEGAQ
 0271  2BBANKSET BBCON  QRAXIS          BBCON OF Q,R-AXES RCS LM DAP.
 0272   BITS6&8  OCTAL  00240           ULLAGE AND ASCENT BURN DAPBOOLS BITS.
P0273  2TABLE OF Q,R-JET NUMBERS AND DIRECTIONS:
 0274   TORKTABL DEC    0               FROM THE 3 PACKED BITS IN A WORD FROM
 0275            DEC    +1              POLTABLE, THE POLTYPEP PROGRAM SELECTS
 0276            DEC    -1              THE APPROPRIATE NO.QJETS OR NO.RJETS
 0277            DEC    +2              AS FOLLOWS:
 0278            DEC    -2              000: NO JETS
 0279            DEC    +4              001: +1 JET   011: +2 JETS  101: +4 JETS
 0280  4         DEC    -4              010: -1 JET   100: -2 JETS  110: -4 JETS
R0281   RELATIVE ADDRESSES AND NUMBER OF ALTERNATE POLICIES ARE LISTED IN THE FO
 0282  9LLOWING TABLES.  EACH ENTRY HAS THE FORM
R0283            0XYYY  WHERE   X INDICATES THE NUMBER OF ALTERNATE POLICIES AND
R0284  2                      YYY IS THE RELATIVE ADDRESS IN POLTABLE OF THE "OP
 0285  9TIMAL" POLICY.
R0286  2FORCE-COUPLE POLICIES:
 0287            OCTAL  03003           +2 Q-AXIS JETS
 0288            OCTAL  04004           +4 Q-AXIS JETS
 0289            OCTAL  03010           -2 Q-AXIS JETS
 0290            OCTAL  04011           -4 Q-AXIS JETS
 0291            OCTAL  03015           +2 R-AXIS JETS
 0292            OCTAL  04016           +4 R-AXIS JETS
 0293            OCTAL  03022           -2 R-AXIS JETS
 0294            OCTAL  04023           -4 R-AXIS JETS
 0295   NORMLPOL OCTAL  02026           +2 U-AXIS JETS
 0296            OCTAL  02026           +2 U-AXIS JETS
 0297            OCTAL  02031           -2 U-AXIS JETS
 0298            OCTAL  02031           -2 U-AXIS JETS
 0299            OCTAL  02034           +2 V-AXIS JETS
 0300            OCTAL  02034           +2 V-AXIS JETS
 0301            OCTAL  02037           -2 V-AXIS JETS
 0302  2         OCTAL  02037           -2 V-AXIS JETS
P0303  2+X SENSE POLICIES:
 0304            OCTAL  03043           +2 Q-AXIS JETS
 0305            OCTAL  04044           +4 Q-AXIS JETS
 0306            OCTAL  03050           -2 Q-AXIS JETS
 0307            OCTAL  04051           -4 Q-AXIS JETS
 0308            OCTAL  03055           +2 R-AXIS JETS
 0309            OCTAL  04056           +4 R-AXIS JETS
 0310            OCTAL  03062           -2 R-AXIS JETS
 0311            OCTAL  04063           -4 R-AXIS JETS
 0312   +SENSTAB OCTAL  01025           +1 U-AXIS JETS
 0313            OCTAL  02026           +2 U-AXIS JETS
 0314            OCTAL  01030           -1 U-AXIS JETS
 0315            OCTAL  02031           -2 U-AXIS JETS
 0316            OCTAL  01033           +1 V-AXIS JETS
 0317            OCTAL  02034           +2 V-AXIS JETS
 0318            OCTAL  01036           -1 V-AXIS JETS
 0319  2         OCTAL  02037           -2 V-AXIS JETS
R0320  2-X SENSE POLICIES:
 0321            OCTAL  03067           +2 Q-AXIS JETS
 0322            OCTAL  04070           +4 Q-AXIS JETS
 0323            OCTAL  03074           -2 Q-AXIS JETS
 0324            OCTAL  04075           -4 Q-AXIS JETS
 0325            OCTAL  03101           +2 R-AXIS JETS
 0326            OCTAL  04102           +4 R-AXIS JETS
 0327            OCTAL  03106           -2 R-AXIS JETS
 0328            OCTAL  04107           -4 R-AXIS JETS
 0329   -SENSTAB OCTAL  01111           +1 U-AXIS JETS
 0330            OCTAL  02112           +2 U-AXIS JETS
 0331            OCTAL  01114           -1 U-AXIS JETS
 0332            OCTAL  02115           -2 U-AXIS JETS
 0333            OCTAL  01117           +1 V-AXIS JETS
 0334            OCTAL  02120           +2 V-AXIS JETS
 0335            OCTAL  01122           -1 V-AXIS JETS
 0336  2         OCTAL  02123           -2 V AXIS JETS
P0337  2X-AXIS TRANSLATION POLICIES:
 0338   TRANPOLY OCTAL  +00042           2 10       * +X TRANSLATION JETS      0
 0339            OCTAL  +00210           6 14       *                          1
 0340  2         OCTAL  +00252           2  6 10 14 *                          2
 0341            OCTAL  +00104           3 13       * -X TRANSLATION JETS      3
 0342            OCTAL  +00021           1  9       *                          4
 0343            OCTAL  +00125           1  5  9 13 *                          5
P0344  2ROTATION JET POLICIES:
R0345  2FORCE COUPLE POLICIES:
 0346   POLTABLE OCTAL  +14025           5  9       * +Q-AXIS FORCE COUPLES    0
 0347            OCTAL  +14203           2 14       *                          1
 0348            OCTAL  +14221           9 14       *                          2
 0349            OCTAL  +14007           2  5       *                          3
 0350  2         OCTAL  +24227           2  5  9 14 *                          4
 0351            OCTAL  +20051           6 10       * -Q-AXIS FORCE-COUPLES    5
 0352            OCTAL  +20102           1 13       *                          6
 0353            OCTAL  +20141          10 13       *                          7
 0354            OCTAL  +20012           1  6       *                         10
 0355  2         OCTAL  +30152           1  6 10 13 *                         11
 0356            OCTAL  +01641          10 14       * +R-AXIS FORCE-COUPLES   12
 0357            OCTAL  +01406           1  5       *                         13
 0358            OCTAL  +01445           5 10       *                         14
 0359            OCTAL  +01602           1 14       *                         15
 0360  2         OCTAL  +02646           1  5 10 14 *                         16
 0361            OCTAL  +02121           9 13       * -R-AXIS FORCE-COUPLES   17
 0362            OCTAL  +02013           2  6       *                         20
 0363            OCTAL  +02103           2 13       *                         21
 0364            OCTAL  +02031           6  9       *                         22
 0365  2         OCTAL  +03133           2  6  9 13 *                         23
R0366  2FORCE COUPLE AND +X SENSE POLICIES:
 0367            OCTAL  -04405           5          * +U-AXIS FORCE-COUPLES   24
 0368            OCTAL  -04601          14          *     AND +X SENSE        25
 0369  2         OCTAL  -15605           5 14       *                         26
 0370            OCTAL  -11101          13          * -U-AXIS FORCE-COUPLES   27
 0371            OCTAL  -11011           6          *     AND +X SENSE        30
 0372  2         OCTAL  -22111           6 13       *                         31
 0373            OCTAL  -10402           1          * +V-AXIS FORCE-COUPLES   32
 0374            OCTAL  -10441          10          *     AND +X SENSE        33
 0375  2         OCTAL  -21442           1 10       *                         34
 0376            OCTAL  -05021           9          * -V-AXIS FORCE-COUPLES   35
 0377            OCTAL  -05003           2          *     AND +X SENSE        36
 0378  2         OCTAL  -16023           2  9       *                         37
P0379  2+X SENSE POLICIES:
 0380            OCTAL  +14025           5  9       * +Q-AXIS +X SENSE JETS   40
 0381            OCTAL  +14221           9 14       *                         41
 0382            OCTAL  +14007           2  5       *                         42
 0383            OCTAL  +14203           2 14       *                         43
 0384  2         OCTAL  +24227           2  5  9 14 *                         44
 0385            OCTAL  +20102           1 13       * -Q-AXIS +X SENSE JETS   45
 0386            OCTAL  +20141          10 13       *                         46
 0387            OCTAL  +20012           1  6       *                         47
 0388            OCTAL  +20051           6 10       *                         50
 0389  2         OCTAL  +30152           1  6 10 13 *                         51
 0390            OCTAL  +01406           1  5       * +R-AXIS +X SENSE JETS   52
 0391            OCTAL  +01445           5 10       *                         53
 0392            OCTAL  +01602           1 14       *                         54
 0393            OCTAL  +01641          10 14       *                         55
 0394  2         OCTAL  +02646           1  5 10 14 *                         56
 0395            OCTAL  +02121           9 13       * -R-AXIS +X SENSE JETS   57
 0396            OCTAL  +02103           2 13       *                         60
 0397            OCTAL  +02031           6  9       *                         61
 0398            OCTAL  +02013           2  6       *                         62
 0399  2         OCTAL  +03133           2  6  9 13 *                         63
P0400  2-X SENSE POLICIES:
 0401            OCTAL  +14203           2 14       * +Q-AXIS -X SENSE JETS   64
 0402            OCTAL  +14221           9 14       *                         65
 0403            OCTAL  +14007           2  5       *                         66
 0404            OCTAL  +14025           5  9       *                         67
 0405  2         OCTAL  +24227           2  5  9 14 *                         70
 0406            OCTAL  +20051           6 10       * -Q-AXIS -X SENSE JETS   71
 0407            OCTAL  +20141          10 13       *                         72
 0408            OCTAL  +20012           1  6       *                         73
 0409            OCTAL  +20102           1 13       *                         74
 0410  2         OCTAL  +30152           1  6 10 13 *                         75
 0411            OCTAL  +01641          10 14       * +R-AXIS -X SENSE JETS   76
 0412            OCTAL  +01445           5 10       *                         77
 0413            OCTAL  +01602           1 14       *                        100
 0414            OCTAL  +01406           1  5       *                        101
 0415  2         OCTAL  +02646           1  5 10 14 *                        102
 0416            OCTAL  +02013           2  6       * -R-AXIS -X SENSE JETS  103
 0417            OCTAL  +02103           2 13       *                        104
 0418            OCTAL  +02031           6  9       *                        105
 0419            OCTAL  +02121           9 13       *                        106
 0420  2         OCTAL  +03133           2  6  9 13 *                        107
 0421            OCTAL  -04601          14          * +U-AXIS -X SENSE JETS  110
 0422            OCTAL  -04405           5          *                        111
 0423  2         OCTAL  -15605           5 14       *                        112
 0424            OCTAL  -11011           6          * -U-AXIS -X SENSE JETS  113
 0425            OCTAL  -11101          13          *                        114
 0426  2         OCTAL  -22111           6 13       *                        115
 0427            OCTAL  -10441          10          * +V-AXIS -X SENSE JETS  116
 0428            OCTAL  -10402           1          *                        117
 0429  2         OCTAL  -21442           1 10       *                        120
 0430            OCTAL  -05003           2          * -V-AXIS -X SENSE JETS  121
 0431            OCTAL  -05021           9          *                        122
 0432  2         OCTAL  -16023           2  9       *                        123
L      2RCS FAILURE MONITOR
R0005  2PROGRAM DESCRIPTION                                     DATE: 7 JAN 67
R0010  2         AUTHOR:  J S MILLER    (MIT INSTRUMENTATION LAB)
R0015            THIS ROUTINE IS ATTACHED TO T4RUPT, AND IS ENTERED EVERY 960 MS
 0020  9.  ITS FUNCTION IS TO EXAMINE THE STATE
R0025   OF THE LOW 8 BITS OF CHAN 32 TO SEE IF RCS-JET FAILURE BITS HAVE APPEARE
 0030  9D OR DISAPPEARED.  WHEN A STATE CHANGE
R0035   IS DETECTED WHICH PERSISTS FOR 2 SAMPLES (TO FILTER OUT NOISY SIGNALS),
 0040  9AN LMP COMMAND IS SENT (BUT AT MOST ONE
R0045   SUCH COMMAND PER SAMPLE) TO ISOLATE THE APPROPRIATE JET PAIR IF THE FAIL
 0050  9URE SIGNAL HAS JUST APPEARED.  IF, ON
R0051   THE OTHER HAND, THE DISAPPEARANCE OF A FAIL-BIT IS DETECTED, THE EVENT I
 0052  9S PRESUMED TO BE THE RESULT OF THE
R0053   GROUND HAVING SENT AN LMP COMMAND TO OPEN THE ISOLATION VALVE AND NO SUB
 0054  9SEQUENT FAILURE HAVING BEEN DETECTED BY
R0055   THE DETECTION CIRCUITRY.  IN EITHER CASE, THIS FAILURE-MONITOR PROGRAM R
 0056  9ESPONDS BY UPDATING ITS RECORD OF THE
R0057   STATE OF THE ISOLATION VALVES, AND ALSO THE PAIR OF WORDS IT MAINTAINS F
 0058  9OR USE BY THE DAP IN THE JET-POLICY
R0059  2SELECTION LOGIC.
R0060            A FEW WORDS ABOUT LMP-RESET COMMANDS:  IN THE CYCLE IN WHICH A
 0061  9VALVE-CLOSURE COMMAND IS ISSUED, THE
R0062   CORRESPONDING RESET COMMAND IS STORED IN THE REGISTER "JETRESET".  THIS
 0063  9REGISTER IS EXAMINED AT THE BEGINNING OF
R0064   EACH RCSMONIT CYCLE, AND IF A COMMAND IS WAITING, IT IS SENT IMMEDIATELY
 0065  9.  THIS CAUSES RESET COMMANDS TO BE
R0066   ISSUED AT ABOUT 960 MS AFTER THE SET COMMANDS.  THIS TECHNIQUE ASSURES T
 0067  9HAT NO MORE THAN ONE UN-RESET SET-
R0068  2COMMAND IS ON AT ANY TIME (ALTHOUGH GROUND ACTIONS WILL BE SUPERIMPOSED
 0069  9ON THIS, HOWEVER).
R0070  2CALLING SEQUENCE:
R0075            TC     RCSMONIT        (IN INTERRUPT MODE, EVERY 960 MS.)
R0080  2EXIT:
R0085  2         TCF    RCSMONEX    (ALL PATHS EXIT VIA SUCH AN INSTRUCTION.  RC
 0090  9SMONEX IS PRESENTLY EQUATED TO RESUME.)
R0095  2ERASABLE INITIALIZATION REQUIRED:
R0105            VIA SLAP1:  JETRESET          = -0  (RESET-CMD BUFFER EMPTY)
R0110                        THISCH32          = +0  (NO FAILURES SENSED YET)
R0115                        CH5MASK, CH6MASK  = +0  (0'S IF JETS ARE OK)
R0120  2                     LMPJFAIL          = +0  (ISOLATION VALVES ALL OPEN)
R0185  2OUTPUT:
R0190            CH5MASK & CH6MASK UPDATED  (1'S WHERE JETS NOT TO BE USED)
R0195            THISCH32 SET TO INVERTED LOW 8 BITS OF CHAN 32 (HIGH 7 = 0)
R0200            LMPJFAIL UPDATED  (1'S WHEN ISOLATION COMMANDS HAVE BEEN SENT)
R0205  2         JETRESET CONTAINS RESET-COMMANDS TO BE SENT NEXT CYCLE THRU.
R0210  2DEBRIS:
R0215  2         A, L, Q, & RCSMONT1 - 4  (PRESENTLY EQUATED TO RUPTREG1 - 4)
R0220  2SUBROUTINES CALLED:
R0225  4         STORCOM  (PART OF 1LMP ROUTINE)
 0230            BANK   12
 0235  2         EBANK= STATE           NO SWITCHED ERASABLE USED.
 0240   RCSMONIT CCS    JETRESET        CHECK WHETHER A RESET IS WAITING.
 0245            TC     STORCOM -1      THERE IS A RESET TO SEND.  DO IT.
 0250            CS     ZERO
 0255  2         TS     JETRESET        DEACTIVATE THE BUFFER.
 0330   AFTRESET CS     ZERO
 0335            EXTEND                 PICK UP & INVERT INVERTED CHANNEL 32.
 0340            RXOR   32
 0345            MASK   LOW8            KEEP JET-FAIL BITS ONLY.
 0355            XCH    THISCH32
 0360  2         TS     RCSMONT2        HANG ON TO PREVIOUS CH32 STATE.
 0365            MASK   THISCH32               -   --
 0370            TS     L               FORM PTL + PTL.
 0375            CS     LMPJFAIL          ( P = PREVIOUS CH 32 STATE,
 0380            MASK   L                   T = THIS CH 32 STATE,
 0385            TS     RCSMONT3            L = LMP ISOLATION VALVE CMD STATE )
 0390            CS     RCSMONT2
 0395            TS     L
 0400            CS     THISCH32
 0405            MASK   L
 0410            MASK   LMPJFAIL
 0415  2         ADS    RCSMONT3        BITS HERE NZ IF ACTION IS DUE NOW.
 0420            EXTEND
 0425  2         BZF    RCSMONEX        QUIT NOW IF NO ACTION REQUIRED.
 0430            EXTEND
 0435            DCA    RCSMONAD
 0440  4         DTCB
 0445            EBANK= STATE           NO SWITCHED ERASABLE USED.
 0450  8RCSMONAD 2CADR  RCSMON
 0455  2         BANK   26
 0457   RCSMON   CA     RCSMONT3
 0460            EXTEND
 0465            MP     BIT7            MOVE BITS 8 - 1 OF A TO 14 - 7 OF L.
 0470  2         XCH    L               ZERO TO L IN THE PROCESS.
 0475    -3      INCR   L
 0480            DOUBLE                 BOUND TO GET AN OVERFLOW, SINCE WE
 0485            OVSK                   ASSURED INITIAL NZ IN A.
 0490  2         TCF    -3
 0495            CCS    L               PICK UP C(L)-1.
 0500            DOUBLE
 0505  2         TS     RCSMONT4        STORE FOR LATER.
 0510            INDEX  L
 0515            CA     BIT8 -1
 0520            TS     RCSMONT3        SAVE THE RELEVANT BIT (8 - 1)
 0525            MASK   LMPJFAIL
 0530            CCS    A
 0535  2         TCF    LMPBIT=1
 0540            EXTEND                 LMPBIT = 0.
 0545            INDEX  RCSMONT4
 0550            DCA    KILLPAIR        COMMAND TO ISOLATE A PAIR, & ITS RESET.
 0552            LXCH   JETRESET        PUT THE RESET COMMAND AWAY FOR NEXT TIME
 0555  2         TC     STORCOM         SEND THE ISOLATION COMMAND.
 0560            CA     RCSMONT3
 0565  2         ADS    LMPJFAIL        SET THE BIT SHOWING COMMAND SENT.
 0575            CS     CH5MASK         SET THE JET-FAIL BITS IN CH5MASK &
 0580            INDEX  RCSMONT4        CH6MASK.
 0585            MASK   FAILTABL
 0590  2         ADS    CH5MASK
 0595            CS     CH6MASK
 0600            INDEX  RCSMONT4
 0605            MASK   FAILTABL +1
 0610  2         ADS    CH6MASK
 0615  8         TCF    RCSMONEX        DONE.
 0640   LMPBIT=1 CS     RCSMONT3        THE GROUND HAS RE-ENABLED A PAIR.
 0645            MASK   LMPJFAIL        DON'T USE ADS BECAUSE OF THE -0 CASE.
 0650  2         TS     LMPJFAIL
 0660            INDEX  RCSMONT4        TURN OFF THE JET-FAIL BITS IN CH5MASK &
 0665            CS     FAILTABL        CH6MASK.
 0670            MASK   CH5MASK
 0675  2         TS     CH5MASK
 0680            INDEX  RCSMONT4
 0685            CS     FAILTABL +1
 0690            MASK   CH6MASK
 0695  2         TS     CH6MASK
 0700  4         TCF    RCSMONEX        DONE.
 0775   RCSMONEX EQUALS RESUME          CHANGE THIS TO ATTACH SOMETHING ON.
P0780            IN THE UPPER WORD OF EACH ENTRY OF THE KILLPAIR TABLE IS THE LM
 0785  9P COMMAND CODE TO ISOLATE A JET-PAIR.
R0790   BIT 15 = 1 TO ALLOW USE OF THE "STORCOM" LMP ROUTINE.  THE LOWER WORD OF
 0795  9 EACH ENTRY CONTAINS THE RESET-COMMAND
R0800  2CODE PLUS ONE, WHICH CORRESPONDS TO THE UPPER WORD.  (THE EXTRA +1 IS RE
 0805  9MOVED BY THE CCS AT RCSMONIT.)
 0825   KILLPAIR 2OCT   40250 00252     2A. JETS 10 & 11.  CMDS 168 & 169.
 0830            2OCT   40170 00172     2B. JETS  9 & 12.  CMDS 120 & 121.
 0835            2OCT   40134 00136     1A. JETS 13 & 15.  CMDS  92 &  93.
 0840            2OCT   40154 00156     1B. JETS 14 & 16.  CMDS 108 & 109.
 0845            2OCT   40156 00160     3B. JETS  6 &  7.  CMDS 110 & 111.
 0850            2OCT   40310 00312     4B. JETS  1 &  3.  CMDS 200 & 201.
 0855            2OCT   40136 00140     3A. JETS  5 &  8.  CMDS  94 &  95.
 0860  4         2OCT   40350 00352     4A. JETS  2 &  4.  CMDS 232 & 233.
R0905  2         FAILTABL ENTRIES CONTAIN THE BIT FOR CH5MASK IN THE UPPER WORD,
 0910  9 AND THE BIT FOR CH6MASK IN THE LOWER.
 0915   FAILTABL 2OCT   00040 00010
 0920            2OCT   00020 00020
 0925            2OCT   00100 00004
 0930            2OCT   00200 00200
 0935            2OCT   00010 00001
 0940            2OCT   00001 00002
 0945            2OCT   00004 00040
 0950            2OCT   00002 00100
L      2KALMAN FILTER FOR LM DAP
R0001   THE FOLLOWING T5RUPT ENTRY BEGINS THE PROGRAM WHICH INITIALIZES THE KALM
 0002  9AN FILTER AND SETS UP A P-AXIS RUPT TO
R0003  2OCCUR 20 MS FROM ITS BEGINNING.
 0004            EBANK= DT
 0005            BANK   21
 0006   FILTINIT CAF    MS30F           RESET TIMER IMMEDIATELY -   DT = 30MS
 0007  2         TS     TIME5
 0008            LXCH   BANKRUPT        INTERRUPT LEAD IN (CONTINUED)
 0009            EXTEND
 0010  2         QXCH   QRUPT
 0011            EXTEND                 SET UP FOR P-AXIS RUPT
 0012            DCA    PAX/FILT
 0013  2         DXCH   T5ADR
 0014            CAF    MOSTPASS        SET UP TO PERMIT DT CALCULATION DURING
 0015  2         TS     STEERADR        KALMAN FILTER INITIALIZATION PASS.
 0016  2         TCF    CLEARCH5        TURN OFF Q,R-AXES RCS JETS.
 0017  2FIRSTADR GENADR FILFIRST
R0018   THE FOLLOWING T5RUPT ENTRY BEGINS THE KALMAN FILTER PROGRAM.  THIS SECTI
 0019  9ON ALSO SETS UP A T5RUPT TO OCCUR 20 MS
R0020  2FROM ITS BEGINNING AND SETS IT TO GO TO THE LOCATION AT THE TOP OF THE P
 0021  9OST FILTER RUPT LIST.
 0022  2MOSTPASS GENADR DTCALC          WORD IN FILTPASS FOR THESE PASSES
 0023   FILTER   CAF    MS30F           RESET TIMER IMMEDIATELY -   DT = 30MS
 0024  2         TS     TIME5
 0025            LXCH   BANKRUPT        INTERRUPT LEAD IN (CONTINUED)
 0026            EXTEND
 0027  2         QXCH   QRUPT
 0029            EXTEND                 SET RUPT ADDRESS TO TOP OF
 0030            DCA    PFRPTLST        POST FILTER RUPT LIST
 0031  2         DXCH   T5ADR
 00311           CS     T5ADR           IF THE TRIM GIMBAL CONTROL RUPT IS NEXT,
 00312           AD     GTS2CADR        REDUCE THE LENGTH OF THIS TIME5 RUPT.
 00313           EXTEND
 00314           BZF     +2
 00315           TCF     +3
 00316           CAF    MS20F           RESET TIMER IMMEDIATELY - DT = 20MS
 00317 2         TS     TIME5
 0032            DXCH   PFRPTLST        ROTATE 2CADR'S IN POST FILTER RUPT LIST
 0033            DXCH   PFRPTLST +6
 0034            DXCH   PFRPTLST +4
 0035            DXCH   PFRPTLST +2
 0036  2         TCF    COUNTDWN        DECREMENT PASSCTR
R0037  2BEGIN THE KALMAN FILTER BY READING CDU ANGLES AND TIME.
 0038  2FILSTART TC     T6JOBCHK        CHECK T6 CLOCK FOR P-AXIS ACTIVITY
 0039            EXTEND
 0040            DCA    CDUY            STORE CDUY AND CDUZ AT PI AND IN 2,S COM
 0041            DXCH   STORCDUY
 0042            EXTEND                 BEGIN READING THE CLOCK TO GET TIME
 0043            READ   4                 INCREMENT.
 0044            TS     L
 0045            EXTEND
 0046            RXOR   4               CHECK TO SEE IF CH 4 WAS IN TRANSITION
 0047            EXTEND                   WHEN IT WAS FIRST READ.
 0048            BZF    +4              BRANCH IF TIME WAS THE SAME IN 2 READS.
 0049            EXTEND
 0050            READ   4
 0051            TS     L               THIS TIME READ ALWAYS GIVES GOOD NO.
 0052  2         TC     STEERADR        SKIP DTCALC DURING INITIAL PASS
 0053   DTCALC   CS     L
 0054            AD     DAPTIME         A CONTAINS THE TIME DIFFERENCE (DT)
 0055            LXCH   DAPTIME           SINCE THE LAST FILTER.
 0056            EXTEND
 0057            BZMF   +3
 0058            AD     NEG1/2          THIS IS ADDING -1.0 TO -DT AND ACCOUNTS
 0059  2         AD     NEG1/2          FOR AN OVERFLOW INTO CHANNEL 5
R0060  2SCALING OF DELTA T FOR KALMAN FILTER IS 1/8 SECOND.
 0061            EXTEND                 TIME NOW SCALED AT 5.12 SECONDS
 0062            MP     BIT7            FIRST RESCALE TO 5.12/64
 0063            CS     .64
 0064            EXTEND                 THEN RESCALE TO 5.12/(64*.64) OR
 0065            MP     L               5.12/40.96 WHICH IS THE SAME AS
 0066            TCF    TIMEDONE        DT SCALED AT 1/8.  JUMP VIA STEERAD2.
R0067  2SET UP FILTER WEIGHTING VECTOR FOR THIS FILTER PASS.
 0068            CCS    WPOINTER        TEST FOR WEIGHTING VECTOR STEADY-STATE
 0069            TCF    MOVEWGTS        POINTER NOT YET ZERO (MULTIPLE OF THREE)
 0070            EBANK= DT
 0071   PAX/FILT 2CADR  PAXIS           (ROOM FOR 2CADR IN CCS HOLES)
 0072  2         TCF    FLTZAXIS        STEADY-STATE ALREADY, NO UPDATING AGAIN
 0073   MOVEWGTS CS     THREE           SET UP POINTER FOR THIS PASS
 0074  2         ADS    WPOINTER        (NEVER GETS BELOW ZERO HERE)
 0075            EXTEND                 WPOINTER IS INDEX = 87 FIRST TIME HERE
 0076            INDEX  WPOINTER        AND IS DECREASED BY 3 EVERY FILTER PASS
 0077            DCA    WVECTOR         UNTIL THE STEADY-STATE IS REACHED.
 0078            DXCH   W0              MOVE IN NEW W0,W1
 0079            INDEX  WPOINTER
 0080            CAF    WVECTOR +2
 0081  2         TS     W2              MOVE IN NEW W2
 0082   FLTZAXIS CAF    TWO             SET UP INDEXER FOR D.P. PICKUP AND TO
 0083  2         TS     QRCNTR          INDICATE Z-AXIS FILTER PASS
 0084  2         TCF    FLTYAXIS
 0085   GOYFILTR CAF    ZERO            SET INDEXER FOR Y-AXIS
 0086  2         TS     QRCNTR
 0087  2         TC     T6JOBCHK        CHECK T6 CLOCK FOR P-AXIS ACTIVITY
 0088   FLTYAXIS INDEX  QRCNTR
 0089            DXCH   CDUYFIL         THETA IS D.P. SCALED AT 2 PI RADIANS
 0090            DXCH   CDU
 0091            INDEX  QRCNTR            .
 0092            DXCH   DCDUYFIL        THETA IS D.P. SCALED AT PI/4 RAD/SEC
 0093            DXCH   CDUDOT
 0094            INDEX  QRCNTR           ..                                 2
 0095            DXCH   D2CDUYFL        THETA IS D.P. SCALED AT PI/8 RAD/SEC
 0096            DXCH   CDU2DOT
 0097            INDEX  QRCNTR           ...                        7       3
 0098            CAE    Y3DOT           THETA IS S.P. SCALED AT PI/2 RAD/SEC
 0099  2         XCH    CDU3DOT
R0100   NOTE THAT THE FILTERED VARIABLES ARE READ DESTRUCTIVELY FOR SPEED AND EF
 0101  9FICIENCY AND THAT Y3DOT IS NOT UPDATED,
R0102   SO IT MUST BE READ NON-DESTRUCTIVELY BUT NEED NOT BE RESTORED AFTER EACH
 0103  9 KALMAN FILTER PASS.
P0104  2INTEGRATION EXTRAPOLATION EQUATIONS:
 0105   KLMNFLTR CAE    CDU2DOT         A SCALED AT PI/8 (USE S.P.)
 0106            EXTEND
 0107            MP     DT              ADT SCALED AT PI/64 OR .5ADT AT PI/128
 0108            EXTEND
 0109            MP     BIT10           RESCALE BY RIGHT SHIFT 5
 0110            AD     CDUDOT          W + .5ADT SCALED AT PI/4
 0111            EXTEND
 0112            MP     DT              (W + .5ADT)DT SCALED AT PI/32
 0113            EXTEND
 0114            MP     BIT9            RESCALE BY RIGHT SHIFT 6 (KEEP D.P.)
 0115  2         DAS    CDU             CDU = CDU + (W + .5ADT)DT SCALED AT 2PI
 0116            CAE    CDU3DOT         ADOT SCALED AT PI/2(7)
 0117            EXTEND
 0118            MP     DT              .5ADOTDT SCALED AT PI/2(11)
 0119            TS     ITEMP5          (SAVE FOR ALPHA INTEGRATION)
 0120            EXTEND
 0121            MP     BIT7            RESCALE BY RIGHT SHIFT 8
 0122            AD     CDU2DOT         A + .5ADOTDT SCALED AT PI/8
 0123            EXTEND
 0124            MP     DT              (A + .5ADOTDT)DT SCALED AT PI/64
 0125            EXTEND
 0126            MP     BIT11           RESCALE BY RIGHT SHIFT 4 (KEEP D.P.)
 0127  2         DAS    CDUDOT          W = W + (A + .5ADOTDT)DT SCALED AT PI/4
 0128            CAE    ITEMP5          ADOTDT SCALED AT PI/2(10) (FROM ABOVE)
 0129            EXTEND
 0130            MP     BIT8            RESCALE BY RIGHT SHIFT 7 (KEEP D.P.)
 0131            DAS    CDU2DOT         A = A + ADOTDT SCALED AT PI/8
P0132  2WEIGHTING VECTOR ADJUSTMENT EQUATIONS:
 0133            EXTEND                 CONVERT CDU INTEGRATED VALUE FROM DOUBLE
 0134            DCA    CDU             PRECISION SCALED AT 2PI IN ONES COMPLE-
 0135            TC     ONETOTWO        MENT TO SINGLE PRECISION SCALED AT PI
 01355           CCS    QRCNTR
 0136            INDEX  A               IN TWOS COMPLEMENT, THEN DIFFERENCE WITH
 01365           CAE    STORCDUY
 0137            EXTEND                 STORED CDU REGISTER READING TO GET A
 0138            MSU    ITEMP5          SINGLE PRECISION ONES COMPLEMENT RESULT
 0139  2         TS     DPDIFF          SCALED AT PI RADIANS (UPPER HALF)
 0140            CS     CDU +1          CREATE LOW ORDER WORD OF D.P. DIFFERENCE
 0141            DOUBLE                 ONES COMPLEMENT SCALED AT PI RADIANS AND
 0142  2         XCH    DPDIFF +1       USE S.P. RESULT ABOVE AS HIGH ORDER WORD
 0143            EXTEND                 DPDIFF IS D.P. AT PI
 0144            DCA    DPDIFF
 0146            LXCH   ITEMP5          SAVE LOW ORDER WORD FOR D.P. MULTIPLY
 0147            EXTEND
 0148            MP     W0              CDU = CDU + DPDIFF (D.P.) * W0 (S.P.)
 0149            DAS    CDU
 0150            CAE    ITEMP5          W0 IS SCALED AT 2
 0151            EXTEND                 DPDIFF IS RESCALED TO PI
 0152            MP     W0              W0*DPDIFF IS SCALED AT 2PI (AS CDU)
 0153            ADS    CDU +1
 0154            TS     L
 0155            TCF     +2
 0156  2         ADS    CDU
 0157            CAE    DPDIFF          RESCALE DPDIFF TO PI/128
 0158            EXTEND
 0159            MP     BIT8            DPDIFF (D.P.) * 128
 0160            LXCH   ITEMP5
 0161            CAE    DPDIFF +1
 0162            EXTEND
 0163            MP     BIT8
 0164            AD     ITEMP5
 0165  2         LXCH   ITEMP5
 0166            EXTEND                  .     .
 0167            MP     W1              CDU = CDU + DPDIFF (D.P.) * W1 (S.P.)
 0168            DAS    CDUDOT
 0169            CAE    ITEMP5          W1 IS SCALED AT 32
 0170            EXTEND                 DPDIFF IS RESCALED TO PI/128
 0171            MP     W1              W1*DPDIFF IS SCALED AT PI/4 (AS CDUDOT)
 0172            ADS    CDUDOT +1
 0173            TS     L
 0174            TCF     +2
 0175  2         ADS    CDUDOT
 0176            CAE    DPDIFF          RESCALE DPDIFF TO PI/64
 0177            EXTEND
 0178            MP     BIT7            DPDIFF (D.P.) * 64
 0179            LXCH   ITEMP5
 0180            CAE    DPDIFF +1
 0181            EXTEND
 0182            MP     BIT7
 0183            AD     ITEMP5
 0184  2         LXCH   ITEMP5
 0185            EXTEND                  ..    ..
 0186            MP     W2              CDU = CDU + DPDIFF (D.P.) * W2 (S.P.)
 0187            DAS    CDU2DOT
 0188            CAE    ITEMP5          W2 IS SCALED AT 8
 0189            EXTEND
 0190            MP     W2              W2*DPDIFF IS SCALED AT PI/8 (AS CDU2DOT)
 0191            ADS    CDU2DOT +1
 0192            TS     L
 0193            TCF     +2
 0194  2         ADS    CDU2DOT
R0195  2RESTORE VARIABLES AND TEST FOR COMPLETION OR ADDITIONAL AXIS.
 0196   FILTAXIS DXCH   CDU
 0197            INDEX  QRCNTR          THETA IS D.P. SCALED AT 2 PI RADIANS
 0198            DXCH   CDUYFIL
 0199            DXCH   CDUDOT            .
 0200            INDEX  QRCNTR          THETA IS D.P. SCALED AT PI/4 RAD/SEC
 0201            DXCH   DCDUYFIL
 0202            DXCH   CDU2DOT          ..                                 2
 0203            INDEX  QRCNTR          THETA IS D.P. SCALED AT PI/8 RAD/SEC
 0204  2         DXCH   D2CDUYFL
 0208            CCS    QRCNTR
 0209  2         TCF    GOYFILTR        IF 2, Y-AXIS STILL TO GO
 0210            CS     T5ADR           IF THE TRIM GIMBAL CONTROL RUPT IS NEXT,
 0211            AD     GTS2CADR        DO THE Q,R-AXIS STATE TRANSFORMATIONS
 0212            EXTEND                 AND THE 20 MS STATE EXTRAPOLATION
 0213            BZF    GIMBAL
 0214  2         TCF    RESUME          OTHERWISE, RESUME
R0215  2SUBROUTINE FOR FILTER WHICH TAKES 1 COMPLEMENT NUMBER INTO A 2 COMP.
 0216   ONETOTWO DDOUBL                 SEE RTB OP CODES IN BANK 15 FOR NOTES ON
 0217            CCS    A                 THIS COMPUTATION.
 0218            AD     ONE
 0219            TCF    +2
 0220            COM
 0221            TS     ITEMP5
 0222            TCF    +4
 0223            INDEX  A
 0224            CAF    LIMITS
 0225            ADS    ITEMP5
 0226  2         TC     Q               RETURN
R0227  2THIS PROGRAM INITIALIZES THE KALMAN FILTER PROGRAM.
 0228   FILFIRST LXCH   DAPTIME         INITIALIZE TIME.
 0229            CAF    POINT=90        INITIALIZE THE WEIGHTING VECTOR POINTER
 0230            TS     WPOINTER
 0231            CAF    MOSTPASS        SET UP FOR NEXT PASSES
 0232            TS     STEERADR
 0233            EXTEND                 SET UP POST FILTER RUPT LIST
 0234            DCA    DGTSFADR
 0235            DXCH   PFRPTLST
 0236            EXTEND
 0237            DCA    PAX/FILT
 0238            DXCH   PFRPTLST +2
 0239            EXTEND
 0240            DCA    PAX/FILT
 0241            DXCH   PFRPTLST +6
 0242            EXTEND
 0243            DCA    GTS2CADR
 0244            DXCH   PFRPTLST +4
 0245            EXTEND                 CHANGE POST P FILTER TO FILTER
 0246            DCA    POSTPFIL
 0247  2         DXCH   PFILTADR
 0248            CAE    STORCDUY
 0249            EXTEND
 0250            MP     BIT14
 0251            DXCH   CDUYFIL         INITIALIZE THE STATE VECTOR TO CDU VALUE
 0252            CAE    STORCDUZ
 0253            EXTEND
 0254            MP     BIT14
 0255            DXCH   CDUZFIL
 0256            CA     ZERO
 0257            TCF     +4             RATES INITIALIZED BY RATEINIT.
 0258            TS     DCDUYFIL +1
 0259            TS     DCDUZFIL
 0260            TS     DCDUZFIL +1
 0261            TS     D2CDUYFL
 0262            TS     D2CDUYFL +1
 0263            TS     D2CDUZFL
 0264            TS     D2CDUZFL +1
 0265            TS     Y3DOT
 0266            TS     Z3DOT
 0267            TS     NEGUQ
 0268            TS     NEGUR
 02683           TS     QACDOTMP        INITIALIZE TEMPORARY STORAGE FOR QACCDOT
 02686           TS     RACDOTMP        AND RACCDOT VALUES COMING FROM GTS.
 0269  4         TCF    RESUME
 0270   .64      DEC    0.64000
 0271   BIT12-13 OCTAL  14000
 0272   POINT=90 DEC    90              POINTER INITIALIZED ONE GROUP PAST END
 0273   MS20F    OCTAL  37776
 0274   MS30F    OCTAL  37775
 0275            EBANK= DT
 0276   DGTSFADR 2CADR  DGTS
 0277   PAXISADR GENADR PAXIS
 0278            EBANK= DT
 0279   GTS2CADR 2CADR  GTS
 0280            EBANK= DT
 0281   POSTPFIL 2CADR  FILTER
P0282   THE KALMAN FILTER WEIGHTINF VECTORS ARE LISTED IN THE FOLLOWING TABLE AL
 0283  9ONG WITH THE TIME FROM THE LAST FILTER
R0284   INITIALIZATION FOR WHICH THEY ARE TO BE USED.  (THE VECTORS ARE STORED I
 0285  9N ORDERED TRIPLES (W0,W1,W2) IN
R0286  2DESCENDING ORDER IN TIME WITH THE STEADY STATE VALUES AT THE TOP.)
R0286402START CODING FOR MODULE 3 REMAKE, AUGUST 1967***START CODING FOR MODULE
 02864593 REMAKE, AUGUST 1967*******************
R0286502WEIGHTING VECTOR SET :   07/28/67     9:07
R0287   THE COMPONENTS ARE SCALED AS FOLLOWS:
R0288            W0 : SCALED AT  2
R0289            W1 : SCALED AT 32
R0290  2         W2 : SCALED AT  8
 0291   WVECTOR  DEC    0.07679         W0 AT RELATIVE TIME : 1.50 SECS. OR MORE
 0292            DEC    0.00799         W1 AT RELATIVE TIME : 1.50 SECS. OR MORE
 0293            DEC    0.02665         W2 AT RELATIVE TIME : 1.50 SECS. OR MORE
 0294            DEC    0.13072         W0 AT RELATIVE TIME : 1.45 SECONDS
 0295            DEC    0.02213         W1 AT RELATIVE TIME : 1.45 SECONDS
 0296            DEC    0.10086         W2 AT RELATIVE TIME : 1.45 SECONDS
 0297            DEC    0.13435         W0 AT RELATIVE TIME : 1.40 SECONDS
 0298            DEC    0.02350         W1 AT RELATIVE TIME : 1.40 SECONDS
 0299            DEC    0.11054         W2 AT RELATIVE TIME : 1.40 SECONDS
 0300            DEC    0.13816         W0 AT RELATIVE TIME : 1.35 SECONDS
 0301            DEC    0.02499         W1 AT RELATIVE TIME : 1.35 SECONDS
 0302            DEC    0.12154         W2 AT RELATIVE TIME : 1.35 SECONDS
 0303            DEC    0.14215         W0 AT RELATIVE TIME : 1.30 SECONDS
 0304            DEC    0.02662         W1 AT RELATIVE TIME : 1.30 SECONDS
 0305            DEC    0.13403         W2 AT RELATIVE TIME : 1.30 SECONDS
 0306            DEC    0.14632         W0 AT RELATIVE TIME : 1.25 SECONDS
 0307            DEC    0.02841         W1 AT RELATIVE TIME : 1.25 SECONDS
 0308            DEC    0.14826         W2 AT RELATIVE TIME : 1.25 SECONDS
 0309            DEC    0.15066         W0 AT RELATIVE TIME : 1.20 SECONDS
 0310            DEC    0.03035         W1 AT RELATIVE TIME : 1.20 SECONDS
 0311            DEC    0.16446         W2 AT RELATIVE TIME : 1.20 SECONDS
 0312            DEC    0.15516         W0 AT RELATIVE TIME : 1.15 SECONDS
 0313            DEC    0.03247         W1 AT RELATIVE TIME : 1.15 SECONDS
 0314            DEC    0.18293         W2 AT RELATIVE TIME : 1.15 SECONDS
 0315            DEC    0.15980         W0 AT RELATIVE TIME : 1.10 SECONDS
 0316            DEC    0.03477         W1 AT RELATIVE TIME : 1.10 SECONDS
 0317            DEC    0.20395         W2 AT RELATIVE TIME : 1.10 SECONDS
 0318            DEC    0.16452         W0 AT RELATIVE TIME : 1.05 SECONDS
 0319            DEC    0.03726         W1 AT RELATIVE TIME : 1.05 SECONDS
 0320            DEC    0.22781         W2 AT RELATIVE TIME : 1.05 SECONDS
 0321            DEC    0.16926         W0 AT RELATIVE TIME : 1.00 SECONDS
 0322            DEC    0.03991         W1 AT RELATIVE TIME : 1.00 SECONDS
 0323            DEC    0.25475         W2 AT RELATIVE TIME : 1.00 SECONDS
 0324            DEC    0.17393         W0 AT RELATIVE TIME : 0.95 SECONDS
 0325            DEC    0.04272         W1 AT RELATIVE TIME : 0.95 SECONDS
 0326            DEC    0.28488         W2 AT RELATIVE TIME : 0.95 SECONDS
 0327            DEC    0.17839         W0 AT RELATIVE TIME : 0.90 SECONDS
 0328            DEC    0.04562         W1 AT RELATIVE TIME : 0.90 SECONDS
 0329            DEC    0.31809         W2 AT RELATIVE TIME : 0.90 SECONDS
 0330            DEC    0.18247         W0 AT RELATIVE TIME : 0.85 SECONDS
 0331            DEC    0.04853         W1 AT RELATIVE TIME : 0.85 SECONDS
 0332            DEC    0.35383         W2 AT RELATIVE TIME : 0.85 SECONDS
 0333            DEC    0.18597         W0 AT RELATIVE TIME : 0.80 SECONDS
 0334            DEC    0.05132         W1 AT RELATIVE TIME : 0.80 SECONDS
 0335            DEC    0.39087         W2 AT RELATIVE TIME : 0.80 SECONDS
 0336            DEC    0.18867         W0 AT RELATIVE TIME : 0.75 SECONDS
 0337            DEC    0.05380         W1 AT RELATIVE TIME : 0.75 SECONDS
 0338            DEC    0.42701         W2 AT RELATIVE TIME : 0.75 SECONDS
 0339            DEC    0.19040         W0 AT RELATIVE TIME : 0.70 SECONDS
 0340            DEC    0.05576         W1 AT RELATIVE TIME : 0.70 SECONDS
 0341            DEC    0.45880         W2 AT RELATIVE TIME : 0.70 SECONDS
 0342            DEC    0.19117         W0 AT RELATIVE TIME : 0.65 SECONDS
 0343            DEC    0.05698         W1 AT RELATIVE TIME : 0.65 SECONDS
 0344            DEC    0.48160         W2 AT RELATIVE TIME : 0.65 SECONDS
 0345            DEC    0.19127         W0 AT RELATIVE TIME : 0.60 SECONDS
 0346            DEC    0.05736         W1 AT RELATIVE TIME : 0.60 SECONDS
 0347            DEC    0.49013         W2 AT RELATIVE TIME : 0.60 SECONDS
 0348            DEC    0.19142         W0 AT RELATIVE TIME : 0.55 SECONDS
 0349            DEC    0.05702         W1 AT RELATIVE TIME : 0.55 SECONDS
 0350            DEC    0.47984         W2 AT RELATIVE TIME : 0.55 SECONDS
 0351            DEC    0.19273         W0 AT RELATIVE TIME : 0.50 SECONDS
 0352            DEC    0.05644         W1 AT RELATIVE TIME : 0.50 SECONDS
 0353            DEC    0.44869         W2 AT RELATIVE TIME : 0.50 SECONDS
 0354            DEC    0.19660         W0 AT RELATIVE TIME : 0.45 SECONDS
 0355            DEC    0.05649         W1 AT RELATIVE TIME : 0.45 SECONDS
 0356            DEC    0.39845         W2 AT RELATIVE TIME : 0.45 SECONDS
 0357            DEC    0.20443         W0 AT RELATIVE TIME : 0.40 SECONDS
 0358            DEC    0.05837         W1 AT RELATIVE TIME : 0.40 SECONDS
 0359            DEC    0.33458         W2 AT RELATIVE TIME : 0.40 SECONDS
 0360            DEC    0.21746         W0 AT RELATIVE TIME : 0.35 SECONDS
 0361            DEC    0.06360         W1 AT RELATIVE TIME : 0.35 SECONDS
 0362            DEC    0.26452         W2 AT RELATIVE TIME : 0.35 SECONDS
 0363            DEC    0.23678         W0 AT RELATIVE TIME : 0.30 SECONDS
 0364            DEC    0.07419         W1 AT RELATIVE TIME : 0.30 SECONDS
 0365            DEC    0.19555         W2 AT RELATIVE TIME : 0.30 SECONDS
 0366            DEC    0.26366         W0 AT RELATIVE TIME : 0.25 SECONDS
 0367            DEC    0.09322         W1 AT RELATIVE TIME : 0.25 SECONDS
 0368            DEC    0.13332         W2 AT RELATIVE TIME : 0.25 SECONDS
 0369            DEC    0.29988         W0 AT RELATIVE TIME : 0.20 SECONDS
 0370            DEC    0.12645         W1 AT RELATIVE TIME : 0.20 SECONDS
 0371            DEC    0.08144         W2 AT RELATIVE TIME : 0.20 SECONDS
 0372            DEC    0.34809         W0 AT RELATIVE TIME : 0.15 SECONDS
 0373            DEC    0.18652         W1 AT RELATIVE TIME : 0.15 SECONDS
 0374            DEC    0.04182         W2 AT RELATIVE TIME : 0.15 SECONDS
 0375            DEC    0.41088         W0 AT RELATIVE TIME : 0.10 SECONDS
 0376            DEC    0.30542         W1 AT RELATIVE TIME : 0.10 SECONDS
 0377            DEC    0.01526         W2 AT RELATIVE TIME : 0.10 SECONDS
 0378            DEC    0.47825         W0 AT RELATIVE TIME : 0.05 SECONDS
 0379            DEC    0.57064         W1 AT RELATIVE TIME : 0.05 SECONDS
 0380            DEC    0.00174         W2 AT RELATIVE TIME : 0.05 SECONDS
R03805  **END CODING FOR MODULE 3 REMAKE, AUGUST 1967*****END CODING FOR MODULE
 03806 93 REMAKE, AUGUST 1967*******************
P0381  2DUMMY TRIM GIMBAL RUPT:
 0382   DGTS     CAF    MS20F           RESET TIMER IMMEDIATELY -   DT = 20MS
 0383            TS     TIME5
 03833           LXCH   BANKRUPT        INTERRUPT LEAD IN (CONTINUED)
 03836           EXTEND
 03839 2         QXCH   QRUPT
 0384            EXTEND                 SET UP FILTER RUPT
 0385            DCA    POSTPFIL
 0386  2         DXCH   T5ADR
 0391            CS     RACDOTMP        STORE NEW VALUES OF QACCDOT, RACCDOT NOW
 03911           TS     RACCDOT         THAT 100 MS HAVE PASSED.  (REMEMBER THAT
 03912           CS     QACDOTMP        THESE ARE STORED COMPLEMENTED.)
 03913           TS     QACCDOT
 03914 2         TCF    RESUME
 0392            EBANK= DT
 0393  2         BANK   20
R0394  2DUMMY FILTER RUPT AFTER Q,R-AXES RUPT:
 0395   MS30120  OCTAL  37775
 0396            EBANK= TQR
 0397   PAXBNK20 2CADR  PAXIS
 0398   FILDUMMY CAF    MS30120         RESET TIMER IMMEDIATELY - DT= 30 MS
 0399  2         TS     TIME5
 0400            LXCH   BANKRUPT        INTERRUPT LEAD IN (CONTINUED)
 04003           EXTEND                 SAVE THE LAST Q ON ALL T5RUPT LEAD IN'S
 04005 2         QXCH   QRUPT
 0401            EXTEND                 SET UP PAXIS RUPT
 0402            DCA    PAXBNK20
 0403  2         DXCH   T5ADR
 040301          TC     TORQUEVK
 0403022         TCF    RESUME
R0403052START CODING FOR MODULE 3 REMAKE, AUGUST 1967***START CODING FOR MODULE
 04030693 REMAKE, AUGUST 1967*******************
R0403092CODING FOR RATE HOLD MODE WRITTEN OVER.
R0403122FROM ENGINOF1.  MAKE SURE FLAGS FOR EXTRAORDINARY GTS ARE DOWN.
 040315 RESETCTR CA     EBANK6          SAVE CALLERS EBANK.
 040318          XCH    EBANK
 040321          TS     ITEMP6          SAVE L IN CASE THIS WAS 1STENGOF.
 040324          CAF    NEGMAX
 040327          TS     TRIMCNTR
 040330          CAF    ZERO
 0403332         TS     GTSMNITR
 040336          CA     ITEMP6          RESTORE CALLERS EBANK.
 0403382         TS     EBANK
 0403502         TC     Q               RETURN TO CALLER OF ENGINOFF OR ENGINOF1
R0403522FROM APSENGON - STORE IGNITION TIME FOR THE ENGINOFF DELAY LOGIC.
 040354220INSRTA TS     DVSELECT        STORE PGNSCADR IN DVSELECT
 040356          EXTEND
 040358          DCA    TIME2           STORE CURRENT TIME IN /TEMP3/
 040360          DXCH   /TEMP3/
 0403622         TCF    20INSRT +1
R0403642FROM ENGINOFF - PREPARE FOR TRANSFER TO THE ENGINOFF DELAY LOGIC.
 040366 20INSRTB EXTEND                 SAVE Q FOR AN INDEFINITE TIME - IT
 040368          QXCH   /TEMP1/         POINTS TO SWRETURN OR ISWRETRN.
 040370          CAF    EBANK6
 040372          XCH    EBANK           GO TO EBANK 6 AND STORE CALLERS EBANK.
 0403742         TS     /TEMP2/
 040376          CA     TMINAPS         IF TMINAPS IS NEGATIVE OR ZERO DO NOT
 040378          EXTEND                 DELAY THE ENGINOFF CALL.
 0403802         BZMF   20INSRTC
 040381          TC     POSTJUMP        *TMINAPS OK. JUMP TO THE DELAY LOGIC*
 0403822         CADR   17INSRT
 040383 20INSRTC CA     /TEMP2/         RESTORE EBANK AND RETURN TO ENGINOFF.
 040384          TS     EBANK
 0403852         TCF    ENGINOFF +1
R0403862FOLLOWING CODING LEFT IN PLACE TO PRESERVE RELATIVE ADDRESSES.
 0403924         TS     DELCDUX         IF 0, DONE DELCDUY AND ZERO DELCDUX.
 040400  +5      TC     TORQUEVK
 040401          TCF    RESUME
 0404022         TC     CCSHOLE
R04041 2**END CODING FOR MODULE 3 REMAKE, AUGUST 1967*****END CODING FOR MODULE
 04042 93 REMAKE, AUGUST 1967*******************
P04049 4THIS SUBROUTINE COMPUTES JET TORQUE CONTRIBUTION TO RATE
 040499 TORQUEVK CS     TQR             TQR IS SCALED THE SAME AS TIME 6
 0405            AD     CSPINKF
 0406            EXTEND
 0407            BZMF   FULLCSP
 0408            CA     TQR
 0409            EXTEND
 0410            MP     BIT5
 0411            CAE    L
 0412            EXTEND
 0413            MP     16/25KF
 0414            TS     TQR
 04141           EXTEND
 04142           QXCH   ITEMP6
 0415            TC     JETTSUB
 0416            CAF    ZERO
 0417            TS     TQR
 0418            TC     ITEMP6          RETURN TO TORQUEVK CALLER
 0419   FULLCSP  COM                    WE COME HERE WHEN TQR GREATER THAN .1SEC
 0420            TS     ITEMP2
 0421            CA     CSPAT1          CSP (.1 SEC) SCALED AT 1.
 04211           TS     TQR             TEMPORARY, LATER TQR:.1=TQR
 04212           EXTEND
 04213           QXCH   ITEMP6
 0422            TC     JETTSUB
 0423            CAE    ITEMP2
 0424            TS     TQR
 0425  2         TC     ITEMP6          RETURN TO TORQUEVK CALLER.
R04251 2A SUBROUTINE WHICH,GIVEN TQR SCALED AT 1, FINDS JETRATE AND SUMRATE.
 0426   JETTSUB  EXTEND
 0427            MP     NO.QJETS
 0428            CAE    L
 0429            EXTEND
 0430            MP     1JACCQ
 0431            TS     JETRATEQ        TEMP STORE OF ACC*NJETS*TQR FOR Q AXIS.
 0432            ADS    SUMRATEQ        SUMRATE =SUMRATE+ACC*NJETS*TQR, WHICH IS
 0433            CAE    TQR               THE ACCUMULATED JET FIRING ACC. OVER
 0434            EXTEND                   A TWO SECOND INTERVAL.
 0435            MP     NO.RJETS        SAME AS ABOVE FOR R AXIS THIS TIME.
 0436            CAE    L
 0437            EXTEND
 0438            MP     1JACCR
 0439            TS     JETRATER
 0440  2         ADS    SUMRATER
 044002          CCS    AOSCOUNT        TEST TO SEE IF AOSTASK IS COMING UP:
 0440042         TCF    WATERATE        NO, SKIP.
 044006          CS     JETRATEQ        REMOVE THE MOST RECENT JETRATES FROM THE
 044008          TS     SAVRATEQ        SUMRATES AND SET UP INITIALIZATION OF
 044010          ADS    SUMRATEQ        THE SUMRATES FOR THE NEXT 2 SECOND
 044012          CS     JETRATER        INTERVAL.  (SAVED AS NEGATIVES.)
 044014          TS     SAVRATER
 0440162         ADS    SUMRATER
 0441   WATERATE CAE    WFORQR          WFORQR IS SCALED AT 16 BUT THE ALGORITHM
 0442            EXTEND                   USES W/2 THUS THE SCALING IS 8 HERE.
 0443            MP     TQR
 0444            AD     (1-K)/8         THE ALGORITHM IMPLEMENTED IS....
 0445            EXTEND                   JETRATE = TQR*NJET*ACC*(1-K+W*TQR/2)
 0446            MP     BIT4              FOR THE Q AND R AXES RESPECTIVELY.
 0447            LXCH   ITEMP1          THE FINAL SCALING OF JETRATE  IS PI/4.
 0448            CAE    JETRATEQ
 0449            EXTEND
 0450            MP     ITEMP1
 0451            TS     JETRATEQ
 0452            CAE    JETRATER
 0453            EXTEND
 0454            MP     ITEMP1
 0455            TS     JETRATER
 0456            TC     Q
 04565  100MSCAL DEC    0.025
 0457   16/25KF  DEC    0.64000
 0458   CSPAT1   DEC    0.10000
 04585  -DELAYT  DEC    -19             -11.875 MS SCALED AS TIME6.
 0459   CSPINKF  DEC    0.00977
P045901 THIS T5RUPT TAKES THE SQUARE ROOT AND CALLS TORQUEVK
 045902 DORUTDUM CAF    MS30120         FILDUMMY ENTRY EVERY TIME WE DO SQ. ROOT
 045904          TS     TIME5
 045906          LXCH   BANKRUPT
 045908          EXTEND
 0459102         QXCH   QRUPT
 045912          EXTEND
 045914          DCA    PAXBNK20
 0459162         DXCH   T5ADR
 045918          EXTEND
 045920          DCS    TERMB
 045922          TC     IBNKCALL
 045924          CADR   DAPSQRT
 045926          AD     TERMA
 045928          DOUBLE                 RESCALE TO T6 SCALING
 045929          EXTEND
 045930          MP     25/32KF
 045932          TS     TQR
 045933          AD     -DELAYT         TQR SHOULD HOLD THE COMPLETE ON-TIME.
 045934          TS     TOFJTCHG
 0459362         TC     TORQUEVK
 045938          CAE    CH5TEMP
 045940          MASK   JTSONNOW
 045942          TC     POSTJUMP
 0459442         CADR   FROMROOT
 045946 25/32KF  DEC    0.78125
P0460  2SUBROUTINE: DISPDRIV            MOD. NO. 0  DATE: NOVEMBER 14, 1966
R0461  2AUTHOR: JONATHAN D. ADDELSTON (ADAMS ASSOCIATES)
R0462   THIS SUBROUTINE SETS THE ICDU DRIVE BITS EVERY OTHER TIME IT IS CALLED.
 0463  9 IT ALWAYS CHANGES THE VALUE OF
R0464   "DISPLACT" TO INDICATE THE PASSING OF 100 MS, SINCE THIS FLAG IS TESTED
 0465  9BY "EIGHTBAL" IN THE P-AXIS T5RUPT.
R0466  2THE ICDU IS DRIVEN ONLY 30 MS AFTER "EIGHTBAL" ENABLED IT.
R0467  2CALLING SEQUENCES (FROM "DUMMYFIL" AND "FILTER"):
A0468   L        TC     DISPDRIV        (MUST BE FROM SAME BANK)
A0469  2L +1    (RETURN)
R0470  2SUBROUTINES CALLED: NONE.       NORMAL EXIT: BY TC Q  TO L +1 .
R0471  2ALARM/ABORT MODES: NONE.        INPUT: PRESENT VALUE IN  DISPLACT ,
R0472  2OUTPUT: OPPOSITE VALUE OF "DISPLACT" AND ICDU BITS (WHEN NECESSARY).
R0473  4DEBRIS: A,Q.
 0474            EBANK= DT
 0475            BANK   21
 0476   DISPDRIV CCS    DISPLACT        TEST PHASE OF  EIGHTBAL .
 0477  2         TCF     +5             (NO DRIVING ON THIS PASS.) RESET FLAG.
 0478            CAF    OCT70000        SET ICDU DRIVE BITS.
 0479            EXTEND
 0480  2         WOR    14
 0481            CAF    ONE             RESET FLAG.
 0482  2         TS     DISPLACT
 0483  2         TC     Q               RETURN
 0484   OCT70000 OCTAL  70000           ICDU DRIVE BITS OF CHANNEL 14.
L      2TRIM GIMBAL CONTROL SYSTEM
 00001           BANK   21
 00002           EBANK= DT
R0001   CONTROL REACHES THIS POINT UNDER EITHER OF THE FOLLOWING TWO CONDITIONS
 0002  9ONCE THE DESCENT ENGINE AND THE DIGITAL
R0003   AUTOPILOT ARE BOTH ON:
R0004            A) THE TRIM GIMBAL CONTROL LAW WAS ON DURING THE PREVIOUS Q,R-A
 0005  9XIS TIME5 INTERRUPT (OR THE DAPIDLER
R0006               INITIALIZATION WAS SET FOR TRIM GIMBAL CONTROL AND THIS IS T
 0007  9HE FIRST PASS), OR
R0008            B) THE Q,R-AXIS RCS JET CONTROL LAW ATTITUDE STEERING MODE REDU
 0009  9CED THE ATTITUDE ERROR TO LESS THAN
R0010  21DEGREE ON EACH AXIS ON ITS LAST TIME5 INTERRUPT.
R0011   THE FOLLOWING T5RUPT ENTRY BEGINS THE TRIM GIMBAL CONTROL LAW.  SINCE IT
 0012  9 IS ASSUMED THAT THE LEM WILL REMAIN
R0013  2UNDER TRIM GIMBAL CONTROL, A KALMAN FILTER RUPT IS SET UP TO BEGIN 30 MS
 0014  9 FROM THE TRIM GIMBAL RUPT.
 0015   GTS      CAF    MS30F           RESET TIMER IMMEDIATELY: DT = 30 MS
 0016  2         TS     TIME5
 0017            LXCH   BANKRUPT        INTERRUPT LEAD IN (CONTINUED)
 0018            EXTEND
 0019  2         QXCH   QRUPT
 0020            EXTEND
 0021            DCA    POSTPFIL
 0022  2         DXCH   T5ADR
 0023  2         TCF    GTSTEST         SKIP OVER XFORMS UNTIL REORGANIZATION
 0024   GIMBAL   EXTEND                 GET D.P. FILTERED CDUY VALUE (ONES COMP)
 0025            DCA    CDUYFIL         SCALED AT 2PI RADIANS
 0026            TC     ONETOTWO        FORM S.P. VALUE IN TWOS COMPLEMENT AT PI
 0027            EXTEND
 0028            MSU    CDUYD           FORM Y-AXIS ERROR IN ONES COMPLEMENT
 0029  2         TS     QDIFF           (SAVE IN Q-AXIS ERROR LOC: EFFICIENCY)
 0030            EXTEND                 GET D.P. FILTERED CDUZ VALUE (ONES COMP)
 0031            DCA    CDUZFIL         SCALED AT 2PI RADIANS
 0032            TC     ONETOTWO        FORM S.P. VALUE IN TWOS COMPLEMENT AT PI
 0033            EXTEND
 0034            MSU    CDUZD           FORM Z-AXIS ERROR IN ONES COMPLEMENT
 0035  2         TS     RDIFF           (SAVE IN R-AXIS ERROR LOC: EFFICIENCY)
R0036  2TRANSFORM Y,Z CDU ERRORS TO THE Q,R-AXES.
 0037            EXTEND                 GET BOTH Y AND Z CDU ERRORS AT PI RAD
 0038            DCA    QDIFF
 0039            TC     QTRANSF         FORM Q-ERROR IN A (SCALED AT PI RAD)
 0040            DXCH   QDIFF           STORE Q-ERROR, GET BOTH Y,Z CDU ERRORS
 0041            TC     RTRANSF         FORM R-ERROR IN A (SCALED AT PI RAD)
 0042  2         XCH    RDIFF           STORE R-ERROR
R0043   TRANSFORM THE FILTERED Y,Z RATES TO THE Q,R-AXES.
R0044  2(THESE MAY BE NEEDED FOR THE RATE DERIVATION FOR THE JETS IF THEY MUST B
 0045  9E USED.)
 0046            CAE    DCDUZFIL        GET FILTERED Y,Z RATES
 0047            TS     L               SCALED AT PI/4 RADIANS/SECOND
 0048            CAE    DCDUYFIL
 0049            TC     QTRANSF         FOR Q-AXIS RATE
 0050  2         TS     OMEGAQ          STORED SCALED AT PI/4 RADIANS/SECOND
 0051            CAE    DCDUZFIL        GET FILTERED Y,Z RATES
 0052            TS     L               SCALED AT PI/4 RADIANS/SECOND
 0053            CAE    DCDUYFIL
 0054            TC     RTRANSF         FOR R-AXIS RATE
 0055  2         TS     OMEGAR          STORED SCALED AT PI/4 RADIANS/SECOND
R0056   TRANSFORM THE FILTERED Y,Z ACCELERATIONS TO THE Q,R-AXES.
R0057  2(THESE MAY BE NEEDED TO CALCULATE TRIM GIMBAL OFF-TIMES IF ATTITUDE ERRO
 0058  9R HAS GONE BEYOND TRIM GIMBAL CONTROL.)
 0059            CAE    D2CDUZFL        GET FILTERED Y,Z ACCELERATIONS
 0060            TS     L               SCALED AT PI/8 RADIANS/SECOND(2)
 0061            CAE    D2CDUYFL
 0062            TC     QTRANSF         FORM Q-AXIS ACCELERATION
 0063  2         TS     ALPHAQ          STORE AT PI/8 RADIANS/SECOND(2)
 0064            CAE    D2CDUZFL        GET FILTERED Y,Z ACCELERATIONS
 0065            TS     L               SCALED AT PI/8 RADIANS/SECOND(2)
 0066            CAE    D2CDUYFL
 0067            TC     RTRANSF         FORM R-AXIS ACCELERATION
 0068  2         TS     ALPHAR          STORE AT PI/8 RADIANS/SECOND(2)
R0069   EXTRAPOLATE THETA AND OMEGA OVER 100 MS PLUS THE 20 MS DELAY BETWEEN THE
 0070  9 KALMAN FILTER AND TRIM GIMBAL
R00705 2 CONTROL, REFLECTING MECHANICAL LAG.
 0071            CAE    OMEGAQ
 0072            EXTEND
 0073            MP     DTW
 0074  2         ADS    QDIFF
 0075            CAE    OMEGAR
 0076            EXTEND
 0077            MP     DTW
 0078  2         ADS    RDIFF
 0079            CAE    ALPHAQ
 0080            EXTEND
 0081            MP     DTA
 0082  2         ADS    OMEGAQ
 0083            CAE    ALPHAR
 0084            EXTEND
 0085            MP     DTA
 0086  2         ADS    OMEGAR
 0087  2         TCF    RESUME
 0088   DTW      OCT    00754           120 MS SCALED AT 4
 0089   DTA      OCT    01727           120 MS SCALED AT 2
R0090   TEST TO SEE IF TRIM GIMBAL CONTROL LAW HAS KEPT BOTH ATTITUDE ERRORS BEL
 0091  9OW THE 1 DEGREE BOUNDARY WITH THE REGION
R0092  2OF RCS CONTROL LAW DOMINANCE OR IS STILL REDUCING THE ERROR.
 0093   GTSTEST  CAF    TRYGIMBL        VERIFY THAT GTS IS STILL OPERATIVE.
 0094            MASK   DAPBOOLS
 0095            CCS    A
 0096            TCF    RCSCNTRL        GTS NOT OPERATIVE
R00965 2START CODING FOR MODULE 3 REMAKE, AUGUST 1967***START CODING FOR MODULE
 00966 93 REMAKE, AUGUST 1967*******************
 0097  2INSERT21 TCF    CHKCNTR         GO CHECK TRIMCNTR (AT END OF BANK 21).
R00975 2**END CODING FOR MODULE 3 REMAKE, AUGUST 1967*****END CODING FOR MODULE
 00976 93 REMAKE, AUGUST 1967*******************
 0098   LOOPTEST TS     QRCNTR
 0099            INDEX  QRCNTR
 0100            CCS    QDIFF           SCALED AT PI.
 0101            AD     -TGBND+1        -2 DEG SCALED AT PI, + 1 BIT.
 0102            TCF     +2
 0103            AD     -TGBND+1
 0104            EXTEND
 0105            BZMF    +2             IS ERROR MAG LESS,EQUAL 2 DEG.
 0106            TCF    TESTPCTR        NO.  MAY CONTINUE,THOUGH.
 0107            CA     QRCNTR          YES.  TRY RATE MAGNITUDE.
 0108            DOUBLE
 0109            INDEX  A
R01095
R01096 2THIS TEST BYPASSES THE TEST IN WSFTEST.  CHECK WSFTEST IF BOUND CHANGES.
 0110            CCS    OMEGAQ          SCALED AT PI/4.
 0111            AD     -RATBD+1        -.65 DEG/SEC SCALED AT PI/4  + 1 BIT
 0112            TCF     +2
 0113            AD     -RATBD+1
 0114            EXTEND
 0115            BZMF    +2             IS RATE MAG LESS,EQUAL .65 DEG/SEC.
 0116            TCF    TESTPCTR        NO.  MAY CONTINUE,THOUGH.
 0117            CCS    QRCNTR          YES.  THIS AXIS IS FINE. ARE BOTH DONE.
 0118            TCF    LOOPTEST        TRY THE Q AXIS NOW.
 0119            TCF    GTSRAXIS        USE TRIM GIMBAL CONTROL.
 0120   -TGBND+1 OCT    77512           -2 DEG SCALED AT PI, + 1 BIT.
 0121   -RATBD+1 OCT    77423           -.65 DEG/SEC SCALED AT PI/4  + 1 BIT
R0126   ATTITUDE ERROR IS BEYOND TRIM GIMBAL CONTROL LAW RANGE.  SET UP FOR RCS
 0127  9CONTROL LAW (Q,R-AXIS) AND CALCULATE
R0128  2TIMES TO TURN OFF THE GIMBAL DRIVES.
 0129   RCSCNTRL EXTEND                 CHANGE LOCATION OF NEXT T5RUPT FROM FIL-
 0130            DCA    POSTQRFL        TER TO FILDUMMY.  AHEM, DON'T FORGET
 01305 2         DXCH   T5ADR           THAT FILDUMMY MOVED TO BANK20, DICK GOSS
 0131            EXTEND                 SET UP POST P-AXIS T5RUPT TO GO TO
 0132            DCA    QRJPFILT        DUMMYFIL INSTEAD OF FILTER.  USE 2CADR
 0133  2         DXCH   PFILTADR        BECAUSE DUMMYFIL NOW IN BANK 16.
 0135            EXTEND                 PREPARE FOR SEQUENCED RESUMPTION OF
 0136            DCA    CDUY            Q,R-AXIS RCS CONTROL RATE DERIVATION
 0137  2         DXCH   OLDYFORQ        BY PROVIDING OLD CDU READINGS
 0138            EXTEND                 MOVE FILTERED AND TRANSFORMED ATTITUDE
 0139            DCA    QDIFF           ERRORS INTO ERASABLE FOR Q,R-AXIS RCS
 0140            XCH    ER              CONTROL URGENCY CALCULATIONS.
 0141  2         LXCH   E
 0142            CAF    ONE
 0143            TC     WAITLIST
 01431           EBANK= DT
 0144            2CADR  CHEKDRIV        DO TGOFF CALCULATION IN WAITLIST TASK
 0145            EXTEND                 GO TO Q,R-AXES CONTROL IMMEDIATELY
 0146            DCA    TGENTRY
 0147  2         DTCB
 0149            EBANK= JTSONNOW        NO, SURELY YOU JEST, NOT EBANK 6, AGAIN?
 01493  POSTQRFL 2CADR  FILDUMMY        WATCH OUT FOR BANK SWITCHING D. GOSS
 01495           EBANK= AOSQTERM
 0150   QRJPFILT 2CADR  DUMMYFIL        NECESSARY BECAUSE DUMMYFIL IN BANK 16.
 01501           EBANK= DT
 0151  4TGENTRY  2CADR  STILLRCS
R0152  2START CODING FOR MODULE 3 REMAKE, AUGUST 1967***START CODING FOR MODULE
 01521 93 REMAKE, AUGUST 1967*******************
 0153   CHEKDRIV CCS    PASSCTR         ENOUGH FILTER PASSES FOR DRIVE DONE?
 01531           TCF    COLDFILT          NO.  JUST STOP DRIVES.
 01532 2         TCF    WARMFILT          YES.  CALCULATE TIMES (END OF BANK).
 0154   COLDFILT CAF    ZERO            FILTER NOT WARM YET. TURN OFF DRIVES.
 0155            TS     NEGUQ
 0156            TS     NEGUR
 0157            TS     QACCDOT
 0158            TS     RACCDOT
 0159            TC     WRCHN12
 0160  2         TCF    TASKOVER
 01611           TC     CCSHOLE           FILLER (TO PRESERVE ADDRESSES)
 01612           TC     CCSHOLE           FILLER (TO PRESERVE ADDRESSES)
R01619 2**END CODING FOR MODULE 3 REMAKE, AUGUST 1967*****END CODING FOR MODULE
 01619193 REMAKE, AUGUST 1967*******************
P0162   THE DRIVE SETTING ALGORITHM
R0163  2DEL = SGN(OMEGA.K + SGN(ALPHA)ALPHA(2)/2)    ONLY +1/-1
R0164  2NEGUSUM = ERROR.K(2) + DEL(OMEGA.K.DEL + ALPHA(2)/2)(3/2) + ALPHA(OMEGA.
 0165  9K.DEL + ALPHA(2)/3)
R0166  2DRIVE = -SGN(NEGUSUM)
 0167   -.04266  DEC    -.04266
 0168   GTSRAXIS CAF    TWO             SET INDEXER FOR R-AXIS CALCULATIONS
 0169            TS     QRCNTR
 0170  2         TCF    USUALXIT
 0171   GOQTRIMG CAF    ZERO            SET INDEXER FOR Q-AXIS CALCULATIONS
 0172  2         TS     QRCNTR
 0173   GTSQAXIS EXTEND
 0174            INDEX  QRCNTR          PICK UP K AND K(2) FOR THIS AXIS
 0175            DCA    KQ
 0176  2         DXCH   KCENTRAL
 0177            EXTEND
 0178            INDEX  QRCNTR          PICK UP OMEGA AND ALPHA FOR THIS AXIS
 0179            DCA    OMEGAQ
 0180  2         DXCH   WCENTRAL
 0181            CCS    QRCNTR          RDIFF IS STORED IMMEDIATELY FOLLOWING
 0182            INDEX  A               QDIFF, WITH NO SEPARATING CELL.
 0183  2         CAE    QDIFF
R0184  2QDIFF IS LESS,EQUAL 2 DEG. AND IS SCALED AT 180 DEG.  RESCALE AT 180/64
 0185  9DEG. = 2 + 13/16 DEG. = PI/64 RADIANS.
 0187            EXTEND                 RESCALE DIFFERENCE BY MULTIPLYING BY
 0188            MP     BIT7            2(6)
 0189  2         LXCH   ETHETA
 0190            CAE    KCENTRAL        TEST ON MAGNITUDE OF ACCDOT
 0191            AD     -.04266
 0192            EXTEND
 0193  2         BZMF   ACCDOTSM        BRANCH IF ACCDOT IS SMALL
 0194   ACCDOTLG CAF    BIT14           ACCDOT IS COMPARITIVELY LARGE
 0195            TS     SF1             SET UP SCALE FACTORS
 0196            CAF    BIT12
 0197  2WSFTEST  TS     SF2
R01975 2LOOPTEST CODING BYPASSES THE OMEGA MAGNITUDE TEST, BUT A CHANGE IN THE T
 01976 9EST BOUNDS COULD REQUIRE ITS USE AGAIN.
R0198            CCS    WCENTRAL        TEST ON MAGNITUDE OF OMEGA
R0199            AD     -.04438
R01991           TCF     +2
R01992           AD     -.04438
R0200            EXTEND
R0201            BZMF   ASFTEST         IF SMALL, GO TO ALPHA TEST
R0202            TCF    WLARGE
 02025           TCF    ASFTEST         OMEGA IS ALWAYS BOUNDED BY .65 DEG/SEC.
 0203   ACCDOTSM CAE    KCENTRAL        RESCALE IF ACCDOT IS SMALL
 0204            EXTEND
 0205            MP     BIT5            RESCALE K BY MULTIPLYING BY 2(4)
 0206            LXCH   KCENTRAL
 0207            CAE    KCENTRAL
 0208            EXTEND
 0209            SQUARE
 0210            TS     K2CNTRAL
 0211            CAF    BIT10           SET UP VARIABLE SCALE FACTORS
 0212            TS     SF1
 0213            CAF    BIT4
 0214  2         TCF    WSFTEST         GO TEST ON MAGNITUDE OF OMEGA
 0215   ASFTEST  CCS    ACENTRAL        TEST ON MAGNITUDE OF ALPHA
 0216            AD     -.08882
 02161           TCF     +2
 02162           AD     -.08882
 0217            EXTEND
 0218            BZMF   WARESCAL        IF SMALL, GO TO W,A RESCALING
 0219  2         TCF    WLARGE          IF LARGE, DO SAME AS IF W LARGE
R0220   -.04438  DEC    -.04438
 0221  2-.08882  DEC    -.08882
 0222   WARESCAL CAE    WCENTRAL        RESCALE OMEGA BY MULTIPLYING BY 2(4)
 0223            EXTEND
 0224            MP     BIT5
 0225  2         LXCH   WCENTRAL
 0226            CAE    ACENTRAL        RESCALE ALPHA BY MULTIPLYING BY 2(3)
 0227            EXTEND
 0228            MP     BIT4
 0229  2         LXCH   ACENTRAL
 0230  2         TCF    ALGORTHM
 0231   WLARGE   CAE    SF1             RESCALE VARIABLE SCALE FACTORS
 0232            EXTEND
 0233            MP     BIT13           SF1 = SF1*2(-2)
 0234            TS     SF1
 0235            CAE    SF2
 0236            EXTEND
 0237            MP     BIT6            SF2 = SF2*2(-9)
 0238  2         TS     SF2
 0239   ALGORTHM CAE    ETHETA          GET RESCALED ERROR THETA
 0240            EXTEND
 0241            MP     K2CNTRAL        FORM K(2)*THETA IN D.P.
 0242            EXTEND
 0243            MP     SF2             CALCULATE AND STORE
 0244  2         TS     K2THETA         K(2)*THETA*SF2 IN K2THETA
 0245            CA     WCENTRAL        CALCULATE AND STORE
 0246            EXTEND                 K*OMEGA*SF1 IN OMEGA.K
 0247            MP     KCENTRAL
 0248            EXTEND
 0249            MP     SF1
 0250  2         TS     OMEGA.K
 0251            CA     ACENTRAL
 0252            EXTEND                 BY REDESIGNATION OF THE SCALE FACTOR,
 0253            MP     A               THIS PRODUCT BECOMES ALPHA(2)/2
 0254  2         TS     A2CNTRAL        INSTEAD OF  ALPHA(2)
 0255            CCS    ACENTRAL
 0256            CA     A2CNTRAL
 0257            TCF     +2
 0258            CS     A2CNTRAL        NOW THE A REGISTER CONTAINS
 0259  2         AD     OMEGA.K         K*OMEGA + ALPHA*ABS(ALPHA)/2
 0260            CCS    A
 0261            CA     BIT1            DEL = SIGNUM(A) , (ZERO WHEN A IS ZERO),
 0262            TCF     +2             PLUS ONE OR MINUS ONE OTHERWISE.
 0263            CS     BIT1
 0264  2         TS     DEL
 0265            CCS    DEL
 0266            CA     OMEGA.K
 0267            TCF     +2
 0268            CS     OMEGA.K         DEL*OMEGA.K REPLACES OMEGA.K
 0269  2         TS     OMEGA.K
 0273            AD     A2CNTRAL        DEL*OMEGA.K + ALPHA(2)/2
 0274  2         XCH    FUNCTION        STORED IN FUNCTION
 0275            CA     A2CNTRAL
 0276            EXTEND                 CALCULATE ALPHA(2)/3
 0277            MP     .66667
 0278            AD     OMEGA.K
 0279            EXTEND
 0280            MP     ACENTRAL        K(2)*THETA+ALPHA*(DEL*OMEG.K+ALPHA(2)/3)
 0281  2         ADS    K2THETA         FIRST AND SECOND TERMS SUMMED HERE.
R02815 2THE FOLLOWING SECTION CALCULATES .707*DEL*FUNCTION(3/2) AND ADDS IT TO T
 02816 9HE OTHER TWO TERMS OF NEGUSUM.
 0282            CA     SR              CALL SEQUENCE FOR SPROOT REQUIRES THAT
 0283            AD     A               SR BE PRESERVED BY THE CALLER.
 0284            XCH    STORCDUY        THE KALMAN FILTER STORES INTO THE CELL
 0285            CA     FUNCTION        STORCDUY BEFORE USING IT OTHERWISE.
 0286            TC     SPROOT
 0287            LXCH   STORCDUY
 0288  2         LXCH   SR
 0289            EXTEND
 0290            MP     FUNCTION
 0291            XCH    STORCDUY
 0292            CCS    DEL
 0293            CA     .707GTS         THIS CELL CONTAINS SQUARE ROOT OF 1/2
 0294            TCF     +2
 0295            CS     .707GTS
 0296            EXTEND
 0297            MP     STORCDUY
 0298  2         AD     K2THETA         NEGUSUM IS COMPLETE.
 0299            CCS    A               SIGNUM(NEGUSUM) IS NEGATIVE OF THE SIGN
 0300            CA     BIT1            WHICH WILL BE ATTACHED TO THE NEW VALUE
 0301            TCF    POSDRIVE        OF Q(R)ACCDOT.
 0302  2         CS     BIT1
 0303   POSDRIVE INDEX  QRCNTR          SIGN OF NEW Q(R)ACCDOT OPPOSES THIS SIGN
 0396  2         TS     NEGUQ
 0397            COM
 0398            EXTEND                 SEND BACK JERK TERM
 0399            INDEX  ITEMP6
 0400            MP     ACCDOTQ
 0401            INDEX  ITEMP6
 0402            LXCH   QACDOTMP        STORE FOR 100 MS, THEN RELEASE TO FILTER
 0403            CCS    QRCNTR          LOOP COUNTER
 0404            TC     SLECTLAW        2ND PASS.  (FOR Q-AXIS)
R0405  2TRANSFORM JERKS BACK TO GIMBAL AXES.
 0406            CS     QACCDOT         SCALED AT PI/2(7), AND COMPLEMENTED.
 0407            EXTEND
 0408            MP     MR12            SCALED AT 2
 0409            TS     Y3DOT
 0410            CS     RACCDOT         SCALED AT PI/2(7), AND COMPLEMENTED.
 0411            EXTEND
 0412            MP     MR13            SCALED AT 2
 0413            ADS    Y3DOT
 0414  2         ADS    Y3DOT           SCALED AT PI/2(7)
 0415            CS     QACCDOT         SCALED AT PI/2(7), AND COMPLEMENTED.
 0416            EXTEND
 0417            MP     MR22            SCALED AT 1
 0418            TS     Z3DOT
 0419            CS     RACCDOT         SCALED AT PI/2(7), AND COMPLEMENTED.
 0420            EXTEND
 0421            MP     MR23            SCALED AT 1
 0422  2         ADS    Z3DOT           SCALED AT PI/2(7)
 0423            TC     WRCHN12         SEND GIMBAL DRIVES TO SERVOS
 0424  2         TCF    RESUME          WAIT UNTIL NEXT TRIM GIMBAL RUPT
R0425  2WAITLIST TASKS TO SET TRIM GIMBAL TURN OFF BITS.
 0426   OFFGIMQ  CAF    ZERO            SET Q-AXIS FLAG TO ZERO
 0427            TS     NEGUQ
 0428            TCF     +3
 0429   OFFGIMR  CAF    ZERO            SET R-AXIS FLAG TO ZERO
 0430            TS     NEGUR
 0431            TC     WRCHN12         FLAGS TO CHANNEL BITS
 0432  2         TCF    TASKOVER
R0433   THE WRCHN12 SUBROUTINE SETS BITS 9,10,11,12 OF CHANNEL 12 ON THE BASIS O
 0434  9F THE CONTENTS OF NEGUQ,NEGUR WHICH ARE
R0435  2THE NEGATIVES OF THE TRIM GIMBAL DESIRED DRIVES.
 0436   BGIM     OCTAL  07400
 0437  2CHNL12   EQUALS ITEMP6
 0442   WRCHN12  CCS    NEGUQ
 0443            CAF    BIT10
 0444            TCF     +2
 0445            CAF    BIT9
 0446  2         TS     CHNL12
 0447            CCS    NEGUR
 0448            CAF    BIT12
 0449            TCF     +2
 0450            CAF    BIT11
 0451  2         ADS    CHNL12          (STORED RESULT NOT USED AT PRESENT)
 04511           CS     BGIM
 04512           EXTEND
 04513           WAND   12
 04514           CA     CHNL12
 0452            EXTEND
 0453  2         WOR    12
 0454  2         TC     Q               SIMPLE RETURN ALWAYS
R0455   Q,R-TRANSF TRANSFORMS A Y,Z GIMBAL COORDINATE VARIABLE PAIR (IN A,L) TO
 0456  9PILOT COORDINATES (Q/R), RETURNED IN A.
R0457  2(THE MATRIX M FROM GIMBAL TO PILOT AXES IS ASSUMED TO BE DONE BY T4RUPT
 0458  9AND SCALED AT +1.)
 0459  2QRERAS   EQUALS ITEMP6
 0460   QTRANSF  LXCH   QRERAS          SAVE Z-AXIS VARIABLE
 0461            EXTEND
 0462            MP     M21             (Y-AXIS)*M21
 0463            XCH    QRERAS          SAVE, GET Z-AXIS VARIABLE
 0464            EXTEND
 0465            MP     M22             (Z-AXIS)*M22
 0466            AD     QRERAS          SUM = (Y-AXIS)*M21 + (Z-AXIS)*M22
 0467  2         TC     Q               RETURN WITH SUM IN A
 0468   RTRANSF  LXCH   QRERAS          SAVE Z-AXIS VARIABLE
 0469            EXTEND
 0470            MP     M31             (Y-AXIS)*M31
 0471            XCH    QRERAS          SAVE, GET Z-AXIS VARIABLE
 0472            EXTEND
 0473            MP     M32             (Z-AXIS)*M32
 0474            AD     QRERAS          SUM = (Y-AXIS)*M31 + (Z-AXIS)*M32
 0475  2         TC     Q               RETURN WITH SUM IN A
 04754  .66667   DEC    .66667
 04755  .707GTS  DEC    0.70711
 0476   (2/3)    DEC    0.66667
P0478  2SUBROUTINE: TGOFFCAL            MOD. NO. 1  DATE: AUGUST 22, 1966
R04781 2START CODING FOR MODULE 3 REMAKE, AUGUST 1967***START CODING FOR MODULE
 04782 93 REMAKE, AUGUST 1967*******************
R0479  2PROGRAM DESIGN BY: RICHARD D. GOSS (MIT/IL)
R0480  2PROGRAM IMPLEMENTATION BY: JONATHAN D. ADDELSTON (ADAMS ASSOCIATES)
R04805  MODIFIED 30 NOV 66, TO USE ACCDOTQ AND ACCDOTR.              CRAIG WORK
R04806 2MODIFIED AUGUST '67 TO CHANGE CALLING SEQUENCE AND MAKE MAXTIME ERASABLE
 04807 9          PETER WEISSMAN
R0481   THIS SUBROUTINE CALCULATES THE TRIM GIMBAL SHUTDOWN TIME FOR EITHER THE
 0482  9Q OR THE R AXIS (DEPENDING ON THE
R0483   CALLING SEQUENCE).  THIS TIME IS SCALED FOR IMMEDIATE USE BY A WAITLIST
 0484  9CALL AS SHOWN IN THE CALLING SEQUENCES.
R0485   IF THE TIME-TO-GO IS MORE THAN 'DRIVELIM', IT IS LIMITED TO 'MAXTIME'. I
 0486  9F
R0487   THE TIME-TO-GO IS LESS THAN TEN MILLISECONDS, THE SHUTDOWN IS PERFORMED
 0488  9IMMEDIATELY AND THE WAITLIST CALL IS
R0489  2BY-PASSED.
R0494   THESE TIME-TO-GO CALCULATIONS ARE DESIGNED TO DRIVE THE TRIM GIMBAL TO A
 0495  9 POSITION WHERE THE DESCENT ENGINE WILL
R0496   CAUSE NO ANGULAR ACCELERATION.  THIS SUBROUTINE IS CALLED ONLY FROM THE
 0497  9WAITLIST TASK CHEKDRIV WHICH IS
R0498   INITIATED ONLY WHEN THE TRIM GIMBAL CONTROL LAW HAS LOST CONTROL OF THE
 0499  9LEM VEHICLE ATTITUDE AND MUST RETURN TO
R0500  2THE USE OF REACTION CONTROL SYSTEM JETS.
R0501  2CALLING SEQUENCES:
A0502            CAF    ZERO            INDEX FOR Q-AXIS.
A0503            TC     TGOFFCAL
A0504            CAF    NEGMAX          RETURN HERE FOR NO Q DRIVE.
A0505  2         TS     (QTIME)         RETURN HERE WITH TIME IN A (DECASECONDS)
A0506            CAF    TWO             INDEX FOR R-AXIS.
A0507            TC     TGOFFCAL
A0508            CAF    NEGMAX          RETURN HERE FOR NO R DRIVE.
A0509  2         TS     (RTIME)         RETURN HERE WITH TIME IN A (DECASECONDS)
R0520  2SUBROUTINES CALLED: NONE, BUT WRCHNL12 IS CALLED AFTER BOTH TGOFFCALL CA
 0521  9LLS.
R0522  2NORMAL EXITS: TO WAITLIST CALL OR BEYOND 2CADR IN CALLING SEQUENCE AS SP
 0523  9ECIFIED ABOVE.
R0524  2ALARM OR ABORT EXIT MODES: NONE
R0525   INPUT: 1. THE AXIS INDEXER: 0 FOR Q, 2 FOR R (SEE CALLING SEQUENCES)
R0526          2. THE SIGNED TIME DERIVATIVE OF ACCELERATION (QACCDOT OR RACCDOT
 0527  9) SCALED AT PI/2(7) RAD/SEC(3).
R0528          3. THE ACCELERATION APPROXIMATION FROM THE DESCENT KALMAN FILTER
 0529  9TRANSFORMED TO PILOT AXES (ALPHAQ OR
R0530  2ALPHAR)  SCALED  AT PI/8 RAD/SEC(2).
R0531          4. CHANNEL 12 CONTAINS THE GIMBAL DRIVES AND OTHER BITS.
R0532   OUTPUT 5. THE NEGATIVE GIMBAL DRIVE FLAG (NEGUQ AND NEGUR) WHERE A +1 BI
 0533  9T REQUESTS POSITIVE GIMBAL DRIVE
R0534             (ANGULAR ACCELERATION DECREASING), A -1 BIT REQUESTS NEGATIVE
 0535  9GIMBAL DRIVE (ANG. ACC. INCREASING).
R05355            A ZERO INDICATES NO DRIVE.
R0536  2       6. TIME REQUIRED TO ZERO OFFSET, SCALED FOR Q(R)GIMTIMR.
R0537  2ERASABLE STORAGE CONFIGURATION (NEEDED BY THE INDEXING METHODS):
A0538   NEGUQ    ERASE   +2             NEGATIVE OF Q-AXIS GIMBAL DRIVE
A0539   (SPWORD) EQUALS NEGUQ +1        ANY S.P. ERASABLE NUMBER, NOW THRSTCMD
A0540  2NEGUR    EQUALS NEGUQ +2        NEGATIVE OF R-AXIS GIMBAL DRIVE
A0541   ACCDOTQ  ERASE   +2             Q-JERK TERM SCALED AT PI/2(7) RAD/SEC(3)
A0542   (SPWORD) EQUALS ACCDOTQ +1      ANY S.P. ERASABLE NUMBER  NOW QACCDOT
A0543   ACCDOTR  EQUALS ACCDOTQ +2      R-JERK TERM SCALED AT PI/2(7) RAD/SEC(3)
A0544                                   ACCDOTQ,ACCDOTR ARE MAGNITUDES.
A0545   ALPHAQ   ERASE   +2             Q-AXIS ACCELERATION SCALED AT PI/8 R/S2
A0546   (SPWORD) EQUALS ALPHAQ +1       ANY S.P. ERASABLE NUMBER, NOW OMEGAR
A0547   ALPHAR   EQUALS ALPHAQ +2       R-AXIS ACCELERATION SCALED AT PI/8 R/S2
A0548  2                                NOTE: NOW OMEGAP,OMEGAQ PRECEDE ALPHAQ
R0549  4DEBRIS: L, Q, ITEMP1, ITEMP2, ITEMP6
 0550   TGOFFCAL TS     QRNDXER         Q OR R AXIS INDEXER
 0551            INDEX  QRNDXER         GET JERK TERM MAGNITUDE SCALED AT
 0552            CAE    ACCDOTQ              PI/2(7) IN RADIANS/SEC(3).
 0553            EXTEND                 UNLESS THETA TRIPLE-DOT MAGNITUDE IS NON
 0554            BZMF   TGOFFNOW             -ZERO, SET DRIVE TO ZERO NOW.
 0555            TS     NZACCDOT        SAVE NON-ZERO DENOMINATOR.
 05551           INDEX  QRNDXER         INITIALIZE THE AOSTERM WHICH WILL BE UP-
 05552           CAE    ALPHAQ          DATED IN THE DUMMYFIL CALCULATION FOR
 05553           EXTEND                 USE IN THE QRAXIS RATE DERIVATION.  SET
 05554           MP     .1-.05K)        AOSTERM TO ALPHA*CSP*(1-.5*K), WHERE CSP
 05555           XCH    L               IS .1 SEC, K IS .5   THEN AOSTERM IS SET
 05556           CCS    QRNDXER         TO .075*ALPHA, SCALED AT PI/4,WHILE
 05557           INDEX  A               ALPHA IS SCALED AT PI/8( THE CONSTANT IS
 05558           LXCH   AOSQTERM        SCALED AT 2.
 0556            INDEX  QRNDXER         GET ACCELERATION SCALED AT PI/8
 0557            CAE    ALPHAQ               RAD/SEC(2).
 0558            EXTEND                 IF ACCELERATION IS ALREADY ZERO, EXIT.
 0559            BZF    TGOFFNOW        OTHERWISE, PROCEED WITH NON-ZERO ALPHA.
 0560            EXTEND                 SET NEGUQ TO THE SIGN OF ALPHA. THEN USE
 0561            BZMF   NEGALPH           THE MAGNITUDE OF ALPHA TO COMPUTE TIME
 0562            TS     ITEMP6
 0563            CAF    BIT1
 0564            TCF     +4
 0565   NEGALPH  CS     A
 0566            TS     ITEMP6
 0567            CS     BIT1
 0568            INDEX  QRNDXER         STORE THE DRIVE DIRECTION FLAG
 0569            TS     NEGUQ           TIME = MAGNITUDE OF (ALPHA/ACCDOT),
A05691                                  MINUS THE SIGN OF Q(R)ACCDOT LEFT IN A.
 05692           EXTEND                 STORE ACCDOT TO REFLECT THE CHANGE IN
 05693           INDEX  QRNDXER         GIMBAL DRIVE DIRECTION (POSSIBLE).  THIS
 05694           MP     ACCDOTQ         CAN BE ESSENTIAL FOR DUMMYFIL, IN CASE
 05695           INDEX  QRNDXER         Q(R)ACCDOT IS NOT INITIALIZED BEFORE
 05696           LXCH   QACCDOT         EXECUTING DUMMYFIL.
 05705           CAE    NZACCDOT        WILL ALPHA/ACCDOT EXCEED MAX DRIVE TIME?
 0571            EXTEND
 0572            MP     DRIVELIM        MAX DRIVE TIME AT 16 SEC (ERASABLE LOAD)
 0573            EXTEND
 0574            SU     ITEMP6          15*ACCDOT - ABS(ALPHA) AT PI/8
 0575            EXTEND
 0576  2         BZMF   USEMAX          LARGE T.  USE MAX DRIVE TIME INSTEAD.
 0577            CAE    ITEMP6          DRIVE  IME = ABS(ALPHA/ACCDOT)
 0578            EXTEND                 RESCALE QUOTIENT TO TIMER(ERASABLE LOAD)
 0579            INDEX  QRNDXER
 05795           MP     DRIVFACQ        (10 SCALED AT 2(10)) X (DAMPING FACTOR)
 0580            EXTEND
 0581  2         DV     NZACCDOT
 0582   ZEROTEST EXTEND                 BE SURE WAITLIST TIME IS GREATER THAN 0.
 0583  2         BZMF   TGOFFNOW
 0584  2         TCF    +2              IT IS, RETURN.
 0585   USEMAX   CAE    MAXTIME         USE MAXIMUM DRIVE TIME.
 0586    +2      INDEX  Q               RETURN TO Q+1 WITH TIME IN A.
 0588  2         TC     1
 0589   TGOFFNOW CAF    ZERO            MAKE SURE PLUS ZERO FOR DRIVE FLAG
 0590            INDEX  QRNDXER         TURN OFF DRIVE FLAG NOW
 0591            TS     NEGUQ
 0592  2         TC     Q               RETURN TO Q ( WITHOUT A DRIVE TIME).
 0593  2         TC     CCSHOLE           (FILLER)
R05931 2**END CODING FOR MODULE 3 REMAKE, AUGUST 1967*****END CODING FOR MODULE
 05932 93 REMAKE, AUGUST 1967*******************
 0594   QRNDXER  EQUALS ITEMP1          INDEXER FOR Q OR R AXIS
 0595   NZACCDOT EQUALS ITEMP2          TEMPORARY STORAGE FOR NON-ZERO ACCDOT
 0596   -2MINWL  DEC    -12000          - 2 MINUTES SCALED FOR WAITLIST
 0597   -2MIN256 DEC    -.46875         - 2 MINUTES SCALED AT 256
 0598   128/164  OCTAL  31000           128/163.84 CONVERTING 256 TO WAITLIST/2
 0599   .1-.05K) OCTAL  01146           .0375=.075 SCALED AT 2
R4000  2START CODING FOR MODULE 3 REMAKE, AUGUST 1967***START CODING FOR MODULE
 40001 93 REMAKE, AUGUST 1967*******************
 4001   TESTCNTR CCS    SIMPCNTR        USE BIGBOX FOR PASSCTR INITIALIZATION
 4002  2         TCF    BIGLOAD         UNTIL SIMPCNTR IS +0. THEN USE COUNTBOX.
 4003            CAE    COUNTBOX
 4004  2         TCF    LOADCNTR
 4005   BIGLOAD  CAE    BIGBOX
 4006  2         TCF    LOADCNTR
R4007  2**END CODING FOR MODULE 3 REMAKE, AUGUST 1967*****END CODING FOR MODULE
 40071 93 REMAKE, AUGUST 1967*******************
R4008  2THE NEXT FIVE CELLS ARE LEFT IN FOR SPACING.
 4022            ADS    FUNCTION +1     MULTIPLIER AS C(A).  MULTIPLY THESE AND
 4023            TS     L               USE ONLY HIGH ORDER PART OF PRODUCT.
 4024            TCF     +2             ADD S.P. LOW PRODUCT TO LOW PART OF HIGH
 4025            ADS    FUNCTION        PRODUCT.  CHECK OVERFLOW, CARRY, AND
 4026            TC     Q               RETURN.
L      2AOSTASK AND AOSJOB
R0001  2PROGRAM NAME: AOSTASK           MOD. NO. 1  DATE: NOVEMBER 20, 1966
R0002  2AUTHOR: JONATHAN D. ADDELSTON (ADAMS ASSOCIATES)
R0003   THIS "WAITLIST TASK" IS EXECUTED EVERY 2 SECONDS DURING ASCENT (APS) BUR
 0004  9NS.  IT ESTIMATES THE ACCELERATION DUE
R0005   TO THE ENGINE OFF-SET.  TO USE THESE ESTIMATES, IT ALSO CALCULATES TERMS
 0006  9 TO ADD INTO THE LM DAP RATE DERIVATION
R0007   AND WEIGHTING FACTORS FOR THE ESTIMATE OF AOS AND FOR THE RATE DERIVATIO
 0008  9N.  FINALLY, IT ALSO SETS UP "AOSJOB"
R0009  2THROUGH THE EXECUTIVE TO CALCULATE FUMCTIONS OF THE AOS.
R0010  2CALLING SEQUENCE:
A0011   L -1     CAF    2SECSDAP
A0012   L        TC     WAITLIST
A0013            EBANK= AOSQ
A0014   L +1, +2 2CADR  AOSTASK
A0015  2L +3    (RETURN)
R0016  2NORMAL EXIT MODE: "TASKOVER"    ALARM/ABORT MODE: NONE.
R0017   INPUT  APSGOING/DAPBOOLS
R0018          AOSQ,AOSR
R0019          COEFCTR
R0020          OLDWFORQ,OLDWFORR
R0021          SUMRATEQ,SUMRATER
R0022  2       OMEGAQ,OMEGAR
R0023   OUTPUT AOSQ,AOSR,AOSU,AOSV
R0024          AOSQTERM,AOSRTERM
R0025          SUMRATEQ,SUMRATER
R0026  2       KCOEFCTR
R0027  2DEBRIS: A,L,ITEMP1,ITEMP2.
R0028   THE FOLLOWING LM DAP ERASABLES ARE ZEROED IN THE STARTDAP SECTION OF THE
 0029  9 DAPIDLER PROGRAM AND THE COASTASC
R0030   SECTION OF THE AOSTASK.  THE ORDER MUST BE PRESERVED FOR THE INDEXING ME
 0031  9THODS WHICH ARE EMPLOYED IN THOSE
R0032  2SECTIONS AND ELSEWHERE.
A0033   AOSQ     ERASE   +3             ASCENT OFFSET ACCELERATION ESTIMATES:
A0034   AOSR     EQUALS AOSQ +1         ESTIMATED EVERY 2 SECONDS BY AOSTASK.
A0035   AOSU     EQUALS AOSQ +2         U,V-AXES ACCS FORMED BY VECTOR ADDITION.
A0036  2AOSV     EQUALS AOSQ +3         SCALED AT PI/2 RADIANS/SECOND(2).
A0037   AOSQTERM ERASE   +1             (.1-.05K)AOS
A0038  2AOSRTERM EQUALS AOSQTERM +1     SCALED AT PI/4 RADIANS/SECOND.
A0039   NJ+Q     ERASE   +7             2 JET OVER-RIDE FLAGS:
A0040   NJ-Q     EQUALS NJ+Q +1         WHENEVER THE OFFSET ACCELERATION ABOUT
A0041   NJ+R     EQUALS NJ+Q +2         AN AXIS IS SO HIGH THAT 2 JETS COULD NOT
A0042   NJ-R     EQUALS NJ+Q +3         CONTROL ATTITUDE SUCCESSFULLY, THEN NJ
A0043   NJ+U     EQUALS NJ+Q +4         FOR THAT AXIS (IN THE DIRECTION OPPOSING
A0044   NJ-U     EQUALS NJ+Q +5         AOS) IS SET TO 1.  OTHERWISE, THE VALUE
A0045   NJ+V     EQUALS NJ+Q +6         IS ZERO.  THESE FLAGS PREVENT TWO JETS
A0046   NJ-V     EQUALS NJ+Q +7         FROM BEING REQUESTED TO FIGHT THE AOS.
P0047   AOSTASK IS EXECUTED ONLY DURING POWERED ASCENT.  IF NO LONGER IN POWERED
 0048  9 ASCENT, STOP THE CYCLING OF AOSTASK AND
R0049  2SET UP VARIABLES FOR COASTING ASCENT.
 0050            BANK   20
 0051  2         EBANK= AOSQ
R0052  2KEEP TRACK OF LENGTH OF BURN FOR DETERMINATION OF WEIGHTING FACTOR K:
 0053   AOSTASK  CAE    KCOEFCTR        TEST KCOEFCTR FOR INITIAL PASS
 0054            EXTEND
 0055  2         BZF    ZEROCOEF        GO TO DISCONTINUITY SECTION FOR COEFFA.
 0056            AD     DEC-399         TEST KCOEFCTR FOR CONSTANT RANGE WHICH
 0057            EXTEND                 OCCURS WHEN DURATION OF BURN IS EQUAL TO
 0058            BZMF    +2             OR GREATER THAN 400 SECONDS.  (SINCE
 0059  2         TCF    KONENOW         KCOEFCTR IS EVEN, 399 IS THE BREAK PT.)
R0060  2FORM WEIGHTING FACTOR FOR ASCENT OFFSET ACCELERATION FILTER:  COEFFA = 0
 0061  9.00125(T) + 0.25
 0062            CAF    0.00125         COEFFA = 0.00125(T) + 0.25
 0063            EXTEND
 0064            MP     KCOEFCTR        KCOEFCTR = T SCALED AT 2(+14)
 0065            CAF    BIT13           (BIT13 = 1/4 = 0.25 SCALED AT 1.)
 0066            AD     L
 0067  2COEFFAST TS     COEFFA          (VOLATILE STORAGE.)
R0068  2FORM WEIGHTING FACTOR FOR RATE DERIVATION: K = 0.0014(T) + 0.44
 0069            CAF    0.0014          K = 0.0014(T) + 0.44
 0070            EXTEND
 0071            MP     KCOEFCTR        KCOEFCTR = T SCALED AT 2(+14)
 0072            CAF    0.44
 0073            AD     L
 0074            TS     K               (VOLATILE STORAGE.)
 0075            COM
 0076            AD     POSMAX          (1 BIT ERROR DOES DOES NOT COMPOUND.)
 0077  2         TS     (1-K)           (1-K) SCALED AT 1.
 0078            EXTEND
 0079            MP     BIT12
 0080  2         TS     (1-K)/8         (1-K)/8 IS (1-K) SCALED AT 8.
 0081            CAE    K               WFORP = WFORQR = K/DT = K/.1 = 10K
 0082            EXTEND                 SCALED AT 16/SECOND.
 0083            MP     0.625           (CHANGES SCALE FACTOR FROM 1 TO 16/SEC.)
 0084            TS     WFORP           WFORP IS IDENTICAL WFORQR EXCEPT FOR THE
 0085  2         TS     WFORQR          INITIALIZATION IN STARTDAP OF DAPIDLER.
 0086            CS     K               FORM (.1-.05K) FROM K SCALED AT 1 FOR
 0087            EXTEND                 THE TORQUE VECTOR RECONSTRUCTION AND
 0088            MP     0.05            ALSO FORM (.1-.05K) SCALED AT 1/2 FOR
 0089            AD     0.1             THE OFFSET ACCELERATION TERM IN THE RATE
 0090            DOUBLE                 EBANK6 FOR USE IN T5RUPT WHILE THE
 0091  2         TS     .1-.05K         LATTER IS VOLATILE AND USED IN THIS TASK
R0092  2BEGIN ESTIMATE OF OFFSET ACCELERATION FOR Q,R-AXES:
 0093   COEFFA1  CAE    COEFFA          FORM COEFFA(AOSQ):
 0094            EXTEND
 0095            MP     AOSQ            FIRST TERM OF NEW AOSQ ESTIMATE:
 0096  2         TS     AOSQ            SCALED AT PI/2 RADIANS/SECOND(2).
 0097            CAE    COEFFA          FORM COEFFA(AOSR):
 0098            EXTEND
 0099            MP     AOSR            FIRST TERM OF NEW AOSR ESTIMATE:
 0100  2         TS     AOSR            SCALED AT PI/2 RADIANS/SECOMD(2).
 0101            CS     COEFFA          FORM .5(1-COEFFA) SCALED AT 2 FROM THE
 0102            EXTEND                 COEFFA SCALED AT 1.  COEFFA IS NOW THE
 0103            MP     BIT13           SAME AS 2(COEFFA) SCALED AT 2, SO MUST
 0104            AD     BIT13           MULTIPLY BY 1/4 TO GET .5(COEFFA). THEN,
 0105  2         TS     .5-.5COF        ADD 1/4 AS 1/2 SCALED AT 2 FOR RESULT.
R0106  2FINISH OFFSET ACCELERATION ESTIMATES:
R0107   AOS  = COEFFA (AOS   ) + .5(1-COEFFA )(OMEGA -OMEGA   -SUMRATE )
R0108  2   T        T     T-2               T       T      T-2        T
 0109            CS     OMEGAQ          SAVE PRESENT -OMEGAQ FOR NEXT PASS AND
 0110            XCH    OLDWFORQ        PICK UP -(LAST OMEGAQ) FROM OLDWFORQ.
 0111            EXTEND
 0112            SU     SUMRATEQ        FORM: W - OLDW - SUMRATE = SUM (Q-AXIS).
 0113            AD     OMEGAQ          SCALED AT PI/4 RADIANS/SECOND.
 0114            EXTEND
 0115            MP     .5-.5COF        AOSQ = COEFFA(AOSQ)+.5(1-COEFFA)(SUMQ)
 0116  2         ADS    AOSQ            SCALED AT PI/2 RADIANS/SECOND(2).
 0117            CS     OMEGAR          SAVE PRESENT -OMEGAR FOR NEXT PASS AND
 0118            XCH    OLDWFORR        PICK UP -(LAST OMEGAR) FROM OLDWFORR.
 0119            EXTEND
 0120            SU     SUMRATER        FORM: W - OLDW - SUMRATE = SUM (R-AXIS).
 0121            AD     OMEGAR          SCALED AT PI/4 RADIANS/SECOND.
 0122            EXTEND
 0123            MP     .5-.5COF        AOSR = COEFFA(AOSR)+.5(1-COEFFA)(SUMR)
 0124  2         ADS    AOSR            SCALED AT PI/2 RADIANS/SECOND(2).
R0125  2CALCULATE THE OFFSET ACCELERATIONS FOR THE U,V-AXES:
 0126            CAE    AOSQ            FIRST, CALCULATE AOSU:
 0127            AD     AOSR
 0128            EXTEND
 0129            MP     0.70711
 0130  2         TS     AOSU            SCALED AT PI/2 RADIANS/SECOND(2).
 0131            CS     AOSQ            THEN, CALCULATE AOSV:
 0132            AD     AOSR
 0133            EXTEND
 0134            MP     0.70711
 0135  2         TS     AOSV            SCALED AT PI/2 RADIANS/SECOND(2).
R0136  2FORM TERMS FOR RATE DERIVATION:
 0137            CAE    .1-.05K         FORM Q-AXIS RATE DERIVATION TERM:
 0138            EXTEND
 0139            MP     AOSQ            AOSQTERM = (.1-.05K)AOSQ
 0140  2         TS     AOSQTERM        SCALED AT PI/4 RADIANS/SECOND.
 0141            CAE    .1-.05K         FORM R-AXIS RATE DERIVATION TERM:
 0142            EXTEND
 0143            MP     AOSR            AOSRTERM = (.1-.05K)AOSR
 0144  2         TS     AOSRTERM        SCALED AT PI/4 RADIANS/SECOND.
R0145  2SET ERASABLES FOR NEXT 2 SECOND INTERVAL:
 0146            CAF    TWO             INCREMENT BURN DURATION TIMER BY 2 SECS.
 0147  2         ADS    KCOEFCTR
 0148            EXTEND                 SET UP SUMRATES
 0149            DCS    SAVRATEQ
 0150  2         DXCH   SUMRATEQ
 0151            TCF    NOQRSM
R0152  2SPECIAL DISCONTINUITY SECTION FOR COEFFA ON FIRST PASS:
 0153   ZEROCOEF CAF    TWO             INITIALIZE BURN DURATION TIMER TO TWO
 0154  2         TS     KCOEFCTR        SECONDS FOR THE DERIVATION OF K.
 0155            CAF    ZERO            FOR THE FIRST PASS, SET COEFFA TO ZERO
 0156  2         TCF    COEFFAST        SINCE AOS ESTIMATES ARE NOW USELESS.
R0157  2SPECIAL K AND COEFFA SETTINGS FOR BURNS LASTING 400 SECONDS OR MORE:
 0158   KONENOW  EXTEND                 K=1, SO 1-K AT EITHER SCALING IS ZERO.
 0159            DCA    DPZEROX         (1-K)   SCALED AT 1.
 0160  2         DXCH   (1-K)           (1-K)/8 SCALED AT 8.
 0161            CAF    0.625           WFORP = WFORQR = K/DT = K/.1 = 10K = 10
 0162            TS     WFORP           SCALED AT 16/SECOND.
 0163  2         TS     WFORQR
 0164            CAF    0.1             (.1-.05K) = 0.05 SINCE K = 1.
 0166  2         TS     .1-.05K         SCALED AT 1/2. (VOLATILE STORAGE.)
 0167            CAF    BIT13-14        COEFFA = 0.75
 0168  2         TS     COEFFA          SCALED AT 1.   (VOLATILE STORAGE.)
 0169  2         TCF    COEFFA1         GO BEGIN OFFSET ACCELERATION ESTIMATE.
R0170  2CONSTANTS FOR AOSTASK:
 01705           OCT    0               TO PRESERVE LOCATION OF 1/ACCS.
 0171   0.00125  DEC    0.00125
 0172   0.0014   DEC    0.0014
 0173   0.00444  DEC    0.00444
 0174   0.05     DEC    0.05
 0175   0.1      DEC    0.1
 0176   0.3125   DEC    0.3125
 0177   0.44     DEC    0.44
 0178   0.625    DEC    0.625
 0179   0.70711  DEC    0.70711
 0180   DEC-399  DEC    -399
 0181   DPZEROX  2DEC   0
 0182   2SECSDAP DEC    200
 0183   (1-K)S   DEC    0.5
 0184            DEC    0.0625
P0185  2PROGRAM NAME: WCHANGER          MOD. NO. 0  DATE: DECEMBER 9, 1966
R0186   THIS PROGRAM IS A WAITLIST TASK WHICH IS INITIATED FROM THE STARTDAP SEC
 0187  9TION OF DAPIDLER.  IT IS EXECUTED
R0188   BETWEEN THE FIRST Q,R-AXES T5RUPT AND THE SECOND P-AXIS T5RUPT (I.E. 180
 0189  9 MS AFTER STARTDAP).  THE PURPOSE OF
R0190   WCHANGER IS TO RESET THE VARIABLE K (IN ALL ITS FORMS) FOR THE RATE DERI
 0191  9VATION FROM 1 TO 0.5.  (IT ALSO SETS THE
R0192  2NOMINAL LM DAP DT TO 100 MS.)
R0193  2CALLING SEQUENCE (FROM STARTDAP):
A0194   L -1     CAF    180MS
A0195   L        TC     WAITLIST
A0196            EBANK= WFORQR
A0197   L +1     2CADR  WCHANGER
A0198   L +2    (BBCON)
A0199  2L +3    (RETURN)
R0200  2SUBROUTINES CALLED: WCHANGE.    NORMAL EXIT: TASKOVER.
R0201  2INPUT: NONE.                    ALARM/ABORT EXITS: NONE.
R0202  2OUTPUT: WFORP,WFORQR,(1-K),(1-K)/8.
 0203   WCHANGER TC     IBNKCALL        (WAITLIST TASK IS IN T3RUPT.)
 0204            FCADR  WCHANGE         SUBROUTINE DOES SETTING TO SAVE SPACE.
R0205   WE RETURN FROM WCHANGE WITH RANDOM EBANK, BUT WHO CARES.
 0206            TCF    TASKOVER        END THIS TASK.
P0207   INERPOLY COMPUTES IXX, IYY, IZZ, AND IN DESCENT, L,PVT-CG, ACCDOTQ, ACCD
 0208  9OTR,KQ,KQ2, KRDAP, KR2..
R0209   AFTER THE INERTIAS ARE COMPUTED, THEY ARE USED TO COMPUTE NEW VALUES OF
R0210   1JACC, 1JACCQ, 1JACCR, 1JACCU, 1JACCV AND 1/2JTSP.
R0211  4INERPOLY EXITS BY .... TCF ENDOFJOB
 0212            BANK   26
 0213            EBANK= IXX
 0214   1/ACCS   CA     BIT2
 0215            EXTEND
 0216            RAND   30
 0217            CCS    A               CHOOSES ASCENT OR DESCENT COEF
 0218            CS     THREE
 0219            AD     SIX
 0220  2         TS     INERCTRX
 0221            CAF    TWO
 0222  2STCTR    TS     INERCTR         J=2,1,0 FOR IZZ,IYY,IXX
 0223            EXTEND
 0224  2         DIM    INERCTRX        JX=5,4,3 OR 2,1,0 FOR Z,Y,X COEF
 0225   STCTR1   CA     MASS            IN KGS (+15)
 0226            EXTEND
 0227            INDEX  INERCTRX
 0228            MP     INERCONC
 0229            INDEX  INERCTRX
 0230            AD     INERCONB
 0231            EXTEND
 0232            MP     MASS
 0233            INDEX  INERCTRX
 0234            AD     INERCONA
 0235            INDEX  INERCTR
 0236            TS     IXX             I(J)=(C(JX)MASS+B(JX))MASS+A(JX)  (+18)
A0237  2                                I(-1)=L,PVT-CG  (+6)
 0238            CCS    INERCTR         COUNTER 2,1,0,-1
 0239            TCF    STCTR
 0240            TCF    COMMEQS
 0241  2         TCF    LRESC
 0242   COMMEQS  EXTEND
 0243            DCA    TORKJET         500 FT-LBS. (+16) PI
 0244            EXTEND
 0245            DV     IXX
 0246  2         TS     1JACC           SCALED BY PI/4
 0247            EXTEND
 0248            DCA    TORKJET1        550 FT-LBS. (+16) PI
 0249            EXTEND
 0250            DV     IYY
 0251  2         TS     1JACCQ          SCALED BY PI/4
 0252            EXTEND
 0253            DCA    TORKJET1        550 FT-LBS. (+16) PI
 0254            EXTEND
 0255            DV     IZZ
 0256  2         TS     1JACCR          SCALED BY PI/4
 0257            AD     1JACCQ
 0258            EXTEND
 0259            MP     0.35356         .70711 SCALED BY (+1)
 0260            TS     1JACCU
 0261  2         TS     1JACCV          SCALED BY PI/4
 0262            CAF    4JTORK
 0263            TS     TEMPINER
 0264            CAE    IXX
 02645           ZL
 0265            EXTEND
 0266            DV     TEMPINER
 0267            DOUBLE
 0268  2         TS     1/2JTSP         SCALED BY 1/PI (+8)
 0269            CAF    BIT2
 0270            EXTEND
 0271            RAND   30
 0272            CCS    A               COMPUTE L,PVT-CG IF IN DESCENT
 0273            TCF    DES
 0274            TCF    CONT1/AC
 0275   DES      CS     ONE
 0276            TS     INERCTR
 0277            TS     INERCTRX
 0278  2         TCF    STCTR1
 0279   LRESC    CA     TEMPINER        SCALED AT (+6)
 0280            EXTEND
 0281            MP     BIT4
 0282  2         LXCH   L,PVT-CG        SCALED AT 2(+3)
 0283            CA     GFACT
 0284  2         TS     MPAC            FOR DIVISION LATER
R0285   THIS SECTION COMPUTES THE RATE OF CHANGE OF ACCELERATION DUE TO THE ROTA
 0286  9TION OF THE GIMBALS.  THE EQUATION IMPLE
R0287   MENTED IN BOTH THE Y-X PLANE AND THE Z-X PLANE IS --  D(ALPHA)/DT = TL/I
 0288  9*D(DELTA)/DT , WHERE
R0289        T = ENGINE THRUST FORCE
R0290        L = PIVOT TO CG DISTANCE OF ENGINE
R0291  2     I = MOMENT OF INERTIA
 0292            EBANK= ABDELV
 0293            CA     EBANK5          CHANGE EBANK TO GET ABDELV
 0294            LXCH   A               THIS IS NECESSARY TO PRESERVE A WHILE
 0295  2         LXCH   EBANK           SWITCHING EBANKS
 0296            CAE    ABDELV          SCALED AT 2(13) CM/SEC(2)
 0297  2         LXCH   EBANK           RESTORE EBANK LEAVING A UNHARMED
 0298  2         EBANK= IXX
 0299            EXTEND
 0300            MP     MASS            SCALED AT 2(15) KG.
 0301            EXTEND
 0302            DV     MPAC            CONTAINS GFACT
R0303   MASS IS DIVIDED BY ACCELERATION OF GRAVITY IN ORDER TO MATCH THE UNITS O
 0304  9F IXX,IYY,IZZ, WHICH ARE SLUG-FT(2).
R0305   THE RATIO OF ACCELERATION FROM PIPAS TO ACCELERATION OF GRAVITY IS THE S
 0306  9AME IN METRIC OR ENGINEERING UNITS, SO
R0307  2THAT IS UNCONVERTED.  2.20462 CONVERTS KG. TO LB.  NOW T IS IN A SCALED
 0308  9AT 2(14).
 0309            EXTEND
 0310            MP     DELDOT26        .2 DEG/SEC AT PI/64 RADIANS/SECOND
 0311            EXTEND
 0312            MP     L,PVT-CG        SCALED AT 8 FEET.
 0313            INHINT
 0314            DXCH   MPAC            SINCE THIS IS A JOB, MPAC IS AVAILABLE
 0315            EXTEND
 0316            DCA    MPAC
 0317            EXTEND
 0318            DV     IZZ             SCALED AT 2(18) SLUG-FT(2)
 0319            TS     ACCDOTR         SCALED AT PI/2(7)
 0320            EXTEND
 0321            DCA    MPAC
 0322            EXTEND
 0323            DV     IYY             SCALED AT 2(18) SLUG-FT(2)
 0324            TS     ACCDOTQ         SCALED AT PI/2(7)
 0325            EXTEND
 0326            MP     DGBF            .3ACCDOTQ SCALED AT PI/2(8)
 0327            TS     KQ
 0328            EXTEND
 0329            SQUARE
 0330  2         TS     KQ2             KQ(2)
 0331            CAE    ACCDOTR         .3ACCDOTR AT PI/2(8)
 0332            EXTEND
 0333            MP     DGBF
 0334            TS     KRDAP
 0335            EXTEND
 0336            SQUARE
 0337  2         TS     KR2
 033702          EXTEND                 NOW COMPUTE QACCDOT, RACCDOT, THE SIGNED
 033704          READ   12              JERK TERMS.  STORE CHANNEL 12, WITH GIM
 033706          TS     MPAC +1         BAL DRIVE BITS 9 THROUGH 12.  SET LOOP
 033708          CAF    BIT2            INDEX TO COMPUTE RACCDOT, THEN QACCDOT.
 033710          TCF    LOOP3
 033712          CAF    ZERO            ACCDOTQ AND ACCDOTR ARE NOT NEGATIVE,
 033714 LOOP3    TS     MPAC            BECAUSE THEY ARE MAGNITUDES
 033716          CA     MPAC +1
 033718          INDEX  MPAC            MASK CHANNEL IMAGE FOR ANY GIMBAL MOTION
 033720          MASK   GIMBLBTS
 033722          EXTEND
 033724          BZF    ZACCDOT         IF NONE, Q(R)ACCDOT IS ZERO.
 033726          CA     MPAC +1
 033728          INDEX  MPAC            GIMBAL IS MOVING.  IS ROTATION POSITIVE.
 033730          MASK   GIMBLBTS +1
 033732          EXTEND
 033734          BZF    FRSTZERO        IF NOT POSITIVE, BRANCH
 033736          INDEX  MPAC            POSITIVE ROTATION, NEGATIVE Q(R)ACCDOT.
 033738          CS     ACCDOTQ
 033740          TCF    STACCDOT
 033742 FRSTZERO INDEX  MPAC            NEGATIVE ROTATION, POSITIVE Q(R)ACCDOT.
 033744          CA     ACCDOTQ
 033746          TCF    STACCDOT
 033748 ZACCDOT  CAF    ZERO
 033750 STACCDOT INDEX  MPAC
 033752          TS     QACCDOT         STORE Q(R)ACCDOT, COMPLEMENTED.
 033754          CCS    MPAC
 033756          TCF    LOOP3 -1        NOW DO QACCDOT.
 033758          TCF    +5              LOOP COMPLETED.  RELINT IS SAFE NOW.
 033760 GIMBLBTS OCTAL  01400
 033762          OCTAL  00400           BECAUSE OF TRIM GIMBAL POLARITY CHANGE,
 033764          OCTAL  06000           THESE BIT VALUES CAUSE Q(R)ACCDOT TO BE
 0337662         OCTAL  02000           GENERATED WITH INVERTED SIGN.
 0338  2         RELINT
 0339   CONT1/AC EXTEND
 0340            DCA    CONTCADR
 0341            DTCF
 0342            DEC    0.99191
 0343   INERCONC DEC    -.00071
 0344            DEC    -.78952
 0345            DEC    -.79009
 0346            DEC    0.00249
 0347            DEC    -.61154
 0348            DEC    -.60892
 0349            DEC    -.79812
 0350   INERCONB DEC    0.17497
 0351            DEC    0.69605
 0352            DEC    0.65726
 0353            DEC    0.18347
 0354            DEC    0.15660
 0355            DEC    0.33662
 0356            DEC    0.20239
 0357   INERCONA DEC    0.00064
 0358            DEC    -.06778
 0359            DEC    -.04904
 0360            DEC    -.00192
 0361            DEC    0.00211
 0362            DEC    -.01324
 0363   TORKJET  2DEC   0.002428512
 0364   TORKJET1 2DEC   0.002671365
 0365   4JTORK   DEC    .62170
 0366   DGBF     DEC    0.6             .3 SCALED AT 1/2
 0367  40.35356  DEC    0.35356         0.70711 SCALED AT +1
 0368   CONTCADR 2FCADR 1/ACCONT
 0369   GFACT    OCTAL  00674           979.24/2.20462 SCALED AT 2(14)
 0370   DELDOT26 DEC    .07111          0.2 DEG/SEC SCALED AT PI/64 RAD/SEC
P0371   PROGRAM NAME: 1/ACCONT          MOD. NO. 2  DATE: JANUARY 9, 1967
R0372  2PROGRAM DESIGN BY: RICHARD D. GOSS (MIT/IL)
R0373  2IMPLEMENTATION BY: JONATHAN D. ADDELSTON (ADAMS ASSOCIATES)
R0374   LAST MODIFICATION BY: JONATHAN D. ADDELSTON
R0375  2THIS PROGRAM IS PART OF AN EXECUTIVE JOB AND CALCULATES:
R0376            1. THE INVERSES OF THE NET ACCELERATIONS ABOUT ALL AXES (Q,R,U,
 0377  9V), IN ALL DIRECTIONS (+/-), AND ALL
R0378               COMBINATIONS OF JETS (2/4 FOR Q,R AND 1/2 FOR U,V).
R0379            2. THE INVERSES OF THE MINIMUM ACCELERATIONS FOR THE URGENCY AN
 0380  9D TJETLAW COMPUTATION, DURING APS BURNS.
R0381            3. THE INITIAL INVERSE NET ACCELERATIONS USED FOR THE URGENCY C
 0382  9OMPUTATION, DURING APS BURNS.
R0383  2         4. THE NJ FLAGS TO REQUIRE MANDATORY JET ACCELERATION DURING AP
 0384  9S BURNS.
R0385  2SUBROUTINES CALLED: INVACC.
R0386  2CALLING SEQUENCE: CONTROL IS TRANSFERRED HERE FROM 1/ACCS SECTION.
R0387  2NORMAL EXIT: ENDOFJOB.          ALARM/ABORT EXITS: NONE.
R0388  2INPUT: AOSQ,AOSR,AOSU,AOSV,1JACCQ,1JACCR,1JACCU,1JACCV,APSGOING/DAPBOOLS
 0389  9.
R0390  8DEBRIS: NONE.
 0391            BANK   20
 0392  2         EBANK= AOSQ
R0393  2SET UP LOOP FOR FOUR AXES (IN THE ORDER: V,U,R,Q):
 0394   1/ACCONT CAF    THREE           JOBAXES IS USED TO PICK UP ONE OF FOUR.
 0395  2INVLOOP  TS     JOBAXES         ADJACENT REGISTERS, ALSO TO COUNT LOOP.
R0396  2SET UP "TABPLACE" TO STORE 1/NETACC TABLE:
 0397            EXTEND                 TABPLACE = 4(JOBAXES)
 0398            MP     FOUR            SINCE THERE ARE FOUR ENTRIES PER AXIS.
 0399  2         LXCH   TABPLACE
R0400                                                        2
R0401              2(1JACC   ) + AOS    - 0.02 RADIANS/SECOND  GREATER THAN ZERO
R0402                     Q,R       Q,R
R0403           OR                                           2
R0404                1JACC     + AOS    - 0.02 RADIANS/SECOND  GREATER THAN ZERO
R0405  2                  U,V       U,V
 0406            INDEX  JOBAXES         THE INDEXED PICK-UP OF JET ACCELERATIONS
 0407            CAE    1JACCQ          USES THE FOLLOWING HAPPY COINCIDENCE:
 0408            TS     TEMPACC         1JACCU AND 1JACCV ARE SCALED AT PI/2 AS
 0409            INDEX  JOBAXES         ARE AOSU AND AOSV.  1JACCQ AND 1JACCR
 0410            AD     AOSQ            ARE SCALED AT PI/4 AND THEREFORE ARE
 0411            TS     TEMPNET         EQUIVALENT TO 2(1JACCQ) AND 2(1JACCR)
 0412            AD     -.02R/S2        SCALED AT PI/2, AS ARE AOSQ AND AOSR.
 0413            EXTEND
 0414  2         BZMF   FIFTY1          (BRANCH FOR CONSTANT VALUE OF INVERSE.)
R0415               1/NET+2    = 1/( 2(1JACC   ) + AOS   )
R0416                      Q,R              Q,R       Q,R
R0417           OR
R0418               1/NET+1    = 1/(   1JACC    + AOS   )
R0419  2                   U,V              U,V      U,V
 0420            TC     INVACC
 0421   FIFTY1R  INDEX  TABPLACE
 0422  2         TS     1/NET+2Q        SCALED AT 2(+8)/PI SECONDS(2)/RADIAN.
R0423                                                        2
R0424              2(1JACC   ) - AOS    - 0.02 RADIANS/SECOND  GREATER THAN ZERO
R0425                     Q,R       Q,R
R0426           OR                                           2
R0427                1JACC     - AOS    - 0.02 RADIANS/SECOND  GREATER THAN ZERO
R0428  2                  U,V       U,V
 0429            INDEX  JOBAXES         THIS SECTION USES THE INDEXING TRICKS OF
 0430            CS     AOSQ            THE FIRST PART (ABOVE), BUT USES THE
 0431            TS     TEMPAOS         TEMPORARY LOCATIONS AS FOLLOWS:
 0432            AD     TEMPACC         "TEMPAOS" SAVES -AOS FOR THIS AXIS.
 0433            TS     TEMPNET         "TEMPACC" HAS THE JET ACCELERATION.
 0434            AD     -.02R/S2        C(TEMPNET) ARE (JETACC-AOS) FOR DENOM.
 0435            EXTEND
 0436  2         BZMF   FIFTY2          (BRANCH FOR CONSTANT VALUE OF INVERSE.)
R0437              1/NET-2     = 1/( 2(1JACC  ) - AOS   )
R0438                     Q,R              Q,R       Q,R
R0439           OR
R0440              1/NET-1     = 1/(   1JACC     - AOS   )
R0441  2                  U,V               U,V       U,V
 0442            TC     INVACC
 0443   FIFTY2R  INDEX  TABPLACE
 0444  2         TS     1/NET-2Q        SCALED AT 2(+8)/PI SECONDS(2)/RADIAN.
R0445              1/NET-4    = 1/( 4(1JACC   ) - AOS   )
R0446                     Q,R              Q,R       Q,R
R0447           OR
R0448              1/NET-2    = 1/( 2(1JACC   ) - AOS   )
R0449  2                  U,V              U,V       U,V
 0450            CAE    TEMPACC         FIRST, FROM 2(1JACCQ,R) FORM 4(1JACCQ,R)
 0451            DOUBLE                 OR FROM 1JACCU,V FORM 2(1JACCU,V) AND
 0452            TS     TEMPACC         SAVE FOR NEXT INVERSE CALCULATION.
 0453            AD     TEMPAOS         THEN, COMPUTE EITHER 4(1JACCQ,R)-AOSQ,R
 0454  2         TS     TEMPNET         OR 2(1JACCU,V)-AOSU,V SCALED AT PI/2.
 0455            TC     INVACC
 0456            INDEX  TABPLACE
 0457  2         TS     1/NET-4Q        SCALED AT 2(+8)/PI SECONDS(2)/RADIAN.
R0458              1/NET+4    = 1/( 4(1JACC   ) + AOS   )
R0459                     Q,R              Q,R       Q,R
R0460           OR
R0461              1/NET+2    = 1/( 2(1JACC   ) + AOS   )
R0462  2                  U,V              U,V       U,V
 0463            CS     TEMPAOS         FIRST, COMPUTE EITHER 4(1JACCQ,R)+AOSQ,R
 0464            AD     TEMPACC         OR 2(1JACCU,V)+AOSU,V AND SAVE FOR THE
 0465  2         TS     TEMPNET         DIVISION (SCALED AT PI/2 RADIANS/SECOND)
 0466            TC     INVACC
 0467            INDEX  TABPLACE
 0468  2         TS     1/NET+4Q        SCALED AT 2(+8)/PI RADIANS(2)/SECOND.
R0469  2TEST FOR END OF LOOP:
 0470            CCS    JOBAXES         IF "JOBAXES" PNZ, CONTINUE.
 0471  2         TCF    INVLOOP         IF "JOBAXES" ZERO, STOP.
R0472  2TEST FOR ASCENT PROPULSION SYSTEM BURN:
 0473            CAF    APSGOING        IF LM IS IN COAST OR IN A DESCENT BURN,
 0474            MASK   DAPBOOLS        THEN THE AOSJOB IS TRIVIAL FROM HERE
 0475            CCS    A               AND THIS TEST REDUCES THE COMPUTATION
 0476  2         TCF    ASCJOB          TIME IN THOSE CASES.
R0477  2FILL IN DESCENT BURN OR COAST VALUES QUICKLY:
 0478            CAE    1/NET+2Q        FOR Q-AXIS URGENCY.
 0479            TS     1/ACCQ
 0480            CAE    1/NET+2R        FOR R-AXIS URGENCY.
 0481  2         TS     1/ACCR
 0482            INHINT
 0483   POPNONJ  CS     DAPBOOLS        SET BIT TO INDICATE DATA GOOD.
 0484            MASK   DATAGOOD
 0485            ADS    DAPBOOLS
 0486            TCF    ENDOFJOB        END THIS ITERATION OF AOSJOB.
P0487  2IN ASCENT BURN, SO SET UP Q,R-AXES LOOP:
 0488   ASCJOB   CAF    THREE           SET UP THE TABLE INDICES:
 0489   QRJOB    TS     JOBAXES
 0490            DOUBLE                 AOS TABLE USES "JOBAXES"  (ADJACENT).
 0491            TS     NJPLACE         NJ  TABLE USES "NJPLACE"  (ONE APART).
 0492            DOUBLE                 NET TABLE USES "TABPLACE" (THREE APART).
 0493  2         TS     TABPLACE
R0494                                           2
R0495   TEST ABVAL(AOS   ) - 0.02 RADIANS/SECOND  GREATER THAN ZERO:
R0496  2              Q,R
 0497            INDEX  JOBAXES         FORM ABVAL(AOS   ) AND SAVE FOR INVACC.
 0498            CCS    AOSQ                          Q,R
 0499            AD     ONE
 0500            TCF     +2
 0501            AD     ONE
 0502            TS     TEMPNET
 0503            AD     -.02R/S2        -0.02 RADIANS/SECOND(2) AT PI/2
 0504            EXTEND
 0505  2         BZMF   FIFTY3          (BRANCH FOR CONSTANT VALUE OF INVERSE.)
R0506   CALCULATE 1/AMIN    = 1/ABVAL(AOS   ):
R0507  2                Q,R              Q,R
 0508            TC     INVACC          (USE SUBROUTINE FOR INVERSE.)
 0509   FIFTY3R  INDEX  JOBAXES
 0510  2         TS     1/AMINQ         SAVE FOR USE BY URGENCY CALCULATIONS.
 0511            CS     JOBAXES         2 - C(JOBAXES) CAUSES A BRANCH ONLY WHEN
 0512            AD     TWO             C(JOBAXES) = 3 OR 2, I.E. WHEN DOING
 0513            EXTEND                 U- OR V-AXIS PASS OF LOOP ONLY SET UP
 0514  2         BZMF   UVNEXT          1/AMINU OR 1/AMINV, RESPECTIVELY.
R0515                                                         2
R0516   TEST 2(1JACC   ) - ABVAL(AOS   ) - 0.06 RADIANS/SECOND  GREATER THAN ZER
 0517  9O:
R0518  2            Q,R             Q,R
 0519            CS     TEMPNET         "TEMPNET" IS ABVAL(AOSQ,R).
 0520            INDEX  JOBAXES         SAVE -ABVAL(AOSQ,R) FOR USE IN THE
 0521            TS     ABVLAOSQ        U,V-AXIS NJ COMPUTATION BELOW.
 0522            AD     -.06R/S2        -0.06 RADIANS/SECOND(2) SCALED AT PI/2.
 0523            INDEX  JOBAXES
 0524            AD     1JACCQ          "1JACCQ,R" SCALED AT PI/4 RAD/SEC(2) ARE
 0525            EXTEND                 2(1JACCQ,R) SCALED AT PI/2 RAD/SEC(2).
 0526  2         BZMF   OVERRIDE
R0527  2SET FLAG NOT TO REQUEST MANDATORY FOUR JET OPERATION FOR +Q,+R ROTATION
 0528  9DURING THIS APS BURN (FOR NOW):
 0529            CAF    ZERO            NJ = 0 ALLOWS THE URGENCY FUNCTIONS TO
 0530            INDEX  NJPLACE         ACTUALLY SELECT 2 JET ROTATION AS THE
 0531  2         TS     NJ+Q            OPTIMAL POLICY.
R0532   TEST SIGN(AOS   ):
R0533  2             Q,R
 0534            INDEX  JOBAXES         THE SIGN OF AOSQ,R DETERMINES THE RATIO
 0535            CAE    AOSQ            TO BE COMPUTED AS THE CORRECTION FACTOR
 0536            EXTEND                 IN THE URGENCY FUNCTION CALCULATION AND
 0537  2         BZMF   URGRAT2         ALSO SPECIFIES THE CORRECT NJ VALUES.
R0538  2FIRST CASE FOR URGENCY RATIO:
 0539   URGRAT1  INDEX  TABPLACE        CHOOSE THE -2 JET NET ACCELERATION
 0540            CAE    1/NET-2Q        INVERSE FOR USE IN URGENCY COMPUTATION.
 0541            INDEX  JOBAXES
 0542  2         TS     1/ACCQ
 05425           ZL                     PREVENT OVERFLOW FOR SMALL AOSQS
 0543            INDEX  TABPLACE
 0544            CAE    1/NET+2Q                1/NET+2Q,R
 0545            EXTEND                 RATIO = ----------
 0546            INDEX  TABPLACE                1/NET-2Q,R
 0547            DV     1/NET-2Q
 0548            INDEX  JOBAXES
 0549  2         TS     URGRATQ
 0550  2         TCF    SWITNJS         GO TO SET NJS.
R0551  2SECOND CASE FOR URGENCY RATIO:
 0552   URGRAT2  INDEX  TABPLACE        CHOOSE THE +2 JET NET ACCELERATION
 0553            CAE    1/NET+2Q        INVERSE FOR USE IN URGENCY COMPUTATION.
 0554            ZL                     PREVENT OVERFLOW ON ZERO BZMF BRANCH.
 0555            INDEX  JOBAXES
 0556  2         TS     1/ACCQ
 0557            INDEX  TABPLACE
 0558            CAE    1/NET-2Q                1/NET-2Q,R
 0559            EXTEND                 RATIO = ----------
 0560            INDEX  TABPLACE                1/NET+2Q,R
 0561            DV     1/NET+2Q
 0562            INDEX  JOBAXES
 0563  2         TS     URGRATQ
 0564  2         TCF    NXTNJZER        GO TO SET NJS.
R0565  2SET FLAG TO INDICATE MANDATORY USE OF FOUR JETS TO FIGHT THE OFFSET ACCE
 0566  9LERATION:
 0567  2OVERRIDE CAF    ONE             (THIS SHOULD BE DONE BEFORE THE INHINT.)
 0568            INHINT                 PREVENT POSSIBLY EPHEMERAL MANDATORY NJ
A0569                                   SETTING FROM AFFECTING JET SELECTION.
 0570            INDEX  NJPLACE         NJ = 1 FORCES THE URGENCY FUNCTIONS TO
 0571            TS     NJ+Q            ACTUALLY SELECT 4 JET ROTATION AS THE
A0572  2                                OPTIMAL POLICY (TO FIGHT THE AOS).
R0573   TEST SIGN(AOS   ):
R0574  2             Q,R
 0575            INDEX  JOBAXES         THE SIGN OF AOSQ,R DETERMINES THE RATIO
 0576            CAE    AOSQ            TO BE COMPUTED AS THE CORRECTION FACTOR
 0577            EXTEND                 IN THE URGENCY FUNCTION CALCULATION AND
 0578  2         BZMF   URGRAT4         ALSO SPECIFIES THE CORRECT NJ VALUES.
R0579  2THIRD CASE FOR URGENCY RATIO:
 0580   URGRAT3  INDEX  TABPLACE        CHOOSE THE -4 JET NET ACCELERATION
 0581            CAE    1/NET-4Q        INVERSE FOR USE IN URGENCY COMPUTATION.
 0582            INDEX  JOBAXES
 0583  2         TS     1/ACCQ
 05835           ZL
 0584            INDEX  TABPLACE
 0585            CAE    1/NET+2Q                1/NET+2Q,R
 0586            EXTEND                 RATIO = ----------
 0587            INDEX  TABPLACE                1/NET-4Q,R
 0588            DV     1/NET-4Q
 0589            INDEX  JOBAXES
 0590  2         TS     URGRATQ
R0591  2RESET VALUES OF NJS FOR Q,R-AXIS:
 0592   SWITNJS  CAF    ZERO            SET NJ      = NJ      (FROM ABOVE)
 0593            INDEX  NJPLACE               -Q,-R     +Q,+R
 0594            XCH    NJ+Q            AND
 0595            INDEX  NJPLACE             NJ      = 0.
 0596  2         TS     NJ-Q                  +Q,+R
 0597  2         RELINT                 SINCE NJS NOW VALID, ALLOW INTERRUPTS.
 0598  2         TCF    UVNEXT          GO TEST FOR ENTRY TO U,V-AXES LOGIC.
R0599  2FOURTH CASE FOR URGENCY RATIO:
 0600   URGRAT4  RELINT                 SINCE ALL NJS ALREADY SET ARE NOW KNOWN
A0601  2                                TO BE VALID, ALLOW INTERRUPTS.
 0602            INDEX  TABPLACE        CHOOSE THE +4 JET NET ACCELERATION
 0603            CAE    1/NET+4Q        INVERSE FOR USE IN URGENCY COMPUTATION.
 0604            ZL                     -------------------------------------
 0605            INDEX  JOBAXES
 0606  2         TS     1/ACCQ
 0607            INDEX  TABPLACE
 0608            CAE    1/NET-2Q                1/NET-2Q,R
 0609            EXTEND                 RATIO = ----------
 0610            INDEX  TABPLACE                1/NET+4Q,R
 0611            DV     1/NET+4Q
 0612            INDEX  JOBAXES
 0613  2         TS     URGRATQ
R0614  2SET NJ FOR NEGATIVE ROTATIONS:
 0615   NXTNJZER CAF    ZERO            SET NJ      = 0  TO LET THE URGENCY
 0616            INDEX  NJPLACE               -Q,-R      FUNCTIONS SELECT 2 JET
 0617  2         TS     NJ-Q                             -Q,-R ROTATION
R0618  2TEST FOR END OF Q,R-AXES LOOP:
 0619   UVNEXT   CCS    JOBAXES         JOBAXES = 1 MEANS GO DO Q-AXIS.
 0620            TCF    QRJOB           JOBAXES = 0 MEANS GO DO U,V-AXES.
P0621  2AFTER Q,R-AXES COMPLETE, DO U,V-AXES LOGIC:
 0622   UVJOB    INHINT                 PREVENT POSSIBLY EPHEMERAL OPTIONAL NJ
A0623                                   SETTING FROM AFFECTING JET SELECTION.
 0624            TS     NJ+U            FIRST, ARBITRARILY SET THE U,V-AXIS NJS
 0625            TS     NJ-U            TO THE ZERO (OPTIONAL) VALUE UNTIL THE
 0626            TS     NJ+V            TESTS ON AOS ARE MADE BELOW.  (ZERO IS
 0627  2         TS     NJ-V            IN A FROM THE PRECEDING  "CCS JOBAXES".)
R0628                                                  2
R0629  2TEST 1JACCQ - ABVAL(AOSQ) - 0.06 RADIANS/SECOND  GREATER THAN ZERO:
 0630            CAE    1JACCQ          1JACCQ SCALED AT PI/4 RADIANS/SECOND(2)
 0631            EXTEND                 MULTIPLYING BY ONE-HALF CHANGES SCALING
 0632            MP     BIT14           TO PI/2 RADIANS/SECOND(2) AS AOSQ.
 0633            AD     -.06R/S2        -0.06 RADIANS/SECOND(2) SCALED AT PI/2.
 0634            AD     ABVLAOSQ        ABVLAOSQ IS -ABVAL(AOSQ) AT PI/2.
 0635            EXTEND
 0636  2         BZMF   POPNJ1          (BRANCH TO TEST ON SIGN(AOSQ).)
R0637                                                  2
R0638  2TEST 1JACCR - ABVAL(AOSR) - 0.06 RADIANS/SECOND  GREATER THAN ZERO:
 0639   POPNJ4   CAE    1JACCR          1JACCR SCALED AT PI/4 RADIANS/SECOND(2).
 0640            EXTEND                 MULTIPLYING BY ONE-HALF CHANGES SCALING
 0641            MP     BIT14           TO PI02 RADIANS/SECOND(2) AS AOSR.
 0642            AD     -.06R/S2        -0.06 RADIANS/SECOND(2) AT PI/2.
 0643            AD     ABVLAOSR        ABVLAOSR IS -BAVAL(AOSR) AT PI/2.
 0644            EXTEND
 0645  2         BZMF   POPNJ2          (BRANCH TO TEST ON SIGN(AOSR).)
 0646  4         TCF    POPNONJ         GO SET DATA GOOD BIT.
 0647   POPNJ1   CCS    AOSQ            SINCE MAGNITUDE OF AOSQ LARGE, NONZERO.
 0648            TCF    POPNJ3
 0649            TC     CCSHOLE
 0650            TS     NJ+U            SET NJS FOR LARGE NEGATIVE AOSQ.
 0651            TS     NJ-V
 0652  2         TCF    POPNJ4          GO CHECK MAGNITUDE OF AOSR.
 0653   POPNJ3   TS     NJ-U            SET NJS FOR LARGE POSITIVE AOSQ.
 0654            TS     NJ+V
 0655  2         TCF    POPNJ4          GO CHECK MAGNITUDE OF AOSR.
 0656   POPNJ2   CCS    AOSR            SINCE MAGNITUDE OF AOSR LARGE, NONZERO.
 0657            TCF    POPNJ5
 0658  2ACCFIFTY DEC    0.30679         .5(50) SEC(2)/RAD SCALED AT 2(+8)/PI.
 0659            TS     NJ+U            SET NJS FOR LARGE NEGATIVE AOSR.
 0660            TS     NJ+V
 0661  2         TCF    POPNONJ         END NICELY.
 0662   POPNJ5   TS     NJ-U            SET NJS FOR LARGE POSITIVE AOSR.
 0663            TS     NJ-V
 0664  2         TCF    POPNONJ         END NICELY.
 06645 2-.02R/S2 DEC    -.01273         -0.02 RADIANS/SECOND(2) AT PI/2
R0665  2THE FOLLOWING BRANCHES SUPPLY CONSTANT VALUES:
 0666   FIFTY1   CAF    ACCFIFTY
 0667  2         TCF    FIFTY1R
 0668   FIFTY2   CAF    ACCFIFTY
 0669  2         TCF    FIFTY2R
 0670   FIFTY3   CAF    ACCFIFTY
 0671            TCF    FIFTY3R
P0672  2SUBROUTINE NAME: INVACC         MOD. NO. 0  DATE: DECEMBER 3, 1966
R0673  2AUTHOR: JONATHAN D. ADDELSTON (ADAMS ASSOCIATES)
R0674  2THIS SUBROUTINE IS CALLED BY AOSJOB TO CALCULATE:
R0675                  0.5    WHERE TEMPNET IS SCALED AT PI/2 RADIANS/SECOND(2)
R0676       C(A) =   -------
R0677  2             TEMPNET  AND THE FRACTION IS SCALED AT 2(+8)/PI SEC(2)/RAD.
R0678  2THIS SIMPLE COMPUTATION WAS SUBROUTINIZED DUE TO ITS FREQUENT USE.
R0679  2CALLING SEQUENCE: TC  INVACC
R0680  2SUBROUTINES CALLED: NONE.       NORMAL EXIT MODE: ONE INSTRUCTION AFTER
 0681  9CALL.
R0682  2ALARM OR ABORT EXIT MODES: NONE.
R0683  2INPUT: TEMPNET SCALED AT PI/2 RADIANS/SECONDS(2).
R0684  2OUTPUT: C(A) SCALED AT 2(+8)/PI SECONDS(2)/RADIAN.
R0685  2DEBRIS: L,Q.
 0686   INVACC   CAF    BIT7            BIT7 IS USED AS THE NUMERATOR 0.5 SINCE
 0687            ZL
 0688            EXTEND                 "TEMPNET" IS SCALED AT PI/2 AND THE
 0689            DV     TEMPNET
 0690            TC     Q               INVERSE IS SCALED AT 2(+8)/PI.
P06905 2START CODING FOR MODULE 3 REMAKE, AUGUST 1967***START CODING FOR MODULE
 06906 93 REMAKE, AUGUST 1967*******************
R0691  2FROM DPSENGON: SET FLAGS FOR CRITICAL GTS ENTRIES.
 0692  2SETCNTR  TS     DVSELECT        SET SWITCH TO GO TO GIMBLMON
 0693            EXTEND
 0694            DCA    GETADR          SPACE FOR NEW CODING IN BANK 17
 0695  2         DXCH   Z
 0696            EBANK= TRIMCNTR
 0697   GETADR   2CADR  GETCNTR
R0698   **END CODING FOR MODULE 3 REMAKE, AUGUST 1967*****END CODING FOR MODULE
 06981 93 REMAKE, AUGUST 1967*******************
L      2SPS BACK-UP RCS CONTROL
 0001            BANK   21
 0002  2         EBANK= DT
 0004   SPSRCS   CS     OMEGAQD
 0005            AD     OMEGAQ
 0006  2         TS     EDOTQ            EDOT = OMEGAQ - OMEGAQD
 0007            AD     ER
 0012            EXTEND                 F = 1/4 E + EDOT
 0013  2         BZMF   PLUSD           DQ NEGATIVE FOR POSITIVE F
 0014  2         CAF    NEGD            STORE DIRECTION TO THRUST IN ITEMP3
 0015   GCOMPUTE TS     ITEMP3
 00160           CAE    EDOTQ
 00165           EXTEND
 00170           MP     ACONST          ACONST = 2**(-11) X SQRT(1/2A X PI/1024)
 00175           CCS    A
 00180           TCF    LIMSQQ
 00185           TCF    +2
 00190           TCF    LIMSQQ
 00195           LXCH   A               A = 2**(3) X SQRT(1/2A X PI/1024)
 00200  LIMRETQ  EXTEND
 00205           SQUARE
 0021  2         TS     ITEMP2          ITEMP2 = (1/2A) EDOT**2
 0022            AD     ER
 0023  2         AD     NEGD            DB IS SPECIFIED BY NEGD IN SPS MODE
 0025            EXTEND
 0026  2         BZMF   UZERO
 0027  2         CAE    EDOTQ           G WAS POSITIVE, NOW TEST EDOT
 0028            EXTEND
 0029  2         BZMF   ULOW
 0030            AD     ITEMP2          EDOT WAS POSITIVE, CALCULATE HIGH U CASE
 0033            AD     ER
 0036  2         TS     URGENCYQ
 0037  2         TCF    RCALC
 00374  LIMSQQ   CAF    POSMAX
 00375           TCF    LIMRETQ
 00376  LIMSQR   CAF    POSMAX
 00377           TCF    LIMRETR
 0038   ULOW     AD     ER              EDOT WAS NEGATIVE, CALCULATE LOW U CASE
 0041  2         TS     URGENCYQ
 0042  2         TCF    RCALC
 0043   PLUSD    CS     ER
 0044            XCH    ER
 0045            CS     EDOTQ
 0046            XCH    EDOTQ
 0047            CS     NEGD
 0048  2         TCF    GCOMPUTE
 0049   UZERO    CAF    ZERO            G = 0, NO URGENCY
 0050  2         TS     URGENCYQ
 0051   RCALC    CS     OMEGARD         REPEAT CALCULATIONS FOR R-AXIS
 0052            AD     OMEGAR
 0053  2         TS     EDOTR
 0057            AD     E               F = 1/4 E + EDOT
 0059            EXTEND
 0060  2         BZMF   PLUSDR
 0061  2         CAF    NEGD
 0062   GCOMPUTR TS     ITEMP4
 00630           CAE    EDOTR
 00635           EXTEND
 00640           MP     ACONST          ACONST = 2**(-11) X SQRT(1/2A X PI/1024)
 00645           CCS    A
 00650           TCF    LIMSQR
 00655           TCF    +2
 00660           TCF    LIMSQR
 00665           LXCH   A               A = 2**(3) X SQRT(1/2A X PI/1024)
 00670  LIMRETR  EXTEND
 00675           SQUARE
 0068  2         TS     ITEMP2
 0069            AD     E
 0070  2         AD     NEGD
 0072            EXTEND
 0073  2         BZMF   UZEROR
 0074  2         CAE    EDOTR
 0075            EXTEND
 0076  2         BZMF   ULOWR
 0077            AD     ITEMP2          EDOT WAS POSITIVE, CALCULATE HIGH U CASE
 0080            AD     E
 0083  2         TS     URGENCYR
 0084            TCF    URGRECT
 0085   ULOWR    AD     E               EDOT WAS NEGATIVE, CALCULATE LOW U CASE
 0088  2         TS     URGENCYR
 0089            TCF    URGRECT
 0090   PLUSDR   CS     E
 0091            XCH    E
 0092            CS     EDOTR
 0093            XCH    EDOTR
 0094            CS     NEGD
 0095  2         TCF    GCOMPUTR
 0096   UZEROR   CAF    ZERO
 0097  2         TS     URGENCYR
 0098   URGRECT  CCS    ITEMP4          DR = ITEMP4, NON-ZERO
 0099            CS     URGENCYR        DR POS = POSR JETS = URGENCY NEG
 0100  2         TS     URGENCYR        URGENCYR NEGATIVE
 0101            CCS    ITEMP3          DQ = ITEMP3, NON-ZERO
 0102            CS     URGENCYQ        DQ POS = POSR JETS = NEGATIVE URGENCY
 0103  2         TS     URGENCYQ
 0104            CAF    RESADR          RESADR = JETSON AFTER POLICY LOCATION
 0105  2         TS     TJETADR
 0106            CAF    NEG1/2          SET URGLIMIT = NEGMAX FOR ONLY
 0107            TS     URGLIMIT                 2 JET RESPONSE
 0108            TS     NJ-U            SET JETS FOR NO OFFSET CORRECTION
 0109            TS     NJ+U
 0110            TS     NJ-V
 0111  2         TS     NJ+V
 0117            EXTEND
 0118            DCA    URGAXADR
 0119  4         DTCB
 0120            EBANK= OMEGAQ
 0121   URGAXADR 2CADR  URGPLANE
 0122   ACONST   OCTAL  00016
 0124   NEGD     DEC    -0.0111
 0125   RESADR   REMADR JETSON          JETSON IS IN Q,R TJETLAW
P01251  THE TRYGTS CODING IS AN EXTENSION OF THE Q,R-AXES REACTION CONTROL SYSTE
 01252 9M AUTOPILOT.  TRYGTS CALLS UPON THE GTS
R01253 2CODING WHENEVER Q,R-AXIS CONTROL FINDS ITSELF ENTERING A COAST REGION WI
 01254 9TH JETS OFF.
 0126            EBANK= DT
 0127   TRYGTS   CAF    USEQRJTS        IS JET USE MANDATORY.
 0128            MASK   DAPBOOLS
 0129            CCS    A
 0130  2         TCF    RESUME          YES.  RESUME.
 0132            EXTEND                 NO.  CALL IN GTS, IF POSSIBLE.
 0133            READ   12
 0134            MASK   BGIM21          ARE GIMBALS STILL DRIVING.
 0135            CCS    A
 0137  2         TCF    RESUME          GIMBALS STILL DRIVING.  TRY AGAIN LATER.
 0138   GOTOGTS  CS     THREE           GIMBALS STOPPED.  RESET TIME5 COUNTER
 0139            ADS    TIME5           FROM 20 MS TO 50 MS.
 0140            EXTEND                 NEXT T5RUPT IN 50 MS IS PAXIS.
 0141            DCA    PAX/FILT
 0143  2         DXCH   T5ADR
 0144   INSRT21A TCF    TESTCNTR        DETERMINE WHAT TO PUT IN PASSCTR.
 0145   LOADCNTR TS     PASSCTR         NMBR PASSES REQUIRED TO WARM UP FILTER
 0146            EXTEND
 0147            DCA    RATEINAD        NEXT T5RUPT AFTER NEXT PAXIS IS RATEINIT
 0148            DXCH   PFILTADR        CONTROL FLOW SWITCH CELL FOR PAXIS RUPT.
 0149  2         TCF    RESUME
 01495  BGIM21   OCT    07400           TRIM GIMBAL BITS IN CHANNEL 12 ARE 9-12.
 0150            EBANK= DT
 0151   RATEINAD 2CADR  RATEINIT        RATE INITIALIZATION FOR KALMAN FILTER.
P01515 2
 0152   RATEINIT CAF    FILTMS50        RESET TIMER IMMEDIATELY  DT = 50 MS.
 0153  2         TS     TIME5
 0154            LXCH   BANKRUPT        INTERRUPT LEAD-IN (CONTINUED)
 0155            EXTEND
 0156  2         QXCH   QRUPT
 0157            EXTEND                 FILTINIT WILL BE NEXT T5RUPT, IN 50 MS.
 0158            DCA    FILINADR
 0159  2         DXCH   T5ADR
 0160            CA     BACKHOME        ESTABLISH RETURN SWITCH FROM THE PROCESS
 0161            TS     STEERADR        OF READING CDUY,Z AND TIMER.  TO BE USED
 0162  2         TCF    FILSTART +1     IN FILTINIT FOR RATE INITIALIZATION
 0163  2BACKHOME GENADR BACKHOME +1
 0164            LXCH   DAPTIME         RETURN HERE TO STORE DATA JUST DESCRIBED
 0165            EXTEND
 0166            DCA    STORCDUY        IN 2S COMPLEMENT, SCALED AT PI
 0167            DXCH   HOLDCDUY        HOLD FOR RATE DERIVATION
 0168  2         TCF    RESUME
 0169            EBANK= DT
 0170   FILINADR 2CADR  FILTINIT
 0171  2FILTMS50 OCT    37773           50 MS CONSTANT FOR TIME5
 0172   HOMAGAIN GENADR HOMAGAIN +1
 0173            CA     BIT1            SET UP RATE CALCULATION LOOP, Z AXIS 1ST
 0174   HOMELOOP TS     QRCNTR
 0175            DOUBLE
 0176            TS     KCENTRAL
 0177            INDEX  QRCNTR
 0178            CA     STORCDUY        2S COMPLEMENT AT PI
 0179            EXTEND
 0180            INDEX  QRCNTR
 0181            MSU    HOLDCDUY        DIFFERENCE IN 1S COMPLEMENT, AT PI
 0182            EXTEND
 0183            MP     BIT6            DIFFERENCE IN L, AT PI/2(5)
 0184            XCH    L               ZERO L, PREPARE FOR DIVISION BY DT
 0185            EXTEND
 0186            DV     DT              DT IS AT 1/8, SO RATE IS AT PI/4
 0187            INDEX  KCENTRAL
 0188            DXCH   DCDUYFIL        STORE S.P. INITIAL RATE ESTIMATE
 0189            CCS    QRCNTR          ARE BOTH RATES DONE YET.
 0190            TCF    HOMELOOP        NO.   NOW DO Y AXIS
 0191            CA     ORDINARY        YES.   SET SWITCH FOR NORMAL OPERATION
 0192            TS     STEERAD2
 0193            TCF    FILFIRST +1
 0194  2ORDINARY GENADR PAX/FILT -2
 0195   CLEARCH5 CAF    ZERO            TURN OFF Q,R-AXES RCS JETS.
 0196            EXTEND
 0197            WRITE  5
 0198            CAF    HOMAGAIN        SET UP TO PREVENT FILTERING DURING THE
 0199            TS     STEERAD2        INITIALIZATION.
 0200  2         TCF    FILSTART +1     T6JOBCHK NOT NEEDED.  CHANNEL 5 ZEROED.
 0201  2COUNTDWN DXCH   PFRPTLST        FINISH CYCLING POST RUPT LIST.
 0202            CCS    PASSCTR         DECREMENT PASSCTR.
 0203            TS     PASSCTR
 0204  2         TCF    FILSTART
 0205   TIMEDONE TS     DT              DT STORED.  SCALED AT 1/8.
 0206            TC     STEERAD2        BYPASS FILTERING DURING INITIALIZATION.
 0207  2         TCF    PAX/FILT -2
 0208   USUALXIT CA     GOQADR
 0209            TS     SLECTLAW        SET LOOP EXIT FOR SIMPLE CONTROL OR NOT.
 0210  2         TCF    GTSQAXIS
 0211   TESTPCTR CCS    PASSCTR         EITHER ZERO (+) , OR POSITIVE
 0212            TCF    SIMPCTRL        USE SIMPLE CONTROL - NULLIFY ALPHA.
 0213  2         TCF    RCSCNTRL        TO TO Q,R JETS.
 0214   GOQADR   GENADR GOQTRIMG
 0215  2SIMPQADR GENADR SIMPQTRG
 0216   SIMPCTRL CA     SIMPQADR        SET UP 2ND PASS THROUGH CONTROL LOOP.
 0217            TS     SLECTLAW
 0218            CAF    TWO             SET UP INDEX FOR 1ST PASS THROUGH SIM
 0219            TCF    SIMPLOOP        PLE CONTROL LAW.  (R-AXIS)
 0220   SIMPQTRG CAF    ZERO            SET INDEX FOR Q-AXIS
 0221   SIMPLOOP TS     QRCNTR
 0222            INDEX  QRCNTR
 0223            CCS    ALPHAQ          CHOOSE DRIVE TO NULL ALPHA
 0224            CA     BIT1
 0225            TCF    POSDRIVE
 0226            CS     BIT1
 0227            TCF    POSDRIVE        DRIVE BITS GO TO THE CHANNEL
P02285 2START CODING FOR MODULE 3 REMAKE, AUGUST 1967***START CODING FOR MODULE
 02286 93 REMAKE, AUGUST 1967*******************
R0229   FROM GTS: WHEN TRIMCNTR ACTIVE,  DO SIMPCTRL IF THE FILTER IS NOT WARM
R0230  2          AND DO A TGOFF DRIVE IF IT IS.
 0231   CHKCNTR  CCS    SIMPCNTR        CHOOSE SIMPCTRL OR NORMAL GTS CONTROL.
 0232            TCF    TESTPCTR        SIMPCTRL UNTIL PASSCTR IS ZERO,THEN EXIT
 0233            TCF    NORMCTRL        NORMAL GTS CONTROL.
 0234            TC     CCSHOLE
 0235  2         TC     CCSHOLE
 0236   NORMCTRL CAF    BIT1            RETURN TO NORMAL GTS CONTROL.
 0237  2         TCF    INSERT21 +1
R0238  2FROM CHEKDRIV: ALLOW TGOFFCAL DRIVES AND DISABLE SPECIAL GTS INDICATORS
 0239   WARMFILT TC     TGOFFCAL        (A= 0, INDEX FOR Q-AXIS IN TGOFFCAL)
 0240            CAF    NEGMAX          RETURN HERE FOR NO Q DRIVE.
 0241  2         TS     ITEMP3          RETURN HERE WITH TIME IN A (DECASECONDS)
 0242            CAF    TWO             INDEX FOR R-AXIS.
 0243            TC     TGOFFCAL
 0244            CAF    NEGMAX          RETURN HERE FOR NO R DRIVE.
 0245            TS     L               RETURN HERE WITH TIME IN A (DECASECONDS)
 02455           CAE    ITEMP3
 0246            DXCH   QGIMTIMR        SET TIMERS SIMULTANEOUSLY FOR RESTART
A0247                                     PROTECTION.
 0251  2         TC     WRCHN12         START DRIVES
 0252            CCS    TRIMCNTR        DEACTIVATE TRIMCNTR IF IT HAS REACHED -0
 0253            TCF    +5
 0254            TC     CCSHOLE
 0255            TCF    +3
 0256            CAF    NEGMAX
 0257            TS     TRIMCNTR
 0258    +5      CAF    ZERO            DEACTIVATE GTSMNITR NOW THAT TGOFFCAL
 0259            TS     GTSMNITR          HAS BEEN DONE
 0260  2         TCF    TASKOVER
R0261  2**END CODING FOR MODULE 3 REMAKE, AUGUST 1967*****END CODING FOR MODULE
 02611 93 REMAKE, AUGUST 1967*******************
 0262   CHKSUM21 OCT    37777
L      2ATTITUDE MANEUVER ROUTINE
P0001  4BLOCK 2 LGC ATTITUDE MANEUVER ROUTINE-KALCMANU
R00015  MOD 1                          DATE  11/7/66       BY  DON KEENE
R0002  2PROGRAM DESCRIPTION
R0003        KALCMANU IS A ROUTINE WHICH GENERATES COMMANDS FOR THE LM DAP TO CH
 0004  9ANGE THE ATTITUDE OF THE SPACECRAFT
R0005   DURING FREE FALL.  IT IS DESIGNED TO MANEUVER THE SPACECRAFT FROM ITS IN
 0006  9ITIAL ORIENTATION TO SOME DESIRED
R0007   ORIENTATION SPECIFIED BY THE PROGRAM WHICH CALLS KALCMANU, AVOIDING GIMB
 0008  9AL LOCK IN THE PROCESS.  IN THE
R0009  2MOD 1 VERSION, THIS DESIRED ATTITUDE CAN BE SPECIFIED IN ONE OF TWO WAYS
R0010  2     A) BY A SET OF THREE COMMANDED CDU ANGLES
R0011        B) BY A VECTOR IN STABLE MEMBER COORDINATES ALONG WHICH THE THRUST
 0012  9VECTOR (GIVEN IN SPACECRAFT
R0013  2        COORDINATES IS TO BE ALIGNED.
R0014        IF THE FIRST METHOD IS USED, THE THREE DESIRED CDU ANGLES MUST BE S
 0015  9TORED AS 2:S COMPLEMENT SINGLE
R0016  2PRECISION ANGLES IN THE THREE CONSECUTIVE LOCATIONS, CPHI, CTHETA, CPSI,
 0017  9 WHERE
R0018        CPHI = COMMANDED OUTER GIMBAL ANGLE
R0019        CTHETA = COMMANDED INNER GIMBAL ANGLE
R0020  2     CPSI = COMMANDED MIDDLE GIMBAL ANGLE
R0021  2THE ENTRY POINT IN KALCMANU FOR THIS METHOD IS KALCMAN3 (SEE SECTION 4)
R0022        THE SECOND METHOD MAY BE USED FOR POINTING THE THRUST AXIS OF THE S
 0023  9PACECRAFT.  IN THIS CASE THE AXIS TO
R0024   BE POINTED MUST APPEAR AS A HALF UNIT DOUBLE PRECISION VECTOR IN SUCCESS
 0025  9IVE LOCATIONS OF ERASABLE MEMORY
R0026   BEGINNING WITH THE LOCATION CALLED SCAXIS. THE COMPONENTS OF THIS VECTOR
 0027  9 ARE GIVEN IN SPACECRAFT COORDINATES.
R0028   THE DIRECTION IN WHICH THIS AXIS IS TO BE POINTED MUST APPEAR AS A HALF
 0029  9UNIT DOUBLE PRECISION VECTOR IN
R0030   SUCCESSIVE LOCATIONS OF ERASABLE MEMORY BEGINNING WITH THE ADDRESS CALLE
 0031  9D POINTVSM.  THE COMPONENTS OF
R0032  2THIS VECTOR ARE GIVEN IN STABLE MEMBER COORDINATES.
R00321
 00322 9   -
R0033        KALCMANU DETERMINES THE DIRECTION OF THE SINGLE EQUIVALENT ROTATION
 0034  9 (COF ALTERNATELY TERMED U) AND THE
R0035   MAGNITUDE OF THE ROTATION (AM) TO BRING THE S/C FROM ITS INITIAL ORIENTA
 0036  9TION TO ITS FINAL ORIENTATION.
R0037   THIS DIRECTION REMAINS FIXED BOTH IN INERTIAL COORDINATES AND IN COMMAND
 0038  9ED S/C AXES THROUGHOUT THE
R00385                   -
R0039   MANEUVER.  ONCE COF AND AM HAVE BEEN DETERMINED, KALCMANU THEN EXAMINES
 0040  9THE MANEUVER TO SEE IF IT WILL BRING
R00405                                        -
R0041   THE S/C THROUGH GIMBAL LOCK.  IF SO, COF AND AM ARE READJUSTED SO THAT T
 0042  9HE S/C WILL JUST SKIM THE GIMBAL
R0043   LOCK ZONE AND ALIGN THE X-AXIS.  IN GENERAL A FINAL YAW  ABOUT X WILL BE
 0044  9 NECESSARY TO COMPLETE THE MANEUVER.
R0045   NEEDLESS TO SAY, NEITHER THE INITIAL NOR THE FINAL ORIENTATION CAN BE IN
 0046  9 GIMBAL LOCK.
R00461
R0047        FOR PROPER ATTITUDE CONTROL THE DIGITAL AUTOPILOT MUST BE GIVEN AN
 0048  9ATTITUDE REFERENCE WHICH IT CAN TRACK.
R0049   KALCMANU DOES THIS BY GENERATING A REFERENCE OF DESIRED GIMBAL ANGLES (C
 0050  9DUXD, CDUYD, CDUZD) WHICH ARE UPDATED
R0051   EVERY ONE SECOND DURING THE MANEUVER.  TO ACHIEVE A SMOOTHER SEQUENCE OF
 0052  9 COMMANDS BETWEEN SUCCESSIVE UPDATES,
R0053   THE PROGRAM ALSO GENERATES A SET OF INCREMENTAL CDU ANGLES (DELDCDU) TO
 0054  9BE ADDED TO CDU DESIRED BY THE DIGITAL
R0055   AUTOPILOT.  KALCMANU ALSO CALCULATES THE COMPONENT MANEUVER RATES (OMEGA
 0056  9PD, OMEGAQD, OMEGARD), WHICH CAN
R00565                                       -
R0057   BE DETERMINED SIMPLY BY MULTIPLYING COF BY SOME SCALAR (ARATE) CORRESPON
 0058  9DING TO THE DESIRED ROTATIONAL RATE.
R00581
R0059        AUTOMATIC MANEUVERS ARE TIMED WITH THE HELP OF WAITLIST SO THAT AFT
 0060  9ER A SPECIFIED INTERVAL THE Y AND Z
R0061   DESIRED RATES ARE SET TO ZERO AND THE DESIRED CDU ANGLES (CDUYD, CDUZD)
 0062  9ARE SET EQUAL TO THE FINAL DESIRED CDU
R0063   ANGLES (CTHETA, CPSI).  IF ANY YAW  REMAINS DUE TO GIMBAL LOCK AVOIDANCE
 0064  9, THE FINAL YAW  MANEUVER IS
R0065   CALCULATED AND THE DESIRED YAW  RATE SET TO SOME FIXED VALUE (ROLLRATE =
 0066  9 + OR - 2 DEGREES PER SEC).
R0067   IN THIS CASE ONLY AN INCREMENTAL CDUX ANGLE (DELFROLL) IS SUPPLIED TO TH
 0068  9E DAP.  AT THE END OF THE YAW
R0069   MANEUVER OR IN THE EVENT THAT THERE WAS NO FINAL YAW,  CDUXD IS SET EQUA
 0070  9L TO CPHI AND THE X-AXIS DESIRED
R0071   RATE SET TO ZERO.  THUS, UPON COMPLETION OF THE MANEUVER THE S/C WILL FI
 0072  9NISH UP IN A LIMIT CYCLE ABOUT THE
R0073  4DESIRED FINAL GIMBAL ANGLES.
R0074  2PROGRAM LOGIC FLOW
R0075        KALCMANU IS CALLED AS A HIGH PRIORITY JOB WITH ENTRY POINTS AT KALC
 0076  9MAN3 AND VECPOINT.  IT FIRST PICKS
R0077   UP THE CURRENT CDU ANGLES TO BE USED AS THE BASIS FOR ALL COMPUTATIONS I
 0078  9NVOLVING THE INITIAL S/C ORIENTATION.
R0079   IT THEN DETERMINES THE DIRECTION COSINE MATRICES RELATING BOTH THE INITI
 0080  9AL AND FINAL S/C ORIENTATION TO STABLE
R00805                *    *
 00806 9                           *
R0081   MEMBER AXES (MIS, MFS).  IT ALSO COMPUTES THE MATRIX RELATING FINAL S/C
 0082  9AXES TO INITIAL S/C AXES (MFI).  THE
R0083   ANGLE OF ROTATION (AM) IS THEN EXTRACTED FROM THIS MATRIX, AND TESTS ARE
 00835 9 MADE TO DETERMINE IF
R0084
R0085        A)  AM LESS THAN .25 DEGREES (MINANG)
R0086  2     B)  AM GREATER THAN 170 DEGREES (MAXANG)
R0087        IF AM LESS THAN .25 DEGREES, NO COMPLICATED AUTOMATIC MANEUVERING I
 0088  9S NECESSARY.  THEREFORE WE CAN SIMPLY
R0089   SET CDU DESIRED EQUAL TO THE FINAL CDU DESIRED ANGLES AND TERMINATE THE
 0090  9JOB.
R00905
R0091        IF AM IS GREATER THAN .25 DEGREES BUT LESS THAN 170 DEGREES, THE AX
 0092  9ES OF THE SINGLE EQUIVALENT ROTATION
R00925    -                                                       *
R0093   (COF) IS EXTRACTED FROM THE SKEW SYMMETRIC COMPONENTS OF MFI.
R00935 9                 *     *
R0094        IF AM GREATER THAN 170 DEGREES AN ALTERNATE METHOD EMPLOYING THE SY
 0095  9MMETRIC PART OF MFI (MFISYM) IS USED
R00955                -
R0096  2TO DETERMINE COF.
R0097        THE PROGRAM THEN CHECKS TO SEE IF THE MANEUVER AS COMPUTED WILL BRI
 0098  9NG THE S/C THROUGH GIMBAL LOCK.  IF
R0099   SO, A NEW MANEUVER IS CALCULATED WHICH WILL JUST SKIM THE GIMBAL LOCK ZO
 0100  9NE AND ALIGN THE S/C X-AXIS.  THIS
R0101   METHOD ASSURES THAT THE ADDITIONAL MANEUVERING TO AVOID GIMBAL LOCK WILL
 0102  9 BE KEPT TO A MINIMUM.  SINCE A FINAL
R0103   P AXIS YAW WILL BE NECESSARY, A SWITCH IS RESET (STATE SWITCH 31) TO ALL
 0104  9OW FOR THE COMPUTATION OF THIS FINAL
R0105  2YAW.
R0106        AS STATED PREVIOUSLY KALCMANU GENERATES A SEQUENCE OF DESIRED GIMBA
 0107  9L ANGLES WHICH ARE UPDATED EVERY
R01072
 01073 9                     -
R0108   SECOND.  THIS IS ACCOMPLISHED BY A SMALL ROTATION OF THE DESIRED S/C FRA
 0109  9ME ABOUT THE VECTOR COF.  THE NEW
R0110  2DESIRED REFERENCE MATRIX IS THEN,
R01105                   *              *         *
R0111                   MIS       =    MIS       DEL
R01115 2                   N+1            N
R01117         *
R0112   WHERE DEL IS THE MATRIX CORRESPONDING TO THIS SMALL ROTATION.  THE NEW C
 0113  9DU ANGLES CAN THEN BE EXTRACTED
R01135        *
R0114  2FROM MIS.
R0115        AT THE BEGINNING OF THE MANEUVER THE AUTOPILOT DESIRED RATES (OMEGA
 0116  9PD, OMEGAQD, OMEGARD) AND THE
R0117   MANEUVER TIMINGS ARE ESTABLISHED.  ON THE FIRST PASS AND ON ALL SUBSEQUE
 0118  9NT UPDATES THE CDU DESIRED
R0119   ANGLES ARE LOADED WITH THE APPROPRIATE VALUES AND THE INCREMENTAL CDU AN
 0120  9GLES ARE COMPUTED.  THE AGC CLOCKS
R0121   (TIME1 AND TIME2) ARE THAN CHECKED TO SEE IF THE MANEUVER WILL TERMINATE
 0122  9 BEFORE THE NEXT UPDATE.  IF
R0123   NOT, KALCMANU CALLS FOR ANOTHER UPDATE (RUN AS A JOB WITH PRIORITY TBD)
 0124  9IN ONE SECOND.  ANY DELAYS IN THIS
R0125   CALLING SEQUENCE ARE AUTOMATICALLY COMPENSATED IN CALLING FOR THE NEXT U
 0126  9PDATE.
R01265
R0127        IF IT IS FOUND THAT THE MANEUVER IS TO TERMINATE BEFORE THE NEXT UP
 0128  9DATE A ROUTINE IS CALLED (AS A WAIT-
R0129   LIST TASK) TO STOP THE MANEUVER AT THE APPROPRIATE TIME AS EXPLAINED ABO
 0130  9VE.
R0131  3
R0132  2CALLING SEQUENCE
R0133        THE ENTRY POINT IN KALCMANU FOR POINTING THE THRUST AXIS OF THE SPA
 0134  9CECRAFT IS VECPOINT
R01345
R0135        CAF        PRIO XX
R01355                       --
R0136        INHINT
R0137        TC         FINDVAC
R0138        2CADR      VECPOINT
R0139  2     RELINT
R0140        THE CALLING PROGRAM MUST ALSO SPECIFY THE DESIRED MANEUVERING RATES
 0141  9, PRESENTLY IN THE FORM OF A SINGLE
R0142   PRECISION NUMBER (RATEINDEX), WHICH IS LOADED WITH ONE OF FOUR VALUES 0,
 0143  9 2, 4, OR 6, CORRESPONDING TO ANGULAR
R0144   RATES OF .5, 2, 5, 10 DEGREES/SEC.  THERE IS ALSO A STATE SWITCH (33) WH
 0145  9ICH MAY BE SET TO IGNORE ANY FINAL YAW
R0146  2INCURRED BY AVOIDING GIMBAL LOCK.
R0147        WITH THIS INFORMATION KALCMANU WILL THEN GENERATE A SEQUENCE OF THR
 0148  9EE CDU DESIRED ANGLES (CDUXD, CDUYD,
R0149   CDUZD), AND THREE INCREMENTAL ANGLES (DELDCDU, DELDCDU1, DELDCDU2) AS WE
 0150  9LL AS THE COMPONENT MANEUVER RATES
R0151   (IN S/C AXES) TO BE USED BY THE LEM DAP IN PERFORMING THE AUTOMATIC MANE
 0152  9UVER.
R01525
R0153        THERE ARE TWO WAYS IN WHICH KALCMANU MAY BE INITIATED CORRESPONDING
 0154  9 TO THE TWO METHODS OF SPECIFYING THE
R0155   DESIRED ATTITUDE OF THE SPACECRAFT.  IF METHOD 1 IS USED, THE COMMANDED
 0156  9GIMBAL ANGLES MUST BE PRECOMPUTED AND
R0157   STORED IN LOCATIONS CPHI, CTHETA, CPSI.  THE USER:S PROGRAM MUST THEN CL
 0158  9EAR STATE SWITCH NO 33 TO ALLOW THE
R0159   ATTITUDE MANEUVER ROUTINE TO PERFORM ANY FINAL P-AXIS YAW INCURRED BY AV
 0160  9OIDING GIMBAL LOCK.  THE MANEUVER IS
R0161  2THEN INITIATED BY ESTABLISHING THE FOLLOWING EXECUTIVE JOB
R01615                         *
R0162        CAF     PRIO    XX
R01625                       --
R0163        INHINT
R0164        TC         FINDVAC
R0165        2CADR      KALCMAN3
R0166  2     RELINT
R0167   THE USER:S PROGRAM MAY EITHER CONTINUE OR WAIT FOR THE TERMINATION OF TH
 0168  9E MANEUVER.  IF THE USER WISHES TO
R0169  2WAIT, HE MAY PUT HIS JOB TO SLEEP WITH THE FOLLOWING INSTRUCTIONS
R0171        L          TC        BANKCALL
R0172        L+1        CADR      ATTSTALL
R0173        L+2        (BAD      RETURN)
R0174  2     L+3        (GOOD     RETURN)
R0175        UPON COMPLETION OF THE MANEUVER, THE PROGRAM WILL BE AWAKENED AT L+
 0176  93 IF THE MANEUVER WAS COMPLETED
R0177   SUCCESSFULLY, OR AT L+2 IF THE MANEUVER WAS ABORTED.  THIS ABORT WOULD O
 0178  9CCUR IF THE INITIAL OR FINAL ATTITUDE
R0179  2WAS IN GIMBAL LOCK.
R01795                                                                   -
R0180        IF THE SECOND METHOD IS USED, THE DESIRED THRUST DIRECTION, V , MUS
 0181  9T BE COMPUTED AND STORED IN THE SIX
R01815                                                                    F
R0182   ERASABLE LOCATIONS BEGINNING WITH THE ADDRESS POINTVSM.  THE THRUST AXIS
 0183  9 MUST BE LOADED INTO THE SIX ERASABLE
R0184   LOCATIONS BEGINNING WITH SC AXIS.  THE CALLER MUST THEN CLEAR (OR SET) S
 0185  9TATE SWITCH NO 33 AND SPECIFY THE
R0186   DESIRED MANEUVERING RATE AS BEFORE.  THE MANEUVER IS THEN INITIATED BY T
 0187  9HE EXECUTIVE CALL.
R0188  3
R0189  2SUBROUTINES
R0190        KALCMANU USES A NUMBER OF INTERPRETIVE SUBROUTINES WHICH MAY BE OF
 0191  9GENERAL INTEREST.  SINCE THESE ROUTINES
R0192   WERE PROGRAMMED EXCLUSIVELY FOR KALCMANU, THEY ARE NOT, AS YET, GENERALL
 0193  9Y AVAILABLE FOR USE BY OTHER PROGRAMS.
R0194
R0195        MXM3
R01955 2     ----
R0196        THIS SUBROUTINE MULTIPLIES TWO 3X3 MATRICES AND LEAVES THE RESULT I
 0197  9N THE FIRST 18 LOCATIONS OF THE PUSH
R0198  2DOWN LIST, I.E.,
R0199                  (M    M    M )
R01992                 ( 0    1    2)
R01994        *        (            )       *         *
R0200         M    =   (M    M    M )  =    M1   X    M2
R02005                 ( 3    4    5)
R02006                 (            )
R0201                  (M    M    M )
R02015 2               ( 6    7    8)
R02018
 02019 9              *
R0202        INDEX REGISTER X1 MUST BE LOADED WITH THE COMPLEMENT OF THE STARTIN
 0203  9G ADDRESS FOR M1, AND X2 MUST BE
R02035                                                         *
R0204   LOADED WITH THE COMPLEMENT OF THE STARTING ADDRESS FOR M2.   THE ROUTINE
 0205  9 USES THE FIRST 20 LOCATIONS OF THE PUSH
R0206   DOWN LIST.  THE FIRST ELEMENT OF THE MATRIX APPEARS IN PDO.  PUSH UP FOR
 0207  9 M .
R02075
 02076 9  8
R0208
R0209        TRANSPOS
R02095 2     --------
R0210        THIS ROUTINE TRANSPOSES A 3X3 MATRIX AND LEAVES THE RESULT IN THE P
 0211  9USH DOWN LIST, I.E.,
R0212
R02124        *         * T
R0213  2      M    =    M1
R0214   INDEX REGISTER X1 MUST CONTAIN THE COMPLEMENT OF THE STARTING ADDRESS FO
 0215  9R M1.  PUSH UP FOR THE FIRST AND SUB-
R02155                        *
R0216   SEQUENT COMPONENTS OF M.   THIS SUBROUTINE ALSO USES THE FIRST 20 LOCATI
 0217  9ONS OF THE PUSH DOWN LIST.
R0218
R0219        CDU TO DCM
R02195 2     ----------
R0220        THIS SUBROUTINE CONVERTS THREE CDU ANGLES IN T(MPAC) TO A DIRECTION
 0221  9 COSINE MATRIX (SCALED BY 2) RELATING
R0222   THE CORRESPONDING S/C ORIENTATIONS TO THE STABLE MEMBER FRAME.  THE FORM
 0223  9ULAS FOR THIS CONVERSION ARE
R0224
R0225         M    =    COSY  COSZ
R02255 2       0
R0226         M    =    -COSY  SINZ  COSX  +  SINY  SINX
R02265 2       1
R0227         M    =    COSY  SINZ  SINX  +  SINY  COSX
R02275 2       2
R0228         M    =    SINZ
R02285 2       3
R0229         M    =    COSZ  COSX
R02295 2       4
R0230         M    =    -COSZ  SINX
R02305 2       5
R0231         M    =    -SINY  COSZ
R02315 2       6
R0232         M    =    SINY  SINZ  COSX  +  COSY  SINX
R02325 2       7
R0233         M    =    -SINY  SINZ  SINX  +  COSY  COSX
R02335 2       8
R0234   WHERE      X    =    OUTER GIMBAL ANGLE
R0235              Y    =    INNER GIMBAL ANGLE
R0236  2           Z    =    MIDDLE GIMBAL ANGLE
R0237  2     THE INTERPRETATION OF THIS MATRIX IS AS FOLLOWS
R0238        IF A , A , A  REPRESENT THE COMPONENTS OF A VECTOR IN S/C AXES THEN
 0239  9 THE COMPONENTS OF THE SAME VECTOR IN
R0240            X   Y   Z
R0241   STABLE MEMBER AXES (B , B , B ) ARE
R0242  2                     X   Y   Z
R0243              (B )                (A )
R0244              ( X)                ( X)
R02445             (  )                (  )
R0245              (  )           *    (  )
R0246              (B )      =    M    (A )
R0247              ( Y)                ( Y)
R02475             (  )                (  )
R0248              (B )                (A )
R0249  2           ( Z)                ( Z)
R0250       THE SUBROUTINE WILL STORE THIS MATRIX IN SEQUENTIAL LOCATIONS OF ERA
 0251  9SABLE MEMORY AS SPECIFIED BY THE CALLING
R02515
 02516 9                                    *
R0252   PROGRAM.  TO DO THIS THE CALLING PROGRAM MUST FIRST LOAD X2 WITH THE COM
 0253  9PLEMENT OF THE STARTING ADDRESS FOR M.
R0255
R0256        INTERNALLY, THE ROUTINE USES THE FIRST 16 LOCATIONS OF THE PUSH DOW
 0257  9N LIST, ALSO STEP REGISTER S1 AND INDEX
R0258  4REGISTER X2.
R0259        DCM TO CDU
R0260        ----------
R0261
 02615 9  *
R0262        THIS ROUTINE EXTRACTS THE CDU ANGLES FROM A DIRECTION COSINE MATRIX
 0263  9 (M SCALED BY 2) RELATING S/C AXIS TO
R0264
 02645 9        *
R0265   STABLE MEMBER AXES.  X1 MUST CONTAIN THE COMPLEMENT OF THE STARTING ADDR
 0266  9ESS FOR M.  THE SUBROUTINE LEAVES THE
R0267   CORRESPONDING GIMBAL ANGLES IN V(MPAC) AS DOUBLE PRECISION 1:S COMPLEMEN
 0268  9T ANGLES SCALED BY 2PI.  THE FORMULAS
R0269  2FOR THIS CONVERSION ARE
R0270         Z    =    ARCSIN (M )
R0271  2                         3
R0272         Y    =    ARCSIN (-M /COSZ)
R0273  2                          6
R0274   IF M  IS NEGATIVE, Y IS REPLACED BY PI SGN Y - Y
R0275  2    0
R0276         X    =    ARCSIN (-M /COSZ)
R0277  2                          5
R0278   IF M  IS NEGATIVE X IS REPLACED BY PI SGN X - X
R02785 2    4
R0279        THIS ROUTINE DOES NOT SET THE PUSH DOWN POINTER, BUT USES THE NEXT
 0280  98 LOCATIONS OF THE PUSH DOWN LIST AND
R0281   RETURNS THE POINTER TO ITS ORIGINAL SETTING.  THIS PROCEDURE ALLOWS THE
 0282  9CALLER TO STORE THE MATRIX AT THE TOP OF
R0283  4THE PUSH DOWN LIST.
R0284        DELCOMP
R0285  2     -------
R0286                                                            *
R0287        THIS ROUTINE COMPUTES THE DIRECTION COSINE MATRIX (DEL) RELATING ON
R0289
 02895 9 -
R0290   IS ROTATED WITH RESPECT TO THE FIRST BY AN ANGLE, A, ABOUT A UNIT VECTOR
 0291  9, U.  THE FORMULA FOR THIS MATRIX IS
R0292
R0293         *         *           --T           *
R0294         DEL  =    I  COSA  +  UU (1-COSA) + V SINA
R0295  2                                           X
R0296   WHERE      *         (1   0    0)
R0297              I    =    (0   1    0)
R0298  3                     (0   0    1)
R0299                           2
R0300                        (U        U U       U U )
R0301                        ( X        X Y       X Z)
R03015                       (                       )
R0302              --T       (           2           )
R0303              UU   =    (U U      U         U U )
R0304                        ( Y X      Y         Y Z)
R03045                       (                       )
R0305                        (                     2 )
R0306                        (U U      U U       U  )
R0307  3                     ( Z X      Z Y       Z  )
R0308                        (0        -U        U  )
R0309                        (           Z        Y )
R0310              *         (                      )
R0311              V    =    (U        0         -U )
R0312               X        ( Z                   X)
R03125                       (                      )
R0313                        (-U       U         0  )
R0314  2                     (  Y       X           )
R0315              -
R0316              U    =    UNIT ROTATION VECTOR RESOLVED INTO S/C AXES
R0317  2           A    =    ROTATION ANGLE
R0318                               *
R0319  2     THE INTERPRETATION OF DEL IS AS FOLLOWS
R0320        IF A , A , A  REPRESENT THE COMPONENT OF A VECTOR IN THE ROTATED FR
 0321  9AME, THEN THE COMPONENTS OF THE SAME
R0322            X   Y   Z
R0323   VECTOR IN THE ORIGINAL S/C AXES (B , B , B ) ARE
R0324  2                                  X   Y   Z
R0325              (B )                     (A )
R0326              ( X)                     ( X)
R0327              (  )            *        (  )
R0328              (B )      =    DEL       (A )
R0329              ( Y)                     ( Y)
R03295             (  )                     (  )
R0330              (B )                     (A )
R0331  2           ( Z)                     ( Z)
R0332        THE ROUTINE WILL STORE THIS MATRIX (SCALED UNITY) IN SEQUENTIAL LOC
 0333  9ATIONS OF ERASABLE MEMORY BEGINNING WITH
R03335
 03336 9                    -
R0334   THE LOCATION CALLED DEL.  IN ORDER TO USE THE ROUTINE, THE CALLING PROGR
 0335  9AM MUST FIRST STORE U (A HALF UNIT
R0337   DOUBLE PRECISION VECTOR) IN THE SET OF ERASABLE LOCATIONS BEGINNING WITH
 0338  9 THE ADDRESS CALLED COF.  THE ANGLE, A,
R0339  2MUST THEN BE LOADED INTO D(MPAC).
R0340        INTERNALLY, THE PROGRAM ALSO USES THE FIRST 10 LOCATIONS OF THE PUS
 0341  9H DOWN LIST.
R0342  3
R0343        READCDUK
R0344  2     --------
R0345        THIS BASIC LANGUAGE SUBROUTINE LOADS T(MPAC) WITH THE THREE CDU ANG
 0346  9LES.
R0347  3
R0348       SIGNMPAC
R0349  2     --------
R0350        THIS IS A BASIC LANGUAGE SUBROUTINE WHICH LIMITS THE MAGNITUDE OF D
 0351  9(MPAC) TO + OR - DPOSMAX ON OVERFLOW.
R0352  3
R0353  2     PROGRAM STORAGE ALLOCATION
R0354              1)   FIXED MEMORY                       1059 WORDS
R0355              2)   ERASABLE MEMORY                      98
R0356              3)   STATE SWITCHES                        3
R0357  4           4)   FLAGS                                 1
R0358  2     JOB PRIORITIES
R0359              1)   KALCMANU                            TBD
R0360  4           2)   ONE SECOND UPDATE                   TBD
R0361  4     SUMMARY OF STATE SWITCHES AND FLAGWORDS USED BY KALCMANU.
R0362   STATE                FLAGWRD 2      SETTING             MEANING
R0363  2SWITCH NO.            BIT NO.
R0364     *
R0365   31                      14            0       MANEUVER WENT THROUGH GIMB
 0366  9AL LOCK
R0367                                         1       MANEUVER DID NOT GO THROUG
 0368  9H GIMBAL LOCK
R0369
R0370     *
R0371   32                      13            0       CONTINUE UPDATE PROCESS
R0372  2                                      1       START UPDATE PROCESS
R0373   33                      12            0       PERFORM FINAL P-AXIS YAW I
 0374  9F REQUIRED
R0375                                         1       IGNORE ANY FINAL P-AXIS YA
 0376  9W
R0377
R0378   34                      11            0       SIGNAL END OF KALCMANU
R0379  3                                      1       KALCMANU IN PROCESS
 0380  9USER MUST SET SWITCH BEFORE INITIATING
R0382  4        *  INTERNAL TO KALCMANU
R0383  2     SUGGESTIONS FOR PROGRAM INTEGRATION
R0384  2     THE FOLLOWING VARIABLES SHOULD BE ASSIGNED TO UNSWITCH ERASABLE
R0385                        CPHI
R0386                        CTHETA
R0387                        CPSI
R0388                        POINTVSM  +5
R0389                        SCAXIS    +5
R0390                        DELDCDU
R0391                        DELDCDU1
R0392                        DELDCDU2
R03925 2                     RATEINDX
R0393  2     THE FOLLOWING SUBROUTINES MAY BE PUT IN A DIFFERENT BANK
R0394                        MXM3
R0395                        TRANSPOS
R0396                        SIGNMPAC
R0397                        READCDUK
R0398  8                     CDUTODCM
 10174           BANK   34
 10175           EBANK= MIS
 10176           NOOP
 1018   VECPOINT TC     INTPRET
 1019            RTB
 1020                   READCDUK        READ THE PRESENT CDU ANGLES
 1021            STORE  BCDU
 1022            AXC,2  CALL            COMPUTE THE TRANSFORMATION FROM INITIAL
 1023                   MIS             S/C AXES TO STABLE MEMBER AXES (MIS)
 1024                   CDUTODCM
 1025            VLOAD  VXM                                            -
 1026                   POINTVSM        RESOLVE THE POINTING DIRECTION VS INTO
 1027                   MIS             INITIAL S/C AXES
 1028            UNIT   PUSH
 1029            VXV    UNIT            TAKE THE CROSS PRODUCT VF X VI
 1030                   SCAXIS          WHERE VI = SCAXIS
 10305           BOV    VCOMP
 1031                   PICKAXIS
 1032            STOVL  COF
 1033                   SCAXIS
 1034            DOT    SL1
 1035            ARCCOS
 1036   COMPMATX CALL                   NOW COMPUTE THE TRANSFORMATION FROM
 1037                   DELCOMP         FINAL S/C AXES TO INITIAL S/C AXES = MFI
 1038            AXC,1  AXC,2           COMPUTE THE TRANSFORMATION FROM FINAL
 1039                   MIS             S/C AXES TO STABLE MEMBER AXES
 1040                   KEL
 1041            CALL
 1042                   MXM3            MFS IN PD LIST
 1043            AXC,1  CALL
 1044                   0               EXTRACT THE CDU ANGLES FROM THIS MATRIX
 1045                   DCMTOCDU
 1046            RTB
 1047                   V1STO2S         AND USE THEM AS THE COMMANDED CDU ANGLES
 1048            STCALL CPHI
 1049                   KALCMAN3 +1     PROCEED AS IF WE HAD BEEN GIVEN COMMAND
A1050                                   CDU ANGLES
 1051   PICKAXIS VLOAD  DOT             IF VF X VI = 0. PUSH UP FOR VF
 1052                   SCAXIS          FIND VF . VI
 1053            BMN    TLOAD           IF ANTIPARALLEL
 1054                   ROT180
 1055                   BCDU
 1056            STCALL CPHI            IF VF = VI
 1057  2                KALCMAN3 +1
 1058   ROT180   VLOAD  VXV             180 DEG ROTATION IS REQUIRED
 1059                   MIS +6          Y STABLE MEMBER AXIS IN INITIAL S/C AXES
 1060                   HALFA
 1061            UNIT   VXV             FIND Y(SM) X X(I)
 1062                   SCAXIS          FIND UNIT (VI X UNIT(Y(SM) X X(I)))
 1063            UNIT   BOV             PICK A VECTOR PERPENDICULAR TO VI IN THE
 1064                   PICKX           PLANE CONTAINING Y(SM) AND X(I) SO THAT
 1065   XROT     STODL  COF             MANEUVER DOES NOT GO THRU GIMBAL LOCK
 1066                   HALFA
 1067            GOTO
 1068                   COMPMATX
 1069   PICKX    VLOAD  GOTO            PICK THE X AXIS IN THIS CASE
 10691                  HALFA
 10692 2                XROT
R10693 2FIRST ENTRY POINT- KALCMAN3
R1070   THE THREE DESIRED CDU ANGLES MUST BE STORED AS SINGLE PRECISION TWOS COM
 1071  9PLEMENT ANGLES IN THE THREE SUCCESSIVE
R1072  2LOCATIONS, CPHI, CTHETA, CPSI.
 1073   KALCMAN3 TC     INTPRET         PICK UP THE CURRENT CDU ANGLES AND
 1074            RTB                      COMPUTE THE MATRIX FROM INITIAL S/C
 1076                   READCDUK          AXES TO FINAL S/C AXES
 1077            STORE  BCDU            STORE INITIAL S/C ANGLES
 1078            SLOAD  ABS
 1079                   BCDU +2         CHECK MAGNITUDE OF MIDDLE GIMBAL ANGLE
 1080            DSU    BPL
 1081                   LOCKANGL        IF GREATER THAN 60 DEG, ABORT MANEUVER
 1082                   TOOBAD
 1083            AXC,2  TLOAD
 1084                   MIS
 1085                   BCDU
 1086            CALL                   COMPUTE THE TRANSFORMATION FROM INITIAL
 1087                   CDUTODCM        S/C AXES TO STABLE MEMBER AXES
 1088            SLOAD  ABS             CHECK THE MAGNITUDE OF THE DESIRED
 1089                   CPSI            MIDDLE GIMBAL ANGLE
 1090            DSU    BPL
 1091                   LOCKANGL        IF GREATER THAN 60 DEG, ABORT MANEUVER
 1092                   TOOBAD
 1141            AXC,2  TLOAD
 1142                   MFS             PREPARE TO CALCULATE ARRAY MFS
 1143                   CPHI
 1144            CALL
 11445                  CDUTODCM
 1250   SECAD    AXC,1  CALL            MIS AND MFS ARRAYS CALCULATED        $2
 12581                  MIS
 1259                   TRANSPOS
 1260            VLOAD
 1261            STADR
 1262            STOVL  TMIS +12D
 1263            STADR
 1264            STOVL  TMIS +6
 1265            STADR
 1266            STORE  TMIS            TMIS = TRANSPOSE(MIS) SCALED BY 2
 1267            AXC,1  AXC,2
 1268                   TMIS
 1269                   MFS
 12695           CALL
 1270                   MXM3
 1271            VLOAD  STADR
 1273            STOVL  MFI +12D
 1274            STADR
 1275            STOVL  MFI +6
 1276            STADR
 1277            STORE  MFI             MFI = TMIS MFS (SCALED BY 4)
 1278            SETPD  CALL            TRANSPOSE MFI IN PD LIST
 1279                   18D
 1280                   TRNSPSPD
 1281            VLOAD  STADR
 1282            STOVL  TMFI +12D
 1283            STADR
 1284            STOVL  TMFI +6
 1285            STADR
 1286            STORE  TMFI            TMFI = TRANSPOSE (MFI)  SCALED BY 4
R1287
R1288   CALCULATE COFSKEW AND MFISYM
R1289
 1290            DLOAD  DSU
 1291                   TMFI +2
 1292                   MFI +2
 1293            PDDL   DSU             CALCULATE COF SCALED BY 2/SIN(AM)
 1294                   MFI +4
 1295                   TMFI +4
 1296            PDDL   DSU
 1297                   TMFI +10D
 1298                   MFI +10D
 1299            VDEF
 1300            STORE  COFSKEW         EQUALS MFISKEW
R130101
R130102 CALCULATE AM AND PROCEED ACCORDING TO ITS MAGNITUDE
R130103
 130104          DLOAD  DAD
 130105                 MFI
 130106                 MFI +16D
 130107          DSU    DAD
 130108                 QUARTA
 130109                 MFI +8D
 130110          STORE  CAM             CAM = (MFI0+MFI4+MFI8-1)/2 HALF SCALE
 130111          ARCCOS
 130112          STORE  AM              AM=ARCCOS(CAM)  (AM SCALED BY 2)
 130113          DSU    BPL
 130114                 MINANG
 130115                 CHECKMAX
 13012           TLOAD                  MANEUVER LESS THAN .25 DEGREES
 13013                  CPHI            GO DIRECTLY INTO ATTITUDE HOLD
 13014           STORE  CDUXD           ABOUT COMMANDED ANGLES
 13015           TLOAD
 13016                  NIL
 13017           STORE  OMEGAPD         ZERO DESIRED RATES
 13018           STCALL DELDCDU         PREPARE TO END MANEUVER ON GOOD RETURN
 13019                  ENDMANU
 13020  CHECKMAX DLOAD  DSU
 13021                  AM
 13022                  MAXANG
 13023           BPL    VLOAD
 13024                  ALTCALC         UNIT
 13025                  COFSKEW         COFSKEW
 13026           UNIT
 13027           STORE  COF             COF IS THE MANEUVER AXIS
 13028           GOTO                   SEE IF MANEUVER GOES THRU GIMBAL LOCK
 13029                  LOCSKIRT
 13030  ALTCALC  VLOAD  VAD             IF AM GREATER THAN 170 DEGREES
 13035                  MFI
 13040                  TMFI
 13045           VSR1
 1305            STOVL  MFISYM
 1306                   MFI +6
 1307            VAD    VSR1
 1308                   TMFI +6
 1309            STOVL  MFISYM +6
 1310                   MFI +12D
 1311            VAD    VSR1
 1312                   TMFI +12D
 1313            STORE  MFISYM +12D     MFISYM=(MFI+TMFI)/2  SCALED BY 4
R1314
R1315
R1316   CALCULATE COF
R1317
 1318            DLOAD  SR1
 1319                   CAM
 1320            PDDL   DSU             PD0 CAM                               $4
 1321                   HALFA
 1322                   CAM
 1323            BOVB   PDDL            PD2 1 - CAM                           $2
 1324                   SIGNMPAC
 1325                   MFISYM +16D
 1326            DSU    DDV
 1327                   0
 1328                   2
 1329            SQRT   PDDL            COFZ = SQRT(MFISYM8-CAM)/1-CAM)
 1330                   MFISYM +8D                                    $ ROOT 2
 1331            DSU    DDV
 1332                   0
 1333                   2
 1334            SQRT   PDDL            COFY = SQRT(MFISYM4-CAM)/(1-CAM)  $ROOT2
 1335                   MFISYM
 1336            DSU    DDV
 1337                   0
 1338                   2
 1339            SQRT   VDEF            COFX = SQRT(MFISYM-CAM)/(1-CAM)  $ROOT 2
 1340            UNIT
 13401           STORE  COF
R13412
R1342   DETERMINE  LARGEST COF AND ADJUST ACCORDINGLY
R13425
 1343   COFMAXGO DLOAD  DSU
 1344                   COF
 1345                   COF +2
 1346            BMN    DLOAD           COFY G COFX
 1347                   COMP12
 1348                   COF
 1349            DSU    BMN
 1350                   COF +4
 1351                   METHOD3         COFZ G COFX OR COFY
 1352            GOTO
 1353                   METHOD1         COFX G COFY OR COFZ
 1354   COMP12   DLOAD  DSU
 1355                   COF +2
 1356                   COF +4
 1357            BMN
 1358  2                METHOD3         COFZ G COFY OR COFX
 1359   METHOD2  DLOAD  BPL             COFY MAX
 1360                   COFSKEW +2      UY
 1361                   U2POS
 1362            VLOAD  VCOMP
 1363                   COF
 1364            STORE  COF
 1365   U2POS    DLOAD  BPL
 1366                   MFISYM +2       UX UY
 1367                   OKU21
 1368            DLOAD  DCOMP           SIGN OF UX OPPOSITE TO UY
 1369                   COF
 1370            STORE  COF
 1371   OKU21    DLOAD  BPL
 1372                   MFISYM +10D     UY UZ
 1373                   LOCSKIRT
 1374            DLOAD  DCOMP           SIGN OF UZ OPPOSITE TO UY
 1375                   COF +4
 1376            STORE  COF +4
 1377            GOTO
 1378                   LOCSKIRT
 1379   METHOD1  DLOAD  BPL             COFX MAX
 1380                   COFSKEW         UX
 1381                   U1POS
 1382            VLOAD  VCOMP
 1383                   COF
 1384            STORE  COF
 1385   U1POS    DLOAD  BPL
 1386                   MFISYM +2       UX UY
 1387                   OKU12
 1388            DLOAD  DCOMP
 1389                   COF +2          SIGN OF UY OPPOSITE TO UX
 1390            STORE  COF +2
 1391   OKU12    DLOAD  BPL
 1392                   MFISYM +4       UX UZ
 1393                   LOCSKIRT
 1394            DLOAD  DCOMP           SIGN OF UZ OPPOSITE TO UY
 1395                   COF +4
 1396            STORE  COF +4
 1397            GOTO
 1398                   LOCSKIRT
 1399   METHOD3  DLOAD  BPL             COFZ MAX
 1400                   COFSKEW +4      UZ
 1401                   U3POS
 1402            VLOAD  VCOMP
 1403                   COF
 1404            STORE  COF
 1405   U3POS    DLOAD  BPL
 1406                   MFISYM +4       UX UZ
 1407                   OKU31
 1408            DLOAD  DCOMP
 1409                   COF             SIGN OF UX OPPOSITE TO UZ
 1410            STORE  COF
 1412   OKU31    DLOAD  BPL
 1413                   MFISYM +10D     UY UZ
 1414                   LOCSKIRT
 1415            DLOAD  DCOMP
 1416                   COF +2          SIGN OF UY OPPOSITE TO UZ
 1417            STORE  COF +2
 1418            GOTO
 1419  8                LOCSKIRT
R1470  2MATRIX OPERATIONS
 1471            BANK   35
 1472  2         EBANK= MIS
 1473   MXM3     SETPD                  MXM3 MULTIPLIES 2 3X3 MATRICES
 1474                   0               AND LEAVES RESULT IN PD LIST
 1487            DLOAD* PDDL*           ADDRESS OF 1ST MATRIX IN XR1
 1488                   12D,2           ADDRESS OF 2ND MATRIX IN XR2
 1489                   6,2
 1490            PDDL*  VDEF            DEFINE VECTOR M2(COL 1)
 1491                   0,2
 1492            MXV*   PDDL*           M1XM2(COL 1) IN PD
 1493                   0,1
 1494                   14D,2
 1495            PDDL*  PDDL*
 1496                   8D,2
 1497                   2,2
 1498            VDEF   MXV*            DEFINE VECTOR M2(COL 2)
 1499                   0,1
 1500            PDDL*  PDDL*           M1XM2(COL 2) IN PD
 1501                   16D,2
 1502                   10D,2
 1503            PDDL*  VDEF            DEFINE VECTOR M2(COL 3)
 1504                   4,2
 1505            MXV*   PUSH            M1XM2(COL 3) IN PD
 1506                   0,1
 1507            GOTO
 1508                   TRNSPSPD        REVERSE ROWS AND COLS IN PD AND
R1509                                    RETURN WITH M1XM2 IN PD LIST
R1510
 1511   TRANSPOS SETPD  VLOAD*          TRANSPOS TRANSPOSES A 3X3 MATRIX
 1512                   0                AND LEAVES RESULT IN PD LIST
 1518                   0,1             MATRIX ADDRESS IN XR1
 1519            PDVL*  PDVL*
 1520                   6,1
 1521                   12D,1
 1522            PUSH                   MATRIX IN PD
 1528   TRNSPSPD DLOAD  PDDL            ENTER WITH MATRIX IN PD LIST
 1529                   2
 1530                   6
 1531            STODL  2
 1532            STADR
 1533            STODL  6
 1534                   4
 1535            PDDL
 1536                   12D
 1537            STODL  4
 1538            STADR
 1539            STODL  12D
 1540                   10D
 1541            PDDL
 1542                   14D
 1543            STODL  10D
 1544            STADR
 1545            STORE  14D
 1546  8         RVQ                    RETURN WITH TRANSPOSED MATRIX IN PD LIST
 1547            BANK   34
 1548  2         EBANK= MIS
 1551   MINANG   2DEC   0.00069375
 1552   MAXANG   2DEC   0.472222222
 1553   HALFA    2DEC   0.5
 1554   NIL      2DEC   0.0
 1555            2DEC   0.0
 1556            2DEC   0.0
 15565           2DEC   0.5
 1557   QUARTA   2DEC   .25
R1569  2         GIMBAL LOCK CONSTANTS
R1570   D = MGA CORRESPONDING TO GIMBAL LOCK = 60 DEGREES
R1571  2         NGL = BUFFER ANGLE (TO AVOID DIVISIONS BY ZERO) = 2 DEGREES
 1572   SD       2DEC   .433015         = SIN(D)                        $2
 1573   K3S1     2DEC   .86603          = SIN(D)                        $1
 1574   K4       2DEC   -.25            = -COS(D)                       $2
 1575   K4SQ     2DEC   .125            = COS(D)COS(D)                  $2
 1576   SNGLCD   2DEC   .008725         = SIN(NGL)COS(D)                $2
 1577   CNGL     2DEC   .499695         COS(NGL)                        $2
 1578   LOCKANGL 2DEC   .3333333333     $60DEGG
 1579            BANK   35
 1580            EBANK= MIS
R1600  2ROUTINE FOR LIMITING THE SIZE OF MPAC ON OVERFLOW TO DP POSMAX OR DP NEG
 1601  9MAX
 1602   SIGNMPAC EXTEND
 1603            DCA    DPOSMAX
 1604            DXCH   MPAC
 1605            CCS    A
 1606            CAF    ZERO
 1607            TCF    SLOAD2 +2
 1608            TCF    +1
 1609            EXTEND
 1610            DCS    DPOSMAX
 1611  4         TCF    SLOAD2
R1612  2INTERPRETIVE SUBROUTINE TO READ THE CDU ANGLES
 1613   READCDUK CA     CDUZ            LOAD T(MPAC) WITH CDU ANGLES
 1614            TS     MPAC +2
 1615            EXTEND
 1616            DCA    CDUX            AND CHANGE MODE TO TRIPLE PRECISION
 1617  4         TCF    TLOAD +6
 16171           BANK   34
 16172           EBANK= MIS
 1620   CDUTODCM AXT,1  SSP
 1621            OCT    3
 1622                   S1
 1623            OCT    1               SET XR1, S1, AND PD FOR LOOP
 1624            STORE  7
 1625            SETPD
 1626                   0
 1627   LOOPSIN  SLOAD* RTB
 1628                   10D,1
 1629                   CDULOGIC
 1630            STORE  10D             LOAD PD WITH 0 SIN(PHI)
 1631            SIN    PDDL                         2 COS(PHI)
 1632                   10D                          4 SIN(THETA)
 1633            COS    PUSH                         6 COS(THETA)
 1634            TIX,1  DLOAD                        8 SIN(PSI)
 1635                   LOOPSIN                     10 COS(PSI)
 1636                   6
 1637            DMP    SL1
 1638                   10D
 1639            STORE  0,2             C0=COS(THETA)COS(PSI)
 1640            DLOAD  DMP
 1641                   4
 1642                   0
 1643            PDDL   DMP             (PD6 SIN(THETA)SIN(PHI))
 1644                   6
 1645                   8D
 1646            DMP    SL1
 1647                   2
 1649            BDSU   SL1
 1650                   12D
 1651            STORE  2,2             C1=-COS(THETA)SIN(PSI)COS(PHI)
 1652            DLOAD  DMP
 1653                   2
 1654                   4
 1655            PDDL   DMP             (PD7 COS(PHI)SIN(THETA)) SCALED 4
 1656                   6
 1657                   8D
 1658            DMP    SL1
 1659                   0
 1660            DAD    SL1
 1661                   14D
 1664            STORE  4,2             C2=COS(THETA)SIN(PSI)SIN(PHI)
 16645           DLOAD
 1665                   8D
 1666            STORE  6,2             C3=SIN(PSI)
 16665           DLOAD
 1667                   10D
 1668            DMP    SL1
 1669                   2
 1670            STORE  8D,2            C4=COS(PSI)COS(PHI)
 1671            DLOAD  DMP
 1672                   10D
 1673                   0
 1674            DCOMP  SL1
 1675            STORE  10D,2           C5=-COS(PSI)SIN(PHI)
 1676            DLOAD  DMP
 1677                   4
 1678                   10D
 1679            DCOMP  SL1
 1680            STORE  12D,2           C6=-SIN(THETA)COS(PSI)
 16805           DLOAD
 1681            DMP    SL1              (PUSH UP 7)
 1682                   8D
 1683            PDDL   DMP              (PD7 COS(PHI)SIN(THETA)SIN(PSI)) SCALE4
 1684                   6
 1685                   0
 1686            DAD    SL1              (PUSH UP 7)
 1688            STADR                  C7=COS(PHI)SIN(THETA)SIN(PSI)
 1689            STORE  14D,2            +COS(THETA)SIN(PHI)
 16895           DLOAD
 1690            DMP    SL1              (PUSH UP 6)
 1691                   8D
 1692            PDDL   DMP              (PD6 SIN(THETA)SIN(PHI)SIN(PSI)) SCALE4
 1693                   6
 1694                   2
 1695            DSU    SL1              (PUSH UP 6)
 1696            STADR
 1697            STORE  16D,2           C8=-SIN(THETA)SIN(PHI)SIN(PSI)
 1698  2         RVQ                     +COS(THETA)COS(PHI)
R1700  2CALCULATION OF THE MATRIX DEL......
R1701            *      *               --T           *
R1702  2         DEL = (IDMATRIX)COS(A)+UU (1-COS(A))+UX SIN(A)         SCALED 1
R1703                  -
R1704            WHERE U IS A UNIT VECTOR (DP SCALED 2) ALONG THE AXIS OF ROTATI
 1705  9ON.
R1706            A IS THE ANGLE OF ROTATION (DP SCALED 2)
R1707                                               -
R1708  2         UPON ENTRY THE STARTING ADDRESS OF U IS COF, AND A IS IN MPAC
 1709   DELCOMP  SETPD  PUSH            MPAC CONTAINS THE ANGLE A
 1710                   0
 1711            SIN    PDDL            PD0 = SIN(A)
 1712            COS    PUSH            PD2 = COS(A)
 17125           SR2    PDDL            PD2 = COS(A)                         $8
 1713            BDSU   BOVB
 1714                   HALFA
 17141                  SIGNMPAC
 17142 2         PDDL                   PD4 = 1-COS(A)
R1715  2COMPUTE THE DIAGONAL COMPONENTS OF DEL
 1716                   COF
 1717            DSQ    DMP
 1718                   4
 1719            DAD    SL3             UXUX(1-COS(A))                       $8
 1720                   2
 1721            BOVB
 1722                   SIGNMPAC
 1723            STODL  KEL             UX UX(1-COS(A)) +COS(A)               $1
 1724                   COF +2
 1725            DSQ    DMP
 1726                   4
 1727            DAD    SL3             UYUY(1-COS(A))                       $8
 1728                   2
 1729            BOVB
 1730                   SIGNMPAC
 1731            STODL  KEL +8D         UY UY(1-COS(A)) +COS(A)               $1
 1732                   COF +4
 1733            DSQ    DMP
 17331                  4
 17332           DAD    SL3             UZUZ(1-COS(A))                       $8
 17333                  2
 17334           BOVB
 17335                  SIGNMPAC
 17336 2         STORE  KEL +16D        UZ UZ(1-COS(A)) +COS(A)               $1
R1734  2COMPUTE THE OFF DIAGONAL TERMS OF DEL
 1735            DLOAD  DMP
 1736                   COF
 1737                   COF +2
 1738            DMP    SL1
 1739                   4
 1740            PDDL   DMP             D6  UX UY (1-COS A)                $ 4
 1741                   COF +4
 1742                   0
 1743            PUSH   DAD             D8  UZ SIN A                       $ 4
 1744                   6
 1745            SL2    BOVB
 1746                   SIGNMPAC
 1747            STODL  KEL +6
 1748            BDSU   SL2
 1749            BOVB
 1750                   SIGNMPAC
 1751            STODL  KEL +2
 1752                   COF
 1753            DMP    DMP
 1754                   COF +4
 1755                   4
 1756            SL1    PDDL            D6  UX UZ (1-COS A )                $ 4
 1757                   COF +2
 1758            DMP    PUSH            D8  UY SIN(A)
 1759                   0
 1760            DAD    SL2
 1761                   6
 1762            BOVB
 1763                   SIGNMPAC
 1764            STODL  KEL +4          UX UZ (1-COS(A))+UY SIN(A)
 1765            BDSU   SL2
 1766            BOVB
 1767                   SIGNMPAC
 1768            STODL  KEL +12D        UX UZ (1-COS(A))-UY SIN(A)
 1769                   COF +2
 1770            DMP    DMP
 1771                   COF +4
 1772                   4
 1773            SL1    PDDL            D6  UY UZ (1-COS(A))                $ 4
 1774                   COF
 1775            DMP    PUSH            D8  UX SIN(A)
 1776                   0
 1777            DAD    SL2
 1778                   6
 1779            BOVB
 1780                   SIGNMPAC
 1781            STODL  KEL +14D        UY UZ(1-COS(A)) +UX SIN(A)
 1782            BDSU   SL2
 1783            BOVB
 1784                   SIGNMPAC
 1785            STORE  KEL +10D        UY UZ (1-COS(A)) -UX SIN(A)
 1786  4         RVQ
R1787   DIRECTION COSINE MATRIX TO CDU ANGLE ROUTINE
R1788   X1 CONTAINS THE COMPLEMENT OF THE STARTING ADDRESS FOR MATRIX (SCALED 2)
R1789   LEAVES CDU ANGLES SCALED 2PI IN V(MPAC)
R1790  2COS(MGA) WILL BE LEFT IN S1 (SCALED 1)
R1791  2THE DIRECTION COSINE MATRIX RELATING S/C AXES TO STABLE MEMBER AXES CAN
 1792  9BE WRITTEN AS***
R1793            C =COS(THETA)COS(PSI)
R1794             0
R1795            C =-COS(THETA)SIN(PSI)COS(PHI)+SI (THETA)SIN(PHI)
R1796             1
R1797            C =COS(THETA)SIN(PSI)SIN(PHI) + S N(THETA)COS(PHI)
R1798             2
R1799            C =SIN(PSI)
R1800             3
R1801            C =COS(PSI)COS(PHI)
R1802             4
R1803            C =-COS(PSI)SIN(PHI)
R1804             5
R1805            C =-SIN(THETA)COS(PSI)
R1806             6
R1807            C =SIN(THETA)SIN(PSI)COS(PHI)+COS THETA)SIN(PHI)
R1808             7
R1809            C =-SIN(THETA)SIN(PSI)SIN(PHI)+CO (THETA)COS(PHI)
R1810  2          8
R1811            WHERE PHI = OGA
R1812                  THETA = IGA
R1813  2               PSI = MGA
 1814   DCMTOCDU DLOAD* ARCSIN
 1815                   6,1
 1816            PUSH   COS             PD +0   PSI
 1817            SL1    BOVB
 1818                   SIGNMPAC
 1819            STORE  S1
 1820            DLOAD* DCOMP
 1821                   12D,1
 1822            DDV    ARCSIN
 1823                   S1
 1824            PDDL*  BPL             PD +2  THETA
 1825                   0,1             MUST CHECK THE SIGN OF COS(THETA)
 1826                   OKTHETA         TO DETERMINE THE PROPER QUADRANT
 1827            DLOAD  DCOMP
 1828            BPL    DAD
 1829                   SUHALFA
 1830                   HALFA
 1831            GOTO
 1832                   CALCPHI
 1833   SUHALFA  DSU
 1834                   HALFA
 1835   CALCPHI  PUSH
 1836   OKTHETA  DLOAD* DCOMP
 1837                   10D,1
 1838            DDV    ARCSIN
 1839                   S1
 1840            PDDL*  BPL             PUSH DOWN PHI
 1841                   8D,1
 1842                   OKPHI
 1843            DLOAD  DCOMP           PUSH UP PHI
 1844            BPL    DAD
 1845                   SUHALFAP
 1846                   HALFA
 1847            GOTO
 1848                   VECOFANG
 1849   SUHALFAP DSU    GOTO
 1850                   HALFA
 1851                   VECOFANG
 1852   OKPHI    DLOAD                  PUSH UP PHI
 1853   VECOFANG VDEF   RVQ
P1854  2ROUTINES FOR TERMINATING THE AUTOMATIC MANEUVER AND RETURNING TO USER
 1855   ENDMANU  EXIT
 1856            CAF    TWO
 1857            INHINT
 1858            TC     WAITLIST        PREPARE FOR A GOOD (NORMAL) RETURN VIA
 18581           EBANK= MIS
 1859            2CADR  GOODMANU        GOODEND
 1860            RELINT
 1861  2         TC     ENDOFJOB
 1862   TOOBAD   EXIT                   INITIAL OR FINAL GIMBAL ANGLES IN
 1863            CAF    TWO             GIMBAL LOCK
 1864            INHINT
 1865            TC     WAITLIST
 18651           EBANK= MIS
 1866            2CADR  NOGO            PREPARE FOR A BAD RETURN VIA BADEND
 1867            RELINT
 1868  2         TC     ENDOFJOB
 1869   NOGO     TC     FLAG2DWN        RESET BIT 11 OF FLAGWRD2 TO SIGNAL END
 1870            OCT    2000            OF KALCMANU
 1871            CAF    THREE
 1872            TC     POSTJUMP        RETURN UNDER WAITLIST VIA BADEND
 1873            CADR   BADEND          AND WAKE UP USER
L      2INTER-BANK COMMUNICATION
R0001            THE FOLLOWING ROUTINE CAN BE USED TO CALL A SUBROUTINE IN ANOTH
 0002  9ER BANK. IN THE BANKCALL VERSION, THE
R0003  2CADR OF THE SUBROUTINE IMMEDIATELY FOLLOWS THE  TC BANKCALL  INSTRUCTION
 0004  9, WITH C(A) AND C(L) PRESERVED.
 0005            BLOCK  02
 0006   BANKCALL DXCH   BUF2            SAVE INCOMING A,L.
 0007            INDEX  Q               PICK UP CADR.
 0008   BNKCAL+2 CA     0
 0009  2         INCR   Q               SO WE RETURN TO THE LOC. AFTER THE CADR.
R0010  2         SWCALL IS IDENTICAL TO BANKCALL, EXCEPT THAT THE CADR ARRIVES I
 0011  9N A.
 0012   SWCALL   TS     L
 0013            LXCH   FBANK           SWITCH BANKS, SAVING RETURN.
 0014            MASK   LOW10           GET SUB-ADDRESS OF CADR.
 0015            XCH    Q               A,L NOW CONTAINS DP RETURN.
 0016            DXCH   BUF2            RESTORING INPUTS IF THIS IS A BANKCALL.
 0017            INDEX  Q
 0018  2         TC     10000           SETTING Q TO SWRETURN.
 0019   SWRETURN XCH    BUF2 +1         COMES HERE TO RETURN TO CALLER. C(A,L)
 0020            XCH    FBANK           ARE PRESERVED FOR RETURN.
 0021            XCH    BUF2 +1
 0022  4         TC     BUF2
R0023            THE FOLLOWING ROUTINE CAN BE USED AS A UNILATERAL JUMP WITH C(A
 0024  9,L) PRESERVED AND THE CADR IMMEDIATELY
R0025  2FOLLOWING THE TC POSTJUMP INSTRUCTION.
 0026   POSTJUMP XCH    Q               SAVE INCOMING C(A).
 0027            INDEX  A               GET CADR.
 0028  2         CA     0
R0029  2         BANKJUMP IS THE SAME AS POSTJUMP, EXCEPT THAT THE CADR ARRIVES
 0030  9IN A.
 0031   BANKJUMP TS     FBANK
 0032            MASK   LOW10
 0033            XCH    Q               RESTORING INPUT C(A) IF THIS WAS A
 0034   Q+10000  INDEX  Q               POSTJUMP.
 0035   BNKJUP+4 TCF    10000
P0036  2         THE FOLLOWING ROUTINE GETS THE RETURN CADR SAVED BY SWCALL OR B
 0037  9ANKCALL AND LEAVES IT IN A.
 0038   MAKECADR CAF    LOW10
 0039            MASK   BUF2
 0040            AD     BUF2 +1
 0041  4         TC     Q
R00420           THE FOLLOWING ROUTINE OBTAINS THE ONE WORD AT THE ADDRESS ARRIV
 00425 9ING IN A, AND LEAVES IT IN A.  ENTER
R00430  WITH THE CADR IN A, AT DATACALL WITH JUNK IN L IF NOT SWITCHING SUPERBAN
 00435 9KS, OTHERWISE AT SUPDACAL WITH SUPERBANK
R00440 2BITS IN BITS 7-5 IN L (BITS 15-8 AND 4-1 MAY BE JUNK).  DEBRIS = MTEMP.
 00445 9 INHINTS FOR ABOUT 165 MUSEC.
 00450  DATACALL TS     L               SAVE CADR (SOLE INPUT HERE).
 00454           EXTEND
 00455           READ   SUPERBNK        THIS PROLOGUE MAKES SUPERSWITCH VACUOUS.
 00460 2         XCH    L               CADR IN A, SUPERBITS IN L.
 00465  SUPDACAL TS     MPTEMP
 00470           XCH    FBANK           SET FBANK FOR DATA.
 00475           EXTEND
 00480           ROR    SUPERBNK        SAVE FBANK IN BITS 15-11, AND
 00485           XCH    MPTEMP           SUPERBANK IN BITS  7-5.
 00490           MASK   LOW10
 00495           XCH    L               SAVE REL. ADR. IN BANK, FETCH SUPERBITS.
 00500           INHINT                 BECAUSE RUPT DOES NOT SAVE SUPERBANK.
 00505           EXTEND
 00510           WRITE  SUPERBNK        SET SUPERBANK FOR DATA.
 00520           INDEX  L
 00525 2         CA     10000
 00530           XCH    MPTEMP          SAVE 1ST WD, FETCH OLD FBANK AND SBANK.
 00534           EXTEND
 00535           WRITE  SUPERBNK        RESTORE SUPERBANK.
 00540           RELINT
 00545           TS     FBANK           RESTORE FBANK.
 00550           CA     MPTEMP          RECOVER FIRST WORD OF DATA.
 00555           RETURN                 24 WDS. DATACALL 516 MU, SUPDACAL 432 MU
P0056  2         THE FOLLOWING ROUTINES ARE IDENTICAL TO BANKCALL AND SWCALL EXC
 0057  9EPT THAT THEY ARE USED IN INTERRUPT.
 0058   IBNKCALL DXCH   RUPTREG3        USES RUPTREG3,4 FOR DP RETURN ADDRESS.
 0059            INDEX  Q
 0060            CAF    0
 0061  2         INCR   Q
 0062   ISWCALL  TS     L
 0063            LXCH   FBANK
 0064            MASK   LOW10
 0065            XCH    Q
 0066            DXCH   RUPTREG3
 0067            INDEX  Q
 0068  2         TC     10000
 0069   ISWRETRN XCH    RUPTREG4
 0070            XCH    FBANK
 0071            XCH    RUPTREG4
 0072            TC     RUPTREG3
P0073            THE FOLLOWING SUBROUTINES PROVIDE TO THE BASIC PROGRAMMER ENTRY
 0074  9 INTO AND RETURN FROM ANY INTERPRETIVE
R0075  2CODING WHICH DOES NOT USE THE ENTERING CONTENTS OF Q AND WHICH RETURNS V
 0076  9IA DANZIG. C(A) AND C(L) ARE SAVED.
R0077   USER'S RESPONSIBILITY TO FILL IN ADVANCE THE APPROPRIATE OPERAND AND ADD
 0078  9RESS REGISTERS USED BY THE
R0079   INTERPRETIVE CODING SUCH AS MPAC, BUF, ADDRWD, ETC.; AND TO CONFIRM THAT
 0080  9 THE INTERPRETIVE CODING MEETS THE
R0081  2ABOVE RESTRICTIONS WITH RESPECT TO Q AND DANZIG.
R0082  2USEPRET AND USPRCADR MUST NOT BE USED IN INTERRUPT.
R0083   1. USEPRET ACCESSES INTERPRETIVE CODING WHICH CAN BE ENTERED WITHOUT CHA
 0084  9NGING FBANK.
R0085  2   THE CALLING SEQUENCE IS AS FOLLOWS:
A0086   L        TC     USEPRET
A0087   L+1      TC,TCF INTPRETX        TC,TCF MEANS TC OR TCF
A0088                                   INTPRETX IS THE INTERPRETIVE CODING
A0089  2                                RETURN IS TO L+2
R0090  22. USPRCADR ACCESSES INTERPRETIVE CODING IN OTHER THAN THE USER'S FBANK.
 0091  9 THE CALLING SEQUENCE IS AS FOLLOWS:
A0092   L        TC     USPRCADR
A0093   L+1      CADR   INTPRETX        INTPRETX IS THE INTERPRETIVE CODING
A0094  2                                RETURN IS TO L+2
 0095   USEPRET  XCH    Q               FETCH Q, SAVING A
 0096            TS     LOC             L+1 TO LOC
 0097            CA     BBANK
 0098            TS     BANKSET         USER'S BBANK TO BANKSET
 0099            CA     BIT8
 0100            TS     EDOP            EXIT INSTRUCTION TO EDOP
 0101            CA     Q               RETRIEVE ORIGINAL A
 0102  2         TC     LOC
 0103   USPRCADR TS     LOC             SAVE A
 0104            CA     BIT8
 0105            TS     EDOP            EXIT INSTRUCTION TO EDOP
 0106            CA     BBANK
 0107            TS     BANKSET         USER'S BBANK TO BANKSET
 0108            INDEX  Q
 0109            CA     0
 0110            TS     FBANK           INTERPRETIVE BANK TO FBANK
 0111            MASK   LOW10           YIELDS INTERPRETIVE RELATIVE ADDRESS
 0112            XCH    Q               INTERPRETIVE ADDRESS TO Q, FETCHING L+1
 0113            XCH    LOC             L+1 TO LOC, RETRIEVING ORIGINAL A
 0114            TCF    Q+10000
P0117   THERE ARE FOUR POSSIBLE SETTINGS FOR CHANNEL 07. (CHANNEL 07 CONTAINS TH
 0118  9E SUPERBANK SETTING.)
R0119                                             PSEUDO-FIXED     OCTAL PSEUDO
R0120   SUPERBANK     SETTING     S-REG. VALUE    BANK NUMBERS     ADDRESSES
R0121  2----------    -------     ------------     ------------     ------------
R0122   SUPERBANK 3     0XX       2000 - 3777        30 - 37       70000 - 10777
 0123  97   (WHERE XX CAN BE ANYTHING AND
R0124
 0125  9    WILL USUALLY BE SEEN AS 11)
R0126   SUPERBANK 4     100       2000 - 3777        40 - 47       110000 - 1277
 0127  977  (AS FAR AS IT CAN BE SEEN,
R0128
 0129  9    ONLY BANKS 40-43 WILL EVER BE
R0130
 0131  9    AND ARE PRESENTLY AVAILABLE)
R0132   SUPERBANK 5     101       2000 - 3777        50 - 57       130000 - 1477
 0133  977  (PRESENTLY NOT AVAILABLE TO
R0134
 0135  9    THE USER)
R0136   SUPERBANK 6     110       2000 - 3777        60 - 67       150000 - 1677
 0137  977  (PRESENTLY NOT AVAILABLE TO
R0138
 0139  9    THE USER)
R0142   ***  THIS ROUTINE MAYBE CALLED BY ANY PROGRAM LOCATED IN BANKS 00 - 27.
 0143  9 I.E., NO PROGRAM LIVING IN ANY
R0144  2SUPERBANK SHOULD USE SUPERSW.  ***
R0145  2SUPERSW MAYBE CALLED IN THIS FASHION:
R0146            CAF    ABBCON          WHERE  --  ABBCON   BBCON  SOMETHIN  --
R0147            TCR    SUPERSW         (THE SUPERBNK BITS ARE IN THE BBCON)
R0148            ...      ...
R0149             .        .
R0150  2          .        .
R0151  2OR IN THIS FASHION :
R0152            CAF    SUPERSET        WHERE SUPERSET IS ONE OF THE FOUR AVAILA
 0153  9BLE
R0154            TCR    SUPERSW         SUPERBANK BIT CONSTANTS:
R0155            ...      ...                                   SUPER011 OCTAL
 0156  960
R0157             .        .                                    SUPER100 OCTAL 1
 0158  900
R0159             .        .                                    SUPER101 OCTAL 1
 0160  920
R0161  2                                                        SUPER110 OCTAL 1
 0162  940
 0163   SUPERSW  EXTEND
 0164            WRITE  SUPERBNK        WRITE BITS 7-6-5 OF THE ACCUMULATOR INTO
A0165                                   CHANNEL 07
 0166            TC     Q               TC TO INSTRUCTION FOLLOWING
A0167                                     TC  SUPERSW
L      2INTERPRETER
R0001  2SECTION 1  DISPATCHER
R0002            ENTRY TO THE INTERPRETER. INTPRET SETS LOC TO THE FIRST  INSTRU
 0003  9CTION, BANKSET TO THE BBANK OF THE
R0004   OBJECT INTERPRETIVE PROGRAM, AND INTBIT15 TO THE BIT15 CONTENTS OF FBANK
 0005  9. INTERPRETIVE PROGRAMS MAY BE IN
R0006   VIRTUALLY ALL BANKS PRESENT UNDER ANY SUPER-BANK SETTING, WITH THE RESTR
 0007  9ICTION THAT PROGRAMS IN HIGH BANKS
R0008   (BIT15 OF FBANK = 1) DO NOT REFER TO LOWBANKS, AND VICE-VERSA. THE INTER
 0009  9PRETER DOES NOT SWITCH SUPERBANKS.
R0010  4E-BANK SWITCHING OCCURS WHENEVER GENERAL ERASABLE (100 - 3777) IS ADDRES
 0011  9SED.
 0012  2         BLOCK  03
 0013   INTPRET  EXTEND                 SET LOC TO THE WORD FOLLOWING THE TC.
 0014  2         QXCH   LOC
 0015    +2      CA     BBANK           INTERPRETIVE BRANCHES FINISH HERE.
 0016            TS     BANKSET
 0017            MASK   BIT15           GET 15TH BIT FOR INDEXABLE ADDRESSES.
 0018  2         TS     INTBIT15
 0019  2         TS     EDOP            MAKE SURE NO INSTRUCTIONS LEFT OVER
 0021  4         TCF    NEWOPS          PICK UP OP CODE PAIR AND BEGIN.
 0022   INTRSM   LXCH   BBANK           RESUME SUSPENDED INTERPRETIVE JOB
 0023            TCF    INTPRET +2
P0024  2         AT THE END OF MOST INSTRUCTIONS, CONTROL IS GIVEN TO DANZIG TO
 0025  9DISPATCH THE NEXT OPERATION.
 0026  2NEWMODE  TS     MODE            PROLOGUE FOR MODE-CHANGING INSTRUCTIONS.
 0027   DANZIG   CA     BANKSET         SET BBANK BEFORE TESTING NEWJOB SO THAT
 0028  2         TS     BBANK           IT MAY BE SAVED DIRECTLY BY CHANJOB.
 0029   NOIBNKSW CCS    EDOP            SEE IF AN ORDER CODE IS LEFT OVER FROM
 0030            TCF    OPJUMP          THE LAST PAIR RETRIEVED. IF SO, EXECUTE.
A0031  2                                EDOP IS SET TO ZERO ON ITS RE-EDITING.
 0032            CCS    NEWJOB          SEE IF A JOB OF HIGHER PRIORITY IS
 0033  2         TCF    CHANG2          PRESENT, AND IF SO, CHANGE JOBS.
 0034            INCR   LOC             ADVANCE THE LOCATION COUNTER.
R00345           ITRACE (1) REFERS TO "NEWOPS".
 0035   NEWOPS   INDEX  LOC             ENTRY TO BEGIN BY PICKING OP CODE PAIR.
 0036            CA     0               MAY BE AN OPCODE PAIR OR A STORE CODE.
 0037            CCS    A               TEST SIGN AND GET DABS(A).
 0038  2         TCF    DOSTORE         PROCESS STORE CODE.
 0039  2         TC     CCSHOLE         TO CATCH SOME TASK USERS OF INTERPRETER.
 0040            TS     EDOP            OP CODE PAIR. LEAVE THE OTHER IN EDOP
 0041  2         MASK   LOW7            WHERE  CCS EDOP  WILL HONOR IT NEXT.
 0042   OPJUMP   TS     CYR             LOWWD ENTERS HERE IF A RIGHT-HAND OP
 0043            CCS    CYR             CODE IS TO BE PROCESSED. TEST PREFICES.
 0044  2         TCF    OPJUMP2         TEST SECOND PREFIX BIT.
 0045            TCF    EXIT            +0 OP CODE IS EXIT.
P0046  2         PROCESS ADDRESSES WHICH MAY BE DIRECT, INDEXED, OR REFERENCE TH
 0047  9E PUSHDOWN LIST.
 0048   ADDRESS  MASK   BIT1            SEE IF ADDRESS IS INDEXED. CYR CONTAINED
 0049            CCS    A               400XX, SO BIT 1 IS NOW AS IT WAS IN CYR.
 0050  2         TCF    INDEX           FORM INDEXED ADDRESS.
 0051   DIRADRES INDEX  LOC             LOOK AHEAD TO NEXT WORD TO SEE IF
 0052   OCT40001 CS     1               ADDRESS IS GIVEN.
 0053            CCS    A
 0054  2         TCF    PUSHUP          IF NOT.
 0055  2NEG4     DEC    -4
 0056            INCR   LOC             IF SO, TO SHOW WE PICKED UP A WORD.
 0057            TS     ADDRWD
P0058            FINAL DIGESTION OF DIRECT ADDRESSES OF OP CODES WITH 01 PREFIX
 0059  9IS DONE HERE. IN EACH CASE, THE
R0060   REQUIRED 12-BIT SUB-ADDRESS IS LEFT IN ADDRWD, WITH ANY REQUIRED E OR F
 0061  9BANK SWITCHING DONE. ADDRESSES LESS
R0062  4THAN 45D ARE TAKEN TO BE RELATIVE TO THE WORK AREA. THE OP CODE IS NOW I
 0063  9N BITS 1-5 OF CYR WITH BIT 14 = 1.
 0064            AD     -ENDVAC         SEE IF ADDRESS RELATIVE TO WORK AREA.
 0065            CCS    A
 0066            AD     -ENDERAS        IF NOT, SEE IF IN GENERAL ERASABLE.
 0067  2         TCF    IERASTST
 0068   NETZERO  CA     FIXLOC          IF SO, LEAVE THE MODIFIED ADDRESS IN
 0069            ADS    ADDRWD          ADDRWD AND DISPATCH.
 0070   ITR15    INDEX  CYR             THIS INDEX MAKES THE NEXT INSTRUCTION
 0071  2         7      INDJUMP -1      TCF INDJUMP + OP, EDITING CYR.
 0072   IERASTST EXTEND
 0073  2         BZMF   GEADDR          GO PROCESS GENERAL-ERASABLE ADDRESS.
 0074            MASK   LOW10           FIXED BANK ADDRESS. RESTORE AND ADD B15.
 0075            AD     LOW10           SWITCH BANKS AND LEAVE SUBADDRESS IN
 0076            XCH    ADDRWD          ADDRWD FOR OPERAND RETRIEVAL. (THIS
 0077            AD     INTBIT15        METHOD PRECLUDES USE OF THE LAST
 0078            TS     FBANK           LOCATION IN EACH FBANK.)
 0079   ITR12    INDEX  CYR
 00795 2         7      INDJUMP -1
 00800  GEADDR   MASK   LOW8
 00802           AD     OCT1400
 00803           XCH    ADDRWD
 00804           TS     EBANK
 00806  ITR10    INDEX  CYR
 00807           7      INDJUMP -1
P0081            THE FOLLOWING ROUTINE PROCESSES INTERPRETIVE INDEXED ADDRESSES.
 0082  9 AN INTERPRETER INDEX REGISTER MAY
R0083   CONTAIN THE ADDRESS OF ANY ERASABLE REGISTER (0-42 BEING RELATIVE TO THE
 0084  9 VAC AREA) OR ANY INTERPRETIVE PROGRAM
R0085  2BANK, OR ANY INTEGER IN THAT RANGE.
 0086   DODLOAD* CAF    DLOAD*          STODL* COMES HERE TO PROCESS LOAD ADR.
 0087  2         TS     CYR             (STOVL* ENTERS HERE).
 0088   INDEX    CA     FIXLOC          SET UP INDEX LOCATION.
 0089            TS     INDEXLOC
 0090            INCR   LOC             (ADDRESS ALWAYS GIVEN).
 0091            INDEX  LOC
 0092            CS     0
 0093            CCS    A               INDEX 2 IF ADDRESS STORED COMPLEMENTED.
 0094            INCR   INDEXLOC
 0095  2         NOOP
 0096            TS     ADDRWD          14 BIT ADDRESS TO ADDRWD.
 0097            MASK   HIGH4           IF ADDRESS GREATER THAN 2K, ADD INTBIT15
 0098            EXTEND
 0099            BZF    INDEX2
 0100            CA     INTBIT15
 0101  2         ADS    ADDRWD
 0102   INDEX2   INDEX  INDEXLOC
 0103            CS     X1
 0104  2         ADS    ADDRWD          DO AUGMENT, IGNORING AND CORRECTING OVF.
 0105            MASK   HIGH9           SEE IF ADDRESS IS IN WORK AREA.
 0106            EXTEND
 0107            BZF    INDWORK
 0108            MASK   HIGH4           SEE IF IN FIXED BANK.
 0109            EXTEND
 0110  2         BZF    INDERASE
 0111            CA     ADDRWD          IN FIXED - SWITCH BANKS AND CREATE
 0112            TS     FBANK           SUB-ADDRESS.
 0113            MASK   LOW10
 0114            AD     2K
 0115            TS     ADDRWD
 0116   ITR11    INDEX  CYR
 0117  2         3      INDJUMP -1
 0118   INDWORK  CA     FIXLOC          MAKE ADDRWD RELATIVE TO WORK AREA.
 0119  2         TCF    ITR13 -1
 0120   INDERASE CA     OCT1400
 01202           XCH    ADDRWD
 01204           TS     EBANK
 01206           MASK   LOW8
 01210   -1      ADS    ADDRWD
 01212  ITR13    INDEX  CYR
 01214           3      INDJUMP -1
P0122            PUSH-UP ROUTINES. WHEN NO OPERAND ADDRESS IS GIVEN, THE APPROPR
 0123  9IATE OPERAND IS TAKEN FROM THE PUSH-DOWN
R0124   LIST. IN MOST CASES THE MODE OF THE RESULT (VECTOR OR SCALAR) OF THE LAS
 0125  9T ARITHMETIC OPERATION PERFORMED
R0126   IS THE SAME AS THE TYPE OF OPERAND DESIRED (ALL ADD/SUBTRACT ETC.). EXCE
 0127  9PTIONS TO THIS GENERAL RULE ARE LISTED
R0128  2BELOW (NOTE THAT IN EVERY CASE THE MODE REGISTER IS LEFT INTACT):
R0129            1.  VXSC AND V/SC WANT THE OPPOSITE TYPE OF OPERAND, E.G., IF T
 0130  9HE LAST OPERATION YIELDED A VECTOR
R0131  2RESULT, VXSC WANTS A SCALAR.
R0132            2.  THE LOAD CODES SHOULD LOAD THE ACCUMULATOR INDEPENDENT OF T
 0133  9HE RESULT OF THE LAST OPERATION. THIS
R0134  2INCLUDES VLOAD, DLOAD, TLOAD, PDDL, AND PDVL (NO PUSHUP WITH SLOAD).
R0135            3.  SOME ARITHMETIC OPERATIONS REQUIRE A STANDARD TYPE OF OPERA
 0136  9ND REGARDLESS OF THE PREVIOUS OPERATION.
R0137  2THIS INCLUDES SIGN WANTING DP AND TAD REQUIRING TP.
 0138   PUSHUP   CAF    OCT23           IF THE LOW 5 BITS OF CYR ARE LESS THAN
 0139            MASK   CYR             20, THIS OP REQUIRES SPECIAL ATTENTION.
 0140            AD     -OCT10          (NO -0).
 0141            CCS    A
 0142  2         TCF    REGUP           FOR ALL CODES GREATER THAN OCT 7.
 0143  2-OCT10   OCT    -10
 0144            AD     NEG4            WE NOW HAVE 7 - OP CODE(MOD4). SEE IF
 0145            CCS    A               THE OP CODE (MOD4) IS THREE (REVERSE).
 0146            INDEX  A               NO - THE MODE IS DEFINITE. PICK UP THE
 0147            CS     NO.WDS
 0148  2         TCF    REGUP +2
 0149            INDEX  MODE            FOR VXSC AND V/SC WE WANT THE REQUIRED
 0150            CS     REVCNT          PUSHLOC DECREMENT WITHOUT CHANGING THE
 0151  2         TCF    REGUP +2        MODE AT THIS TIME.
 0152   REGUP    INDEX  MODE            MOST ALL OP CODES PUSHUP HERE.
 0153            CS     NO.WDS
 0154    +2      ADS    PUSHLOC
 0155            TS     ADDRWD
 0156   ITR14    INDEX  CYR
 0157  2         7      INDJUMP -1      (THE INDEX MAKES THIS A TCF.)
 0158            OCT    2               REVERSE PUSHUP DECREMENT. VECTOR TAKES 2
 0159   REVCNT   OCT    6               WORDS, SCALAR TAKES 6.
 0160            OCT    6
 0161   NO.WDS   OCT    2               CONVENTIONAL DECREMENT IS 6 WORDS VECTOR
 0162   OCTAL3   OCT    3               2 IN DP, AND 3 IN TP.
 0163            OCT    6
P0164  2         TEST THE SECOND PREFIX BIT TO SEE IF THIS IS A MISCELLANEOUS OR
 0165  9 A UNARY/SHORT SHIFT OPERATION.
 0166   OPJUMP2  CCS    CYR             TEST SECOND PREFIX BIT.
 0167  2         TCF    OPJUMP3         TEST THIRD BIT TO SEE IF UNARY OR SHIFT.
 0168  2-ENDVAC  DEC    -45
R0169            THE FOLLOWING ROUTINE PROCESSES ADDRESSES OF SUFFIX CLASS 10. T
 0170  9HEY ARE BASICALLY WORK AREA ADDRESSES
R0171   IN THE RANGE 0 - 52, ERASABLE ECADR CONSTANTS FROM 100 - 3777, AND FCADR
 0172  9S ABOVE THAT. ALL 15 BITS ARE AVAILABLE
R0173  2IN CONTRAST TO SUFFIX 1, IN WHICH ONLY THE LOW ORDER 14 ARE AVAILABLE.
 0174   15BITADR INCR   LOC             (ENTRY HERE FROM STCALL).
 0175            INDEX  LOC             PICK UP ADDRESS WORD.
 0176            CA     0
 0177  2         TS     POLISH          WE MAY NEED A SUBADDRESS LATER.
 0184            CAF    LOW7+2K         THESE INSTRUCTIONS ARE IN BANK 1.
 0185            TS     FBANK
 0186            MASK   CYR
 0187   ITR7     INDEX  A
 0188  2         TCF    MISCJUMP
P0196  2         COMPLETE THE DISPATCHING OF UNARY AND SHORT SHIFT OPERATIONS.
 0197   OPJUMP3  TS     FBANK           CALL IN BANK 0 (BITS 11-15 OF A ARE 0.)
R01975           ITRACE (6) REFERS TO "OPJUMP3".
 0198            CCS    CYR             TEST THIRD PREFIX BIT.
 0199            INDEX  A               THE DECREMENTED UNARY CODE IS IN BITS
 0200  2         TCF    UNAJUMP         1-4 OF A (ZERO, EXIT, HAS BEEN DETECTED)
 0201            CCS    MODE            ITS A SHORT SHIFT CODE. SEE IF PRESENT
 0202            TCF    SHORTT          SCALAR OR VECTOR.
 0203            TCF    SHORTT
 0204  4         TCF    SHORTV          CALLS THE APPROPRIATE ROUTINE.
 0205   OCT23    =      VD1
 0206   LOW7+2K  OCT    2177            OP CODE MASK + BANK 1 FBANK SETTING.
 0207   HIGH9    OCT    77700
 0208   BANKMASK OCT    76000           FBANK MASK.
 0209   FBANKMSK EQUALS BANKMASK
 0210   B12T14   =      PRIO34          USED IN PROCESSING STORE CODES.
 0211   -ENDERAS DEC    -2001           = -(2047 - 45 - 1)
P0212  2         THE FOLLOWING IS THE JUMP TABLE FOR OP CODES WHICH MAY HAVE IND
 0213  9EXABLE ADDRESSES OR MAY PUSH UP.
 0214   INDJUMP  TCF    VLOAD           00 - LOAD MPAC WITH A VECTOR.
 0215            TCF    TAD             01 - TRIPLE PRECISION ADD TO MPAC.
 0216            TCF    SIGN            02 - COMPLEMENT MPAC (V OR SC) IF X NEG.
 0217            TCF    VXSC            03 - VECTOR TIMES SCALAR.
 0218            TCF    CGOTO           04 - COMPUTED GO TO.
 0219            TCF    TLOAD           05 - LOAD MPAC WITH TRIPLE PRECISION.
 0220            TCF    DLOAD           06 - LOAD MPAC WITH A DP SCALAR.
 0221  2         TCF    V/SC            07 - VECTOR DIVIDED BY SCALAR.
 0222            TCF    SLOAD           10 - LOAD MPAC IN SINGLE PRECISION.
 0223            TCF    SSP             11 - SET SINGLE PRECISION INTO X.
 0224            TCF    PDDL            12 - PUSH DOWN MPAC AND RE-LOAD IN DP.
 0225            TCF    MXV             13 - MATRIX POST-MULTIPLIED BY VECTOR.
 0226            TCF    PDVL            14 - PUSH DOWN AND VECTOR LOAD.
 0227            TCF    CCALL           15 - COMPUTED CALL.
 0228            TCF    VXM             16 - MATRIX PRE-MULTIPLIED BY VECTOR.
 0229  2         TCF    TSLC            17 - NORMALIZE MPAC (SCALAR ONLY).
 0230            TCF    DMPR            20 - DP MULTIPLY AND ROUND.
 0231            TCF    DDV             21 - DP DIVIDE BY.
 0232            TCF    BDDV            22 - DP DIVIDE INTO.
 0233            TCF    GSHIFT          23 - GENERAL SHIFT INSTRUCTION.
 0234            TCF    VAD             24 - VECTOR ADD.
 0235            TCF    VSU             25 - VECTOR SUBTRACT.
 0236            TCF    BVSU            26 - VECTOR SUBTRACT FROM.
 0237  2         TCF    DOT             27 - VECTOR DOT PRODUCT.
 0238            TCF    VXV             30 - VECTOR CROSS PRODUCT.
 0239            TCF    VPROJ           31 - VECTOR PROJECTION.
 0240            TCF    DSU             32 - DP SUBTRACT.
 0241            TCF    BDSU            33 - DP SUBTRACT FROM.
 0242            TCF    DAD             34 - DP ADD.
 0243            TCF                    35 - AVAILABLE
 0244            TCF    DMP1            36 - DP MULTIPLY.
 0245  2         TCF    SETPD           37 - SET PUSH DOWN POINTER (DIRECT ONLY)
R0246   CODES 10 AND 14 MUST NOT PUSH UP. CODE 04 MAY BE USED FOR VECTOR DECLARE
 0247  9 BEFORE PUSHUP IF DESIRED.
P0248  2         THE FOLLOWING JUMP TABLE APPLIES TO INDEX, BRANCH, AND MISCELLA
 0249  9NEOUS INSTRUCTIONS.
 0250   MISCJUMP TCF    AXT             00 - ADDRESS TO INDEX TRUE.
 0251            TCF    AXC             01 - ADDRESS TO INDEX COMPLEMENTED.
 0252            TCF    LXA             02 - LOAD INDEX FROM ERASABLE.
 0253            TCF    LXC             03 - LOAD INDEX FROM COMPLEMENT OF ERAS.
 0254            TCF    SXA             04 - STORE INDEX IN ERASABLE.
 0255            TCF    XCHX            05 - EXCHANGE INDEX WITH ERASABLE.
 0256            TCF    INCR            06 - INCREMENT INDEX REGISTER.
 0257  2         TCF    TIX             07 - TRANSFER ON INDEX.
 0258            TCF    XAD             10 - INDEX REGISTER ADD FROM ERASABLE.
 0259            TCF    XSU             11 - INDEX SUBTRACT FROM ERASABLE.
 0260            TCF    BZE/GOTO        12 - BRANCH ZERO AND GOTO.
 0261            TCF    BPL/BMN         13 - BRANCH PLUS AND BRANCH MINUS.
 0262            TCF    RTB/BHIZ        14 - RETURN TO BASIC AND BRANCH HI ZERO.
 0263            TCF    CALL/ITA        15 - CALL AND STORE QPRET.
 0264            TCF    SW/             16 - SWITCH INSTRUCTIONS AND AVAILABLE.
 0265            TCF    BOV(B)          17 - BRANCH ON OVERFLOW TO BASIC OR INT.
P0266  2         THE FOLLOWING JUMP TABLE APPIES TO UNARY INSTRUCTIONS.
 0267            BANK   0               00 - EXIT - DETECTED EARLIER.
 0268   UNAJUMP  TCF    SQRT            01 - SQUARE ROOT.
 0269            TCF    SINE            02 - SIN.
 0270            TCF    COSINE          03 - COS.
 0271            TCF    ARCSIN          04 - ARC SIN.
 0272            TCF    ARCCOS          05 - ARC COS.
 0273            TCF    DSQ             06 - DP SQUARE.
 0274  2         TCF    ROUND           07 - ROUND TO DP.
 0275            TCF    COMP            10 - COMPLEMENT VECTOR OR SCALAR.
 0276            TCF    VDEF            11 - VECTOR DEFINE.
 0277            TCF    UNIT            12 - UNIT VECTOR.
 0278            TCF    ABVALABS        13 - LENGTH OF VECTOR OR MAG OF SCALAR.
 0279            TCF    VSQ             14 - SQUARE OF LENGTH OF VECTOR.
 0280            TCF    STADR           15 - PUSH UP ON STORE CODE.
 0281            TCF    RVQ             16 - RETURN VIA QPRET.
 0282            TCF    PUSH            17 - PUSH MPAC DOWN.
P0283  2SECTION 2  LOAD AND STORE PACKAGE.
R0284            A SET OF EIGHT STORE CODES IS PROVIDED AS THE PRIMARY METHOD OF
 0285  9 STORING THE MULTI-PURPOSE
R0286   ACCUMULATOR (MPAC). IF IN THE DANZIG SECTION LOC REFERS TO AN ALGEBRAICA
 0287  9LLY POSITIVE WORD, IT IS TAKEN AS A
R0288   STORE CODE WITH A CORRESPONDING ERASABLE ADDRESS. MOST OF THESE CODES AR
 0289  9E TWO ADDRESS, SPECIFYING THAT THE WORD
R0290  2FOLLOWING THE STORE CODE IS TO BE USED AS AN ADDRESS FROM WHICH TO RE-LO
 0291  9AD MPAC. FOUR OPTIONS ARE AVAILABLE:
R0292            1. STORE               STORE MPAC. THE E ADDRESS MAY BE INDEXED
 0293  9.
R0294            2. STODL               STORE MPAC AND RE-LOAD IT IN DP WITH THE
 0295  9 NEXT ADDRESS (THE LOAD MAY BE INDEXED).
R0296            3. STOVL               STORE MPAC AND RE-LOAD A VECTOR (AS ABOV
 0297  9E).
R0298  2         4. STCALL              STORE AND DO A CALL (BOTH ADDRESSES MUST
 0299  9 BE DIRECT HERE).
R0300  4         STODL AND STOVL WILL TAKE FROM THE PUSH-DOWN LIST IF NO LOAD AD
 0301  9DRESS IS GIVEN.
 03015 2         BLOCK  3
 0302   STADR    CA     BANKSET         THE STADR CODE (PUSHUP UP ON STORE
 0303            TS     FBANK           ADDRESS) ENTERS HERE.
 0304            INCR   LOC
 0305   ITR1     INDEX  LOC             THE STORECODE WAS STORED COMPLEMENTED TO
 0306            CS     0               MAKE IT LOOK LIKE AN OPCODE PAIR.
 0307  2         AD     NEGONE          (YUL CANT REMOVE 1 BECAUSE OF EARLY CCS)
 0308   DOSTORE  TS     ADDRWD
 0309            MASK   LOW11           ENTRY FROM DISPATCHER. SAVE THE ERASABLE
 0310            XCH    ADDRWD          ADDRESS AND JUMP ON THE STORE CODE NO.
 0311            MASK   B12T14
 0312            EXTEND
 0313            MP     BIT5            EACH TRANSFER VECTOR ENTRY IS TWO WORDS.
 0314   ITR0     INDEX  A
 0315            TCF    STORJUMP
P0316            STORE CODE JUMP TABLE. CALLS THE APPROPRIATE STORING ROUTINE AN
 0317  9D EXITS TO DANZIG OR TO ADDRESS WITH
R0318  2A SUPPLIED OPERATION CODE.
 0319   STORJUMP TC     STORE           STORE.
 0320            TCF    NEWOPS -1       PICK UP NEW OP CODE(S).
 0321            TC     STORE,1
 0322            TCF    NEWOPS -1
 0323            TC     STORE,2
 0324  2         TCF    NEWOPS -1
 0325            TC     STORE           STODL.
 0326  2         TCF    DODLOAD
 0331            TC     STORE           STODL WITH INDEXED LOAD ADDRESS.
 0332  2         TCF    DODLOAD*
 0337            TC     STORE           STOVL.
 0338  2         TCF    DOVLOAD
 0343            TC     STORE           STOVL WITH INDEXED LOAD ADDRESS.
 0344            TCF    DOVLOAD*
 0349            TC     STORE           STOTC.
 0350            CAF    CALLCODE
 0351            TS     CYR
 0352            TCF    15BITADR        GET A 15 BIT ADDRESS.
P0353  2         STORE CODE ADDRESS PROCESSOR.
 0354   STORE,1  INDEX  FIXLOC
 0355            CS     X1
 0356  2         TCF    PRESTORE
 0357   STORE,2  INDEX  FIXLOC
 0358            CS     X2
 0359  2PRESTORE ADS    ADDRWD          RESULTANT ADDRESS IS IN ERASABLE.
 0360   STORE    CS     ADDRWD
 03605           AD     DEC45
 03610           CCS    A               DOES THE ADDRESS POINT TO THE WORK AREA?
 03615           CA     FIXLOC          YES.
 03620           TCF    AHEAD5
 03625           CA     OCT1400         NO.  SET EBANK & MAKE UP SUBADDRESS.
 0363            XCH    ADDRWD
 0364            TS     EBANK
 0365            MASK   LOW8
 0366   AHEAD5   ADS    ADDRWD
P0367  2         STORING ROUTINES. STORE DP, TP, OR VECTOR AS INDICATED BY MODE.
 0368   STARTSTO EXTEND                 MPAC,+1 MUST BE STORED IN ANY EVENT.
R03685           ITRACE (5) REFERS TO "STARTSTO".
 0369            DCA    MPAC
 0370            INDEX  ADDRWD
 0371  2         DXCH   0
 0372            CCS    MODE
 0373            TCF    TSTORE
 0374  2         TC     Q
 0375   VSTORE   EXTEND
 0376            DCA    MPAC +3
 0377            INDEX  ADDRWD
 0378  2         DXCH   2
 0379            EXTEND
 0380            DCA    MPAC +5
 0381            INDEX  ADDRWD
 0382            DXCH   4
 0383  2         TC     Q
 0384   TSTORE   CA     MPAC +2
 0385            INDEX  ADDRWD
 0386            TS     2
 0387            TC     Q
P0388            ROUTINES TO BEGIN PROCESSING OF THE SECOND ADDRESS ASSOCIATED W
 0389  9ITH ALL STORE-TYPE CODES EXCEPT STORE
R0390  2ITSELF.
 0391   DODLOAD  CAF    DLOADCOD
 0392            TS     CYR
 0393  2         TCF    DIRADRES        GO GET A DIRECT ADDRESS.
 0394   DOVLOAD  CAF    VLOADCOD
 0395            TS     CYR
 0396  2         TCF    DIRADRES
 0397   DOVLOAD* CAF    VLOAD*
 0398            TCF    DODLOAD* +1     PROLOGUE TO INDEX ROUTINE.
P0399  2         THE FOLLOWING LOAD INSTRUCTIONS ARE PROVIDED FOR LOADING THE MU
 0400  9LTI-PURPOSE ACCUMULATOR MPAC.
 0401   DLOAD    EXTEND
 0402            INDEX  ADDRWD
 0403            DCA    0               PICK UP DP ARGUMENT AND LEAVE IT IN
 0404   SLOAD2   DXCH   MPAC            MPAC,+1, SETTING MPAC +2 TO ZERO. THE
 0405            CAF    ZERO            CONTENTS OF THE OTHER FOUR REGISTERS OF
 0406            TS     MPAC +2         MPAC ARE IRRELEVANT.
 0407  2         TCF    NEWMODE         DECLARE DOUBLE PRECISION MODE.
 0408   TLOAD    INDEX  ADDRWD
 0409            CA     2               LOAD A TRIPLE PRECISION ARGUMENT INTO
 0410            TS     MPAC +2         THE FIRST THREE MPAC REGISTERS, WITH THE
 0411            EXTEND                 CONTENTS OF THE OTHER FOUR IRRELEVANT.
 0412            INDEX  ADDRWD
 0413            DCA    0
 0414            DXCH   MPAC
 0415            CAF    ONE
 0416  2         TCF    NEWMODE         DECLARE TRIPLE PRECISION MODE.
 0417   SLOAD    ZL                     LOAD A SINGLE PRECISION NUMBER INTO
 0418            INDEX  ADDRWD          MPAC, SETTING MPAC+1,2 TO ZERO. THE
 0419            CA     0               CONTENTS OF THE REMAINING MPAC REGISTERS
 0420  2         TCF    SLOAD2          ARE IRRELEVANT.
 0421   VLOAD    EXTEND                 LOAD A DOUBLE PRECISION VECTOR INTO
 0422            INDEX  ADDRWD          MPAC,+1, MPAC+3,4, AND MPAC+5,6. THE
 0423            DCA    0               CONTENTS OF MPAC +2 ARE IRRELEVANT.
 0424  2         DXCH   MPAC
 0425   ENDVLOAD EXTEND                 PDVL COMES HERE TO FINISH UP FOR DP, TP.
 0426            INDEX  ADDRWD
 0427            DCA    2
 0428  2         DXCH   MPAC +3
 0429    +4      EXTEND                 TPDVL FINISHES HERE.
 0430            INDEX  ADDRWD
 0431            DCA    4
 0432  2         DXCH   MPAC +5
 0433            CS     ONE             DECLARE VECTOR MODE.
 0434            TCF    NEWMODE
P0435  2         THE FOLLOWING INSTRUCTIONS ARE PROVIDED FOR STORING OPERANDS IN
 0436  9 THE PUSHDOWN LIST:
R0437            1.  PUSH               PUSHDOWN AND NO LOAD.
R0438            2.  PDDL               PUSHDOWN AND DOUBLE PRECISION LOAD.
R0439  2         3.  PDVL               PUSHDOWN AND VECTOR LOAD.
 0440   PDDL     EXTEND
 0441            INDEX  ADDRWD          LOAD MPAC,+1, PUSHING THE FORMER
 0442            DCA    0               CONTENTS DOWN.
 0443            DXCH   MPAC
 0444            INDEX  PUSHLOC
 0445  2         DXCH   0
 0446            INDEX  MODE            ADVANCE THE PUSHDOWN POINTER APPRO-
 0447            CAF    NO.WDS          PRIATELY.
 0448  2         ADS    PUSHLOC
 0449            CCS    MODE
 0450            TCF    ENDTPUSH
 0451  2         TCF    ENDDPUSH
 0452            TS     MODE            NOW DP.
 0453   ENDVPUSH TS     MPAC +2
 0454            DXCH   MPAC +3         PUSH DOWN THE REST OF THE VECTOR HERE.
 0455            INDEX  PUSHLOC
 0456  2         DXCH   0 -4
 0457            DXCH   MPAC +5
 0458            INDEX  PUSHLOC
 0459  2         DXCH   0 -2
 0460  2         TCF    DANZIG
 0461   ENDDPUSH TS     MPAC +2         SET MPAC +2 TO ZERO AND EXIT ON DP.
 0462  2         TCF    DANZIG
 0463   ENDTPUSH TS     MODE
 0464            XCH    MPAC +2         ON TRIPLE, SET MPAC +2 TO ZERO, PUSHING
 0465    +2      INDEX  PUSHLOC         DOWN THE OLD CONTENTS
 0466            TS     0 -1
 0467            TCF    DANZIG
P0468  2         PDVL - PUSHDOWN AND VECTOR LOAD.
 0469   PDVL     EXTEND                 RELOAD MPAC AND PUSH DOWN ITS CONTENTS.
 0470            INDEX  ADDRWD
 0471            DCA    0
 0472            DXCH   MPAC
 0473            INDEX  PUSHLOC
 0474  2         DXCH   0
 0475            INDEX  MODE            ADVANCE THE PUSHDOWN POINTER.
 0476            CAF    NO.WDS
 0477  2         ADS    PUSHLOC
 0478            CCS    MODE            TEST PAST MODE.
 0479            TCF    TPDVL
 0480  2         TCF    ENDVLOAD        JUST LOAD LAST FOUR REGISTERS ON DP.
 0481   VPDVL    EXTEND                 PUSHDOWN AND RE-LOAD LAST TWO COMPONENTS
 0482            INDEX  ADDRWD
 0483            DCA    2
 0484            DXCH   MPAC +3
 0485            INDEX  PUSHLOC
 0486  2         DXCH   0 -4
 0487            EXTEND
 0488            INDEX  ADDRWD
 0489            DCA    4
 0490            DXCH   MPAC +5
 0491            INDEX  PUSHLOC
 0492  2         DXCH   0 -2
 0493  2         TCF    DANZIG
 0494   TPDVL    EXTEND                 ON TP, WE MUST LOAD THE Y COMPONENT
 0495            INDEX  ADDRWD          BEFORE STORING MPAC +2 INCASE THIS IS A
 0496            DCA    2               PUSHUP.
 0497  2         DXCH   MPAC +3
 0498            CA     MPAC +2
 0499            INDEX  PUSHLOC         IN DP.
 0500            TS     0 -1
 0501  2         TCF    ENDVLOAD +4
R0502  2         SSP (STORE SINGLE PRECISION) IS EXECUTED HERE.
 0503   SSP      INCR   LOC             PICK UP THE WORD FOLLOWING THE GIVEN
 0504            INDEX  LOC             ADDRESS AND STORE IT AT X.
 0505            CA     0
 0506   STORE1   INDEX  ADDRWD          SOME INDEX AND MISCELLANEOUS OPS END
 0507            TS     0               HERE.
 0508            TCF    DANZIG
P0509  2SEQUENCE CHANGING AND SUBROUTINE CALLING OPTIONS.
R0510  2         THE FOLLOWING OPERATIONS ARE AVAILABLE FOR SEQUENCING CHANGING,
 0511  9 BRANCHING, AND CALLING SUBROUTINES:
R0512            1.  GOTO               GO TO.
R0513            2.  CALL               CALL SUBROUTINE SETTING QPRET.
R0514            3.  CGOTO              COMPUTED GO TO.
R0515            4.  CCALL              COMPUTED CALL.
R0516            7.  BPL                BRANCH IF MPAC POSITIVE OR ZERO.
R0517            8.  BZE                BRANCH IF MPAC ZERO.
R0518  2         9.  BMN                BRANCH IF MPAC NEGATIVE NON-ZERO.
 0519   CCALL    INCR   LOC             MAINTAIN LOC FOR QPRET COMPUTATION.
 0520            INDEX  LOC
 0521            CAF    0               GET BASE ADDRESS OF CADR LIST.
 0522            INDEX  ADDRWD
 0523            AD     0               ADD INCREMENT.
 0524            TS     FBANK           SELECT DESIRED CADR.
 0525            MASK   LOW10
 0526            INDEX  A
 0527            CAF    10000
 0528  2         TS     POLISH
 0529   CALL     CA     BANKSET         FOR ANY OF THE CALL OPTIONS, MAKE UP THE
 05295           MASK   BANKMASK        ADDRESS OF THE NEXT OP-CODE PAIR/STORE
 0530            AD     BANKMASK        CODE AND LEAVE IT IN QPRET.  NOTE THAT
 0531            AD     LOC             BANKMASK = -(2000 - 1).
 0532            INDEX  FIXLOC
 0533  2         TS     QPRET
 0534   GOTO     CA     POLISH          BASIC BRANCHING SEQUENCE.
 05345   +1      MASK   HIGH4
 05350           EXTEND
 05355           BZF    GOTOERS         SEE IF ADDRESS POINTS TO FIXED OR ERAS.
 05360   +4      CA     BANKSET         SET EBANK PART OF BBANK. NEXT, SET UP
 05365           TS     BBANK           FBANK. THE COMBINATION IS PICKED UP &
 05370           CA     POLISH          PUT INTO BANKSET AT INTPRET +2.
 05375           TS     FBANK
 05380           MASK   LOW10
 05385           AD     2K
 05390           TS     LOC
 05395 8         TCF    INTPRET +2
 05398 2         EBANK= 1400            SO YUL DOESN'T CUSS THE "CA 1400" BELOW.
 05400  GOTOERS  CA     POLISH          THE GIVEN ADDRESS IS IN ERASABLE - SEE
 05405           AD     -ENDVAC         IF RELATIVE TO THE WORK AREA.
 05410           CCS    A
 05415           CA     POLISH          GENERAL ERASABLE.
 05420 2         TCF    GOTOGE
 05425           CA     FIXLOC          WORK AREA.
 05430           AD     POLISH
 05435           INDEX  A               USE THE GIVEN ADDRESS AS THE ADDRESS OF
 05440           CA     0               THE BRANCH ADDRESS.
 05445           TS     POLISH
 05450 2         TCF    GOTO +1         ALLOWS ARBITRARY INDIRECTNESS LEVELS.
 05455  GOTOGE   TS     EBANK
 0546            MASK   LOW8
 0547            INDEX  A               USE THE GIVEN ADDRESS AS THE ADDRESS OF
 0548            CA     1400            THE BRANCH ADDRESS.
 0549            TS     POLISH
 0550  2         TCF    GOTO +1
 0551   CGOTO    INDEX  LOC             COMPUTED GO TO. PICK UP ADDRESS OF CADR
 0552            CA     1               LIST.
 0553            INDEX  ADDRWD          ADD MODIFIER.
 0554            AD     0
 0555            TS     FBANK           SELECT GOTO ADDRESS.
 0556            MASK   LOW10
 0557            INDEX  A
 0558            CA     10000
 05585           TS     POLISH
 0559  2         TCF    GOTO +1         WITH ADDRESS IN A.
 0560   SWBRANCH CA     BANKSET         SWITCH INSTRUCTIONS WHICH ELECT TO
 0561            TS     FBANK           BRANCH COME HERE TO DO SO.
 0562            INDEX  LOC
 0563            CA     1
 05635           TS     POLISH
 0564  2         TCF    GOTO +1
P0566  2         TRIPLE PRECISION BRANCHING ROUTINE. IF CALLING TC IS AT L, RETU
 0567  9RN IS AS FOLLOWS:
R0568            L+1  IF MPAC IS GREATER THAN ZERO.
R0569            L+2  IF MPAC IS EQUAL TO +0 OR -0.
R0570  4         L+3  IF MPAC IS LESS THAN ZERO.
 0571   BRANCH   CCS    MPAC
 0572            TC     Q
 0573            TCF    +2              ON ZERO.
 0574  2         TCF    NEG
 0575            CCS    MPAC +1
 0576            TC     Q
 0577            TCF    +2
 0578  2         TCF    NEG
 0579            CCS    MPAC +2
 0580            TC     Q
 0581            TCF    +2
 0582  2         TCF    NEG
 0583   Q+1      INDEX  Q
 0584  2         TC     1
 0585   NEG      INDEX  Q               IF FIRST NON-ZERO REGISTER WAS NEGATIVE.
 0586  4         TC     2
 05861 2Q+2      =      NEG
R05865           ITRACE (3) REFERS TO "EXIT".
 0587   EXIT     CA     BANKSET         RESTORE USER'S BANK SETTING, AND LEAVE
 05874           TS     BBANK           INTERPRETIVE MODE.
 05876           INDEX  LOC
 0588            TC     1
P0589  2SECTION 3 - ADD/SUBTRACT PACKAGE.
R0590            THE FOLLOWING OPERATIONS ARE PROVIDED FOR ADDING TO AND SUBTRAC
 0591  9TING FROM THE MULTI-PURPOSE ACCUMULATOR
R0592  2MPAC:
R0593            1.  DAD                DOUBLE PRECISION ADD.
R0594            2.  DSU                DOUBLE PRECISION SUBTRACT.
R0595  2         3.  BDSU               DOUBLE PRECISION SUBTRACT FROM.
R0596  2         4.  TAD                TRIPLE PRECISION ADD.
R0597            5.  VAD                VECTOR ADD.
R0598            6.  VSU                VECTOR SUBTRACT.
R0599  2         7.  BVSU               VECTOR SUBTRACT FROM.
R0600  4THE INTERPRETIVE OVERFLOW INDICATOR OVFIND IS SET NON-ZERO IF OVERFLOW O
 0601  9CCURS IN ANY OF THE ABOVE.
 0602   VAD      EXTEND
 0603            INDEX  ADDRWD
 0604            DCA    2
 0605            DAS    MPAC +3
 0606            EXTEND                 CHECK OVERFLOW.
 0607            BZF    +2
 0608  2         TC     OVERFLOW
 0609            EXTEND
 0610            INDEX  ADDRWD
 0611            DCA    4
 0612            DAS    MPAC +5
 0613            EXTEND
 0614            BZF    +2
 0615  2         TC     OVERFLOW
 0616   DAD      EXTEND
 0617            INDEX  ADDRWD
 0618            DCA    0
 0619   ENDVXV   DAS    MPAC            VXV FINISHES HERE.
 0620            EXTEND
 0621            BZF    DANZIG
 0622            TC     OVERFLOW
 0623  8         TCF    DANZIG
 0624   VSU      EXTEND
 0625            INDEX  ADDRWD
 0626            DCS    2
 0627            DAS    MPAC +3
 0628            EXTEND
 0629            BZF    +2
 0630  2         TC     OVERFLOW
 0631            EXTEND
 0632            INDEX  ADDRWD
 0633            DCS    4
 0634            DAS    MPAC +5
 0635            EXTEND
 0636            BZF    +2
 0637  2         TC     OVERFLOW
 0638   DSU      EXTEND
 0639            INDEX  ADDRWD
 0640            DCS    0
 0641            DAS    MPAC
 0642            EXTEND
 0643            BZF    DANZIG
 0644            TC     OVERFLOW
 0645  2         TCF    DANZIG
 0646   OVERFLOW CAF    ONE             SUBROUTINE TO TURN OVFIND ON.
 0647  8         TCF    SETOVF2
 0648   BVSU     EXTEND
 0649            INDEX  ADDRWD
 0650            DCA    2
 0651            DXCH   MPAC +3
 0652            EXTEND
 0653            DCOM
 0654            DAS    MPAC +3
 0655            EXTEND
 0656            BZF    +2
 0657  2         TC     OVERFLOW
 0658            EXTEND
 0659            INDEX  ADDRWD
 0660            DCA    4
 0661            DXCH   MPAC +5
 0662            EXTEND
 0663            DCOM
 0664            DAS    MPAC +5
 0665            EXTEND
 0666            BZF    +2
 0667  2         TC     OVERFLOW
 0668   BDSU     EXTEND
 0669            INDEX  ADDRWD
 0670            DCA    0
 0671            DXCH   MPAC
 0672            EXTEND
 0673            DCOM
 0674            DAS    MPAC
 0675            EXTEND
 0676            BZF    DANZIG
 0677            TC     OVERFLOW
 0678            TCF    DANZIG
P0679  2         TRIPLE PRECISION ADD ROUTINE.
 0680   TAD      EXTEND
 0681            INDEX  ADDRWD
 0682            DCA    1               ADD MINOR PARTS FIRST.
 0683            DAS    MPAC +1
 0684            INDEX  ADDRWD
 0685            AD     0
 0686            AD     MPAC
 0687            TS     MPAC
 0688  2         TCF    DANZIG
 0689   SETOVF   TS     OVFIND          SET OVFIND IF SUCH OCCURS.
 0690            TCF    DANZIG
P0691  2ARITHMETIC SUBROUTINES REQUIRED IN FIXED-FIXED.
R0692            1.  DMPSUB     DOUBLE PRECISION MULTIPLY. MULTIPLY THE CONTENTS
 0693  9 OF MPAC,+1 BY THE DP WORD WHOSE ADDRESS
R0694                           IS IN ADDRWD AND LEAVE A TRIPLE PRECISION RESULT
 0695  9 IN MPAC.
R0696            2.  ROUNDSUB   ROUND THE TRIPLE PRECISON CONTENTS OF MPAC TO DO
 0697  9UBLE PRECISION.
R0698            3.  DOTSUB     TAKE THE DOT PRODUCT OF THE VECTOR IN MPAC AND T
 0699  9HE VECTOR WHOSE ADDRESS IS IN ADDRWD
R0700                           AND LEAVE THE TRIPLE PRECISION RESULT IN MPAC.
R0701            4.  POLY       USING THE CONTENTS OF MPAC AS A DP ARGUMENT, EVA
 0702  9LUATE THE POLYNOMIAL WHOSE DEGREE AND
R0703  4                        COEFFICIENTS IMMEDIATELY FOLLOW THE TC POLY INST
 0704  9RUCTION (SEE ROUTINE FOR DETAILS.)
 0705   DMP      INDEX  Q               BASIC SUBROUTINE FOR USE BY PINBALL, ETC
 0706            CAF    0               ADRES OF ARGUMENT FOLLOWS  TC DMP  .
 0707            INCR   Q
 0708  2 -1      TS     ADDRWD          (PROLOGUE FOR SETTING ADDRWD.)
 0709   DMPSUB   INDEX  ADDRWD          GET MINOR PART OF OPERAND AT C(ADDRWD).
 0710            CA     1
 0711            TS     MPAC +2         THIS WORKS FOR SQUARING MPAC AS WELL.
 0712            CAF    ZERO            SET MPAC +1 TO ZERO SO WE CAN ACCUMULATE
 0713            XCH    MPAC +1         THE PARTIAL PRODUCTS WITH DAS
 0714            TS     MPTEMP          INSTRUCTIONS.
 0715            EXTEND
 0716  2         MP     MPAC +2         MINOR OF MPAC X MINOR OF C(ADDRWD).
 0717            XCH    MPAC +2         DISCARD MINOR PART OF ABOVE RESULT AND
 0718            EXTEND                 FORM MAJOR OF MPAC X MINOR OF C(ADDRWD).
 0719            MP     MPAC
 0720  2         DAS    MPAC +1         GUARANTEED NO OVERFLOW.
 0721            INDEX  ADDRWD          GET MAJOR PART OF ARGUMENT AT C(ADDRWD).
 0722            CA     0
 0723            XCH    MPTEMP          SAVE AND BRING OUT MINOR OF MPAC.
 0724            EXTEND
 0725            MP     MPTEMP          MAJOR OF C(ADDRWD) X MINOR OF MPAC.
 0726  2         DAS    MPAC +1         ACCUMULATE, SETTING A TO NET OVERFLOW.
 0727            XCH    MPAC            SETTING MPAC TO 0 OR +-1.
 0728            EXTEND
 0729            MP     MPTEMP          MAJOR OF MPAC X MAJOR OF C(ADDRWD).
 0730            DAS    MPAC            GUARANTEED NO OVERFLOW.
 0731            TC     Q               49 MCT = .573 MS. INCLUDING RETURN.
P0732  2         ROUND MPAC TO DOUBLE PRECISION, SETTING OVFIND ON THE RARE EVEN
 0733  9T OF OVERFLOW.
 0734   ROUNDSUB CAF    ZERO            SET MPAC +2 = 0 FOR SCALARS AND CHANGE
 0735  2 +1      TS     MODE            MODE TO DP.
 0736   VROUND   XCH    MPAC +2         BUT WE NEEDNT TAKE THE TIME FOR VECTORS.
 0737            DOUBLE
 0738            TS     L
 0739  2         TC     Q
 0740            AD     MPAC +1         ADD ROUNDING BIT IF MPAC +2 WAS GREATER
 0741            TS     MPAC +1         THAN .5 IN MAGNITUDE.
 0742  2         TC     Q
 0743            AD     MPAC            PROPAGATE INTERFLOW.
 0744            TS     MPAC
 0745  2         TC     Q
 0746   SETOVF2  TS     OVFIND          (RARE).
 0747            TC     Q
P0748            THE DOT PRODUCT SUBROUTINE USUALLY FORMS THE DOT PRODUCT OF THE
 0749  9 VECTOR IN MPAC WITH A STANDARD SIX
R0750   REGISTER VECTOR WHOSE ADDRESS IS IN ADDRWD. IN THIS CASE C(DOTINC) ARE S
 0751  9ET TO 2. VXM, HOWEVER, SETS C(DOTINC) TO
R0752  46 SO THAT DOTSUB DOTS MPAC WITH A COLUMN VECTOR OF THE MATRIX IN QUESTIO
 0753  9N IN THIS CASE.
 0754   PREDOT   CAF    TWO             PROLOGUE TO SET DOTINC TO 2.
 0755  2         TS     DOTINC
 0756   DOTSUB   EXTEND
 0757            QXCH   DOTRET          SAVE RETURN.
 0758            TC     DMPSUB          DOT X COMPONENTS.
 0759            DXCH   MPAC +3         POSITION Y COMPONENT OF MPAC FOR
 0760            DXCH   MPAC            MULTIPLICATION WHILE SAVING RESULT IN
 0761            DXCH   BUF             THREE WORD BUFFER, BUF.
 0762            CA     MPAC +2
 0763  2         TS     BUF +2
 0764            CA     DOTINC          ADVANCE ADDRWD TO Y COMPONENT OF
 0765            ADS    ADDRWD          OTHER ARGUMENT.
 0766            TC     DMPSUB
 0767            DXCH   MPAC +1         ACCUMULATE PARTIAL PRODUCTS.
 0768            DAS    BUF +1
 0769            AD     MPAC
 0770            AD     BUF
 0771            TS     BUF
 0772            TCF    +2
 0773  2         TS     OVFIND          IF OVERFLOW OCCURS.
 0774            DXCH   MPAC +5         MULTIPLY Z COMPONENTS.
 0775            DXCH   MPAC
 0776            CA     DOTINC
 0777            ADS    ADDRWD
 0778            TC     DMPSUB
 0779   ENDDOT   DXCH   BUF +1          LEAVE FINAL ACCUMULATION IN MPAC.
 0780            DAS    MPAC +1
 0781            AD     MPAC
 0782            AD     BUF
 0783            TS     MPAC
 0784  2         TC     DOTRET
 0785            TS     OVFIND          ON OVERFLOW HERE.
 0786            TC     DOTRET
P0787  2DOUBLE PRECISION POLYNOMIAL EVALUATOR
R0788                                      N        N-1
R0789            THIS ROUTINE EVALUATES A X  + A   X    + ... + A X + A  LEAVING
 0790  9 THE DP RESULT IN MPAC ON EXIT.
R0791  2                                 N      N-1              1     0
R0792  2THE ROUTINE HAS TWO ENTRIES
R0793            1. ENTRY THRU POWRSERS. THE COEFFICIENTS MAY BE EITHER IN FIXED
 0794  9 OR ERASABLE, THE CALL IS BY
R0795  2            TC POWRSERS, AND THE RETURN IS TO LOC(TC POWRSERS)+1. THE EN
 0796  9TERING DATA MUST BE AS FOLLOWS
A0797   A        SP     LOC-3           ADDRESS FOR REFERENCING COEF TABLE
A0798   L        SP     N-1             N IS THE DEGREE OF THE POWER SERIES
A0799  2MPAC     DP     X               ARGUMENT
A0800   LOC-2N   DP     A(0)
A0801            ...
A0802  2LOC      DP     A(N)
R0803  2         2. ENTRY THRU POLY. THE CALL TO POLY AND THE ENTERING DATA MUST
 0804  9 BE AS FOLLOWS
A0805  2MPAC     DP     X               ARGUMENT
A0806   LOC      TC     POLY
A0807   LOC+1    SP     N-1
A0808   LOC+2    DP     A(0)
A0809            ...
A0810  2LOC+2N+2 DP     A(N)            RETURN IS TO LOC+2N+4
 0811   POWRSERS EXTEND
 0812            QXCH   POLYRET         RETURN ADDRESS
 0813            TS     POLISH          POWER SERIES ADDRESS
 0814            LXCH   POLYCNT         N-1 TO COUNTER
 0815  2         TCF    POLYCOM         SKIP SET UP BY POLY
 0816   POLY     INDEX  Q
 0817            CAF    0
 0818            TS     POLYCNT         N-1 TO COUNTER
 0819            DOUBLE
 0820            AD     Q
 0821            TS     POLISH          L(A(N))-3 TO POLISH
 0822            AD     FIVE
 0823  2         TS     POLYRET         STORE RETURN ADDRESS
 0824   POLYCOM  CAF    LVBUF           INCOMING X WILL BE MOVED TO VBUF, SO
 0825  2         TS     ADDRWD          SET ADDRWD SO DMPSUB WILL MPY BY VBUF.
 0826            EXTEND
 0827            INDEX  POLISH
 0828            DCA    3
 0829            DXCH   MPAC            LOAD A(N) INTO MPAC,
 0830            DXCH   VBUF            SAVING X IN VBUF
 0831  2         TCF    POLY2
 0832   POLYLOOP TS     POLYCNT         SAVE DECREMENTED LOOP COUNTER
 0833            CS     TWO
 0834  2         ADS    POLISH          REGRESS COEFFICIENT POINTER
 0835   POLY2    TC     DMPSUB          MULTIPLY BY X
 0836            EXTEND
 0837            INDEX  POLISH
 0838            DCA    1               ADD IN NEXT COEFFICIENT
 0839  2         DAS    MPAC            USERS RESPONSIBILITY TO ASSURE NO OVFLOW
 0840            CCS    POLYCNT
 0841            TCF    POLYLOOP
 0842            TC     POLYRET         RETURN CALLER
P0843  2         MISCELLANEOUS MULTI-PRECISION ROUTINES REQUIRED IN FIXED-FIXED
 0844  9BUT NOT USED BY THE INTERPRETER.
 0845   TPAGREE  LXCH   Q               FORCE SIGN AGREEMENT AMONG THE TRIPLE
 0847            TC     BRANCH          PRECISION CONTENTS OF MPAC.  RETURNING
 0848            TCF    ARG+            WITH SIGNUM OF THE INPUT IN A.
 0849  2         TCF    ARGZERO
 0850            CS     POSMAX          IF NEGATIVE.
 0851  2         TCF    +2
 0852   ARG+     CAF    POSMAX
 0853            TS     Q
 0854            EXTEND
 0855            AUG    A               FORMS +-1.0.
 0856            AD     MPAC +2
 0857            TS     MPAC +2
 0858            CAF    ZERO
 0859            AD     Q
 0860            AD     MPAC +1
 0861            TS     MPAC +1
 0862            CAF    ZERO
 0863            AD     Q               Q STILL HAS POSMAX OR NEGMAX IN IT.
 0864            AD     MPAC
 0865   ARGZERO2 TS     MPAC            ALWAYS SKIPPING UNLESS ARGZERO.
 0866            TS     MPAC +1
 0867  2         TC     L               RETURN VIA L.
 0868   ARGZERO  TS     MPAC +2         SET ALL THREE MPAC REGISTERS TO ZERO.
 0869  2         TCF    ARGZERO2
R0870  2         SHORTMP MULTIPLIES THE TP CONTENTS OF MPAC BY THE SINGLE PRECIS
 0871  9ION NUMBER ARRIVING IN A.
 0872   SHORTMP  TS     MPTEMP
 0873            EXTEND
 0874            MP     MPAC +2
 0875            TS     MPAC +2
 0876            CAF    ZERO            SO SUBSEQUENT DAS WILL WORK.
 0877            XCH    MPAC +1
 0878            EXTEND
 0879            MP     MPTEMP
 0880            DAS    MPAC +1
 0881            XCH    MPAC            SETTING MPAC TO 0.
 0882            EXTEND
 0883            MP     MPTEMP
 0884            DAS    MPAC
 0885            TC     Q
P0886          DMPNSUB MULTIPLIES THE DP FRACTION ARRIVING IN MPAC BY THE SP
R0887   INTEGER ARRIVING IN A.  THE DP PRODUCT DEPARTS BOTH IN MPAC AND IN
R0888   A AND L.  NOTE THAT DMPNSUB NORMALLY INCREASES THE MAGNITUDE OF THE
R0889   CONTENTS OF MPAC.  THE CUSTOMER MUST INSURE THAT B(A) X B(MPAC,MPAC+1)
R0890   AND B(A) X B(MPAC) ARE LESS THAN 1 IN MAGNITUDE, WHERE B, AS IS OBVIOUS,
R08905 2INDICATES THE ARRIVING CONTENTS.
 0891   DMPNSUB  TS     DMPNTEMP
 0892            EXTEND
 0893            MP     MPAC +1
 0894            DXCH   MPAC            LOW PRODUCT TO MPAC, HIGH FACTOR TO A
 0895            EXTEND
 0896            MP     DMPNTEMP
 0897            CA     L
 0898            ADS    MPAC            COMPLETING THE PRODUCT IN MPAC
 0899            EXTEND
 0900            DCA    MPAC            BRINGING THE PRODUCT INTO A AND L
 0901            TC     Q
P0902  2MISCELLANEOUS VECTOR OPERATIONS. INCLUDED HERE ARE THE FOLLOWING:
R0903            1.  DOT                DP VECTOR DOT PRODUCT.
R0904            2.  VXV                DP VECTOR CROSS PRODUCT.
R0905            3.  VXSC               DP VECTOR TIMES SCALAR.
R0906            4.  V/SC               DP VECTOR DIVIDED BY SCALAR.
R0907            5.  VPROJ              DP VECTOR PROJECTION. ( (MPAC.X)MPAC ).
R0908            6.  VXM                DP VECTOR POST-MULTIPLIED BY MATRIX.
R0909  4         7.  MXV                DP VECTOR PRE-MULTIPLIED BY MATRIX.
 0910   DOT      TC     PREDOT          DO THE DOT PRODUCT AND EXIT, CHANGING
 0911            CAF    ZERO            THE MODE TO DP SCALAR.
 0912  4         TCF    NEWMODE
 0913   MXV      CAF    TWO             SET UP MATINC AND DOTINC FOR ROW
 0914            TS     MATINC          VECTORS.
 0915  2         TCF    VXM/MXV         GO TO COMMON PORTION.
 0916   VXM      CS     TEN             SET MATINC AND DOTINC TO REFER TO MATRIX
 0917            TS     MATINC          AS THREE COLUMN VECTORS.
 0918            CAF    SIX
P0919  2         COMMON PORTION OF MXV AND VXM.
 0920   VXM/MXV  TS     DOTINC
R09205           ITRACE (2) REFERS TO "VXM/MXV".
 0921  2         TC     MPACVBUF        SAVE VECTOR IN MPAC FOR FURTHER USE.
 0922            TC     DOTSUB          GO DOT TO GET X COMPONENT OF ANSWER.
 0923            EXTEND
 0924            DCA    VBUF            MOVE MPAC VECTOR BACK INTO MPAC, SAVING
 0925            DXCH   MPAC            NEW X COMPONENT IN BUF2.
 0926            DXCH   BUF2
 0927            EXTEND
 0928            DCA    VBUF +2
 0929            DXCH   MPAC +3
 0930            EXTEND
 0931            DCA    VBUF +4
 0932            DXCH   MPAC +5
 0933            CA     MATINC          INITIALIZE ADDRWD FOR NEXT DOT PRODUCT.
 0934  2         ADS    ADDRWD          FORMS BASE ADDRESS OF NEXT COLUMN(ROW).
 0935            TC     DOTSUB
 0936            DXCH   VBUF            MOVE GIVEN VECTOR BACK TO MPAC, SAVING Y
 0937            DXCH   MPAC            COMPONENT OF ANSWER IN VBUF +2.
 0938            DXCH   VBUF +2
 0939            DXCH   MPAC +3
 0940            DXCH   VBUF +4
 0941            DXCH   MPAC +5
 0942            CA     MATINC          FORM ADDRESS OF LAST COLUMN OR ROW.
 0943  2         ADS    ADDRWD
 0944            TC     DOTSUB
 0945            DXCH   BUF2            ANSWER NOW COMPLETE. PUT COMPONENTS INTO
 0946            DXCH   MPAC            PROPER MPAC REGISTERS.
 0947            DXCH   MPAC +5
 0948            DXCH   VBUF +2
 0949            DXCH   MPAC +3
 0950            TCF    DANZIG          EXIT.
P0951  2         VXSC - VECTOR TIMES SCALAR.
 0952   VXSC     CCS    MODE            TEST PRESENT MODE.
 0953            TCF    DVXSC           SEPARATE ROUTINE WHEN SCALAR IS IN MPAC.
 0954  2         TCF    DVXSC
 0955   VVXSC    TC     DMPSUB          COMPUTE X COMPONENT
 0956            TC     VROUND          AND ROUND IT.
 0957            DXCH   MPAC +3         PUT Y COMPONENT INTO MPAC SAVING MPAC IN
 0958            DXCH   MPAC            MPAC +3.
 0959  2         DXCH   MPAC +3
 0960            TC     DMPSUB          DO SAME FOR Y AND Z COMPONENTS.
 0961            TC     VROUND
 0962            DXCH   MPAC +5
 0963            DXCH   MPAC
 0964  2         DXCH   MPAC +5
 0965            TC     DMPSUB
 0966            TC     VROUND
 0967   VROTATEX DXCH   MPAC            EXIT USED TO RESTORE MPAC AFTER THIS
 0968            DXCH   MPAC +5         TYPE OF ROTATION. CALLED BY VECTOR SHIFT
 0969            DXCH   MPAC +3         RIGHT, V/SC, ETC.
 0970            DXCH   MPAC
 0971            TCF    DANZIG
P0972  2         DP VECTOR PROJECTION ROUTINE.
 0973   VPROJ    TC     PREDOT          (MPAC.X)MPAC IS COMPUTED AND LEFT IN
 0974            CS     FOUR            MPAC. DO DOT AND FALL INTO DVXSC.
 0975  2         ADS    ADDRWD
R0976  2         VXSC WHEN SCALAR ARRIVES IN MPAC AND VECTOR IS AT X.
 0977   DVXSC    EXTEND                 SAVE SCALAR IN MPAC +3 AND GET X
 0978            DCA    MPAC            COMPONENT OF ANSWER.
 0979            DXCH   MPAC +3
 0980            TC     DMPSUB
 0981  2         TC     VROUND
 0982            CAF    TWO             ADVANCE ADDRWD TO Y COMPONENT OF X.
 0983            ADS    ADDRWD
 0984            EXTEND
 0985            DCA    MPAC +3         PUT SCALAR BACK INTO MPAC AND SAVE
 0986            DXCH   MPAC            X RESULT IN MPAC +5.
 0987            DXCH   MPAC +5
 0988            TC     DMPSUB
 0989  2         TC     VROUND
 0990            CAF    TWO
 0991            ADS    ADDRWD          TO Z COMPONENT.
 0992            DXCH   MPAC +3         BRING SCALAR BACK, PUTTING Y RESULT IN
 0993            DXCH   MPAC            THE PROPER PLACE.
 0994            DXCH   MPAC +3
 0995            TC     DMPSUB
 0996  2         TC     VROUND
 0997            DXCH   MPAC            PUT Z COMPONENT IN PROPER PLACE, ALSO
 0998            DXCH   MPAC +5         POSITIONING X.
 0999  2         DXCH   MPAC
 1000            CS     ONE             MODE HAS CHANGED TO VECTOR.
 1001            TCF    NEWMODE
P1002            THE VECTOR CROSS PRODUCT ROUTINE CALCULATES (X M -X M ,X M -X M
 1003  9 ,X M -X M ) WHERE M IS THE VECTOR IN
R1004                                                          3 2  2 3  1 3  3
 1005  91  2 1  1 2
R1006  4MPAC AND X THE VECTOR AT THE GIVEN ADDRESS.
 1007   VXV      EXTEND
 1008            DCA    MPAC +5         FORM UP M3X1, LEAVING M1 IN VBUF.
 1009            DXCH   MPAC
 1010            DXCH   VBUF
 1011  2         TC     DMPSUB          BY X1.
 1012            EXTEND
 1013            DCS    MPAC +3         CALCULATE -X1M2, SAVING X1M3 IN VBUF +2.
 1014            DXCH   MPAC
 1015            DXCH   VBUF +2
 1016  2         TC     DMPSUB
 1017            CAF    TWO             ADVANCE ADDRWD TO X2.
 1018            ADS    ADDRWD
 1019            EXTEND
 1020            DCS    MPAC +5         PREPARE TO GET -X2M3, SAVING -X1M2 IN
 1021            DXCH   MPAC            MPAC +5.
 1022            DXCH   MPAC +5
 1023  2         TC     DMPSUB
 1024            EXTEND
 1025            DCA    VBUF            GET X2M1, SAVING -X2M3 IN VBUF +4.
 1026            DXCH   MPAC
 1027            DXCH   VBUF +4
 1028  2         TC     DMPSUB
 1029            CAF    TWO             ADVANCE ADDRWD TO X3.
 1030            ADS    ADDRWD
 1031            EXTEND
 1032            DCS    VBUF            GET -X3M1, ADDING X2M1 TO MPAC +5 TO
 1033            DXCH   MPAC            COMPLETE THE Z COMPONENT OF THE ANSWER.
 1034  2         DAS    MPAC +5
 1035            EXTEND
 1036            BZF    +2
 1037  8         TC     OVERFLOW
 1038            TC     DMPSUB
 1039            DXCH   VBUF +2         MOVE X1M3 TO MPAC +3 SETTING UP FOR X3M2
 1040            DXCH   MPAC +3         AND ADD -X3M1 TO MPAC +3 TO COMPLETE THE
 1041            DXCH   MPAC            Y COMPONENT OF THE RESULT.
 1042  2         DAS    MPAC +3
 1043            EXTEND
 1044            BZF    +2
 1045  2         TC     OVERFLOW
 1046            TC     DMPSUB
 1047            DXCH   VBUF +4         GO ADD -X2M3 TO X3M2 TO COMPLETE THE X
 1048  2         TCF    ENDVXV          COMPONENT (TAIL END OF DAD).
R1049  2         THE MPACVBUF SUBROUTINE SAVES THE VECTOR IN MPAC IN VBUF WITHOU
 1050  9T CLOBBERING MPAC.
 1051   MPACVBUF EXTEND                 CALLED BY MXV, VXM, AND UNIT.
 1052            DCA    MPAC
 1053            DXCH   VBUF
 1054            EXTEND
 1055            DCA    MPAC +3
 1056            DXCH   VBUF +2
 1057            EXTEND
 1058            DCA    MPAC +5
 1059            DXCH   VBUF +4
 1060            TC     Q               RETURN TO CALLER.
P1061  2         INTERPRETIVE INSTRUCTIONS WHOSE EXECUTION CONSISTS OF PRINCIPAL
 1062  9LY CALLING SUBROUTINES.
 1063   DMP1     TC     DMPSUB          DMP INSTRUCTION.
 1064  2         TCF    DANZIG
 1065   DMPR     TC     DMPSUB
 1066            TC     ROUNDSUB +1     (C(A) = +0).
 1067  2         TCF    DANZIG
 1068   DDV      EXTEND
 1069            INDEX  ADDRWD          MOVE DIVIDEND INTO BUF.
 1070            DCA    0
 1071  2         TCF    BDDV +4
 1072   BDDV     EXTEND                 MOVE DIVISOR INTO MPAC SAVING MPAC, THE
 1073            INDEX  ADDRWD          DIVIDEND, IN BUF.
 1074            DCA    0
 1075            DXCH   MPAC
 1076    +4      DXCH   BUF
 1077            CAF    ZERO            DIVIDE ROUTINES IN BANK 0.
 1078            TS     FBANK
 1079  2         TCF    DDV/BDDV
 1080   SETPD    CA     ADDRWD          MUST SET TO WORK AREA, OR EBANK TROUBLE.
 1081            TS     PUSHLOC
 1082  2         TCF    NOIBNKSW        NO FBANK SWITCH REQUIRED.
 1083   TSLC     CAF    ZERO            SHIFTING ROUTINES LOCATED IN BANK 00.
 1084            TS     FBANK
 1085  2         TCF    TSLC2
 1086   GSHIFT   CAF    LOW7            USED AS MASK AT GENSHIFT. THIS PROCESSES
 1087            TS     FBANK           ANY SHIFT INSTRUCTION (EXCEPT TSLC) WITH
 1088            TCF    GENSHIFT        AN ADDRESS (ROUTINES IN BANK 0).
P1089            THE FOLLOWING IS THE PROLOGUE TO V/SC. IF THE PRESENT MODE IS V
 1090  9ECTOR, IT SAVES THE SCALAR AT X IN BUF
R1091   AND CALLS THE V/SC ROUTINE IN BANK 0. IF THE PRESENT MODE IS SCALAR, IT
 1092  9MOVES THE VECTOR AT X INTO MPAC, SAVING
R1093  4THE SCALAR IN MPAC IN BUF BEFORE CALLING THE V/SC ROUTINE IN BANK 0.
 1094   V/SC     CCS    MODE
 1095            TCF    DV/SC           MOVE VECTOR INTO MPAC.
 1096  2         TCF    DV/SC
 1097   VV/SC    EXTEND
 1098            INDEX  ADDRWD
 1099            DCA    0
 1100   V/SC1    DXCH   BUF             IN BOTH CASES, VECTOR IS NOW IN MPAC AND
 1101            CAF    ZERO            SCALAR IN BUF.
 1102            TS     FBANK
 1103  2         TCF    V/SC2
 1104   DV/SC    EXTEND
 1105            INDEX  ADDRWD
 1106            DCA    2
 1107            DXCH   MPAC +3
 1108            EXTEND
 1109            INDEX  ADDRWD
 1110            DCA    4
 1111  2         DXCH   MPAC +5
 1112            CS     ONE             CHANGE MODE TO VECTOR.
 1113  2         TS     MODE
 1114            EXTEND
 1115            INDEX  ADDRWD
 1116            DCA    0
 1117            DXCH   MPAC
 1118            TCF    V/SC1           FINISH PROLOGUE AT COMMON SECTION.
P1119  2         SIGN AND COMPLEMENT INSTRUCTIONS.
 1120   SIGN     INDEX  ADDRWD          CALL COMP INSTRUCTION IF WORD AT X IS
 1121            CCS    0               NEGATIVE NON-ZERO.
 1122            TCF    DANZIG
 1123            TCF    +2
 1124  2         TCF    COMP            DO THE COMPLEMENT.
 1125            INDEX  ADDRWD
 1126            CCS    1
 1127            TCF    DANZIG
 1128            TCF    DANZIG
 1129            TCF    COMP
 1130            TCF    DANZIG
 1131   COMP     EXTEND                 COMPLEMENT DP MPAC IN EVERY CASE.
 1132            DCS    MPAC
 1133  2         DXCH   MPAC
 1134            CCS    MODE            EITHER COMPLEMENT MPAC +3 OR THE REST OF
 1135            TCF    DCOMP           THE VECTOR ACCUMULATOR.
 1136  2         TCF    DCOMP
 1137            EXTEND                 VECTOR COMPLEMENT.
 1138            DCS    MPAC +3
 1139            DXCH   MPAC +3
 1140            EXTEND
 1141            DCS    MPAC +5
 1142            DXCH   MPAC +5
 1143  2         TCF    DANZIG
 1144   DCOMP    CS     MPAC +2
 1145            TS     MPAC +2
 1146            TCF    DANZIG
P1147  2         CONSTANTS REQUIRED IN FIXED-FIXED.
 1148   DPOSMAX  OCT    37777
 1149   POSMAX   OCT    37777
 1150   LIMITS   EQUALS POSMAX +1
 1151  2NEG1/2   OCT    -20000          MUST BE TWO LOCATIONS AHEAD OF POS1/2.
 1152   BIT15    OCT    40000           BIT TABLE FOLLOWS.
 1153   BIT14    OCT    20000
 1154   BIT13    OCT    10000
 1155   BIT12    OCT    04000
 1156   BIT11    OCT    02000
 1157   BIT10    OCT    01000
 1158   BIT9     OCT    00400
 1159   BIT8     OCT    00200
 1160   BIT7     OCT    00100
 1161   BIT6     OCT    00040
 1162   BIT5     OCT    00020
 1163   BIT4     OCT    00010
 1164   BIT3     OCT    00004
 1165   BIT2     OCT    00002
 1166  2BIT1     OCT    00001
 1167   NEGMAX   EQUALS BIT15
 1168   HALF     EQUALS BIT14
 1169   POS1/2   EQUALS HALF
 1170   QUARTER  EQUALS BIT13
 1171   2K       EQUALS BIT11
 1172   ELEVEN   DEC    11
 1173   NOUTCON  =      ELEVEN
 1174   TEN      =      BINCON
 1175   NINE     =      R2D1
 1176   EIGHT    EQUALS BIT4
 1177   SEVEN    OCT    7
 1178   SIX      EQUALS REVCNT
 1179   FIVE     OCT    5
 1180   FOUR     EQUALS BIT3
 1181   THREE    EQUALS OCTAL3
 1182   TWO      EQUALS BIT2
 1183   ONE      EQUALS BIT1
 1184   ZERO     OCT    0
 1185   NEG0     OCT    77777
 1186  2NEGONE   DEC    -1
 1187   NEG1     =      NEGONE
 1188  2MINUS1   EQUALS NEG1
 11885 2         BLOCK  02
 1189   NEG2     OCT    77775
 11895  LOW10    OCT    1777
 1190   NEG3     DEC    -3
 1191   LOW9     OCT    777
 11915  LOW7     OCT    177
 1192   LOW4     OCT    17
 1193   LOW3     EQUALS SEVEN
 1194  2LOW2     EQUALS THREE
 1195   CALLCODE OCT    00032
 1196   DLOADCOD OCT    40014
 1197   VLOADCOD EQUALS BIT15
 1198   DLOAD*   OCT    40015
 1199   VLOAD*   EQUALS OCT40001
 1200   LVBUF    ADRES  VBUF
 1201   BIT13-14 =      PRIO30
R12011  THERE ARE FOUR POSSIBLE SETTINGS FOR CHANNEL 07 (WNACTV) FOR ACCESSING T
 12012 9HE EVENTUALLY THREE AND ONE-HALF
R12013 2PRESENTLY ONE AND ONE-HALF SUPERBANKS.
 12014  SUPER011 OCT     60             BITS FOR SUPERBNK SETTING 011
 120141 SUPER100 EQUALS BIT7            BITS FOR SUPERBNK SETTING 100
A120142                                 (LAST 4K OF ROPE)
A120143 SUPER101 OCT    120             BITS FOR SUPERBNK SETTING 101
A120144                                 (FIRST 8K OF ACM)
A120145 SUPER110 OCT    140             BITS FOR SUPERBNK SETTING 110
A120146                                 (LAST 8K OF ACM)
 12015  HIGH4    OCT    74000
 12016  OCT1400  OCT    01400
 12017  DEC45    DEC    45
P1203  2         THE FOLLOWING SHORT SHIFT CODES REQUIRE NO ADDRESS WORD:
R1204            1.  SR1 TO SR4         SCALAR SHIFT RIGHT.
R1205            2.  SR1R TO SR4R       SCALAR SHIFT RIGHT AND ROUND.
R1206            3.  SL1 TO SL4         SCALAR SHIFT LEFT.
R1207  2         4.  SL1R TO SL4R       SCALAR SHIFT LEFT AND ROUND.
R1208            5.  VSR1 TO VSR8       VECTOR SHIFT RIGHT (ALWAYS ROUNDS).
R1209  2         6.  VSL1 TO VSL8       VECTOR SHIFT LEFT (NEVER ROUNDS).
R1210  2         THE FOLLOWING CODES REQUIRE AN ADDRESS WHICH MAY BE INDEXED:*
R1211            1.  SR                 SCALAR SHIFT RIGHT.
R1212            2.  SRR                SCALAR SHIFT RIGHT AND ROUND.
R1213            3.  SL                 SCALAR SHIFT LEFT.
R1214  2         4.  SLR                SCALAR SHIFT LEFT AND ROUND.
R1215            5.  VSR                VECTOR SHIFT RIGHT.
R1216  2         6.  VSL                VECTOR SHIFT LEFT.
R1217   *  IF THE ADDRESS IS INDEXED, AND THE INDEX MODIFICATION RESULTS IN A NE
 1218  9GATIVE SHIFT COUNT, A SHIFT OF THE
R1219  4ABSOLUTE VALUE OF THE COUNT IS DONE IN THE OPPOSITE DIRECTION.
 1220  2         BANK   00
 1221   SHORTT   CAF    SIX             SCALAR SHORT SHIFTS COME HERE. THE SHIFT
 1222            MASK   CYR             COUNT-1 IS NOW IN BITS 2-3 OF CYR. THE
 1223  2         TS     SR              ROUNDING BIT IS IN BIT1 AT THIS POINT.
 1224            CCS    CYR             SEE IF RIGHT OR LEFT SHIFT DESIRED.
 1225  2         TCF    TSSL            SHIFT LEFT.
 1226  2SRDDV    DEC    20              MPTEMP SETTING FOR SR BEFORE DDV.
 1227   TSSR     INDEX  SR              GET SHIFTING BIT.
 1228            CAF    BIT14
 1229  2         TS     MPTEMP
 1230            CCS    CYR             SEE IF A ROUND IS DESIRED.
 1231   RIGHTR   TC     MPACSRND        YES - SHIFT RIGHT AND ROUND.
 1232            TCF    NEWMODE         SET MODE TO DP (C(A) = 0).
 1233   MPACSHR  CA     MPTEMP          DO A TRIPLE PRECISION SHIFT RIGHT.
 1234            EXTEND
 1235            MP     MPAC +2
 1236    +3      TS     MPAC +2         (EXIT FROM SQRT AND ABVAL).
 1237            CA     MPTEMP
 1238            EXTEND
 1239            MP     MPAC            SHIFT MAJOR PART INTO A,L AND PLACE IN
 1240            DXCH   MPAC            MPAC,+1.
 1241            CA     MPTEMP
 1242            EXTEND
 1243            MP     L               ORIGINAL C(MPAC +1).
 1244            DAS    MPAC +1         GUARANTEED NO OVERFLOW.
 1245  2         TCF    DANZIG
R1246  2         MPAC SHIFT RIGHT AND ROUND SUBROUTINES.
 1247   MPACSRND CA     MPAC +2         WE HAVE TO DO ALL THREE MULTIPLIES SINCE
 1248            EXTEND                 MPAC +1 AND MPAC +2 MIGHT HAVE SIGN
 1249            MP     MPTEMP          DISAGREEMENT WITH A SHIFT RIGHT OF 1.
 1250            XCH    MPAC +1
 1251            EXTEND
 1252            MP     MPTEMP
 1253            XCH    MPAC +1         TRIAL MINOR PART.
 1254  2         AD     L
 1255   VSHR2    DOUBLE                 (FINISH VECTOR COMPONENT SHIFT RIGHT
 1256            TS     MPAC +2         AND ROUND.
 1257            TCF    +2
 1258  2         ADS    MPAC +1         GUARANTEED NO OVERFLOW.
 1259            CAF    ZERO
 1260            TS     MPAC +2
 1261            XCH    MPAC            SETTING TO ZERO SO FOLLOWING DAS WORKS.
 1262            EXTEND
 1263            MP     MPTEMP
 1264            DAS    MPAC            AGAIN NO OVERFLOW.
 1265  2         TC     Q
 1266   VSHRRND  CA     MPTEMP          ENTRY TO SHIFT RIGHT AND ROUND MPAC WHEN
 1267            EXTEND                 MPAC CONTAINS A VECTOR COMPONENT.
 1268            MP     MPAC +1
 1269            TS     MPAC +1
 1270            XCH    L
 1271            TCF    VSHR2           GO ADD ONE IF NECESSARY AND FINISH.
P1272  2         ROUTINE FOR SHORT SCALAR SHIFT LEFT (AND MAYBE ROUND).
 1273   TSSL     CA     SR              GET SHIFT COUNT FOR SR.
 1274  2 +1      TS     MPTEMP
 1275    +2      EXTEND                 ENTRY HERE FROM SL FOR SCALARS.
 1276            DCA    MPAC +1         SHIFTING LEFT ONE PLACE AT A TIME IS
 1277            DAS    MPAC +1         FASTER THAN DOING THE WHOLE SHIFT WITH
 1278            AD     MPAC            MULTIPLIES ASSUMING THAT FREQUENCY OF
 1279            AD     MPAC            SHIFT COUNTS GOES DOWN RAPIDLY AS A
 1280            TS     MPAC            FUNCTION OF THEIR MAGNITUDE.
 1281            TCF    +2
 1282            TS     OVFIND          OVERFLOW. (LEAVES OVERFLOW-CORRECTED
A1283                                   RESULT ANYWAY).
 1284            CCS    MPTEMP          LOOP ON DECREMENTED SHIFT COUNT.
 1285  2         TCF    TSSL +1
 1286            CCS    CYR             SEE IF ROUND WANTED.
 1287   ROUND    TC     ROUNDSUB        YES - ROUND AND EXIT.
 1288            TCF    DANZIG          SL LEAVES A ZERO IN CYR FOR NO ROUND.
 1289            TCF    DANZIG          NO - EXIT IMMEDIATL
P1290  2VECTOR SHIFTING ROUTINES.
 1291   SHORTV   CAF    LOW3            SAVE 3 BIT SHIFT COUNT - 1 WITHOUT
 1292            MASK   CYR             EDITING CYR.
 1293            TS     MPTEMP
 1294            CCS    CYR             SEE IF LEFT OR RIGHT SHIFT.
 1295            TCF    VSSL            VECTOR SHIFT LEFT.
 1296  2OCT176   OCT    176             USED IN PROCESSED SHIFTS WITH - COUNT.
 1297   VSSR     INDEX  MPTEMP          (ENTRY FROM SR). PICK UP SHIFTING BIT.
 1298            CAF    BIT14           MPTEMP CONTAINS THE SHIFT COUNT - 1.
 1299            TS     MPTEMP
 1300  2         TC     VSHRRND         SHIFT X COMPONENT.
 1301            DXCH   MPAC            SWAP X AND Y COMPONENTS.
 1302            DXCH   MPAC +3
 1303            DXCH   MPAC
 1304  2         TC     VSHRRND         SHIFT Y COMPONENT.
 1305            DXCH   MPAC            SWAP Y AND Z COMPONENTS.
 1306            DXCH   MPAC +5
 1307            DXCH   MPAC
 1308  2         TC     VSHRRND         SHIFT Z COMPONENT.
 1309            TCF    VROTATEX        RESTORE COMPONENTS TO PROPER PLACES.
P1310  2VECTOR SHIFT LEFT - DONE ONE PLACE AT A TIME.
 1311  2 -1      TS     MPTEMP          SHIFTING LOOP.
 1312   VSSL     EXTEND
 1313            DCA    MPAC
 1314            DAS    MPAC
 1315            EXTEND
 1316            BZF    +2
 1317  2         TC     OVERFLOW
 1318            EXTEND
 1319            DCA    MPAC +3
 1320            DAS    MPAC +3
 1321            EXTEND
 1322            BZF    +2
 1323  2         TC     OVERFLOW
 1324            EXTEND
 1325            DCA    MPAC +5
 1326            DAS    MPAC +5
 1327            EXTEND
 1328            BZF    +2
 1329  2         TC     OVERFLOW
 1330            CCS    MPTEMP          LOOP ON DECREMENTED SHIFT COUNTER.
 1331            TCF    VSSL -1
 1332            TCF    DANZIG          EXIT.
P1333            TSLC - TRIPLE SHIFT LEFT AND COUNT. SHIFTS MPAC LEFT UNTIL GREA
 1334  9TER THAN .5 IN MAGNITUDE, LEAVING
R1335  2THE COMPLEMENT OF THE NUMBER OF SHIFTS REQUIRED IN X.
 1336   TSLC2    TS     MPTEMP          START BY ZEROING SHIFT COUNT (IN A NOW).
 1337            TC     BRANCH          EXIT WITH NO SHIFTING IF ARGUMENT ZERO.
 1338            TCF    +2
 1339  2         TCF    ENDTSLC         STORES ZERO SHIFT COUNT IN THIS CASE.
 1340  2         TC     TPAGREE         MAY CAUSE UPSHIFT OF ONE EXTRA PLACE.
 1341            CA     MPAC            BEGIN NORMALIZATION LOOP.
 1342  2         TCF    TSLCTEST
 1343   TSLCLOOP INCR   MPTEMP          INCREMENT SHIFT COUNTER.
 1344            EXTEND
 1345            DCA    MPAC +1
 1346            DAS    MPAC +1
 1347            AD     MPAC
 1348            ADS    MPAC
 1349   TSLCTEST DOUBLE                 SEE IF (ANOTHER) SHIFT IS REQUIRED.
 1350            OVSK
 1351  2         TCF    TSLCLOOP        YES - INCREMENT COUNT AND SHIFT AGAIN.
 1352   ENDTSLC  CS     MPTEMP
 1353            TCF    STORE1          STORE SHIFT COUNT AND RETURN TO DANZIG.
P1354            THE FOLLOWING ROUTINES PROCESSES THE GENERAL SHIFT INSTRUCTIONS
 1355  9 SR, SRR, SL, AND SLR.
R1356  2THE GIVEN ADDRESS IS DECODED AS FOLLOWS:
R1357            BITS 1-7    SHIFT COUNT (SUBADDRESS) LESS THAN 125 DECIMAL.
R1358            BIT 8       PSEUDO SIGN BIT (DETECTS CHANGE IN SIGN IN INDEXED
 1359  9SHIFTS).
R1360            BIT 9       0 FOR LEFT SHIFT, AND 1 FOR RIGHT SHIFT.
R1361            BIT 10      1 FOR TERMINAL ROUND ON SCALAR SHIFTS, 0 OTHERWISE.
R1362            BITS 11-13  0.
R13625           BIT 14      1.
R13627 2         BIT 15      0.
R1363  4THE ABOVE ENCODING IS DONE BY THE YUL SYSTEM.
 1364   GENSHIFT MASK   ADDRWD          GET SHIFT COUNT, TESTING FOR ZERO.
 1365            CCS    A               (ARRIVES WITH C(A) = LOW7).
 1366  2         TCF    GENSHFT2        IF NON-ZERO, PROCEED WITH DECREMENTED CT
 1367            CAF    BIT10           ZERO SHIFT COUNT. NO SHIFTS NEEDED BUT
 1368            MASK   ADDRWD          WE MIGHT HAVE TO ROUND MPAC ON SLR AND
 1369            CCS    A               SRR (SCALAR ONLY).
 1370            TC     ROUNDSUB
 1371  2         TCF    DANZIG
 1372   GENSHFT2 TS     MPTEMP          DECREMENTED SHIFT COUNT TO MPTEMP.
 1373            CAF    BIT8            TEST MEANING OF LOW SEVEN BIT COUNT IN
 1374            EXTEND                 MPTEMP NOW.
 1375            MP     ADDRWD
 1376            MASK   LOW2            JUMPS ON SHIFT DIRECTION (BIT8) AND
 1377            INDEX  A
 1378            TCF    +1              ORIGINAL SHIFT DIRECTION (BIT 9).
 1379            TCF    RIGHT-          NEGATIVE SHIFT COUNT FOR SL OR SLR.
 1380            TCF    LEFT            SL OR SLR.
 1381            TCF    LEFT-           NEGATIVE SHIFT COUNT WITH SR OR SRR.
P1382  2         GENERAL SHIFT RIGHT.
 1383   RIGHT    CCS    MODE            SEE IF VECTOR OR SCALAR.
 1384            TCF    GENSCR
 1385  2         TCF    GENSCR
 1386            CA     MPTEMP          SEE IF SHIFT COUNT LESS THAN 14D.
 1387   VRIGHT2  AD     NEG12
 1388            EXTEND
 1389  2         BZMF   VSSR            IF SO, BRANCH AND SHIFT IMMEDIATELY.
 1390            AD     NEGONE          IF NOT, REDUCE MPTEMP BY A TOTAL OF 14,
 1391            TS     MPTEMP          AND DO A SHIFT RIGHT AND ROUND BY 14.
 1392            CAF    ZERO            THE ROUND AT THIS STAGE MAY INTRODUCE A
 1393            TS     L               ONE BIT ERROR IN A SHIFT RIGHT 15D.
 1394            XCH    MPAC
 1395            XCH    MPAC +1
 1396            TC     SETROUND        X COMPONENT NOW SHIFTED, SO MAKE UP THE
 1397            DAS    MPAC            ROUNDING QUANTITY (0 IN A AND 0 OR +-1
A1398                                   IN L).
 1399            XCH    MPAC +3         REPEAT THE ABOVE PROCESS FOR Y AND Z.
 1400            XCH    MPAC +4
 1401            TC     SETROUND
 1402  2         DAS    MPAC +3         NO OVERFLOW ON THESE ADDS.
 1403            XCH    MPAC +5
 1404            XCH    MPAC +6
 1405            TC     SETROUND
 1406  2         DAS    MPAC +5
 1407            CCS    MPTEMP          SEE IF DONE, DOING FINAL DECREMENT.
 1408            TS     MPTEMP
 1409            TCF    VRIGHT2
 1410  2BIASLO   DEC    .2974 B-1       SQRT CONSTANT
 1411  4         TCF    DANZIG
 1412   SETROUND DOUBLE                 MAKES UP ROUNDING QUANTITY FROM ARRIVING
 1413            TS     MPAC +2         C(A). L IS ZERO INITIALLY.
 1414            CAF    ZERO
 1415            XCH    L
 1416            TC     Q               RETURN AND DO THE DAS, RESETTING L TO 0.
P1417  2         PROCESS SR AND SRR FOR SCALARS.
 1418   GENSCR   CA     MPTEMP          SEE IF THE ORIGINAL SHIFT COUNT WAS LESS
 1419    +1      AD     NEG12           THAN 14D.
 1420            EXTEND
 1421  2         BZMF   DOSSHFT         DO THE SHIFT IMMEDIATELY IF SO.
 1422    +4      AD     NEGONE          IF NOT, DECREMENT SHIFT COUNT BY 14D AND
 1423            TS     MPTEMP          SHIFT MPAC RIGHT 14 PLACES.
 1424            CAF    ZERO
 1425            XCH    MPAC
 1426            XCH    MPAC +1
 1427            TS     MPAC +2
 1428            CCS    MPTEMP          SEE IF FINISHED, DO FINAL DECREMENT.
 1429            TS     MPTEMP
 1430            TC     GENSCR +1
 1431   SLOPEHI  DEC    .5884           SQRT CONSTANT.
 1432            CAF    BIT10           FINISHED WITH SHIFT. SEE IF ROUND
 1433            MASK   ADDRWD          WANTED.
 1434            CCS    A
 1435            TC     ROUNDSUB
 1436  2         TCF    DANZIG          DO SO AND/OR EXIT.
 1437   DOSSHFT  INDEX  MPTEMP          PICK UP SHIFTING BIT.
 1438            CAF    BIT14
 1439            TS     MPTEMP
 1440            CAF    BIT10           SEE IF TERMINAL ROUND DESIRED.
 1441            MASK   ADDRWD
 1442            CCS    A
 1443            TCF    RIGHTR          YES.
 1444            TCF    MPACSHR         JUST SHIFT RIGHT.
P1445  2         PROCESS THE RIGHT- (SL(R) WITH A NEGATIVE COUNT), LEFT-, AND LE
 1446  9FT OPTIONS.
 1447   RIGHT-   CS     MPTEMP          GET ABSOLUTE VALUE - 1 OF SHIFT COUNT
 1448            AD     OCT176          UNDERSTANDING THAT BIT8 (PSEUDO-SIGN)
 1449            TS     MPTEMP          WAS 1 INITIALLY.
 1450  2         TCF    RIGHT           DO NORMAL SHIFT RIGHT.
 1451   LEFT-    CS     MPTEMP          SAME PROLOGUE TO LEFT FOR INDEXED RIGHT
 1452            AD     OCT176          SHIFTS WHOSE NET SHIFT COUNT IS NEGATIVE
 1453  2         TS     MPTEMP
 1454   LEFT     CCS    MODE            SINCE LEFT SHIFTING IS SONE ONE PLACE AT
 1455            TCF    GENSCL          A TIME, NO COMPARISON WITH 14 NEED BE
 1456            TCF    GENSCL          DONE. FOR SCALARS, SEE IF TERMINAL ROUND
 1457  2         TCF    VSSL            DESIRED. FOR VECTORS, SHIFT IMMEDIATELY.
 1458   GENSCL   CAF    BIT6            PUT ROUNDING BIT (BIT10 OF ADDRWD) INTO
 1459            EXTEND                 BIT 15 OF CYR WHERE THE ROUNDING BIT OF
 1460            MP     ADDRWD          A SHORT SHIFT LEFT WOULD BE.
 1461            TS     CYR
 1462            TCF    TSSL +2         DO THE SHIFT.
P1463            SCALAR DIVISION INSTRUCTIONS, DDV AND BDDV, ARE EXECUTED HERE.
 1464  9AT THIS POINT, THE DIVIDEND IS IN MPAC
R1465  2AND THE DIVISOR IN BUF.
 1466   DDV/BDDV CS     ONE             INITIALIZATION.
 1467            TS     DVSIGN          +-1 FOR POSITIVE QUOTIENT - -0 FOR NEG.
 1468            TS     DVNORMCT        DIVIDEND NORMALIZATION COUNT.
 1469  2         TS     MAXDVSW         NEAR-ONE DIVIDE FLAG.
 1470            CCS    BUF             FORCE BUF POSITIVE WITH THE MAJOR PART
 1471            TCF    BUFPOS          NON-ZERO.
 1472            TCF    +2
 1473  2         TCF    BUFNEG
 14731  BUFZERO  TS     MPAC +2         ZERO THIS.
 14732 2         TC     TPAGREE         FORCE SIGN AGREEMENT BEFORE OVERFLOW
 14733           CCS    MPAC            TEST TO SEE IF MPAC NON-ZERO.  (TOO BIG)
 14734           TCF    OVF+            MAJOR PART OF DIVIDEND IS POSITIVE NON-0
 14735           TCF    +2
 14736 2         TCF    OVF+  -1        MAJOR PART OF DIVIDEND IS NEG. NON-ZERO
 1474            XCH    BUF +1          SHIFT DIVIDEND AND DIVISOR LEFT 14.
 1475            XCH    BUF
 1476            XCH    MPAC +1
 1477            XCH    MPAC
 1481            CCS    BUF             TRY AGAIN ON FORMER MINOR PART.
 1482            TCF    BUF+
 1483            TCF    +2              OVERFLOW ON ZERO DIVISOR.
 1484  2         TCF    BUF-
 14841           CS     MPAC            SIGN OF MPAC DETERMINES SIGN OF RESULT.
 14842  SGNDVOVF EXTEND
 14843           BZMF   +2
 14844           INCR   DVSIGN          NEGMAX IN MPAC PERHAPS.
 1485   DVOVF    CAF    POSMAX          ON DIVISION OVERFLOW OF ANY SORT, SET
 1486            TS     MPAC            SET DP MPAC TO +-POSMAX.
 1487            TC     FINALDV +3
 1488            CAF    ONE             SET OVERFLOW INDICATOR AND EXIT.
 1489  2         TCF    SETOVF
 14891  -1       INCR   DVSIGN
 14892  OVF+     CS     BUF +1          LOAD LOWER ORDER PART OF DIVISOR.
 14893 2         TCF    SGNDVOVF        GET SIGN OF RESULT.
 1490   BUF-     EXTEND                 IF BUF IS NEGATIVE, COMPLEMENT IT AND
 1491            DCS    BUF             MAINTAIN DVSIGN FOR FINAL QUOTIENT SIGN.
 1492            DXCH   BUF
 1493  2         INCR   DVSIGN          NOW -0.
 1494   BUF+     CCS    MPAC            FORCE MPAC POSITIVE, CHECKING FOR ZERO
 1495            TCF    MPAC+           DIVIDEND IN THE PROCESS.
 1496            TCF    +2
 1497            TCF    MPAC-
 1498            CCS    MPAC +1
 1499            TCF    MPAC+
 1500            TCF    DANZIG          EXIT IMMEDIATELY ON ZERO DIVIDEND.
 1501            TCF    MPAC-
 1502  2         TCF    DANZIG
 1503   MPAC-    EXTEND                 FORCE MPAC POSITIVE AS BUF IN BUF-.
 1504            DCS    MPAC
 1505            DXCH   MPAC
 1506  8         INCR   DVSIGN          NOW +1 OR -0.
 1507   MPAC+    CS     MPAC            CHECK FOR DIVISION OVERFLOW. IF THE
 1508            AD     NEGONE          MAJOR PART OF THE DIVIDEND IS LESS THAN
 1509            AD     BUF             THE MAJOR PART OF THE DIVISOR BY AT
 1510            CCS    A               LEAST TWO, WE CAN PROCEED IMMEDIATELY
 1511            TCF    DVNORM          WITHOUT NORMALIZATION PRODUCING A DVMAX.
 1512  2-1/2+2   OCT    60001           USED IN SQRTSUB.
 1513            TCF    +1              IF THE ABOVE DOES NOT HOLD, FORCE SIGN
 1514            CAF    HALF            AGREEMENT IN NUMERATOR AND DENOMINATOR
 1515            DOUBLE                 TO FACILITATE OVERFLOW AND NEAR-ONE
 1516            AD     MPAC +1         CHECKING.
 1517            TS     MPAC +1
 1518            CAF    ZERO
 1519            AD     POSMAX
 1520  2         ADS    MPAC
 1521            CAF    HALF            SAME FOR BUF.
 1522            DOUBLE
 1523            AD     BUF +1
 1524            TS     BUF +1
 1525            CAF    ZERO
 1526            AD     POSMAX
 1527  2         ADS    BUF
 1528            CS     MPAC            CHECK MAGNITUDE OF SIGN-CORRECTED
 1529            AD     BUF             OPERANDS.
 1530            CCS    A
 1531            TCF    DVNORM          DIVIDE OK - WILL NOT BECOME MAXDV CASE.
 1532   LBUF2    ADRES  BUF2
 1533  2         TCF    DVOVF           DIVISOR NOT LESS THAN DIVIDEND - OVF.
 1534            TS     MAXDVSW         IF THE MAJOR PARTS OF THE DIVIDEND AND
 1535            CS     MPAC +1         DIVISOR ARE EQUAL, A SPECIAL APPROXIMA-
 1536            AD     BUF +1          TION IS USED (PROVIDED THE DIVISION IS
 1537            EXTEND                 POSSIBLE, OF COURSE).
 1538            BZMF   DVOVF
 1539  8         TCF    DVNORM          IF NO OVERFLOW.
 1540   BUFNORM  EXTEND                 ADD -1 TO AUGMENT SHIFT COUNT AND SHIFT
 1541            AUG    DVNORMCT        LEFT ONE PLACE.
 1542            EXTEND
 1543            DCA    BUF
 1544  2         DAS    BUF
 1545   DVNORM   CA     BUF             SEE IF DIVISOR NORMALIZED YET.
 1546            DOUBLE
 1547            OVSK
 1548  2         TCF    BUFNORM         NO - SHIFT LEFT ONE AND TRY AGAIN.
 1549            DXCH   MPAC            CALL DIVIDEND NORMALIZATION SEQUENCE
 1550            INDEX  DVNORMCT        PRIOR TO DOING THE DIVIDE.
 1551  2         TC     MAXTEST
 1552            TS     MPAC +2         RETURNS WITH DIVISION DONE AND C(A) = 0.
 1553            TCF    DANZIG
P1554  2         THE FOLLOWING ARE PROLOGUES TO SHIFT THE DIVIDEND ARRIVING IN A
 1555  9 AND L BEFORE THE DIVIDE.
 1556    -21D    LXCH   SR              SPECIAL PROLOGUE FOR UNIT WHEN THE
 1557            EXTEND                 LENGTH OF THE ARGUMENT WAS NOT LESS THAN
 1558            MP     HALF            .5. IN THIS CASE, EACH COMPONENT MUST BE
 1559            XCH    L               SHIFTED RIGHT ONE TO PRODUCE A HALF-UNIT
 1560            AD     SR              VECTOR.
 1561            XCH    L
 1562  2         TCF    GENDDV +1       WITH DP DIVIDEND IN A,L.
 1563            DDOUBL                 PROLOGUE WHICH NORMALIZES THE DIVIDEND
 1564            DDOUBL                 WHEN IT IS KNOWN THAT NO DIVISION
 1565            DDOUBL                 OVERFLOW WILL OCCUR.
 1566            DDOUBL
 1567            DDOUBL
 1568            DDOUBL
 1569            DDOUBL
 1570            DDOUBL
 1571            DDOUBL
 1572            DDOUBL
 1573            DDOUBL
 1574            DDOUBL
 1575            DDOUBL
 1576  2         DXCH   MPAC
 1577   MAXTEST  CCS    MAXDVSW         0 IF MAJORS MIGHT BE =, -1 OTHERWISE.
 1578  2BIASHI   DEC    .4192 B-1       SQRT CONSTANTS
 1579            TCF    MAXDV           CHECK TO SEE IF THEY ARE NOW EQUAL.
P1580            THE FOLLOWING IS A GENERAL PURPOSE DOUBLE PRECISION DIVISION RO
 1581  9UTINE. IT DIVIDES MPAC BY BUF AND LEAVES
R1582  2THE RESULT IN MPAC. THE FOLLOWING CONDITIONS MUST BE SATISFIED:
R1583  2         1.  THE DIVISOR (BUF) MUST BE POSITIVE AND NOT LESS THAN .5.
R1584            2.  THE DIVIDEND (MPAC) MUST BE POSITIVE WITH THE MAJOR PART OF
 1585  9 MPAC STRICTLY LESS THAN THAT OF BUF
R1586  2(A SPECIAL APPROXIMATION, MAXDV, IS USED WHEN THE MAJOR PARTS ARE EQUAL)
 1587  9.
R1588            UNDERSTANDING THAT A/B = Q + S(R/B) WHERE S = 2(-14) AND Q AND
 1589  9R ARE QUOTIENT AND REMAINDER, RESPEC-
R1590   TIVELY, THE FOLLOWING APPROXIMATION IS OBTAINED BY MULTIPLYING ABOVE AND
 1591  9 BELOW BY C - SD AND NEGLECTING TERMS OF
R1592  2ORDER S-SQUARED (POSSIBLY INTRODUCING ERROR INTO THE LOW TWO BITS OF THE
 1593  9 RESULT). SIGN AGREEMENT IS UNNECESSARY.
R1594            A + SB .      (R - QD)
 1595  9    A + SB
R1596            ------ = Q + S(------) WHERE Q AND R ARE QUOTIENT AND REMAINDER
 1597  9 OF ------ RESPECTIVELY.
R1598  4         C + SD        (  C   )
 1599  9      C
 1600   GENDDV   DXCH   MPAC            WE NEED A AND B ONLY FOR FIRST DV.
 1601    +1      EXTEND                 (SPECIAL UNIT PROLOGUE ENTERS HERE).
 1602            DV     BUF             A NOW CONTAINS Q AND L, R.
 1603  2         DXCH   MPAC
 1604            CS     MPAC            FORM DIVIDEND FOR MINOR PART OF RESULT.
 1605            EXTEND
 1606            MP     BUF +1
 1607            AD     MPAC +1         OVERFLOW AT THIS POINT IS POSITIVE SINCE
 1608            OVSK                   R IS POSITIVE IN EVERY CASE.
 1609  2         TCF    +5
 1610            EXTEND                 OVERFLOW CAN BE REMOVED BY SUBTRACTING C
 1611            SU     BUF             (BUF) ONCE SINCE R IS ALWAYS LESS THAN C
 1612            INCR   MPAC            IN THIS CASE. INCR COMPENSATES SUBTRACT.
 1613  2         TCF    +DOWN           (SINCE C(A) IS STILL POSITIVE).
 1614    +5      EXTEND                 C(A) CAN BE MADE LESS THAN C IN MAGNI-
 1615            BZMF   -UP             TUDE BY DIMINISHING IT BY C (SINCE C IS
A1616  8                                NOT LESS THAN .5) UNLESS C(A) = 0.
 1617   +DOWN    EXTEND
 1618            SU     BUF             IF POSITIVE, REDUCE ONLY IF NECESSARY
 1619            EXTEND                 SINCE THE COMPENSATING INCR MIGHT CAUSE
 1620            BZF    +3              OVERFLOW.
 1621            EXTEND                 DONT SUBTRACT UNLESS RESULT IS POSITIVE
 1622  2         BZMF   ENDMAXDV        OR ZERO.
 1623    +3      INCR   MPAC            KEEP SUBTRACT HERE AND COMPENSATE.
 1624  2         TCF    FINALDV
 1625   -UP      EXTEND                 IF ZERO, SET MINOR PART OF RESULT TO
 1626  2         BZF    FINALDV +3      ZERO.
 1627            EXTEND                 IF NEGATIVE, ADD C TO A, SUBTRACTING ONE
 1628            DIM    MPAC            TO COMPENSATE. DIM IS OK HERE SINCE THE
 1629  8ENDMAXDV AD     BUF             MAJOR PART NEVER GOES NEGATIVE.
 1630   FINALDV  ZL                     DO DV TO OBTAIN MINOR PART OF RESULT.
 1631            EXTEND
 1632            DV     BUF
 1633  2 +3      TS     MPAC +1
 1634            CCS    DVSIGN          LEAVE RESULT POSITIVE UNLESS C(DVSIGN)=
 1635            TC     Q               -0.
 1636            TC     Q
 1637  2         TC     Q
 1638            EXTEND
 1639            DCS    MPAC
 1640            DXCH   MPAC
 1641            CAF    ZERO            SO WE ALWAYS RETURN WITH C(A) = 0.
 1642            TC     Q
P1643            IF THE MAJOR PARTS OF THE DIVISOR AND DIVIDEND ARE EQUAL, BUT T
 1644  9HE MINOR PARTS ARE SUCH THAT THE
R1645   DIVIDEND IS STRICTLY LESS THAN THE DIVISOR IN MAGNITUDE, THE FOLLOWING A
 1646  9PPROXIMATION IS USED. THE ASSUMPTIONS
R1647  2ARE THE SAME AS THE GENERAL ROUTINE WITH THE ADDITION THAT SIGN AGREEMEN
 1648  9T IS NECESSARY (B, C, & D POSITIVE).
R1649                   C + SB .          (C + B - D)
R1650                   ------ = 37777 + S(---------)
R1651  2                C + SD            (    C    )
R1652  4         THE DIVISION MAY BE PERFORMED IMMEDIATELY SINCE B IS STRICTLY L
 1653  9ESS THAN D AND C IS NOT LESS THAN .5.
 1654   MAXDV    CS     MPAC            SEE IF MAXDV CASE STILL HOLDS AFTER
 1655            AD     BUF             NORMALIZATION.
 1656            EXTEND
 1657            BZF    +2
 1658  2         TCF    GENDDV          MPAC NOW LESS THAN BUF - DIVIDE AS USUAL
 1659    +2      CAF    POSMAX          SET MAJOR PART OF RESULT.
 1660  2         TS     MPAC
 1661            CS     BUF +1          FORM DIVIDEND OF MINOR PART OF RESULT.
 1662            AD     MPAC +1
 1663            TCF    ENDMAXDV        GO ADD C AND DO DIVIDE, ATTACHING SIGN
A1664                                   BEFORE EXITING.
P1665  2         VECTOR DIVIDED BY SCALAR, V/SC, IS EXECUTED HERE. THE VECTOR IS
 1666  9 NOW IN MPAC WITH SCALAR IN BUF.
 1667   V/SC2    CS     ONE             INITIALIZE DIVIDEND NORMALIZATION COUNT
 1668            TS     DVNORMCT        AND DIVISION SIGN REGISTER.
 1669  2         TS     VBUF +5
 1670            CCS    BUF             FORCE DIVISOR POSITIVE WITH MAJOR PART
 1671            TCF    /BUF+           NON-ZERO (IF POSSIBLE).
 1672            TCF    +2
 1673  2         TCF    /BUF-
 1674            XCH    BUF +1          SHIFT VECTOR AND SCALAR LEFT 14.
 1675            XCH    BUF
 1676            XCH    MPAC +1
 1677            XCH    MPAC
 1678            EXTEND                 CHECK FOR OVERFLOW IN EACH CASE.
 1679            BZF    +2
 1680  2         TCF    DVOVF
 1681            XCH    MPAC +4
 1682            XCH    MPAC +3
 1683            EXTEND
 1684            BZF    +2
 1685  2         TCF    DVOVF
 1686            XCH    MPAC +6
 1687            XCH    MPAC +5
 1688            EXTEND
 1689            BZF    +2
 1690  2         TCF    DVOVF
 1691            CCS    BUF
 1692            TCF    /BUF+
 1693            TCF    DVOVF           ZERO DIVISOR - OVERFLOW.
 1694            TCF    /BUF-
 1695  2         TCF    DVOVF
 1696   /BUF-    EXTEND                 ON NEGATIVE, COMPLEMENT BUF AND MAINTAIN
 1697            DCS    BUF             DVSIGN IN VBUF +5.
 1698            DXCH   BUF
 1699  8         INCR   VBUF +5
 1700   /BUF+    CAF    HALF            FORCE SIGN AGREEMENT IN DIVISOR.
 1701            DOUBLE
 1702            AD     BUF +1
 1703            TS     BUF +1
 1704            CAF    ZERO
 1705            AD     POSMAX
 1706  2         ADS    BUF
 1707            XCH    BUF2            LEAVE ABS(ORIGINAL DIVISOR) IN BUF2 FOR
 1708            CA     BUF +1          OVERFLOW TESTING.
 1709            TS     BUF2 +1
 1710  2         TCF    /NORM           NORMALIZE DIVISOR IN BUF.
 1711   /NORM2   EXTEND                 IF LESS THAN .5, AUGMENT DVNORMCT AND
 1712            AUG    DVNORMCT        DOUBLE DIVISOR.
 1713            EXTEND
 1714            DCA    BUF
 1715  2         DAS    BUF
 1716   /NORM    CA     BUF             SEE IF DIVISOR NORMALIZED.
 1717            DOUBLE
 1718            OVSK
 1719  2         TCF    /NORM2          DOUBLE AND TRY AGAIN IF NOT.
 1720            TC     V/SCDV          DO X COMPONENT DIVIDE.
 1721            DXCH   MPAC +3         SUPPLY ARGUMENTS IN USUAL SEQUENCE.
 1722            DXCH   MPAC
 1723  2         DXCH   MPAC +3
 1724            TC     V/SCDV          Y COMPONENT.
 1725            DXCH   MPAC +5
 1726            DXCH   MPAC
 1727  2         DXCH   MPAC +5
 1728            TC     V/SCDV          Z COMPONENT.
 1729            TCF    VROTATEX        GO RE-ARRANGE COMPONENTS BEFORE EXIT.
P1730  2         SUBROUTINE USED BY V/SC TO DIVIDE VECTOR COMPONENT IN MPAC,+1 B
 1731  9Y THE SCALAR GIVEN IN BUF.
 1732   V/SCDV   CA     VBUF +5         REFLECTS SIGN OF SCALAR.
 1733  2         TS     DVSIGN
 1734            CCS    MPAC            FORCE MPAC POSITIVE, EXITING ON ZERO.
 1735            TCF    /MPAC+
 1736            TCF    +2
 1737  2         TCF    /MPAC-
 1738            CCS    MPAC +1
 1739            TCF    /MPAC+
 1740            TC     Q
 1741            TCF    /MPAC-
 1742  2         TC     Q
 1743   /MPAC-   EXTEND                 USUAL COMPLEMENTING AND SETTING OF SIGN.
 1744            DCS    MPAC
 1745            DXCH   MPAC
 1746  2         INCR   DVSIGN
 1747   /MPAC+   CS     ONE             INITIALIZE NEAR-ONE SWITCH.
 1748  2         TS     MAXDVSW
 1749            CS     MPAC            CHECK POSSIBLE OVERFLOW.
 1750            AD     BUF2            UNNORMALIZED INPUT DIVISOR.
 1751            EXTEND
 1752  2         BZMF   /AGREE          CHECK FOR NEAR-ONE OR OVERFLOW.
 1753   DDVCALL  DXCH   MPAC            CALL PRE-DIVIDE NORMALIZATION.
 1754            INDEX  DVNORMCT
 1755  8         TCF    MAXTEST
 1756   /AGREE   CAF    HALF            FORCE SIGN AGREEMENT IN DIVIDEND
 1757            DOUBLE                 (ALREADY DONE FOR DIVISOR).
 1758            AD     MPAC +1
 1759            TS     MPAC +1
 1760            CAF    ZERO
 1761            AD     POSMAX
 1762  2         ADS    MPAC
 1763            CS     MPAC            CHECK TO SEE IF OVERFLOW GONE OR IF
 1764            AD     BUF2            NEAR-ONE CASE IS PRESENT.
 1765            CCS    A
 1766            TCF    DDVCALL         NOT NEAR-ONE.
 1767   SLOPELO  DEC    .8324
 1768  2         TCF    DVOVF           NO HOPE.
 1769            TS     MAXDVSW         SIGNAL POSSIBLE NEAR-ONE CASE.
 1770            CS     MPAC +1         SEE IF DIVISION CAN BE DONE.
 1771            AD     BUF2 +1
 1772            EXTEND
 1773            BZMF   DVOVF
 1774            TCF    DDVCALL         GOING TO MAXDV.
P1775  2         THE FOLLOWING ROUTINE EXECUTES THE UNIT INSTRUCTION, WHICH TAKE
 1776  9S THE UNIT OF THE VECTOR IN MPAC.
 1777   UNIT     TC     MPACVBUF        SAVE THE ARGUMENT IN VBUF.
 1778            CAF    ZERO            MUST SENSE OVERFLOW IN FOLLOWING DOT.
 1779            XCH    OVFIND
 1780            TS     TEM1
 1781            TC     VSQSUB          DOT MPAC WITH ITSELF.
 1782            CA     TEM1
 1783            XCH    OVFIND
 1784            EXTEND
 1785            BZF    +2
 1786            TCF    DVOVF
 1787            EXTEND
 1788            DCA    MPAC            LEAVE THE SQUARE OF THE LENGTH OF THE
 1789            INDEX  FIXLOC          ARGUMENT IN LVSQUARE.
 1790  2         DXCH   LVSQUARE
 1791  2         TC     SQRTSUB         GO TAKE THE NORMALIZED SQUARE ROOT.
 1792            CCS    MPAC            CHECK FOR UNIT OVERFLOW.
 1793            TCF    +5              MPAC IS NOT LESS THAN .5 UNLESS
 1794            TS     L
 1795            INDEX  FIXLOC
 1796            DXCH   LV
 1797  2         TCF    DVOVF           INPUT TO SQRTSUB WAS 0.
 1798            CS     FOURTEEN        SEE IF THE INPUT WAS SO SMALL THE THE
 1799            AD     MPTEMP          FIRST TWO REGISTERS OF THE SQUARE WERE 0
 1800            CCS    A
 1801            COM                    IF SO, SAVE THE NEGATIVE OF THE SHIFT
 1802  2         TCF    SMALL           COUNT -15D.
 1803  2         TCF    LARGE           (THIS IS USUALLY THE CASE.)
 1804            CS     THIRTEEN        IF THE SHIFT COUNT WAS EXACTLY 14, SET
 1805  2         TS     MPTEMP          THE PRE-DIVIDE NORM COUNT TO -13D.
 1806            CA     MPAC            SHIFT THE LENGTH RIGHT 14 BEFORE STORING
 1807   SMALL2   TS     L               (SMALL EXITS TO THIS POINT).
 1808            CAF    ZERO
 1809  2         TCF    LARGE2          GO TO STORE LENGTH AND PROCEED.
 1810   LARGE    CCS    MPTEMP          MOST ALL CASES COME HERE.
 1811  2         TCF    LARGE3          SEE IF NO NORMALIZATION WAS REQUIRED BY
 1812            CS     SRDDV           SQRT, AND IF SO, SET UP FOR A SHIFT
 1813            TS     MPTEMP          RIGHT 1 BEFORE DIVIDING TO PRODUCE
 1814            EXTEND                 THE DESIRED HALF UNIT VECTOR.
 1815            DCA    MPAC
 1816  8         TCF    LARGE2
 1817   LARGE3   COM                    LEAVE NEGATIVE OF SHIFT COUNT-1 FOR
 1818  2         TS     MPTEMP          PREDIVIDE LEFT SHIFT.
 1819            COM                    PICK UP REQUIRED SHIFTING BIT TO UNNORM-
 1820            INDEX  A               ALIZE THE SQRT RESULT.
 1821            CAF    BIT14
 1822            TS     BUF
 1823            EXTEND
 1824            MP     MPAC +1
 1825            XCH    BUF
 1826            EXTEND                 (UNNORMALIZE THE SQRT FOR LV).
 1827            MP     MPAC
 1828            XCH    L
 1829            AD     BUF
 1830  2         XCH    L
 1831   LARGE2   INDEX  FIXLOC
 1832  2         DXCH   LV              LENGTH NOW STORED IN WORK AREA.
 1833            CS     ONE
 1834  2         TS     MAXDVSW         NO MAXDV CASES IN UNIT.
 1835            DXCH   VBUF            PREPARE X COMPONENT FOR DIVIDE, SETTING
 1836            DXCH   MPAC            LENGTH OF VECTOR AS DIVISOR IN BUF.
 1837            DXCH   BUF
 1838  2         TC     UNITDV
 1839            DXCH   VBUF +2         DO Y AND Z IN USUAL FASHION SO WE CAN
 1840            DXCH   MPAC            EXIT THROUGH VROTATEX.
 1841            DXCH   MPAC +3
 1842  2         TC     UNITDV
 1843            DXCH   VBUF +4
 1844            DXCH   MPAC
 1845            DXCH   MPAC +5
 1846            TC     UNITDV
 1847            TCF    VROTATEX        AND EXIT.
P1848            IF THE LENGTH OF THE ARGUMENT VECTOR WAS LESS THAN 2(-28), EACH
 1849  9 COMPONENT MUST BE SHIFTED LEFT AT LEAST
R1850  214 PLACES BEFORE THE DIVIDE. NOTE THAT IN THIS CASE, THE MAJOR PART OF E
 1851  9ACH COMPONENT IS ZERO.
 1852  2SMALL    TS     MPTEMP          NEGATIVE OF PRE-DIVIDE SHIFT COUNT.
 1853            CAF    ZERO            SHIFT EACH COMPONENT LEFT 14.
 1854            XCH    VBUF +1
 1855            XCH    VBUF
 1856            XCH    VBUF +3
 1857            XCH    VBUF +2
 1858            XCH    VBUF +5
 1859  2         XCH    VBUF +4
 1860            CS     MPTEMP
 1861            INDEX  A
 1862            CAF    BIT14
 1863            EXTEND
 1864            MP     MPAC
 1865  2         TCF    SMALL2
 1866   THIRTEEN DEC    13
 1867   FOURTEEN DEC    14
P1868  2         THE FOLLOWING ROUTINE SETS UP THE CALL TO THE DIVIDE ROUTINES.
 1869   UNITDV   CCS    MPAC            FORCE MPAC POSITIVE IF POSSIBLE, SETTING
 1870            TCF    UMPAC+          DVSIGN ACCORDING TO THE SIGN OF MPAC
 1871            TCF    +2              SINCE THE DIVISOR IS ALWAYS POSITIVE
 1872  2         TCF    UMPAC-          HERE.
 1873            CCS    MPAC +1
 1874            TCF    UMPAC+
 1875            TC     Q               EXIT IMMEDIATELY ON ZERO.
 1876            TCF    UMPAC-
 1877  2         TC     Q
 1878   UMPAC-   CS     ZERO            IF NEGATIVE, SET -0 IN DVSIGN FOR FINAL
 1879            TS     DVSIGN          COMPLEMENT.
 1880            EXTEND
 1881            DCS    MPAC            PICK UP ABSOLUTE VALUE OF ARG AND JUMP.
 1882            INDEX  MPTEMP
 1883  2         TCF    MAXTEST -1
 1884   UMPAC+   TS     DVSIGN          SET DVSIGN FOR POSITIVE QUOTIENT.
 1885            DXCH   MPAC
 1886            INDEX  MPTEMP
 1887            TCF    MAXTEST -1
P1888  2         MISCELLANEOUS UNARY OPERATIONS.
 1889   DSQ      TC     DSQSUB          SQUARE THE DP CONTENTS OF MPAC.
 1890  2         TCF    DANZIG
 1891   ABVALABS CCS    MODE            ABVAL OR ABS INSTRUCTION.
 1892            TCF    ABS             DO ABS ON SCALAR.
 1893  2         TCF    ABS
 1894   ABVAL    TC     VSQSUB          DOT MPAC WITH ITSELF.
 1895  2         LXCH   MODE            MODE IS NOW DP (L ZERO AFTER DAS).
 1896            EXTEND                 STORE SQUARE OF LENGTH IN WORK AREA.
 1897            DCA    MPAC
 1898            INDEX  FIXLOC
 1899  2         DXCH   LVSQUARE
 1900   SQRT     TC     SQRTSUB         TAKE THE SQUARE ROOT OF MPAC.
 1901            CCS    MPTEMP          RETURNED NORMALIZED SQUARE ROOT. SEE IF
 1902            TCF    +2              ANY UN-NORMALIZATION REQUIRED AND EXIT
 1903  2         TCF    DANZIG          IF NOT.
 1904            AD     NEG12           A RIGHT SHIFT OF MORE THAN 13 COULD BE
 1905            EXTEND                 REQUIRED IF INPUT WAS ZERO IN MPAC,+1.
 1906            BZMF   SQRTSHFT        GOES HERE IN MOST CASES.
 1907            ZL                     IF A LONG SHIFT IS REQUIRED, GO TO
 1908            LXCH   ADDRWD          GENERAL RIGHT SHIFT ROUTINES.
 1909  2         TCF    GENSCR +4       ADDRWD WAS ZERO TO PREVENT ROUND.
 1910   SQRTSHFT INDEX  MPTEMP          SELECT SHIFTING BIT AND EXIT THROUGH
 1911            CAF    BIT15           SHIFT ROUTINES.
 1912            TS     MPTEMP
 1913            CAF    ZERO            TO ZERO MPAC +2 IN THE PROCESS.
 1914  2         TCF    MPACSHR +3
 1915   ABS      TC     BRANCH          TEST SIGN OF MPAC AND COMPLEMENT IF
 1916            TCF    DANZIG
 1917            TCF    DANZIG
 1918  8         TCF    COMP
 1919   VDEF     CS     FOUR            VECTOR DEFINE - ESSENTIALLY TREATS
 1920            ADS    PUSHLOC         SCALAR IN MPAC AS X COMPONENT, PUSHES UP
 1921            EXTEND                 FOR Y AND THEN AGAIN FOR Z.
 1922            INDEX  A
 1923            DCA    2
 1924            DXCH   MPAC +3
 1925            EXTEND
 1926            INDEX  PUSHLOC
 1927            DCA    0
 1928            DXCH   MPAC +5
 1929            CS     ONE             MODE IS NOW VECTOR.
 1930  2         TCF    NEWMODE
 1931   VSQ      TC     VSQSUB          DOT MPAC WITH ITSELF.
 1932            CAF    ZERO
 1933  2         TCF    NEWMODE         MODE IS NOW DP.
 1934   PUSH     EXTEND                 PUSH DOWN MPAC LEAVING IT LOADED.
 1935            DCA    MPAC
 1936            INDEX  PUSHLOC         PUSH DOWN FIRST TWO REGISTERS IN EACH
 1937  2         DXCH   0
 1938            INDEX  MODE            INCREMENT PUSHDOWN POINTER.
 1939            CAF    NO.WDS
 1940  2         ADS    PUSHLOC
 1941            CCS    MODE
 1942            TCF    TPUSH           PUSH DOWN MPAC +2.
 1943  2         TCF    DANZIG          DONE FOR DP.
 1944            EXTEND                 ON VECTOR, PUSH DOWN Y AND Z COMPONENTS.
 1945            DCA    MPAC +3
 1946            INDEX  PUSHLOC
 1947            DXCH   0 -4
 1948            EXTEND
 1949            DCA    MPAC +5
 1950            INDEX  PUSHLOC
 1951            DXCH   0 -2
 1952  2         TCF    DANZIG
 1953   TPUSH    CA     MPAC +2
 1954  2         TCF    ENDTPUSH +2
 1955   RVQ      INDEX  FIXLOC          RVQ - RETURN IVA QPRET.
 1956            CA     QPRET
 19565           TS     POLISH
 1957            TCF    GOTO +4         (ASSUME QPRET POINTS TO FIXED ONLY.)
P1958            THE FOLLOWING SUBROUTINES ARE USED IN SQUARING MPAC, IN BOTH TH
 1959  9E SCALAR AND VECTOR SENSE. THEY ARE
R1960  2SPECIAL CASES OF DMPSUB AND DOTSUB, PUT IN TO SAVE SOME TIME.
 1961   DSQSUB   CA     MPAC +1         SQUARES THE SCALAR CONTENTS OF MPAC.
 1962            EXTEND
 1963            SQUARE
 1964            TS     MPAC +2
 1965            CAF    ZERO            FORM 2(CROSS TERM).
 1966            XCH    MPAC +1
 1967            EXTEND
 1968            MP     MPAC
 1969            DDOUBL                 AND MAYBE OVERFLOW.
 1970            DAS    MPAC +1         AND SET A TO NET OVERFLOW.
 1971            XCH    MPAC
 1972            EXTEND
 1973            SQUARE
 1974            DAS    MPAC
 1975  2         TC     Q
 1976   VSQSUB   EXTEND                 DOTS THE VECTOR IN MPAC WITH ITSELF.
 1977            QXCH   DOTRET
 1978            TC     DSQSUB          SQUARE THE X COMPONENT.
 1979            DXCH   MPAC +3
 1980            DXCH   MPAC
 1981            DXCH   BUF             SO WE CAN END IN DOTSUB.
 1982            CA     MPAC +2
 1983  2         TS     BUF +2
 1984            TC     DSQSUB          SQUARE Y COMPONENT.
 1985            DXCH   MPAC +1
 1986            DAS    BUF +1
 1987            AD     MPAC
 1988            AD     BUF
 1989            TS     BUF
 1990            TCF    +2
 1991  2         TS     OVFIND          IF OVERFLOW.
 1992            DXCH   MPAC +5
 1993            DXCH   MPAC
 1994            TC     DSQSUB          SQUARE Z COMPONENT.
 1995            TCF    ENDDOT          END AS IN DOTSUB.
P1996            DOUBLE PRECISION SQUARE ROOT ROUTINE. TAKE THE SQUARE ROOT OF T
 1997  9HE TRIPLE PRECISION (MPAC +2 USED ONLY
R1998   IN NORMALIZATION) CONTENTS OF MPAC AND LEAVE THE NORMALIZED RESULT IN MP
 1999  9AC (C(MPAC) GREATER THAN OR EQUAL TO
R2000  4.5). THE RIGHT SHIFT COUNT (TO UNNORMALIZE) IS LEFT IN MPTEMP.
 2001   SQRTSUB  CAF    ZERO            START BY ZEROING RIGHT SHIFT COUNT.
 2002  2         TS     MPTEMP
 2003            CCS    MPAC            CHECK FOR POSITIVE ARGUMENT, SHIFTING
 2004            TCF    SMPAC+          FIRST SIGNIFICANT MPAC REGISTER INTO
 2005            TCF    +2              MPAC ITSELF.
 2006  2         TCF    SQRTNEG         SEE IF MAG OF ARGUMENT LESS THAN 10(-4).
 2007            XCH    MPAC +2         MPAC IS ZERO - SHIFT LEFT 14.
 2008            XCH    MPAC +1
 2009            TS     MPAC
 2010            CAF    SEVEN           AUGMENT RIGHT SHIFT COUNTER.
 2011  2         TS     MPTEMP
 2012            CCS    MPAC            SEE IF MPAC NOW PNZ.
 2013            TCF    SMPAC+
 2014            TCF    +2
 2015  2         TCF    ZEROANS         NEGATIVE BUT LESS THAN 10(-4) IN MAG.
 2016            XCH    MPAC +1         ZERO - SHIFT LEFT 14 AGAIN.
 2017            TS     MPAC
 2018            CAF    SEVEN           AUGMENT RIGHT SHIFT COUNTER.
 2019  2         ADS    MPTEMP
 2020            CCS    MPAC
 2021            TCF    SMPAC+
 2022            TC     Q               SQRT(0) = 0.
 2023            TCF    ZEROANS
 2024  4         TCF    FIXROOT         DO NOT LEAVE SQRTSUB WITH -0 IN MPAC.
 2025   SQRTNEG  CCS    A               ARGUMENT IS NEGATIVE, BUT SEE IF SIGN-
 2026  2         TCF    SQRTABRT        CORRECTED ARGUMENT IS LESS THAN 10(-4)
 2027            CCS    MPAC +1         IN MAGNITUDE. IF SO, CALL ANSWER ZERO.
 2028   ZEROANS  CAF    ZERO            FORCE ANSWER TO ZERO HERE.
 2029            TCF    FIXROOT
 2030            TCF    SQRTABRT
 2031  2         TCF    FIXROOT
 2032   SQRTABRT TC     ABORT
 2033  2         OCT    1302
 2034   SMPAC+   AD     -1/2+2          SEE IF ARGUMENT GREATER THAN OR EQUAL TO
 2035            EXTEND                 .5.
 2036  2         BZMF   SRTEST          IF SO, SEE IF LESS THAN .25.
 2037            DXCH   MPAC            WE WILL TAKE THE SQUARE ROOT OF MPAC/2.
 2038            LXCH   SR              SHIFT RIGHT 1 AND GO TO THE SQRT ROUTINE
 2039            EXTEND
 2040            MP     HALF
 2041            DXCH   MPAC
 2042            XCH    SR
 2043  2         ADS    MPAC +1         GUARANTEED NO OVERFLOW.
 2044   ARGHI    CAF    SLOPEHI         ARGUMENT BETWEEN .25 AND .5. GET A
 2045            EXTEND                 LINEAR APPROXIMATION FOR THIS RANGE.
 2046            MP     MPAC
 2047  2         AD     BIASHI          X0/2 = (MPAC/2)(SLOPEHI) + BIASHI/2.
 2048    +4      TS     BUF             X0/2 (ARGLO ENTERS HERE).
 2049            CA     MPAC            SINGLE-PRECISION THROUGHOUT.
 2050            ZL
 2051            EXTEND
 2052            DV     BUF             (MPAC/2)/(X0/2)
 2053            EXTEND
 2054            MP     HALF
 2055  2         ADS    BUF             X1 = X0/2 + .5(MPAC/2)/(X0/2).
 2056            EXTEND
 2057            MP     HALF            FORM UP X1/2.
 2058            DXCH   MPAC            SAVE AND BRING OUT ARGUMENT.
 2059            EXTEND                 TAKE DP QUOTIENT WITH X1.
 2060            DV     BUF
 2061            TS     BUF +1          SAVE MAJOR PART OF QUOTIENT.
 2062            CAF    ZERO            FORM MINOR PART OF QUOTIENT USING
 2063            XCH    L               (REMAINDER,0).
 2064            EXTEND
 2065            DV     BUF
 2066            TS     L               IN PREPARATION FOR DAS.
 2067            CA     BUF +1
 2068  2         DAS    MPAC            X2 = X1/2 + (MPAC/2)X1
 2069            EXTEND                 OVERFLOWS IF ARG. NEAR POSMAX.
 2070            BZF    TCQBNK00
 2071            CAF    POSMAX
 2072   FIXROOT  TS     MPAC
 2073            TS     MPAC +1
 2074  8TCQBNK00 TC     Q               RETURN TO CALLER TO UNNORMALIZE, ETC.
 2075   SRTEST   AD     QUARTER         ARGUMENT WAS LESS THAN .5, SEE IF LESS
 2076            EXTEND                 THAN .25.
 2077  2         BZMF   SQRTNORM        IF SO, BEGIN NORMALIZATION.
 2078            DXCH   MPAC            IF BETWEEN .5 AND .25, SHIFT RIGHT 1 AND
 2079            LXCH   SR              START AT ARGLO.
 2080            EXTEND
 2081            MP     HALF
 2082            DXCH   MPAC
 2083            XCH    SR
 2084  2         ADS    MPAC +1         NO OVERFLOW.
 2085   ARGLO    CAF    SLOPELO         (NORMALIZED) ARGUMENT BETWEEN .125 AND
 2086            EXTEND                 .25
 2087            MP     MPAC
 2088            AD     BIASLO
 2089  2         TCF    ARGHI +4        BEGIN SQUARE ROOT.
 2090   SQRTNM2  EXTEND                 SHIFT LEFT 2 AND INCREMENT RIGHT SHIFT
 2091            DCA    MPAC +1         COUNT (FOR TERMINAL UNNORMALIZATION).
 2092            DAS    MPAC +1
 2093            AD     MPAC
 2094  2         ADS    MPAC            (NO OVERFLOW).
 2095   SQRTNORM INCR   MPTEMP          FIRST TIME THROUGH, JUST SHIFT LEFT 1
 2096            EXTEND                 (PUTS IN EFFECTIVE RIGHT SHIFT SINCE
 2097            DCA    MPAC +1         WE WANT MPAC/2).
 2098            DAS    MPAC +1
 2099            AD     MPAC
 2100            ADS    MPAC            (AGAIN NO OVERFLOW).
 2101            DOUBLE
 2102  2         TS     CYL
 2103   NORMTEST CCS    CYL             SEE IF ARGUMENT NOW NORMALIZED AT
 2104            CCS    CYL             GREATER THAN .125.
 2105            TCF    SQRTNM2         NO - SHIFT LEFT 2 MORE AND TRY AGAIN.
 2106            TCF    ARGHI           YES - NOW BETWEEN .5 AND .25.
 2107            TCF    ARGLO           ARGUMENT NOW BETWEEN .25 AND .125.
P2108  2TRIGONOMETRIC FUNCTION PACKAGE.
R2109  2         THE FOLLOWING TRIGONOMETRIC FUNCTIONS ARE AVAILABLE AS INTERPRE
 2110  9TIVE OPERATIONS:
R2111            1.  SIN                COMPUTES (1/2)SINE(2 PI MPAC).
R2112  2         2.  COS                COMPUTES (1/2)COSINE(2 PI MPAC).
R2113            3.  ASIN               COMPUTES (1/2PI)ARCSINE(2 MPAC).
R2114  2         4.  ACOS               COMPUTES (1/2PI)ARCCOSINE(2 MPAC).
R2115  4SIN-ASIN AND COS-ACOS ARE MUTUALLY INVERSE, IE SIN(ASIN(X)) = X.
 2116   COSINE   TC     BRANCH          FINDS COSINE USING THE IDENTITY
 2117            TCF    +3              COS(X) = SIN(PI/2 - ABS(X)).
 2118            TCF    PRESINE
 2119  2         TCF    PRESINE
 2120    +3      EXTEND
 2121            DCS    MPAC
 2122  2         DXCH   MPAC
 2123   PRESINE  CAF    QUARTER         PI/2 SCALED.
 2124  4         ADS    MPAC
 2125   SINE     DXCH   MPAC            DOUBLE ARGUMENT.
 2126            DDOUBL
 2127            OVSK                   SEE IF OVERFLOW PRESENT.
 2128  2         TCF    +3              IF NOT, ARGUMENT OK AS IS.
 2129            EXTEND                 IF SO, WE LOST (OR GAINED) PI, SO
 2130            DCOM                   COMPLEMENT MPAC USING THE IDENTITY
A2131                                   SIN(X-(+)PI) = SIN(-X).
 2132    +3      DXCH   MPAC
 2133            CA     MPAC            SEE IF ARGUMENT GREATER THAN .5 IN
 2134            DOUBLE                 MAGNITUDE. IF SO, REDUCE IT TO LESS THAN
 2135            TS     L               .5 (+-PI/2 SCALED) AS FOLLOWS:
 2136  2         TCF    SN1
 2137            INDEX  A               IF POSITIVE, FORM PI - X, IF NEGATIVE
 2138            CAF    NEG1/2 +1       USE -PI - X.
 2139            DOUBLE
 2140            EXTEND
 2141            SU     MPAC            GUARANTEED NO OVERFLOW.
 2142            TS     MPAC
 2143            CS     MPAC +1
 2144  8         TS     MPAC +1
 2145   SN1      EXTEND                 SET UP TO EVALUATE HASTINGS POLYNOMIAL
 2146            DCA    MPAC
 2147            DXCH   BUF2
 2148  2         TC     DSQSUB          SQUARE MPAC.
 2149            TC     POLY            EVALUATE FOURTH ORDER POLYNOMIAL.
 2150            DEC    3
 2151            2DEC   +.3926990796
 2152            2DEC   -.6459637111
 2153            2DEC   +.318758717
 2154            2DEC   -.074780249
 2155            2DEC   +.009694988
 2156            CAF    LBUF2           MULTIPLY BY ARGUMENT AND SHIFT LEFT 2.
 2157  2         TC     DMPSUB -1
 2158            EXTEND
 2159            DCA    MPAC +1
 2160            DAS    MPAC +1
 2161            AD     MPAC
 2162            ADS    MPAC            NEITHER SHIFT OVERFLOWS.
 2163            EXTEND
 2164            DCA    MPAC +1
 2165            DAS    MPAC +1
 2166            AD     MPAC
 2167            ADS    MPAC
 2168            TCF    DANZIG
P2169  2         ARCSIN/ARCCOS ROUTINE.
 2170   ARCSIN   CAF    LASINEX         COMPUTE ARCSIN BY USING THE IDENTITY
 2171  2         TCF    +2              ARCSIN(X) = PI/2 - ARCCOS(X).
 2172   ARCCOS   CAF    LDANZIG         (EXITS IMMEDIATELY).
 2173            TS     ESCAPE
 2174            TC     BRANCH          TEST SIGN OF INPUT.
 2175            TCF    ACOSST          START IMMEDIATELY IF POSITIVE.
 2176            TCF    ACOSZERO        ARCCOS(0) = PI/2 = .25.
 2177            EXTEND                 IF NEGATIVE, USE THE IDENTITY
 2178            DCS    MPAC            ARCCOS(X) = PI - ARCCOS(-X), FORCING
 2179            DXCH   MPAC            ARGUMENT POSITIVE.
 2180            CAF    TCSUBTR         SET EXIT  TO DO ABOVE BEFORE
 2181            XCH    ESCAPE          ARCSIN/ARCCOS CONSIDERATIONS.
 2182  2         TS     ESCAPE2
 2183   ACOSST   CS     HALF            TEST MAGNITUDE OF INPUT.
 2184            AD     MPAC
 2185            CCS    A
 2186  2         TCF    ACOSOVF         THIS IS PROBABLY AN OVERFLOW CASE.
 2187  2LASINEX  TCF    ASINEX
 2188  2         TCF    ACOSST2         NO OVERFLOW - PROCEED.
 2189            CCS    MPAC +1         IF MAJOR PART IS .5, CALL ANSWER 0
 2190            CAF    ZERO            UNLESS MINOR PART NEGATIVE.
 2191  2         TCF    ACOS=0
 2192  2         TCF    ACOSST2
 2193   ACOS=0   TS     MPAC +1
 2194            TS     MPAC
 2195  2         TC     ESCAPE
 2196   ACOSST2  EXTEND                 NOW THAT ARGUMENT IS IN PROPER RANGE,
 2197            DCS    MPAC            BEGIN COMPUTATION. USE HASTINGS
 2198            AD     HALF            APPROXIMATION ARCCOS(X) = SQRT(1-X)P(X)
 2199            DXCH   MPAC            IN A SCALED VERSION WHERE P(X) IS A
 2200  2         DXCH   BUF2            SEVENTH ORDER POLYNOMIAL.
 2201  2         TC     SQRTSUB         RETURNS WITH NORMALIZED SQUARE ROOT.
 2202            CCS    MPTEMP          SEE IF UN-NORMALIZATION REQUIRED.
 2203  8         TCF    ACOSSHR         IF SO.
 2204   ACOS3    DXCH   MPAC            SET UP FOR POLYNOMIAL EVALUATION.
 2205            DXCH   BUF2
 2206  2         DXCH   MPAC
 2207            TC     POLY
 2208            DEC    6
 2209            2DEC   +.353553385     COEFFICIENTS ARE C 2(+I)/PISQRT(2) WHERE
 2210            2DEC*  -.0483017006 B+1*                 I
 2211            2DEC*  +.0200273085 B+2*    WHERE C STANDS FOR ORIGINAL COEFFS.
 2212            2DEC*  -.0112931863 B+3*
 2213            2DEC*  +.00695311612 B+4*
 2214            2DEC*  -.00384617957 B+5*
 2215            2DEC*  +.001501297736 B+6*
 2216            2DEC*  -.000284160334 B+7*
 2217            CAF    LBUF2           DO FINAL MULTIPLY AND GO TO ANY
 2218            TC     DMPSUB -1       EPILOGUE SEQUENCES.
 2219  2         TC     ESCAPE
 2220   SUBTR    EXTEND                 EPILOGUE FOR NEGATIVE INPUTS TO ARCCOS.
 2221            DCS    MPAC
 2222            AD     HALF            FORMS PI - ARCCOS(-X) = ARCCOS(X).
 2223            DXCH   MPAC
 2224  2         TC     ESCAPE2         GO TO POSSIBLE ARCSIN EPILOGUE.
 2225   ASINEX   EXTEND
 2226            DCS    MPAC            ARCSIN EPILOGUE - GET ARCSIN(X)
 2227            AD     QUARTER         = PI/2 - ARCCOS(X).
 2228            DXCH   MPAC
 2229  8LDANZIG  TCF    DANZIG
 2230   ACOSSHR  INDEX  A               THE SHIFT RIGHT IS LESS THAN 14 SINCE
 2231            CAF    BIT14           THE INPUT WAS NON-ZERO DP.
 2232            TS     MPTEMP
 2233            TC     VSHRRND         DP SHIFT RIGHT AND ROUND.
 2234  2         TCF    ACOS3           PROCEED.
 2235   ACOSOVF  EXTEND                 IF MAJOR PART WAS ONLY 1 MORE THAN .5,
 2236  2         BZF    ACOS=0          CALL ANSWER ZERO.
 2237   ACOSABRT TC     ABORT
 2238  2         OCT    1301
 2239   ACOSZERO CAF    QUARTER         ACOS(0) = PI/2.
 2240  2         TCF    ACOS=0 +1       SET MPAC AND EXIT VIA ESCAPE.
 22403  NEG12    DEC    -12
 22406  TCSUBTR  TCF    SUBTR
P22409 4AUXILIARY CODING FOR DDV/BDDV:
 22410  BUFPOS   CCS    A
 22411 2         TCF    BUF+            TO BUF+ IF BUF IS GREATER THAN +1.
 22412           CS     BUF +1          IF BUF IS +1, FORCING SIGN AGREEMENT
 22413           EXTEND                 MAY CAUSE BUF TO BECOME ZERO.
 22414 2         BZMF   BUF+            BRANCH IF SIGNS AGREE.
 22415           CA     HALF            SIGNS DISAGREE.  FORCE AGREEMENT.
 22416   +6      DOUBLE
 22417           ADS    BUF +1
 22418           CA     ZERO
 22419           TS     BUF
 22420 4         TCF    BUFZERO
 22421  BUFNEG   CCS    A
 22422 2         TCF    BUF-            TO BUF- IF BUF IS LESS THAN -1.
 22423           CA     BUF +1          IF BUF IS -1, FORCING SIGN AGREEMENT
 22424           EXTEND                 MAY CAUSE BUF TO BECOME ZERO.
 22425 2         BZMF   BUF-            BRANCH IF SIGNS AGREE.
 22426           CS     HALF            SIGNS DISAGREE.  FORCE AGREEMENT.
 22427           TCF    BUFPOS +6
P22428 2         THE FOLLOWING INSTRUCTIONS ARE AVAILABLE FOR SETTING, MODIFYING
 22429 9, AND BRANCHING ON INDEX REGISTERS:
R2243            1.  AXT                ADDRESS TO INDEX TRUE.
R2244            1.  AXC                ADDRESS TO INDEX COMPLEMENTED.
R2245            3.  LXA                LOAD INDEX FROM ERASABLE.
R2246            4.  LXC                LOAD INDEX COMPLEMENTED FROM ERASABLE.
R2247            5.  SXA                STORE INDEX IN ERASABLE.
R2248  2         6.  XCHX               EXCHANGE INDEX REIGSTER WITH ERASABLE.
R2249            7.  INCR               INCREMENT INDEX REGISTER.
R2250            8.  XAD                ERASABLE ADD TO INDEX REGISTER.
R2251  2         9.  XSU                ERASABLE SUBTRACT FROM INDEX REGISTER.
R2252  4        10.  TIX                BRANCH ON INDEX REGISTER AND DECREMENT.
 2253  2         BANK   01
 2254   AXT      TC     TAGSUB          SELECT APPROPRIATE INDEX REGISTER.
 2255            CA     POLISH
 2256   XSTORE   INDEX  INDEXLOC        CONTAINS C(FIXLOC) OR C(FIXLOC)+1.
 2257            TS     X1
 2258  2         TCF    DANZIG
 2259   AXC      TC     TAGSUB
 2260            CS     POLISH
 2261  2         TC     XSTORE
 2262   LXA      TC     15ADRERS        LOAD INDEX REGISTER FROM ERASABLE.
 2263            INDEX  POLISH
 2264            CA     0
 2265  2         TCF    XSTORE
 2266   LXC      TC     15ADRERS        LOAD NDX REG FROM ERASABLE COMPLEMENTED.
 2267            INDEX  POLISH
 2268            CS     0
 2269  2         TCF    XSTORE
 2270   SXA      TC     15ADRERS        STORE INDEX REGISTER IN ERASABLE.
 2271            INDEX  INDEXLOC
 2272            CA     X1
 22725  MSTORE1  INDEX  POLISH
 22730           TS     0
 22735 8         TCF    DANZIG
 2274   XCHX     TC     15ADRERS        EXCHANGE INDEX REGISTER WITH ERASABLE.
 2275            INDEX  POLISH
 2276            CA     0
 2277            INDEX  INDEXLOC
 2278            XCH    X1
 2279  2         TCF    MSTORE1
 2280   XAD      TC     15ADRERS        ADD ERASABLE TO INDEX REGISTER.
 2281            INDEX  POLISH
 2282            CA     0
 2283   XAD2     INDEX  INDEXLOC
 2284            ADS    X1              IGNORING OVERFLOWS.
 2285  2         TCF    DANZIG
 2286   INCR     TC     TAGSUB          INCREMENT INDEX REGISTER.
 2287            CA     POLISH
 2288  2         TCF    XAD2
 2289   XSU      TC     15ADRERS        SUBTRACT ERASABLE FROM INDEX REGISTER.
 2290            INDEX  POLISH
 2291            CS     0
 2292  4         TCF    XAD2
 2293   TIX      TC     TAGSUB          BRANCH AND DECREMENT ON INDEX.
 2294            INDEX  INDEXLOC
 2295            CS     S1
 2296            INDEX  INDEXLOC
 2297            AD     X1
 2298            EXTEND                 NO OPERATION IF DECREMENTED INDEX IS
 2299  2         BZMF   DANZIG          NEGATIVE OR ZERO.
 2300   DOTIXBR  INDEX  INDEXLOC
 2301  2         XCH    X1              IGNORING OVERFLOWS.
 23012 4         TCF    GOTO            DO THE BRANCH USING THE CADR IN POLISH.
P23013 2         SUBROUTINE TO CONVERT AN ERASABLE ADDRESS (11 BITS) TO AN EBANK
 23014 9 SETTING AND SUBADDRESS.
 23015  15ADRERS CS     POLISH
 23016           AD     DEC45
 23017           CCS    A               DOES THE ADDRESS POINT TO THE WORK AREA?
 23018           CA     FIXLOC          YES.  ADD FIXLOC.  EBANK OK AS IS.
 23019 2         TCF    +5
 23020           CA     OCT1400         NO.  SET EBANK & MAKE UP SUBADDRESS.
 23021           XCH    POLISH
 23022           TS     EBANK
 23023           MASK   LOW8
 23024 2 +5      ADS    POLISH          FALL INTO TAGSUB, AND RETURN VIA Q.
R2303  2         SUBROUTINE WHICH SETS THE ADDRESS OF THE SPECIFIED INDEX IN IND
 2304  9EXLOC. (ACTUALLY, THE ADDRESS -38D.)
 2305   TAGSUB   CA     FIXLOC
 2306  2         TS     INDEXLOC
 2307            CCS    CYR             BIT 15 SPECIFIES INDEX.
 2308            INCR   INDEXLOC        0 MEANS USE X2.
 2309            TC     Q
 2310            TC     Q               1 FOR X1.
P2311  2         MISCELLANEOUS OPERATION CODES WITH DIRECT ADDRESSES. INCLUDED H
 2312  9ERE ARE:
R2313            1.  ITA                STORE QPRET (RETURN ADDRESS) IN ERASABLE
 2314  9.
R2315            2.  CALL               CALL A SUBROUTINE, LEAVING RETURN IN QPR
 2316  9ET.
R2317            3.  RTB                RETURN TO BASIC LANGUAGE AT THE GIVEN AD
 2318  9DRESS.
R2319            4.  BHIZ               BRANCH IF THE HIGH ORDER OF MPAC IS ZERO
 2320  9 (SINGLE PRECISION).
R2321            5.  BOV                BRANCH ON OVERFLOW.
R2322  2         6.  GOTO               SIMPLE SEQUENCE CHANGE.
 2323   RTB/BHIZ CCS    CYR
 2324   RTB      CA     POLISH
 2325  2         TCF    BANKJUMP        CALL BASIC ROUTINE.
 2326   BHIZ     CCS    MPAC
 2327            TCF    DANZIG
 2328            TCF    GOTO
 2329            TCF    DANZIG
 2330  2         TCF    GOTO
 2331   BOV(B)   CCS    OVFIND          BRANCH ON OVERFLOW TO BASIC OR INTERP.
 2332            TCF    +2
 2333            TCF    DANZIG
 2334            TS     OVFIND
 2335            CCS    CYR
 2336            TCF    RTB             IF BASIC.
 2337   B5TOB8   OCT    360
 2338  8         TCF    GOTO
 2339   BZE/GOTO CCS    CYR             SEE WHICH OP-CODE IS DESIRED.
 2340            TC     BRANCH          DO BZE.
 2341            TCF    DANZIG
 2342            TCF    GOTO            DO GOTO.
 2343  2         TCF    DANZIG
 2344   BPL/BMN  CCS    CYR
 2345            TCF    BPL
 2346  25B10     DEC    5 B+10          SHIFTS OP CODE IN SWITCH INSTRUCTION ADR
 2347            TC     BRANCH          DO BMN.
 2348            TCF    DANZIG
 2349            TCF    DANZIG
 2350  2         TCF    GOTO            ONLY IF NNZ.
 2351   BPL      TC     BRANCH
 2352            TCF    GOTO            IF POSITIVE OR ZERO.
 2353            TCF    GOTO
 2354  2         TCF    DANZIG
 2355   CALL/ITA CCS    CYR
 2356  2         TCF    CALL
 2357            TC     CCSHOLE
 2358            TC     15ADRERS        STORE QPRET. (TAGSUB AFTER 15ADRERS IS
 23585           INDEX  FIXLOC          SLOW IN THIS CASE, BUT SAVES STORAGE.)
 2359            CA     QPRET
 2360            TCF    MSTORE1
P2361  2         THE FOLLOWING OPERATIONS ARE AVAILABLE FOR ALTERING AND TESTING
 2362  9 INTERPRETIVE SWITCHES:
R2363   00       BONSET                 SET A SWITCH AND DO A GOTO IF IT WAS ON.
R2364   01       SETGO                  SET A SWITCH AND DO A GOTO.
R2365   02       BOFSET                 SET A SWITCH AND DO A GOTO IF IT WAS OFF
R2366  203       SET                    SET A SWITCH.
R2367   04       BONINV                 INVERT A SWITCH AND BRANCH IF IT WAS ON.
R2368   05       INVGO                  INVERT A SWITCH AND DO A GOTO.
R2369   06       BOFINV                 INVERT A SWITCH AND BRANCH IF IT WAS OFF
R2370  207       INVERT                 INVERT A SWITCH.
R2371   10       BONCLR                 CLEAR A SWITCH AND BRANCH IF IT WAS ON.
R2372   11       CLRGO                  CLEAR A SWITCH AND DO A GOTO.
R2373   12       BOFCLR                 CLEAR A SWITCH AND BRANCH IF IT WAS OFF.
R2374  213       CLEAR                  CLEAR A SWITCH.
R2375   14       BON                    BRANCH IF A SWITCH WAS ON.
R2376  416       BOFF                   BRANCH IF A SWITCH WAS OFF.
R2377  2         THE ADDRESS SUPPLIED WITH THE SWITCH INSTRUCTION IS INTERPRETED
 2378  9 AS FOLLOWS:
R2379            BITS 1-4    SWITCH BIT NUMBER (1-15).
R2380            BITS 5-8    SWITCH OPERATION NUMBER.
R2381  2         BITS 9-     SWITCH WORD NUMBER (UP TO 64 SWITCH WORDS).
R2382            THE ADDRESS ITSELF IS MADE UP BY THE YUL SYSTEM ASSEMBLER. THE
 2383  9BRANCH INSTRUCTIONS REQUIRE TWO
R2384  4ADDRESSES, THE SECOND TAKEN AS THE DIRECT (OR INDIRECT IF IN ERASABLE) A
 2385  9DDRESS OF THE BRANCH.
 2386   SWITCHES CAF    LOW4            LEAVE THE SWITCH BIT IN  SWBIT  .
 2387            MASK   POLISH
 2388            INDEX  A
 2389            CAF    BIT15           (NUMBER FROM LEFT TO RIGHT.)
 2390  2         TS     SWBIT
 2391            CAF    BIT7            LEAVE THE SWITCH NUMBER IN SWWORD.
 2392            EXTEND
 2393            MP     POLISH
 2394  2         TS     SWWORD
 2395            INHINT                 DURING SWITCH CHANGE SO RUPT CAN USE TOO
 2396            INDEX  A               LEAVE THE SWITCH WORD ITSELF IN L.
 2397            CA     STATE
 2398  8         TS     Q               Q WILL BE USED AS A CHANNEL.
 2399            CAF    BIT11
 2400            EXTEND                 DISPATCH SWITCH BIT OPERATION AS IN BITS
 2401            MP     POLISH          7-8 OF POLISH.
 2402            MASK   B3TOB4          GETS 4X2-BIT CODE.
 2403            INDEX  A
 2404  2         TCF    +1
 2405    +1      CA     SWBIT           00 - SET SWITCH IN QUESTION.
 2406            EXTEND
 2407            ROR    Q
 2408  2         TCF    SWSTORE
 2409    +5      CA     SWBIT           01 - INVERT SWITCH.
 2410            EXTEND
 2411            RXOR   Q
 2412  2         TCF    SWSTORE
 2413    +9D     CS     SWBIT           10 - CLEAR.
 2414            MASK   Q
 2415   SWSTORE  INDEX  SWWORD
 2416  8         TS     STATE           NEW SWITCH WORD.
 2417    +13D    RELINT                 11 - NOOP.
 2418            CAF    BIT13
 2419            EXTEND                 DISPATCH SEQUCE CHANGING OR BRANCHING
 2420            MP     POLISH          CODE.
 2421            MASK   B3TOB4
 2422            INDEX  A
 2423  2         TCF    +1              ORIGINALLY STORED IN BITS 5-6.
 2424    +1      CS     Q               00 - BRANCH IF ON.
 2425   TEST     MASK   SWBIT
 2426            CCS    A
 2427  2         TCF    SWSKIP
 2428  2 +5      TCF    SWBRANCH        01 - GO TO.
 2429  2         TCF    SWSKIP          HERE ONLY ON BIT 15.
 2430            TC     CCSHOLE
 2431  2         TC     CCSHOLE
 2432    +9D     CA     Q               10 - BRANCH IF OFF.
 2433  2         TCF    TEST
 2434  2B3TOB4   OCT    14
 2435  2SWSKIP   INCR   LOC
 2436  2SW/      EQUALS SWITCHES
 2437  2 +13D    TCF    DANZIG          11 - NOOP.
L      2SINGLE PRECISION SUBROUTINES
 0001            BLOCK  02
R0002  2SINGLE PRECISION SINE AND COSINE
 0003   SPCOS    AD     HALF            ARGUMENTS SCALED AT PI
 0004   SPSIN    TS     TEMK
 0005            TCF    SPT
 0006            CS     TEMK
 0007   SPT      DOUBLE
 0008            TS     TEMK
 0009            TCF    POLLEY
 0010            XCH    TEMK
 0011            INDEX  TEMK
 0012            AD     LIMITS
 0013            COM
 0014            AD     TEMK
 0015            TS     TEMK
 0016            TCF    POLLEY
 0017            TCF    ARG90
 0018   POLLEY   EXTEND
 0019            MP     TEMK
 0020            TS     SQ
 0021            EXTEND
 0022            MP     C5/2
 0023            AD     C3/2
 0024            EXTEND
 0025            MP     SQ
 0026            AD     C1/2
 0027            EXTEND
 0028            MP     TEMK
 0029            DDOUBL
 0030            TS     TEMK
 0031            TC     Q
 0032   ARG90    INDEX  A
 0033            CS     LIMITS
 0034            TC     Q               RESULT SCALED AT 1
 0035   C1/2     DEC    .7853134
 0036   C3/2     DEC    -.3216146
 0037  8C5/2     DEC    .0363551
R0038   ENTER WITH ARGUMENT IN A, EXIT WITH ROOT IN A.  IF GIVEN A NEGATIVE ARGU
 0039  9MENT, THE RETURN SKIPS WITH CCS RESULT.
R0040   MINUS ZERO RETURNS LIKE PLUS ZERO.
R0041   MAXIMUM ERROR IN ANSWER IS NO GREATER THAN 2 BITS.
R0042  4INTERRUPT PROGRAMS USING SPROOT MUST SAVE AND RESTORE SR.
 0043   SPROOT   TS     SQRARG          ENTER WITH C(A) = Y
 0044            CCS    A
 0045            TCF    POSARG          IF PNZ, CONTINUE
 0046            TC     Q               RETURN WITH 0 FOR +0
 0047            INCR   Q
 0048  2         TC     Q               RETURN WITH 0 FOR -0
 0049   POSARG   EXTEND
 0050            QXCH   ROOTRET         WILL BE CALLING SPROOT1
 0051            AD     63/64+1         B(A) = Y - 1
 0052            OVSK
 0053            TCF    SPROOT2
 0054  2         XCH    SQRARG          ARG JUGGLING
 0055   SPROOT3  TS     SQRARG
 0056            TS     SR              C(A) = Y
 0057            XCH    SR              (LOSE 1 BIT)
 0058            TS     HALFY           HALFY = Y/2
 0059            AD     -1/8            FORM Y/2 - 1/8
 0060            CCS    A               TEST FOR FIRST GUESS
 0061            AD     5/8+1           Y .G. 1/4, X = Y/2 + 1/2
 0062            TC     HIGUESS         +0 IMPOSSIBLE FROM ADDITION
 0063            NOOP                   Y .LE. 1/4, X/2 = Y + 1/16
 0064            CAF    BIT11           1/16
 0065            AD     SQRARG          SQRARG = Y
 0066            DOUBLE                 X FROM X/2
 0067   HIGUESS  TC     SPROOT1
 0068            TC     SPROOT1         ITERATE TWICE
 0069            XCH    ROOTRET         SAVE ANSWER AND GET Q
 0070            CCS    A
 0071            XCH    ROOTRET         NO SHIFT NEEDED
 0072            TC     ROOTBCK
 0073            XCH    ROOTRET         Q NEG, SHIFT RIGHT THREE
 0074            EXTEND
 0075            MP     BIT12           EXP -3
 0076   ROOTBCK  INDEX  ROOTRET         ROOTRET = Q - 1
 0077  2         TC     1               RETURN, C(A) = SQRT(Y)
 0078   SPROOT1  XCH    SR              SR = X/2
 0079            CS     HALFY           NEWTON ITER  X = X/2 + (Y/2 / X/2) / 2
 0080            ZL
 0081            EXTEND
 0082            DV     SR              C(SR) = X/2 DV DOES NOT EDIT
 0083            XCH    SR
 0084            EXTEND
 0085            SU     SR
 0086  2         TC     Q               C(A) = X (NEXT)
 0087   SPROOT2  CS     ROOTRET         SET RETURN Q NEG, AS FLAG
 0088            TS     ROOTRET
 0089            CAF    BIT7            SHIFT FOR SIGNIFCANCE
 0090            EXTEND
 0091            MP     SQRARG
 0092            CA     L               B(A) = 0
 0093  2         TC     SPROOT3
 0094   -1/8     OCTAL  73777
 0095   5/8+1    OCTAL  24001
 0096  463/64+1  OCTAL  37401
L      2EXECUTIVE
 0001            BLOCK  02
R0002  2         TO ENTER A JOB REQUEST REQUIRING NO VAC AREA:
 0003   NOVAC    TS     NEWPRIO         SAVE PRIORITY OF NEW JOB.
 0004            EXTEND
 0005            INDEX  Q               Q WILL BE UNDISTURBED THROUGHOUT.
 0006            DCA    0               2CADR OF JOB ENTERED.
 0007            DXCH   NEWLOC
 0008            CAF    EXECBANK
 0009            XCH    FBANK
 0010            TS     EXECTEM1
 0011  2         TCF    NOVAC2          ENTER EXECUTIVE BANK.
R0012  2         TO ENTER A JOB REQUEST REQUIRING A VAC AREA - E.G., ALL (PARTIA
 0013  9LLY) INTERPRETIVE JOBS.
 0014   FINDVAC  TS     NEWPRIO
 0015            EXTEND
 0016            INDEX  Q
 0017            DCA    0
 0018            DXCH   NEWLOC
 0019            CAF    EXECBANK
 0020            XCH    FBANK
 0021  2         TCF    FINDVAC2        OFF TO EXECUTIVE SWITCHED-BANK.
R00211 2         TO ENTER A FINDVAC WITH THE PRIORITY IN NEWPRIO TO THE 2CADR AR
 00212 9RIVING IN A AND L:
 00213  SPVAC    XCH    Q
 00214           AD     NEG2
 00215           XCH    Q
 00216 2         TCF    FINDVAC +4
R0022  2         TO SUSPEND A BASIC JOB SO A HIGHER PRIORITY JOB MAY BE SERVICED
 0023  9:
 0024   CHANG1   CAF    EXECBANK
 0025            TS     L
 0026            CA     Q
 0027            LXCH   BBANK
 0028    +4      INHINT
 0029  2         TCF    CHANJOB
R0030  2         TO SUSPEND AN INTERPRETIVE JOB:
 0031   CHANG2   CAF    EXECBANK
R00315           ITRACE (4) REFERS TO "CHANG2".
 0032            TS     BBANK
 0033            CS     LOC             NEGATIVE LOC SHOWS JOB = INTERPRETIVE.
 00335           LXCH   BANKSET         BANKSET, NOT BBANK, HAS RIGHT CONTENTS.
 0034            TCF    CHANG1 +4
P0035  2         TO VOLUNTARILY SUSPEND A JOB UNTIL THE COMPLETION OF SOME ANTIC
 0036  9IPATED EVENT (I/O EVENT ETC.):
 0037   JOBSLEEP TS     LOC
 0038            CAF    EXECBANK
 0039            TS     FBANK
 0040  2         TCF    JOBSLP1
R0041  2         TO AWAKEN A JOB PUT TO SLEEP IN THE ABOVE FASHION:
 0042   JOBWAKE  TS     NEWLOC
 0043            CS     TWO             EXIT IS VIA FINDVAC/NOVAC PROCEDURES.
 0044            ADS    Q
 0045            CAF    EXECBANK
 0046            XCH    FBANK
 0047  2         TCF    JOBWAKE2
R0048  2         TO CHANGE THE PRIORITY OF A JOB CURRENTLY UNDER EXECUTION:
 0049   PRIOCHNG INHINT                 NEW PRIORITY ARRIVES IN A. RETURNS TO
 0050            TS     NEWPRIO         CALLER AS SOON AS NEW JOB PRIORITY IS
 0051            CAF    EXECBANK        HIGHEST. PREPARE FOR POSSIBLE BASIC-
 0052            XCH    BBANK           STYLE CHANGE-JOB.
 0053            TS     BANKSET
 0054            CA     Q
 0055  2         TCF    PRIOCH2
R0056  2         TO FREE THE DISPLAY BEFORE ENDOFJOB:
 0057  2EJFREE   TC     FREEDSP
R0058  2         TO REMOVE A JOB FROM EXECUTIVE CONSIDERATIONS:
 0059   ENDOFJOB CAF    EXECBANK
 0060            TS     FBANK
 0061  2         TCF    ENDJOB1
 0062   ENDFIND  CA     EXECTEM1        RETURN TO CALLER AFTER JOB ENTRY
 0063            TS     FBANK           COMPLETE.
 0064            TCF    Q+2
 0066   EXECBANK CADR   FINDVAC2
P0067  2         LOCATE AN AVAILABLE VAC AREA.
 0068            BANK   01
 0069   FINDVAC2 TS     EXECTEM1        (SAVE CALLER'S BANK FIRST.)
 0070            CCS    VAC1USE
 0071            TCF    VACFOUND
 0072            CCS    VAC2USE
 0073            TCF    VACFOUND
 0074            CCS    VAC3USE
 0075            TCF    VACFOUND
 0076            CCS    VAC4USE
 0077            TCF    VACFOUND
 0078            CCS    VAC5USE
 0079            TCF    VACFOUND
 0080            TC     ABORT
 0081  2         OCT    1201            NO VAC AREAS.
 0082   VACFOUND AD     TWO             RESERVE THIS VAC AREA BY STORING A ZERO
 0083            ZL                     IN ITS VAC USE REGISTER AND STORE THE
 0084            INDEX  A               ADDRESS OF THE FIRST WORD OF IT IN THE
 0085            LXCH   0 -1            LOW NINE BITS OF THE PRIORITY WORD.
 0086  2         ADS    NEWPRIO
 0087   NOVAC2   CAF    ZERO            NOVAC ENTERS HERE. FIND A CORE SET.
 0088            TS     LOCCTR
 0089            CAF    NO.CORES        SEVEN SETS OF ELEVEN REGISTERS EACH.
 0090   NOVAC3   TS     EXECTEM2
 0091            INDEX  LOCCTR
 0092            CCS    PRIORITY        EACH PRIORITY REGISTER CONTAINS -0 IF
 0093            TCF    NEXTCORE        THE CORRESPONDING CORE SET IS AVAILABLE.
 0094   NO.CORES DEC    6
 0095            TCF    NEXTCORE        AN ACTIVE JOB HAS A POSITIVE PRIORITY
A0096  8                                BUT A DORMANT JOB'S PRIORITY IS NEGATIVE
 0097   CORFOUND CA     NEWPRIO         SET THE PRIORITY OF THIS JOB IN THE CORE
 0098            INDEX  LOCCTR          SET'S PRIORITY REGISTER AND SET THE
 0099            TS     PRIORITY        JOB'S PUSH-DOWN POINTER AT THE BEGINNING
 0100            MASK   LOW9            OF THE WORK AREA AND OVERFLOW INDICATOR
 0101            INDEX  LOCCTR
 0102  2         TS     PUSHLOC         OFF TO PREPARE FOR INTERPRETIVE PROGRAMS
 0103            CCS    LOCCTR          IF CORE SET ZERO IS BEING LOADED, SET UP
 0104            TCF    SETLOC          OVFIND AND FIXLOC IMMEDIATELY .
 0105            TS     OVFIND
 0106            CA     PUSHLOC
 0107  2         TS     FIXLOC
 0108   SPECTEST CCS    NEWJOB          SEE IF ANY ACTIVE JOBS WAITING (RARE).
 0109            TCF    SETLOC          MUST BE AWAKENED BUT UNCHANGED JOB.
 0110            TC     CCSHOLE
 0111            TC     CCSHOLE
 0112            TS     NEWJOB          +0 SHOWS ACTIVE JOB ALREADY SET.
 0113            DXCH   NEWLOC
 0114            DXCH   LOC
 0115  2         TCF    ENDFIND
 0116   SETLOC   DXCH   NEWLOC          SET UP THE LOCATION REGISTERS FOR THIS
 0117            INDEX  LOCCTR
 0118            DXCH   LOC
 0119            INDEX  NEWJOB          THIS INDEX INSTRUCTION INSURES THAT THE
 0120            CS     PRIORITY        HIGHEST ACTIVE PRIORITY WILL BE COMPARED
 0121            AD     NEWPRIO         WITH THE NEW PRIORITY TO SEE IF NEWJOB
 0122            EXTEND                 SHOULD BE SET TO SIGNAL A SWITCH.
 0123            BZMF   ENDFIND
 0124            CA     LOCCTR          LOCCTR IS LEFT SET AT THIS CORE SET IF
 0125            TS     NEWJOB          THE CALLER WANTS TO LOAD ANY MPAC
 0126  2         TCF    ENDFIND         REGISTERS, ETC.
 0127   NEXTCORE CAF    COREINC
 0128            ADS    LOCCTR
 0129            CCS    EXECTEM2
 0130            TCF    NOVAC3
 0131            TC     ABORT           NO CORE SETS.
 0132            OCT    1202
P0133  2         THE FOLLOWING ROUTINE SWAPS CORE SET 0 WITH THAT WHOSE RELATIVE
 0134  9 ADDRESS IS IN NEWJOB.
 0135    -1      DXCH   LOC
 0136   CHANJOB  INDEX  NEWJOB          LOC ARRIVES IN A AND BBANK IN L.
 0137            DXCH   LOC
 0138  2         DXCH   LOC
 0139            DXCH   MPAC            SWAP MULTI-PURPOSE ACCUMULATOR AREAS.
 0140            INDEX  NEWJOB
 0141            DXCH   MPAC
 0142            DXCH   MPAC
 0143            DXCH   MPAC +2
 0144            INDEX  NEWJOB
 0145            DXCH   MPAC +2
 0146            DXCH   MPAC +2
 0147            DXCH   MPAC +4
 0148            INDEX  NEWJOB
 0149            DXCH   MPAC +4
 0150            DXCH   MPAC +4
 0151            DXCH   MPAC +6
 0152            INDEX  NEWJOB
 0153            DXCH   MPAC +6
 0154  2         DXCH   MPAC +6
 0155            CAF    ZERO
 0156            XCH    OVFIND          MAKE PUSHLOC NEGATIVE IF OVFIND NZ.
 0157            EXTEND
 0158            BZF    +3
 0159            CS     PUSHLOC
 0160  2         TS     PUSHLOC
 0161            DXCH   PUSHLOC
 0162            INDEX  NEWJOB
 0163            DXCH   PUSHLOC
 0164            DXCH   PUSHLOC         SWAPS PUSHLOC AND PRIORITY.
 0165            CAF    LOW9            SET FIXLOC TO BASE OF VAC AREA.
 0166            MASK   PRIORITY
 0167  2         TS     FIXLOC
 0168            CCS    PUSHLOC         SET OVERFLOW INDICATOR ACCORDING TO
 0169            CAF    ZERO
 0170            TCF    ENDPRCHG -1
 0171            CS     PUSHLOC
 0172            TS     PUSHLOC
 0173            CAF    ONE
 0174            XCH    OVFIND
 0175  2         TS     NEWJOB
 0176   ENDPRCHG RELINT
 0177            DXCH   LOC             BASIC JOBS HAVE POSITIVE ADDRESSES, SO
 0178            EXTEND                 DISPATCH WITH A DTCB.
 0179            BZMF   +2              IF INTERPRETIVE, SET UP EBANK, ETC.
 0180  8         DTCB
 0181            COM                    EPILOGUE TO JOB CHANGE FOR INTERPRETIVE
 0182            AD     ONE
 0183            TS     LOC             RESUME.
 0186  2         TCF    INTRSM
R0187  2         COMPLETE JOBSLEEP PREPARATIONS.
 0188   JOBSLP1  INHINT
 0189            CS     PRIORITY        NNZ PRIORITY SHOWS JOB ASLEEP.
 0190            TS     PRIORITY
 0191            CAF    LOW7
 0192            MASK   BBANK
 0193            TS     BANKSET
 0194            CS     ZERO
 0195   JOBSLP2  TS     BUF +1          HOLDS - HIGHEST PRIORITY.
 0196            TCF    EJSCAN          SCAN FOR HIGHEST PRIORITY ALA ENDOFJOB.
P0197            TO WAKE UP A JOB, EACH CORE SET IS FOUND TO LOCATE ALL JOBS WHI
 0198  9CH ARE ASLEEP. IF THE FCADR IN THE
R0199   LOC REGISTER OF ANY SUCH JOB MATCHES THAT SUPPLIED BY THE CALLER, THAT J
 0200  9OB IS AWAKENED. IF NO JOB IS FOUND,
R0201  2LOCCTR IS SET TO -1 AND NO FURTHER ACTION TAKES PLACE.
 0202   JOBWAKE2 TS     EXECTEM1
 0203            CAF    ZERO            BEGIN CORE SET SCAN.
 0204            TS     LOCCTR
 0205            CAF    NO.CORES
 0206   JOBWAKE4 TS     EXECTEM2
 0207            INDEX  LOCCTR
 0208            CCS    PRIORITY
 0209            TCF    JOBWAKE3        ACTIVE JOB - CHECK NEXT CORE SET.
 0210   COREINC  DEC    12              12 REGISTERS PER CORE SET.
 0211  2         TCF    WAKETEST        SLEEPING JOB - SEE IF CADR MATCHES.
 0212   JOBWAKE3 CAF    COREINC
 0213            ADS    LOCCTR
 0214            CCS    EXECTEM2
 0215            TCF    JOBWAKE4
 0216            CS     ONE             EXIT IF SLEEPING JOB NOT FOUND.
 0217            TS     LOCCTR
 0218  2         TCF    ENDFIND
 0219   WAKETEST CS     NEWLOC
 0220            INDEX  LOCCTR
 0221            AD     LOC
 0222            EXTEND
 0223            BZF    +2              IF MATCH.
 0224  2         TCF    JOBWAKE3        EXAMINE NEXT CORE SET IF NO MATCH.
 0225            INDEX  LOCCTR          RE-COMPLEMENT PRIORITY TO SHOW JOB AWAKE
 0226            CS     PRIORITY
 0227            TS     NEWPRIO
 0228            INDEX  LOCCTR
 0229  2         TS     PRIORITY
 0230            CS     FBANKMSK        MAKE UP THE 2CADR OF THE WAKE ADDRESS
 0231            MASK   NEWLOC          USING THE CADR IN NEWLOC AND THE EBANK
 0232            AD     2K              HALF OF BBANK SAVED IN BANKSET.
 0233            XCH    NEWLOC
 0234            MASK   FBANKMSK
 0235            INDEX  LOCCTR
 0236            AD     BANKSET
 0237  2         TS     NEWLOC +1
 0238            CCS    LOCCTR          SPECIAL TREATMENT IF THIS JOB WAS
 0239            TCF    SETLOC          ALREADY IN THE RUN (0) POSITION.
 0240            TCF    SPECTEST
P0241  2         PRIORITY CHANGE. CHANGE THE CONTENTS OF PRIORITY AND SCAN FOR T
 0242  9HE JOB OF HIGHEST PRIORITY.
 0243   PRIOCH2  TS     LOC
 0244            CAF    ZERO            SET FLAG TO TELL ENDJOB SCANNER IF THIS
 0245            TS     BUF             JOB IS STILL HIGHEST PRIORITY.
 0246            CAF    LOW9
 0247            MASK   PRIORITY
 0248            AD     NEWPRIO
 0249            TS     PRIORITY
 0250            COM
 0251            TCF    JOBSLP2         AND TO EJSCAN.
P0252  2         RELEASE THIS CORE SET AND VAC AREA AND SCAN FOR THE JOB OF HIGH
 0253  9EST ACTIVE PRIORITY.
 0254   ENDJOB1  INHINT
 0255            CS     ZERO
 0256            TS     BUF +1
 0257            XCH    PRIORITY
 0258            MASK   LOW9
 0259            CCS    A
 0260            INDEX  A
 0261  2         TS     0
 0262   EJSCAN   CCS    PRIORITY +12D
 0263            TC     EJ1
 0264            TC     CCSHOLE
 0265  2         TCF    +1
 0266            CCS    PRIORITY +24D   EXAMINE EACH PRIORITY REGISTER TO FIND
 0267            TC     EJ1             THE JOB OF HIGHEST ACTIVE PRIORITY.
 0268            TC     CCSHOLE
 0269  2         TCF    +1
 0270            CCS    PRIORITY +36D
 0271            TC     EJ1
 0272   -CCSPR  -CCS    PRIORITY
 0273  2         TCF    +1
 0274            CCS    PRIORITY +48D
 0275            TC     EJ1
 0276            TC     CCSHOLE
 0277  2         TCF    +1
 0278            CCS    PRIORITY +60D
 0279            TC     EJ1
 0280            TC     CCSHOLE
 0281  2         TCF    +1
 0282            CCS    PRIORITY +72D
 0283            TC     EJ1
 0284            TC     CCSHOLE
 0285            TCF    +1
P0286  2         EVALUATE THE RESULTS OF THE SCAN.
 0287            CCS    BUF +1          SEE IF THERE ARE ANY ACTIVE JOBS WAITING
 0288            TC     CCSHOLE
 0289  2         TC     CCSHOLE
 0290            TCF    +2
 0291            TCF    DUMMYJOB
 0292            CCS    BUF             BUF IS ZERO IF THIS IS A PRIOCHNG AND
 0293            TCF    +2              CHANGED PRIORITY IS STILL HIGHEST.
 0294  2         TCF    ENDPRCHG
 0295            INDEX  A               OTHERWISE, SET NEWJOB TO THE RELATIVE
 0296            CAF    0 -1            ADDRESS OF THE NEW JOB'S CORE SET.
 0297            AD     -CCSPR
 0298            TS     NEWJOB
 0299  2         TCF    CHANJOB -1
 0300   EJ1      TS     BUF +2
 0301            AD     BUF +1          - OLD HIGH PRIORITY.
 0302            CCS    A
 0303            CS     BUF +2
 0304            TCF    EJ2             NEW HIGH PRIORITY.
 0305            NOOP
 0306            INDEX  Q
 0307  2         TC     2               PROCEED WITH SEARCH.
 0308   EJ2      TS     BUF +1
 0309            EXTEND
 0310            QXCH   BUF             FOR LOCATING CCS PRIORITY + X INSTR.
 0311            INDEX  BUF
 0312  2         TC     2
P0314            IDLING AND COMPUTER ACTIVITY (GREEN) LIGHT MAINTENANCE. THE IDL
 0315  9ING ROUTINE IS NOT A JOB IN ITSELF,
R0316  2BUT RATHER A SUBROUTINE OF THE EXECUTIVE.
 0317            BLOCK  02
 0318  2         EBANK= SELFRET         SELF-CHECK STORAGE IN EBANK.
 0319   DUMMYJOB CS     ZERO            SET NEWJOB TO -0 FOR IDLING.
 0320            TS     NEWJOB
 0321            RELINT
 0322            CS     TWO             TURN OFF THE ACTIVITY LIGHT.
 0323            EXTEND
 0324            WAND   DSALMOUT
 0325  2         TCF    CHECKNJ +2
 0326   CHECKNJ  EXTEND                 SPECIAL NEWJOB TEST FOR SELF-CHECK,
 0327            QXCH   SELFRET         WHICH RUNS UNDER EXECUTIVE CONTROL,
 0328    +2      CCS    NEWJOB          BUT DOES NOT HAVE A JOBS CORE REGISTERS.
 0329            TCF    NUCHANGE        NEW JOB REQUIRING A CHANGE JOB.
 0330            CAF    TWO             NEW JOB ALREADY IN POSITION FOR
 0331  2         TCF    NUDIRECT        EXECUTION.
 0332   ADVAN    CAF    SELFBANK        (SIMULATOR ADVAN IF NEWJOB = 77777).
 0333            TS     BBANK
 0334  2         TC     SELFRET
 0335   NUDIRECT EXTEND                 TURN THE GREEN LIGHT BACK ON.
 0336            WOR    DSALMOUT
 0337            DXCH   LOC             JOBS STARTED IN THIS FASHION MUST BE
 0338  2         DTCB                   BASIC.
 0339   NUCHANGE CAF    TWO
 0340            EXTEND
 0341            WOR    DSALMOUT
 0342            CAF    EXECBANK        SWAP CORE SETS.
 0343            TS     FBANK
 0344            INHINT                 CHANGE JOBS
 0345  2         TCF    CHANJOB -1
 03455           EBANK= SELFRET
 0346   SELFBANK BBCON  SELFCHK
P0347  2         PRIORITY CONSTANTS (NOTE IN FIXED-FIXED).
 0348   PRIO1    EQUALS BIT10
 0349   PRIO2    EQUALS BIT11
 0350   PRIO3    OCT    03000
 0351   PRIO4    EQUALS BIT12
 0352   PRIO5    OCT    05000
 0353   PRIO6    OCT    06000
 0354   PRIO7    OCT    07000
 0355   PRIO10   EQUALS BIT13
 0356   PRIO11   OCT    11000
 0357   PRIO12   =      BNKJUP+4
 0358   PRIO13   OCT    13000
 0359   PRIO14   OCT    14000
 0360   PRIO15   OCT    15000
 0361   PRIO16   OCT    16000
 0362   PRIO17   OCT    17000
 0363   PRIO20   EQUALS BIT14
 0364   PRIO21   OCT    21000
 0365   PRIO22   OCT    22000
 0366   PRIO23   OCT    23000
 0367   PRIO24   =      NUFAZ+10
 0368   PRIO25   OCT    25000
 0369   PRIO26   OCT    26000
 0370   PRIO27   OCT    27000
 0371   PRIO30   =      BNKCAL+2
 0372   PRIO31   OCT    31000
 0373   PRIO32   OCT    32000
 0374   PRIO33   OCT    33000
 0375   PRIO34   OCT    34000
 0376   PRIO35   OCT    35000
 0377   PRIO36   OCT    36000
 0378  2PRIO37   OCT    37000
R0379  2EBANK CONSTANTS IN FIXED-FIXED
 0380   EBANK3   EQUALS OCT1400
 0381   EBANK4   EQUALS BIT11
 0382   EBANK5   OCTAL  02400
 0383   EBANK6   EQUALS PRIO3
 0384   EBANK7   OCTAL  03400
L      2WAITLIST
R000001 PROGRAM DESCRIPTION
 0000029                DATE - 10 OCTOBER 1966
R000003 MOD NO - 2
 0000049                LOG SECTION - WAITLIST
R000005 MOD BY - MILLER   (DTMAX INCREASED TO 162.5 SEC)
 0000069                ASSEMBLY SUNBURST REV 5
R0000072
R000008 FUNCTIONAL DESCRIPTION-
R000009         PART OF A SECTION OF PROGRAMS,-WAITLIST, TASKOVER, T3RUPT, USED
 0000109 TO CALL A PROGRAM, (CALLED A TASK),
R000011    WHICH IS TO BEGIN IN C(A) CENTISECONDS.  WAITLIST UPDATES TIME3, LST1
 0000129 AND LST2. THE MEANING OF THESE LISTS
R0000132   FOLLOW.
R000014                 C(TIME3)  = 16384 -(T1-T) CENTISECONDS, (T=PRESENT TIME,
 0000159 T1-TIME FOR TASK1)
R0000162
R000017                              C(LST1)    = -(T2-T1)+1
R000018                              C(LST1 +1) = -(T3-T2)+1
R000019                              C(LST1 +2) = -(T4-T3)+1
R000020                                         .
R000021                                         .
R000022                              C(LST1 +6) = -(T8-T7)+1
R0000232                             C(LST1 +7) = -(T9-T8)+1
R000024                              C(LST2)    = 2CADR OF TASK1
R000025                              C(LST2 +2) = 2CADR OF TASK2
R000026                                         .
R000027                                         .
R000028                              C(LST2 +14)= 2CADR OF TASK8
R0000292                             C(LST2 +16)= 2CADR OF TASK9
R000030 WARNINGS-
R000031 --------
R000032              1) 1 <= C(A) <= 16250D (1 CENTISECOND TO 162.5 SEC)
R000033              2) 9 TASKS MAXIMUM
R000034              3) TASKS CALLED UNDER INTERRUPT INHIBITED
R0000352             4) TASKS END BY TC TASKOVER
R0000362CALLING SEQUENCE-
R000037              L-2    CAF    DELTAT   (TIME IN CENTISECONDS TO TASK START)
R000038              L-1    INHINT
R000039              L      TC     WAITLIST
R000040              L+1    2CADR  DESIRED TASK
R000041              L+2    (MINOR OF 2CADR)
R0000422             L+3    RELINT          (RETURNS HERE)
R0000432NORMAL EXIT MODES-
R0000442             AT L+3 OF CALLING SEQUENCE
R0000452ALARM OR ABORT EXIT MODES-
R000046              TC     ABORT
R0000472             OCT    1203   (WAITLIST OVERFLOW - TOO MANY TASKS)
R0000482ERASABLE INITIALIZATION REQUIRED-
R000049              ACCOMPLISHED BY FRESH START,--LST2,..., LST2 +16 =ENDTASK
R0000502                                           LST1,..., LST1 +7  =NEG1/2
R0000512OUTPUT--
R000052              LST1 AND LST2 UPDATED WITH NEW TASK AND ASSOCIATED TIME.
R0000532DEBRIS-
R000054              CENTRALS- A,Q,L
R000055              OTHER   - WAITEXIT, WAITADR, WAITTEMP, WAITBANK
R0000562DETAILED ANALYSIS OF TIMING-
R000057         CONTROL WILL NOT BE RETURNED TO THE SPECIFIED ADDRESS (2CADR)
 0000589IN EXACTLY DELTA T CENTISECONDS.
R0000592   THE APPROXIMATE TIME MAY BE CALCULATED AS FOLLOWS
R000060              LET TO = THE TIME OF THE TC WAITLIST
R000061              LET TS = TO +147U + COUNTER INCREMENTS (SET UP TIME)
R000062              LET X  = TS -(100TS)/100  (VARIANCE FROM COUNTERS)
R000063              LET Y  = LENGTH OF TIME OF INHIBIT INTERRUPT AFTER T3RUPT
R000064              LET Z  = LENGTH OF TIME TO PROCESS TASKS WHICH ARE DUE THIS
 0000659 T3RUPT BUT DISPATCHED EARLIER.
R000066    (Z=0, USUALLY)
R000067              LET DELTD = THE ACTUAL TIME TAKEN TO GIVE CONTROL TO 2CADR
R000068           THEN   DELTD = TS+DELTA T -X +Y +Z +1.05MS* +COUNTERS*
R000069    *-THE TIME TAKEN BY WAITLIST ITSELF AND THE COUNTER TICKING DURING TH
 0000709IS WAITLIST TIME.
R0000712
R000072         IN SHORT, THE ACTUAL TIME TO RETURN CONTROL TO A 2CADR IS AUGMEN
 0000739TED BY THE TIME TO SET UP THE TASK:S
R000074    INTERRUPT, ALL COUNTERS TICKING, THE T3RUPT PROCESSING TIME, THE WAIT
 0000759LIST PROCESSING TIME AND THE POSSIBILITY
R0000763   OF OTHER TASKS INHIBITING THE INTERRUPT.
 0002            BLOCK  02
 0003  2         EBANK= LST1            TASK  LISTS IN SWITCHED E BANK.
 0004   WAITLIST XCH    Q                SAVE DELTA T IN Q AND RETURN IN
 0005            TS     WAITEXIT        WAITEXIT.
 0006            EXTEND
 0007            INDEX  A
 0008            DCA    0               PICK UP 2CADR OF TASK.
 0009            TS     WAITADR         BBCON WILL REMAIN IN L.
 0010   DLY2     CAF    WAITBB          ENTRY FROM FIXDELAY AND VARDELAY.
 0011            XCH    BBANK
 0012  2         TCF    WAIT2
R0013  2         RETURN TO CALLER AFTER TASK INSERTION:
 0014   LVWTLIST CA     WAITBANK
 0015            TS     BBANK
 0016            INDEX  WAITEXIT
 0017  2         TC     2
 00175           EBANK= LST1
 0018  2WAITBB   BBCON  WAIT2
R0019  2         RETURN TO CALLER +2 AFTER WAITING DT SPECIFIED AT CALLER +1.
 0020   FIXDELAY INDEX  Q               BOTH ROUTINES MUST BE CALLED UNDER
 0021            CAF    0               WAITLIST CONTROL AND TERMINATE THE TASK
 0022  2         INCR   Q               IN WHICH THEY WERE CALLED.
R0023  2         RETURN TO CALLER +1 AFTER WAITING THE DT AS ARRIVING IN A.
 0024   VARDELAY XCH    Q               DT TO Q. TASK ADRES TO WAITADR.
 0025            TS     WAITADR
 0026            CA     BBANK           BBANK IS SAVED DURING DELAY.
 0027            TS     L
 0028            CAF    DELAYEX
 0029            TS     WAITEXIT        GO TO TASKOVER AFTER TASK ENTRY.
 0030  2         TCF    DLY2
 0031  8DELAYEX  TCF    TASKOVER -2     RETURNS TO TASKOVER
R0032  2ENDTASK MUST BE ENTERED IN FIXED-FIXED SO IT IS DISTINGUISHABLE BY ITS A
 0033  9DRES ALONE.
 00335           EBANK= LST1
 0034   ENDTASK -2CADR  SVCT3
 0035   SVCT3    CCS    FLAGWRD2        DRIFT FLAG
 00351           TCF    TASKOVER
 00352           TCF    TASKOVER
 00353 2         TCF    +1
 00354           CAF    PRIO35          COMPENSATE FOR NBD COEFFICIENTS ONLY
 00355           TC     NOVAC               ENABLE EVERY 81.93 SECONDS
 003555          EBANK= NBDX
 00356           2CADR  NBDONLY
 00357           TCF    TASKOVER
P0036  2         BEGIN TASK INSERTION.
 0037            BANK   01
 0038   WAIT2    TS     WAITBANK        BBANK OF CALLING PROGRAM.
 0039            CS     TIME3
 0040            AD     BIT8            BIT 8 = OCT 200
 0041            CCS    A               TEST 200 - C(TIME3).  IF POSITIVE,
A0042   IT MEANS THAT TIME3 OVERFLOW HAS OCCURRED PRIOR TO CS  TIME3 AND THAT
A0043   C(TIME3) = T - T1, INSTEAD OF 1.0 - (T1 - T).  THE FOLLOWING FOUR
A0044  2ORDERS SET C(A) = TD - T1 + 1 IN EITHER CASE.
 0045            AD     OCT40001        OVERFLOW HAS OCCURRED.  SET C(A) =
 0046  2         CS     A               T - T1 + 1.0 - 201
R0047  2NORMAL CASE (C(A) NNZ) YIELDS SAME C(A):  -( -(1.0-(T1-T)) + 200) - 1
 0048            AD     OCT40201
 0049  2         AD     Q               RESULT = TD - T1 + 1.
 0050  2         CCS    A               TEST TD - T1 + 1
 0051            AD     LST1            IF TD - T1 POS, GO TO WTLST5 WITH
 0052  2         TCF    WTLST5          C(A) = (TD - T1) + C(LST1) = TD-T2+1
 0053            NOOP
 0054  2         CS     Q
R0055   NOTE THAT THIS PROGRAM SECTION IS NEVER ENTERED WHEN T-T1 G/E -1,
R0056   SINCE TD-T1+1 = (TD-T) + (T-T1+1), AND DELTA T = TD-T G/E +1 .  (G/E
R0057   SYMBOL MEANS GREATER THAN OR EQUAL TO).  THUS THERE NEED BE NO CON-
R0058  2CERN OVER A PREVIOUS OR IMMINENT OVERFLOW OF TIME3 HERE.
 0059            AD     POS1/2          WHEN TD IS NEXT, FORM QUANTITY
 0060            AD     POS1/2            1.0 - DELTA T = 1.0 - (TD - T)
 0061            XCH    TIME3
 0062            AD     NEGMAX
 0063            AD     Q               1.0 - DELTAT T NOW COMPLETE.
 0064            EXTEND                 ZERO INDEX Q.
 0065  8         QXCH   7               (ZQ)
 0066   WTLST4   XCH    LST1
 0067            XCH    LST1 +1
 0068            XCH    LST1 +2
 0069            XCH    LST1 +3
 0070            XCH    LST1 +4
 0071            XCH    LST1 +5
 0072            XCH    LST1 +6
 0073  2         XCH    LST1 +7
 0074            CA     WAITADR         (MINOR PART OF TASK CADR HAS BEEN IN L.)
 0075            INDEX  Q
 0076  2         TCF    +1
 0077            DXCH   LST2
 0078            DXCH   LST2 +2
 0079            DXCH   LST2 +4
 0080            DXCH   LST2 +6
 0081            DXCH   LST2 +8D
 0082            DXCH   LST2 +10D       AT END, CHECK THAT C(LST2+10) IS STD
 0083            DXCH   LST2 +12D
 0084            DXCH   LST2 +14D
 0085            DXCH   LST2 +16D
 0086            AD     ENDTASK           END ITEM, AS CHECK FOR EXCEEDING
A0087                                     THE LENGTH OF THE LIST.
 0088            EXTEND                 DUMMY TASK ADRES SHOULD BE IN FIXED-
 0089            BZF    LVWTLIST        FIXED SO ITS ADRES ALONE DISTINGUISHES
 0090  8         TCF    WTABORT         IT.
 0091   WTLST5   CCS    A               TEST  TD - T2 + 1
 0092            AD     LST1 +1
 0093            TCF    +4
 0094            AD     ONE
 0095            TC     WTLST2
 0096  2         OCT    1
 0097   +4       CCS    A               TEST  TD - T3 + 1
 0098            AD     LST1 +2
 0099            TCF    +4
 0100            AD     ONE
 0101            TC     WTLST2
 0102  2         OCT    2
 0103   +4       CCS    A               TEST  TD - T4 + 1
 0104            AD     LST1 +3
 0105            TCF    +4
 0106            AD     ONE
 0107            TC     WTLST2
 0108  2         OCT    3
 0109   +4       CCS    A               TEST  TD - T5 + 1
 0110            AD     LST1 +4
 0111            TCF    +4
 0112            AD     ONE
 0113            TC     WTLST2
 0114  2         OCT    4
 0115   +4       CCS    A               TEST  TD - T6 + 1
 0116            AD     LST1 +5
 0117            TCF    +4
 0118            AD     ONE
 0119            TC     WTLST2
 0120  2         OCT    5
 0121    +4      CCS    A               TEST TD - T7 + 1
 0122            AD     LST1 +6
 0123            TCF    +4
 0124            AD     ONE
 0125            TC     WTLST2
 0126  8         OCT    6
 0127    +4      CCS    A
 0128            AD     LST1 +7
 0129            TCF    +4
 0130            AD     ONE
 0131            TC     WTLST2
 0132  2         OCT    7
 0133    +4      CCS    A
 0134   WTABORT  TC     ABORT           NO ROOM IN THE INN.
 0135  2         OCT    1203
 0136            AD     ONE
 0137            TC     WTLST2
 0138  2         OCT    10
 0139   OCT40201 OCT    40201
P0140   THE ENTRY TO WTLST2 JUST PRECEDING OCT  N  IS FOR T  LE TD LE T   -1.
R0141  2                                                   N           N+1
R0142   (LE MEANS LESS THAN OR EQUAL TO).  AT ENTRY, C(A) = -(TD - T   + 1)
R0143  2                                                            N+1
R0144   THE LST1 ENTRY -(T   - T +1) IS TO BE REPLACED BY -(TD - T + 1), AND
R0145  2                  N+1   N                                 N
R0146   THE ENTRY -(T   - TD + 1) IS TO BE INSERTED IMMEDIATELY FOLLOWING.
R0147  2             N+1
 0148   WTLST2   TS     WAITTEMP            C(A) = -(TD - T   + 1)
 0149            INDEX  Q
 0150            CAF    0
 0151  2         TS     Q               INDEX VALUE INTO Q.
 0152            CAF    ONE
 0153            AD     WAITTEMP
 0154            INDEX  Q               C(A) = -(TD - T ) + 1.
 0155  2         ADS    LST1 -1                        N
 0156            CS     WAITTEMP
 0157            INDEX  Q
 0158  2         TCF    WTLST4
R0159  2C(TIME3) = 1.0 - (T1 - T)
R0160   C(LST1  ) = - (T2 - T1) + 1
R0161   C(LST1+1) = - (T3 - T2) + 1
R0162   C(LST1+2) = - (T4 - T3) + 1
R0163   C(LST1+3) = - (T5 - T4) + 1
R0164  2C(LST1+4) = - (T6 - T5) + 1
R0165   C(LST2   ) = 2CADR  TASK1
R0166   C(LST2+2 ) = 2CADR  TASK2
R0167   C(LST2+4 ) = 2CADR  TASK3
R0168   C(LST2+6 ) = 2CADR  TASK4
R0169   C(LST2+8 ) = 2CADR  TASK5
R0170   C(LST2+10) = 2CADR  TASK6
P0171  2         ENTERS HERE ON T3 RUPT TO DISPATCH WAITLISTED TASK.
 0172   T3RUPT   TS     BANKRUPT
 0173            EXTEND
 0174  2         QXCH   QRUPT
 0175   T3RUPT2  CAF    NEG1/2          DISPATCH WAITLIST TASK.
 0176            XCH    LST1 +7
 0177            XCH    LST1 +6
 0178            XCH    LST1 +5
 0179            XCH    LST1 +4         1.  MOVE UP LST1 CONTENTS, ENTERING
 0180            XCH    LST1 +3             A VALUE OF 1/2 +1 AT THE BOTTOM
 0181            XCH    LST1 +2             FOR T6-T5, CORRESPONDING TO THE
 0182            XCH    LST1 +1             INTERVAL 81.91 SEC FOR ENDTASK.
 0183            XCH    LST1
 0184            AD     POSMAX          2. SET T3 = 1.0 - T2 -T USING LIST 1.
 0185            ADS    TIME3           SO T3 WONT TICK DURING UPDATE.
 0186            TS     RUPTAGN
 0187            CS     ZERO
 0188  2         TS     RUPTAGN         SETS RUPTAGN TO +1 ON OVERFLOW.
 0189            EXTEND                 DISPATCH TASK.
 0190            DCS    ENDTASK
 0191            DXCH   LST2 +16D
 0192            DXCH   LST2 +14D
 0193            DXCH   LST2 +12D
 0194            DXCH   LST2 +10D
 0195            DXCH   LST2 +8D
 0196            DXCH   LST2 +6
 0197            DXCH   LST2 +4
 0198            DXCH   LST2 +2
 0199  2         DXCH   LST2
 0200  2         DTCB
P0202  2         RETURN, AFTER EXECUTION OF T3 OVERFLOW TASK:
 0203            BLOCK  02
 0204   TASKOVER CCS    RUPTAGN         IF +1 RETURN TO T3RUPT, IF -0 RESUME.
 0205            CAF    WAITBB
 0206            TS     BBANK
 0207  2         TCF    T3RUPT2         DISPATCH NEXT TASK IF IT WAS DUE.
 0208   RESUME   EXTEND
 0209            QXCH   QRUPT
 0210   NOQRSM   CA     BANKRUPT
 0211            XCH    BBANK
 0212   NOQBRSM  DXCH   ARUPT
 0213  2         RESUME
P1000  2LONGCALL
R1001   LONGCALL IS CALLED WITH THE DELTA TIME ARRIVING IN A,L SCALED AS TIME2,T
 1002  9IME1 WITH THE 2CADR OF THE TASK
R1003   IMMEDIATELY FOLLOWING THE TC LONGCALL.  FOR EXAMPLE, IT MIGHT BE DONE AS
 1004  9 FOLLOWS WHERE TIMELOC IS THE NAME OF
R1005   A DP REGISTER CONTAINING A DELTA TIME AND WHERE TASKTODO IS THE NAME OF
 1006  9THE LOCATION AT WHICH LONGCALL IS TO
R1007  2START
A1008            EXTEND
A1009            DCA    TIMELOC
A1010            TC     LONGCALL
A1011  2         2CADR  TASKTODO
R1012  2*** THE FOLLOWING IS TO BE IN FIXED-FIXED AND UNSWITCHED ERRASIBLE ***
 1013            BLOCK  02
 1014            EBANK= LST1
 1015  2LONGCALL DXCH   LONGTIME        OBTAIN THE DELTA TIME
 1016            EXTEND                 OBTAIN THE 2CADR
 1017            NDX    Q
 1018            DCA    0
 1019  2         DXCH   LONGCADR
 1020            EXTEND                 NOW GO TO THE APPROPRIATE SWITCHED BANK
 1021            DCA    LGCL2CDR        FOR THE REST OF LONGCALL
 1022  2         DTCB
 10225           EBANK= LST1
 1023   LGCL2CDR 2CADR  LNGCALL2
R1024  2*** THE FOLLOWING MAY BE IN A SWITCHED BANK, INCLUDING ITS ERASABLE ***
 1025            BANK   01
 1026   LNGCALL2 LXCH   LONGEXIT +1     SAVE THE CORRECT BB FOR RETURN
 1027            CA     TWO             OBTAIN THE RETURN ADDRESS
 1028            ADS    Q
 1029  2         TS     LONGEXIT
R10291           *** WAITLIST TASK LONGCYCL ***
 1030   LONGCYCL EXTEND                 CAN WE SUCCESFULLY TAKE ABOUT 1.25
 1031            DCS    DPBIT14         MINUTES OFF OF LONGTIME
 1032  2         DAS    LONGTIME
 1033            CCS    LONGTIME +1     THE REASONIBG BEHIND THIS PART IS
 1034            TCF    MUCHTIME        INVOLVED, TAKING INTO ACCOUNT THAT THE
A1035                                   WORDS MAY NOT BE SIGNED CORRECTED (DP
A1036                                   BASIC INSTRUCTIONS
A1037                                   DO NOT SIGN CORRECT) AND THAT WE SUBTRAC
A1038                                   TED BIT14 (1 OVER HALF THE POS. VALUE
A1039                                   REPRESENTIBLE IN SINGLE WORD)
 1040            NOOP                   CAN:T GET HERE    **********
 1041            TCF    +1
 1042            CCS    LONGTIME
 1043            TCF    MUCHTIME
 1044   DPBIT14  OCT    00000
 1045  2         OCT    20000
A1046                                   LONGCALL
 1047   LASTTIME CA     BIT14           GET BACK THE CORRECT DELTA TFOR WAITLIST
 1048            ADS    LONGTIME +1
 1049            TC     WAITLIST
 10495           EBANK= LST1
 1050            2CADR  GETCADR         THE ENTRY TO OUR LONGCADR
 1051   LONGRTRN CA     TSKOVCDR        SET IT UP SO THAT ONLY THE FIRST EXIT IS
 1052            DXCH   LONGEXIT        TO THE CALLER OF LONGCALL
 1053  2         DTCB                   THE REST ARE TO TASKOVER
 1054   MUCHTIME CA     BIT14           WE HAVE OVER OUR ABOUT 1.25 MINUTES
 1055            TC     WAITLIST        SO SET UP FOR ANOTHER CYCLE THROUGH HERE
 10555           EBANK= LST1
 1056            2CADR  LONGCYCL
 1057  2         TCF    LONGRTRN        NOW EXIT PROPERLY
R10571           *** WAITLIST TASK  GETCADR ***
 1058   GETCADR  DXCH   LONGCADR        GET THE LONGCALL THAT WE WISHED TO START
 1059  2         DTCB                   AND TRANSFER CONTROL TO IT
 1062   TSKOVCDR GENADR TASKOVER
L      2AGC BLOCK TWO SELF-CHECK
R000001 PROGRAM DESCRIPTION
 0000029    DATE  14 FEBRUARY 1967
R000003 PROGRAM NAME -  SELF-CHECK
 0000049    LOG SECTION AGC BLOCK TWO SELF-CHECK
R000005 MOD NO -  0
 0000069    ASSEMBLY SUNBURST REV 107
R0000074MOD BY - GAUNTT
R0000082FUNCTIONAL DESCRIPTION
R000009      PROGRAM HAS TWO MAIN PARTS. THE FIRST IS SELF-CHECK WHICH RUNS AS A
 0000109 ZERO PRIORITY JOB WITH NO CORE SET, AS
R000011 PART OF THE BACK-UP IDLE LOOP. THE SECOND IS SHOW-BANKSUM WHICH RUNS AS
 0000129A REGULAR EXECUTIVE JOB WITH ITS OWN
R000013 STARTING VERB.
R000014      THE PURPOSE OF SELF-CHECK IS TO CHECK OUT VARIOUS PARTS OF THE COMP
 0000159UTER AS OUTLINED BELOW IN THE OPTIONS.
R000016      THE PURPOSE OF SHOW-BANKSUM IS TO DISPLAY THE SUM OF EACH BANK , ON
 0000179E AT A TIME.
R000018      A THIRD SECTION, DSKYCHK, LIGHTS UP ALL THE DSKY ELECTROLUMINESCENT
 0000199 ELEMENTS.
R000020      IN ALL THERE ARE 15 POSSIBLE OPTIONS IN THIS BLOCK II VERSION OF SE
 0000219LF-CHECK. MORE DETAIL DESCRIPTION MAY BE
R000022 FOUND IN E-2065 BLOCK II AGC SELF-CHECK AND SHOW BANKSUM BY EDWIN D. SMA
 0000239LLY DECEMBER 1966.
R000024      THE DIFFERENT OPTIONS ARE CONTROLLED BY PUTTING DIFFERENT NUMBERS I
 0000259N THE SMODE REGISTER (NOUN 27). BELOW IS
R000026 A DESCRIPTION OF WHAT PARTS OF THE COMPUTER THAT ARE CHECKED BY THE OPTI
 0000279ONS, AND THE CORRESPONDING NUMBER, IN
R000028 OCTAL, TO LOAD INTO SMODE.
R000029 +-1   ALL PULSES POSSIBLE BY INTERNAL CONTROL OF THE COMPUTER.
R000030 +-2   ALL THE IN-OUT INSTRUCTION PULSES.
R000031 +-3   SPECIAL AND CENTRAL REGISTERS, ALL BIT COMBINATIONS.
R000032 +-4   ERASABLE MEMORY
R000033 +-5   FIXED MEMORY
R000034 +-6,7,10   EVERYTHING IN THE PREVIOUS 5 OPTIONS.
R000035 +-11   TURNS ON THE ELECTROLUMINESCENT DISPLAY IN THE DSKY.
R000036 -0    SAME AS +-10 UNTIL AN ERROR IS DETECTED.
R0000374+0    NO CHECK, PUTS COMPUTER INTO THE BACKUP IDLE LOOP.
R0000382WARNINGS
R000039      SMODE LOADED WITH GREATER THAN OCTAL 11 PUTS COMPUTER INTO THE BACK
 0000409UP IDLE LOOP.
R0000413
R0000422CALLING SEQUENCE
R000043      TO CALL SELF-CHECK KEY IN
R000044           V 21 N 27 E  OPTION NUMBER E
R000045      TO CALL DSKYCHK KEY IN
R000046           V 21 N 27 E +-11 E
R000047      TO CALL SHOW-BANKSUM KEY IN
R000048           V 56 E         DISPLAYS FIRST BANK
R0000494          V 33 E         PROCEED, DISPLAYS NEXT BANK
R0000502EXIT MODES, NORMAL AND ALARM
R000051      SELF-CHECK NORMALLY CONTINUES INDEFINITELY UNLESS THERE IS AN ERROR
 0000529 DETECTED. IF SO + OPTION NUMBERS PUT
R000053 COMPUTER INTO BACKUP IDLE LOOP, - OPTION NUMBERS RESTART THE OPTION.
R000054      THE -0 OPTION PROCEEDS FROM THE LINE FOLLOWING THE LINE WHERE THE E
 0000559RROR WAS DETECTED.
R000056      COMPLETION OF DSKYCHK PUTS THE COMPUTER INTO THE BACKUP IDLE LOOP.
R000057      SHOW-BANKSUM PROCEEDS UNTIL A TERMINATE IS KEYED IN (V 34 E). THE C
 0000589OMPUTER IS PUT INTO THE BACKUP IDLE LOOP
R0000593
R0000602OUTPUT
R000061      SELF-CHECK UPON DETECTING AN ERROR LOADS THE SELF-CHECK ALARM CONST
 0000629ANT (01102) INTO THE FAILREG SET AND
R000063 TRIGGERS THE ALARM. THE ALARM ROUTINE DISPLAYS THE THREE FAILREGS. IF OP
 0000649ERATOR DESIRES FURTHER INFORMATION HE
R000065 MAY KEY IN   V 05 N 31 E    DSKY DISPLAY IN R1 WILL BE ADDRESS +1 OF WHE
 0000669RE THE ERROR WAS DETECTED, IN R2 THE
R000067 BANK NUMBER OF SELF-CHECK (37 OCTAL), AND IN R3 THE TOTAL NUMBER OF ERRO
 0000689RS DETECTED BY SELF-CHECK SINCE THE LAST
R000069 FRESH START.
R000070      DSKYCHK LIGHTS UP THE DSKY DISPLAY ELEMENTS STARTING WITH THE DIGIT
 00007199 IN ALL POSITIONS. EACH DISPLAY LASTS
R000072 5 SECONDS.
R000073      SHOW-BANKSUM STARTING WITH BANK 0 DISPLAYS IN R1 +- THE BANK SUM (S
 0000749HOULD EQUAL THE BANK NUMBER), IN R2 THE
R0000754BANK NUMBER, AND IN R3 THE BUGGER WORD.
R0000762ERASABLE INITIALIZATION REQUIRED
R000077      ACCOMPLISHED BY FRESH START
R0000784          SMODE & ERESTORE SET TO +0
R0000792DEBRIS
R000080      ALL EXITS FROM THE CHECK OF ERASABLE (ERASCHK) RESTORE ORIGINAL CON
 0000819TENTS TO REGISTERS UNDER CHECK.
R000082 EXCEPTION IS A RESTART. RESTART THAT OCCURS DURING ERASCHK DOES A FRESH
 0000839START.
R0000847
 0001            BANK   37
 0002   SBIT1    EQUALS BIT1
 0003   SBIT2    EQUALS BIT2
 0004   SBIT3    EQUALS BIT3
 0005   SBIT4    EQUALS BIT4
 0006   SBIT5    EQUALS BIT5
 0007   SBIT6    EQUALS BIT6
 0008   SBIT7    EQUALS BIT7
 0009   SBIT8    EQUALS BIT8
 0010   SBIT9    EQUALS BIT9
 0011   SBIT10   EQUALS BIT10
 0012   SBIT11   EQUALS BIT11
 0013   SBIT12   EQUALS BIT12
 0014   SBIT13   EQUALS BIT13
 0015   SBIT14   EQUALS BIT14
 0016  2SBIT15   EQUALS BIT15
 0017   S+ZERO   EQUALS ZERO
 0018   S+1      EQUALS BIT1
 0019   S+2      EQUALS BIT2
 0020   S+3      EQUALS THREE
 0021   S+4      EQUALS FOUR
 0022   S+5      EQUALS FIVE
 0023   S+6      EQUALS SIX
 0024   S+7      EQUALS SEVEN
 0025   S8BITS   EQUALS LOW8            00377
 0026   CNTRCON  OCTAL  00050           USED IN CNTRCHK
 0027   ERASCON1 OCTAL  00061           USED IN ERASCHK
 0028   ERASCON2 OCTAL  01374           USED IN ERASCHK
 0029   ERASCON6 OCTAL  01400           USED IN ERASCHK
 0030   ERASCON3 OCTAL  01461           USED IN ERASCHK
 0031   ERASCON4 OCTAL  01774           USED IN ERASCHK
 0032   S10BITS  EQUALS LOW10           01777, USED IN ERASCHK
 0033   SBNK03   EQUALS PRIO6           06000, USED IN ROPECHK
 0034   SIXTY    OCTAL  00060
 0035   SUPRCON  OCTAL  60017           USED IN ROPECHK
 0036   S13BITS  OCTAL  17777
 0037   CONC+S1  OCTAL  25252           USED IN CYCLSHFT
 0038   OVCON    OCTAL  37737           USED IN RUPTCHK
 0039   DVCON    OCTAL  37776
 0040   CONC+S2  OCTAL  52400           USED IN CYCLSHFT
 0041   ERASCON5 OCTAL  76777
 0042   S-7      OCTAL  77770
 0043   S-4      EQUALS NEG4
 0044   S-3      EQUALS NEG3
 0045   S-2      EQUALS NEG2
 0046   S-1      EQUALS NEGONE
 0047  2S-ZERO   EQUALS NEG0
 0048            EBANK= LST1
 0049   ADRS1    ADRES  SKEEP1
 0050   SRADRS   ADRES  SR
 0051   SELFADRS ADRES  SELFCHK         SELFCHK RETURN ADDRESS. SHOULD BE PUT
A0052                                   IN SELFRET WHEN GOING FROM SELFCHK TO
A0053                                   SHOWSUM AND PUT IN SKEEP1 WHEN GOING
A0054  2                                FROM SHOWSUM TO SELF-CHECK.
 00541  PRERRORS CA     ERESTORE        IS IT NECESSARY TO RESTORE ERASABLE
 00542           EXTEND
 00543           BZF    ERRORS          NO
 00544           EXTEND
 00545           DCA    SKEEP5
 00546           INDEX  SKEEP7
 00547           DXCH   0000            RESTORE THE TWO ERASABLE REGISTERS
 00548           CA     S+ZERO
 00549           TS     ERESTORE
 00550  ERRORS   INHINT
 00555           CA     Q
 00560           TS     SFAIL           SAVE Q FOR FAILURE LOCATION
 00565           TS     ALMCADR         FOR DISPLAY WITH BBANK AND ERCOUNT
 0057            INCR   ERCOUNT         KEEP TRACK OF NUMBER OF MALFUNCTIONS.
 0058   TCALARM2 TC     ALARM2
 0059            OCT    01102           SELF-CHECK MALFUNCTION INDICATOR
 0060            CCS    SMODE
 0061            CA     S+ZERO
 0062            TS     SMODE
 0063            TC     SELFCHK         GO TO IDLE LOOP
 0064  2         TC     SFAIL           CONTINUE WITH SELF-CHECK
 0065   +0CHK    CS     A
 0066   -0CHK    CCS    A
 0067            TCF    ERRORS
 0068            TCF    ERRORS
 0069            TCF    ERRORS
 0070  2         TC     Q
 0071   +1CHK    CS     A
 0072   -1CHK    CCS    A
 0073            TCF    PRERRORS
 0074            TCF    PRERRORS
 0075            CCS    A
 0076            TCF    PRERRORS
 0077  2         TC     Q
 0078   SMODECHK EXTEND
 0079            QXCH   SKEEP1
 0080            TC     CHECKNJ         CHECK FOR NEW JOB
 0081            CCS    SMODE
 0082            TC     SOPTIONS
 0083            TC     SMODECHK +2     TO BACKUP IDLE LOOP
 0084            TC     SOPTIONS
 0085            INCR   SCOUNT
 0086  2         TC     SKEEP1          CONTINUE WITH SELF-CHECK
 0087   SOPTIONS AD     S-7
 0088            EXTEND
 0089            BZMF   +2              FOR OPTIONS BELOW NINE.
 0090   BNKOPTN  TC     SBNKOPTN        FOR OPTIONS ABOVE EIGHT
 0091            INCR   SCOUNT          FOR OPTIONS BELOW NINE.
 0092  2         AD     S+7
 0093            INDEX  A
 0094            TC     SOPTION1
 0095   SOPTION1 TC     TC+TCF
 0096   SOPTION2 TC     IN-OUT1
 0097   SOPTION3 TC     COUNTCHK
 0098   SOPTION4 TC     ERASCHK
 0099   SOPTION5 TC     ROPECHK
 0100   SOPTION6 TC     SKEEP1
 0101   SOPTION7 TC     SKEEP1
 0102  2SOPTON10 TC     SKEEP1          CONTINUE WITH SELF-CHECK
 0103  2SELFCHK  TC     SMODECHK        ** CHARLEY, COME IN HERE
R0104   TC+TCF CHECKS ALL OF THE PULSES OF TCF AND ALL OF THE PULSES OF TC
R0105   EXCEPT ABILITY TO TC TO ERASABLE.
R0106   ALSO FIRST TIME CS FIXED MEMORY IS USED
 0107   TC+TCF   TC     +2
 0108            TC     CCSCHK
 0109            TCF    +2              $ TCF FIXED MEMORY
 0110            TC     ERRORS
 0111            CS     S+3             $ CS FIXED MEMORY
 0112            TC     Q               $
 0113  2         TC     ERRORS
R0114   CCSCHK CHECKS ALL OF CCS EXCEPT RB WG.
R0115   ALSO CHECKS TS ERASABLE, CS SC, AND CS ERASABLE MEMORY.
 0116   CCSCHK   CCS    A               $ CCS SC, C(A) = -3
 0117            TC     ERRORS
 0118            TC     ERRORS
 0119            TC     +2
 0120            TC     ERRORS
 0121            CCS    A               $ C(A) = +2, RESULT OF CCS -NUMBER
 0122            TC     +4
 0123            TC     ERRORS
 0124            TC     ERRORS
 0125            TC     ERRORS
 0126            TS     SKEEP1          $ TS ERASABLE
 0127            CCS    SKEEP1          $ CCS ERASABLE, C(A) = +1, RESULT OF
 0128            TC     +4              CCS +NUMBER
 0129            TC     ERRORS
 0130            TC     ERRORS
 0131            TC     ERRORS
 0132            CCS    A               $ C(A) = +0, RESULT OF CCS +1, CHECKS CI
 0133            TC     ERRORS
 0134            TC     +3
 0135            TC     ERRORS
 0136            TC     ERRORS
 0137            CS     A               $ CS SC
 0138            CCS    A               $ C(A) = -0, RESULT OF CCS +0
 0139            TC     ERRORS
 0140            TC     ERRORS
 0141            TC     ERRORS
 0142            CCS    A               $ RESULT OF CCS -0
 0143            TC     ERRORS
 0144            TC     +3
 0145            TC     ERRORS
 0146            TC     ERRORS
 0147            CS     SKEEP1          $ CS ERASABLE. ALSO CHECKS BACK INTO
 0148  2         TC     -1CHK           ERASABLE SEQUENCE.
R0149   BZMFCHK CHECKS ALL PULSES OF BZMF.
R0150   ALSO CHECKS CA FIXED MEMORY.
 0151   BZMFCHK  CAF    SBIT9           $ CA FIXED MEMORY
 0152            EXTEND
 0153            BZMF   ERRBZMF
 0154            CS     A
 0155            EXTEND
 0156            BZMF   +2              $
 0157            TC     ERRORS
 0158            CA     S+MAX
 0159            AD     S+1
 0160            EXTEND
 0161            BZMF   ERRBZMF2        $ + OVERFLOW, CHECK 01-0000
 0162            CA     S+ZERO
 0163            EXTEND
 0164            BZMF   +2              $
 0165            TC     ERRORS
 0166            CS     A
 0167            EXTEND
 0168            BZMF   +4              $
 0169            TC     ERRORS
 0170   ERRBZMF  TC     ERRORS          FROM BZMF WITH +NON-ZERO
 0171  2ERRBZMF2 TC     ERRORS          OVERFLOW WITH +0
R0172   RESTORE1 AND 2 CHECKS INSTRUCTIONS (WITH STAR) ABILITY TO READ BACK INTO
R0173   ERASABLE MEMORY. NOT NORMALLY INTERESTED IN CONTENTS OF A REGISTER.
R0174   FIRST TIME MANY INSTRUCTIONS ARE USED.
R0175   RESTORE1 ALSO CHECKS INDEX (WITHOUT EXTRACODE) ERASABLE, CA ERASABLE,
R0176   AND MASK ERASABLE.
 0177   RESTORE1 CAF    SRADRS          ADDRESS OF SR
 0178            TS     SKEEP7
 0179            CA     S8BITS          00377
 0180            NDX    SKEEP7          $ INDEX ERASABLE                       *
 0181            TS     0000            TS SR, C(SR) = 00177
 0182            CCS    SR              C(SR) = 00077                          *
 0183            NDX    SKEEP7          CHECKS C(SKEEP7) CORRECT
 0184            CS     0000            C(SR) = 00037
 0185            AD     SR              C(SR) = 00017                          *
 0186            EXTEND
 0187            MSU    SR              C(SR) = 00007                          *
 0188            EXTEND
 0189            SU     SR              C(SR) = 00003                          *
 0190            CA     SR              $ C(SR) = +1, C(A) = +3, CA ERASABLE   *
 0191            MASK   SR              $ B(SR) = C(SR) = +1, MASK ERASABLE    *
 0192            TC     +1CHK
 0193            EXTEND
 0194            MP     SR
 0195            EXTEND
 0196            DV     SR
 0197            CA     SR              $ CA ERASABLE
 0198  2         TC     +1CHK           MAKES SURE MASK, MP, AND DV DO NOT EDIT.
R0199   RESTORE2 ALSO CHECKS XCH ERASABLE,INDEX (WITH EXTRACODE) ERASABLE AND
R0200   FIXED MEMORY, DCS ERASABLE, CA SC, AND DCA ERASABLE.
 0201   RESTORE2 CAF    ADRS1           ADDRESS OF SKEEP1
 0202            TS     SKEEP6
 0203            CA     S-1
 0204            TS     SKEEP1          -1
 0205            CS     A
 0206            XCH    SKEEP1          $ XCH ERASABLE, C(SKEEP1) = +1
 0207            XCH    SKEEP2          $ XCH ERASABLE, C(SKEEP2) = -1
 0208            EXTEND
 0209            NDX    SKEEP6          $ NDX ERASABLE                         *
 0210            DCA    0000            DCA ERASABLE                           *
 0211            EXTEND
 0212            NDX    ADRS1           $ NDX FIXED MEMORY                     *
 0213            DCS    0000            $ DCS ERASABLE MEMORY                  *
 0214            TC     -1CHK           MAKES SURE DCS ERASABLE OK
 0215            CA     L               $ CA SC
 0216            TC     +1CHK
 0217            EXTEND
 0218            NDX    SKEEP6          MAKE SURE C(SKEEP6) IS STILL CORRECT
 0219            DCA    0000            $ DCA ERASABLE
 0220            TC     +1CHK
 0221            CA     L
 0222  2         TC     -1CHK
R0223   RESTORE3 CHECKS ABILITY TO RESTORE INSTRUCTIONS BACK INTO ERASABLE
R0224   MEMORY. IT IS ONLY NECESSARY TO RESTORE ONE INSTRUCTION BECAUSE THE
R0225   G REGISTER DOES NOT CHANGE.
R0226   ALSO CHECKS TC TO ERASABLE MEMORY.
 0227   RESTORE3 CA     SBIT15          CS
 0228            TS     SKEEP1          40000
 0229            CA     S+2             TC Q
 0230            TS     SKEEP2
 0231            CA     S+1             +1
 0232            TC     SKEEP1          $ TC ERASABLE
 0233            TC     -1CHK           FIRST TIME BACK FROM ERASABLE.
 0234            TC     SKEEP1
 0235  2         TC     -0CHK           SECOND TIME BACK FROM ERASABLE.
R0236   BZFCHK CHECKS ALL PULSES OF BZF.
 0237   BZFCHK   CAF    S+5
 0238            EXTEND
 0239            BZF    ERRBZF1         $
 0240            CS     A
 0241            EXTEND
 0242            BZF    ERRBZF2         $
 0243            CA     S+MAX
 0244            AD     S+1             01-00000
 0245            EXTEND
 0246            BZF    ERRBZF3         $
 0247            CS     A
 0248            EXTEND
 0249            BZF    ERRBZF4         $
 0250            CAF    S+ZERO
 0251            EXTEND
 0252            BZF    +2              $
 0253            TC     ERRORS
 0254            CS     A
 0255            EXTEND
 0256            BZF    +6              $
 0257            TC     ERRORS
 0258   ERRBZF1  TC     ERRORS          +NON-ZERO
 0259   ERRBZF2  TC     ERRORS          -NON-ZERO
 0260   ERRBZF3  TC     ERRORS          01-00000
 0261  2ERRBZF4  TC     ERRORS          10-37777
R0262   DXCH+DIM CHECKS ALL PULSES OF DXCH AND DIM.
R0263   ALSO CHECKS TS WITH OVERFLOW, TS SC, CA SC, AND AD ERASABLE.
 0264   DXCH+DIM CA     S+MAX
 0265            AD     S+2             OVERFLOW WITH +1
 0266            TS     SKEEP1          $ TS WITH OVERFLOW, +1
 0267            TC     ERRORS
 0268            CS     A
 0269            TS     SKEEP2
 0270            CS     S+MAX
 0271            TS     L               $ TS SC,  40000
 0272            CS     A               37777
 0273            DXCH   SKEEP1          $ DXCH ERASABLE
 0274            TC     +1CHK
 0275            CA     L               $ CA SC
 0276            TC     -1CHK
 0277            EXTEND
 0278            DIM    SKEEP1          $ DIM ERASABLE, DIM + NUMBER, 37776
 0279            EXTEND
 0280            DIM    SKEEP2          $ DIM - NUMBER, 40001
 0281            CA     S+MAX           37777
 0282            AD     SKEEP2          $ AD ERASABLE, +1
 0283            TC     +1CHK
 0284            CS     S+MAX           40000
 0285            AD     SKEEP1          -1
 0286            TC     -1CHK
 0287            CA     S+1             +1
 0288            EXTEND
 0289            DIM    A               $ DIM SC, DIM +1
 0290            EXTEND
 0291            DIM    A               $ DIM -0
 0292            TC     -0CHK
 0293            EXTEND
 0294            DIM    A               $ DIM +0
 0295  2         TC     +0CHK
R0296   DAS+INCR CHECKS ALL PULSES OF DAS AND INCR.
R0297   ALSO CHECKS DCA FIXED, LXCH SC, DCA ERASABLE, AD ERASABLE, DCS FIXED,
R0298   DCS ERASABLE, AND XCH SC.
 0299   DAS+INCR CA     S-1
 0300   DAS++    TS     L               -1
 0301            CA     S+2             +2
 0302            DAS    A               $ DAS SC, C(A) = +4 AND C(L) = -2
 0303            AD     S-3             $ AD FIXED MEMORY
 0304            TC     +1CHK
 0305            CA     S+1
 0306            AD     L               $ AD SC, -1
 0307            TC     -1CHK
R0308   DAS WITH INTERFLOW IN LOW ORDER AND NET OVERFLOW
 0309   DAS+-    EXTEND
 0310            DCA    S+MAX           $DCA FIXED MEMORY
 0311            DXCH   SKEEP3          37777, 40000
 0312            CA     S-2
 0313            TS     L
 0314            CA     S+3             C(A) = +3, C(L) = -2
 0315            DAS    SKEEP3          $ DAS ERASABLE
 0316            LXCH   A               $ LXCH SC
 0317            TC     +0CHK
 0318            CA     L
 0319            TC     +1CHK
 0320            EXTEND
 0321            DCA    SKEEP3          $ DCA ERASABLE
 0322            LXCH   A               C(A) = -1, C(L) = +1
 0323            TC     -1CHK
 0324            CA     L
 0325            TC     +1CHK
R0326   INCRCHK CHECKS ALL INCR PULSES EXCEPT WOVR.
 0327   INCRCHK  INCR   SKEEP4          $ INCR ERASABLE, -0
 0328            AD     SKEEP4          $ AD ERASABLE
 0329            TC     -0CHK
 0331            INCR   A               $ INCR SC, +1
 0331            TC     +1CHK
R0332   DAS WITH OVERFLOW IN LOW ORDER AND NET UNDERFLOW
 0333   DAS-+    EXTEND
 0334            DCS    S+MAX           $ DCS FIXED MEMORY
 0335            DXCH   SKEEP1          40000, 37777
 0336            CA     S+3             +3
 0337            TS     L
 0338            CS     A               -3
 0339            DAS    SKEEP1          $
 0340            TC     -1CHK
 0341            EXTEND
 0342            DCS    SKEEP1          $ DCS ERASABLE (+1, -2)
 0343            XCH    L               $ XCH SC (-2, +1)
 0344            AD     S+1
 0345            TC     -1CHK
 0346            CA     L
 0347  2         TC     +1CHK
R0348   MPCHK CHECKS ALL PULSES OF MP, AUG, AND ADS.
 0349   MPCHK    CA     S+1
 0350            EXTEND
 0351            AUG    A               $ AUG SC, +2
 0352            TS     SKEEP5          +2
 0353            CS     A
 0354            TS     Q               -2
 0355            CS     A
 0356   MP++     EXTEND
 0357            MP     S+MAX           $ MP FIXED MEMORY, +1, 37776
 0358            AD     L               37777
 0359   MP+-     EXTEND
 0360            MP     Q               $ MP SC, -1, 40001
 0361            ADS    L               $ ADS SC, 40000
 0362            AD     DVCON
 0363            TC     -1CHK
 0364            CA     L
 0365   MP-+     EXTEND
 0366            MP     SKEEP5          $ MP ERASABLE, -1, 40001
 0367            TS     SKEEP6
 0368            EXTEND
 0369            AUG    SKEEP6          $ AUG ERASABLE, -2
 0370            AD     L               40000
 0371   MP--     EXTEND
 0372            MP     SKEEP6          $ +1, 37776
 0373            TC     +1CHK
 0374            CS     L               40001
 0375            AD     DVCON
 0376            TC     -0CHK
 0377            CA     S+1
 0378            ADS    SKEEP6          $ ADS ERASABLE, +1
 0379            TC     -1CHK
 0380            CA     SKEEP6
 0381  2         TC     -1CHK
R0382   DVCH AND DVQXCHK CHECK ALL OF PULSES OF DV AND QXCH.
R0383   ALSO CHECKS TS WITH UNDERFLOW
 0384   DVCHK    CA     SBIT14          20000
 0385            TS     SKEEP1
 0386            AD     A               OVERFLOW
 0387            AD     S+1
 0388            TS     L               $ TS SC WITH OVERFLOW, +1
 0389            TC     ERRORS
 0390            CS     A
 0391            TS     SKEEP2          -1
 0392            CA     S-ZERO          -0
 0393            LXCH   SKEEP1          $ LXCH ERASABLE
 0394   DV++     EXTEND
 0395            DV     SKEEP1          $ DV ERASABLE, C(A) = 20000, C(L) = +0
 0396            CS     A
 0397            LXCH   A
 0398            TC     +0CHK
 0399   DV--     EXTEND
 0400            DV     SKEEP2          $ 20000, +0
 0401            TS     SKEEP4          20000
 0402            CS     A
 0403            TS     SKEEP3          -(20000)
 0404            AD     SBIT14
 0405            TC     -0CHK
 0406            CA     L
 0407            TC     -0CHK
 0408   DV+-     CA     S+MAX
 0409            TS     L
 0410            CA     S13BITS
 0411            EXTEND
 0412            DV     SKEEP3          $ -(37777), +(17777)
 0413            XCH    L
 0414            CS     A
 0415   DV-+     EXTEND
 0416            DV     SKEEP4          $ -(37777), -(17777)
 0417            AD     DVCON
 0418            TC     -1CHK
 0419            CA     S+MAX
 0420            XCH    L               ALSO PUTS 37777 IN L FOR DV-+,-
 0421            AD     SBIT14
 0422            TC     +1CHK
 0423   DV-+,+   CS     S13BITS         -(17777)
 0424            EXTEND
 0425            DV     SKEEP4
 0426            AD     L               -(37775)
 0427            AD     DVCON
 0428            TC     +1CHK
 0429            XCH    L
 0430            TC     -1CHK           ALSO PUTS +0 IN L FOR DVQXCH
 0431   DVQXCHK  CS     DVCON
 0432            TS     Q               40001
 0433            CS     A
 0434            EXTEND
 0435            DV     Q               $ DV SC, -(37777), +(37776)
 0436            EXTEND
 0437            QXCH   L               $ QXCH SC, C(L) = 40001, C(Q) = 37776
 0438            AD     Q
 0439            TC     -1CHK
 0440            CA     L
 0441            AD     S+MAX
 0442            TC     +1CHK
 0443            EXTEND
 0444            QXCH   SKEEP1          $ QXCH ERAS., C(Q) = +1, C(SKEEP1) = +3
 0445            CA     Q
 0446            TC     +1CHK
 0447            CS     SKEEP1          -3
 0448            AD     S+2
 0449  2         TC     -1CHK
R0450   MSUCHK CHECKS ALL PULSES OF MSU EXCEPT RB WG.
 0451   MSUCHK   CA     S+ZERO
 0452            TS     SKEEP1          +0
 0453            CS     A
 0454            TS     SKEEP2          -0
 0455            EXTEND
 0456            MSU    A               $ MSU SC, +0
 0457            TC     +0CHK
 0458            EXTEND
 0459            MSU    SKEEP2          $ MSU ERASABLE, +1
 0460            TC     +1CHK
 0461            EXTEND
 0462            DCA    S+MAX
 0463            EXTEND
 0464            MSU    L               $ CHECKS RUS WA, ALSO -1 FROM NEG. NO.
 0465            TS     A
 0466            TC     +2
 0467            TC     ERRORS
 0468  2         TC     -1CHK
R0469   MASKCHK  FINISHES CHECKING MASK INSTRUCTION.
 0470   MASKCHK  CA     S+7
 0471            TS     L
 0472            MASK   S-7             $ MASK FIXED MEMORY
 0473            TC     +0CHK
 0474            CA     S+1
 0475            MASK   L               $ MASK SC
 0476  2         TC     +1CHK
R0477   NDX+SU FINISHES CHECKING BOTH INDEX INSTRUCTIONS. ALSO CHECKS ALL OF SU
R0478   EXCEPT RB WG.
 0479   NDX+SU   CA     S+1
 0480            TS     L
 0481            TS     SKEEP1
 0482            NDX    A               $ NDX SC
 0483            AD     0000            AD L, +2
 0484            EXTEND
 0485            SU     SKEEP1          $ SU ERASABLE
 0486            TC     +1CHK
 0487            EXTEND
 0488            NDX    L               $ NDX SC
 0489            SU     0000            $ SU SC, SU L
 0490  2         TC     -1CHK
R0491   D--SC CHECKS DCS SC, DXCH SC, AND DCA SC.
 0492   D--SC    CA     S+2
 0493            TS     L               +2
 0494            CA     S+1
 0495            EXTEND
 0496            DCS    A               $ DCS SC, C(L) = -2
 0497            TC     -1CHK
R0498   AFTER DXCH C(A) = B(Q) = +3, C(L) = B(A) = +0, C(Q) = B(L) = -1.
 0499            DXCH   L               $ DXCH SC
 0500            TS     SKEEP3
 0501            AD     Q
 0502            TC     +1CHK
 0503            CA     L
 0504            TC     +0CHK
 0505            CA     S-1
 0506            TS     Q
 0507            CS     A
 0508            EXTEND
R0509   AFTER DCA C(A) = C(L) = C(Q) = B(Q) = -1.
 0510            DCA    L               $ DCA SC
 0511            AD     Q
 0512            AD     SKEEP3
 0513            TC     +1CHK
 0514            CA     L
 0515  2         TC     -1CHK
R0516   D--LCHK CHECKS THAT OVERFLOW IS LOST IN PROCESS OF GOING THROUGH L REG.
R0517   ALSO CHECKS THAT Q WILL HOLD 16 BITS
 0518   D--LCHK  CA     S-2
 0519            TS     Q
 0520            CA     S-MAX
 0521            ADS    Q
 0522            CS     Q
 0523            TS     A
 0524            TC     ERRORS
 0525            EXTEND
 0526            DCA    L
 0527            TS     A
 0528            TC     +2
 0529            TC     ERRORS
 0530  2         TC     -1CHK
R0531   CHECKS OVERFLOW, UNDERFLOW,END-AROUND-CARRY, AND SIGN CHANGE OF ADDER.
R0532   ALSO CHECKS ADS SC WITH OVERFLOW AND TS A WITH UNDERFLOW
 0533   ADDRCHK  CA     SBIT14          20000
 0534            TS     Q
 0535            ADS    Q               $ ADS SC, OVERFLOW
 0536            ADS    Q               UNDERFLOW
 0537            TS     A               $ TS SC WITH UNDERFLOW
 0538            TC     ERRORS
 0539            ADS    Q
 0540  2         TC     +1CHK
R0541   RUPTCHK CHECKS THAT INTERRUPT DOES NOT OCCUR WHILE OVERFLOW OR UNDERFLOW
R0542   IS IN THE A REGISTER. ALSO CHECKS THAT INHINT RELINT WORK PROPERLY.
 0543   RUPTCHK  INHINT
 0544            CA     S+ZERO
 0545            TS     ZRUPT
 0546            RELINT
 0547            AD     TIME4
 0548            TS     SKEEP1
 0549   TENMS    CS     SKEEP1
 0550            AD     TIME4           WAIT FOR NEXT TIME4 INCREMENT
 0551            EXTEND
 0552            BZF    TENMS
 0553            INHINT
 0554            CA     ZRUPT
 0555            EXTEND
 0556            BZF    +2              NO INTERRUPT.
 0557            TC     RUPTCHK         THERE WAS AN INTERRUPT. START AGAIN.
 0558            CAF    S+1             2 1/2 MS UNTILE NEXT T3 INTERRUPT.
 0559            TC     WAITLIST
 0560            EBANK= LST1
 0561            2CADR  TSKADRS
 0562            CA     S+MAX
 0563            AD     OVCON           CONTROLS TIME SPENT IN OF-UF LOOP
 0564            RELINT
 0565   WAIT     CS     A
 0566            CCS    A
 0567            TC     INHNTCHK
 0568   RUPTCON  ADRES  C(BRUPT)
 0569            AD     S+2
 0570            TC     WAIT
 0571   INHNTCHK INHINT                 T3 RUPT SHOULD BE WAITING
 0572            TS     SKEEP5
 0573            TC     ERRORS
 0574            RELINT
 0575   C(BRUPT) CS     ZRUPT           INTERRUPT SHOULD HAPPEN HERE
 0576            EXTEND
 0577            BZF    +6              MAKES SURE AN INTERRUPT DID OCCUR
 0578            TC     IN-OUT1         AN INTERRUPT. END OF RUPTCHK
 0579   TSKADRS  CS     ZRUPT
 0580            AD     RUPTCON
 0581            TC     -1CHK
 0582            TC     TASKOVER
 05825 2         TC     ERRORS          NO INTERRUPT
R0583   IN-OUT1 CHECKS ALL PULSES OF WRITE AND READ
 0584   IN-OUT1  CA     S-1
 0585   WRITECHK EXTEND
 0586            WRITE  Q
 0587            LXCH   Q               PUT C(Q) IN L
 0588            TC     -1CHK
 0589   READCHK  EXTEND                 C(L) = 77776
 0590            READ   L
 0591            TC     -1CHK
 0592            CA     L
 0593  2         TC     -1CHK
R0594   IN-OUT2 CHECKS ALL PULSES OF ROR AND WOR
 0595   IN-OUT2  CS     S+3
 0596   RORCHK   TS     L               77774
 0597            CA     DVCON           37776
 0598            EXTEND
 0599            ROR    L               $ ROR, -1
 0600            TC     -1CHK
 0601   WORCHK   CA     DVCON           C(L) STILL 77774
 0602            EXTEND
 0603            WOR    L               $ WOR, -1
 0604            TC     -1CHK
 0605            CA     L
 0606  2         TC     -1CHK
R0607   IN-OUT3 CHECKS ALL PULSES OF RAND, WAND, AND RXOR
 0608   IN-OUT3  CS     DVCON
 0609   RANDCHK  TS     L               40001
 0610            CA     S13BITS         17777
 0611            EXTEND
 0612            RAND   L               $ RAND, +1
 0613            TC     +1CHK
 0614   WANDCHK  CA     S13BITS         C(L) STILL 40001
 0615            EXTEND
 0616            WAND   L               $ WAND, +1
 0617            TC     +1CHK
 0618            CS     S+5
 0619            XCH    L               ALSO PUT -5 IN L FOR RXORCHK
 0620            TC     +1CHK
 0621   RXORCHK  CA     S+6
 0622            EXTEND
 0623            RXOR   L               $ RXOR, -3
 0624            AD     S+2
 0625            TC     -1CHK
 0626            CA     L
 0627            AD     S+4
 0628  2         TC     -1CHK
 0629  2         TC     SMODECHK
R0630   COUNTCHK COUNTS UP 14 BIT NUMBER WITH SIGN.
R0631   TAKES APPROXIMATELY 8.7 SECONDS.
R0632   ** PUT IN CCS NEWJOB FOR ROPE.
 0633   COUNTCHK EXTEND
 0634            DCA    S+MAX
 0635            DXCH   SKEEP6          PUT 37777 IN SKEEP6 AND 40000 IN SKEEP7
 0636   +LOOP    CA     SKEEP6
 0637            XCH    Q
 0638            EXTEND
 0639            DCS    L
 0640            CCS    A
 0641            TC     -NMBR
 0642            TC     ENDCOUNT
 0643            TS     SKEEP6
 0644            AD     SKEEP7
 0645            TC     -1CHK
 0646            INCR   SKEEP7
 0647            TC     +LOOP
 0648   -NMBR    AD     L
 0649            TC     -1CHK
 0650            TC     CHECKNJ         CHECK FOR NEW JOB
 0651            CS     SKEEP6
 0652            TC     +LOOP +1
 0653   ENDCOUNT CA     SKEEP7          -0
 0654            AD     SKEEP6          SKEEP6 SHOULD BE +0
 0655  2         TC     -0CHK
R0656   O-UFLOW COUNTS DOWN OVERFLOW AND UNDERFLOW NUMBERS.
R0657   TAKES APPROXIMATELY 10.8 SECONDS
 0658   O-UFLOW  CA     S-MAX
 0659            TS     SKEEP5          40000
 0660            CS     A
 0661   OFLOOP   INHINT
 0662            AD     S+MAX
 0663            AD     S+1
 0664            XCH    Q
 0665            CCS    Q
 0666            TC     -NMBRS
 0667            TC     ERRORS          CAN PUT IN CONSTANT
 0668            TS     SKEEP3
 0669            TC     ERRORS
 0670            CA     SKEEP3
 0671            AD     SKEEP5
 0672            TC     -1CHK
 0673            RELINT
 0674            TC     CHECKNJ         CHECK FOR NEW JOB
 0675            CA     SKEEP4
 0676            EXTEND
 0677            DIM    SKEEP5
 0678            TC     OFLOOP
 0679   -NMBRS   TS     SKEEP4
 0680            TC     ENDOFUF
 0681            CA     SKEEP4
 0682            AD     SKEEP5
 0683            TC     -1CHK
 0684            CA     SKEEP5
 0685            AD     S-MAX
 0686            AD     S-1
 0687            TC     OFLOOP +3
 0688   ENDOFUF  CA     SKEEP5
 0689            TC     -0CHK
 0690            CS     SKEEP4
 0691            AD     DVCON
 0692            TC     -1CHK
 0693  2         RELINT
 0694  2         TC     SMODECHK
R0695   SKEEP7 HOLDS LOWEST OF TWO ADDRESSES BEING CHECKED.
R0696   SKEEP6 HOLDS B(X+1).
R0697   SKEEP5 HOLDS B(X).
R0698   SKEEP4 CONTROLS CHECKING OF NON-SWITCHABLE ERASABLE MEMORY WITH
R0699   BANK NUMBERS IN EB.
R0700   SKEEP3 HOLDS LAST ADDRESS BEING CHECKED (HIGHEST ADDRESS).
R0701   SKEEP2 HOLDS C(EBANK) DURING CHECKNJ
R0702   ERASCHK TAKES APPROXMATELY 7 SECONDS
 0703   ERASCHK  CA     S+1
 0704            TS     SKEEP4
 0705   0EBANK   CA     S+ZERO
 0706            TS     EBANK
 0707            CA     ERASCON3        01461
 0708            TS     SKEEP7          STARTING ADDRESS
 0709            CA     S10BITS         01777
 0710            TS     SKEEP3          LAST ADDRESS CHECKED
 0711  2         TC     ERASLOOP
 0712   E134567B CA     ERASCON6        01400
 0713            TS     SKEEP7          STARTING ADDRESS
 0714            CA     S10BITS         01777
 0715            TS     SKEEP3          LAST ADDRESS CHECKED
 0716  2         TC     ERASLOOP
 0717   2EBANK   CA     ERASCON6        01400
 0718            TS     SKEEP7          STARTING ADDRESS
 0719            CA     ERASCON4        01774
 0720            TS     SKEEP3          LAST ADDRESS CHECKED
 0721  2         TC     ERASLOOP
 0722   NOEBANK  TS     SKEEP4          +0
 0723            CA     ERASCON1        00061
 0724            TS     SKEEP7          STARTING ADDRESS
 0725            CA     ERASCON2        01374
 0726  2         TS     SKEEP3          LAST ADDRESS CHECKED
 0727   ERASLOOP INHINT
 0728            EXTEND
 0729            NDX    SKEEP7
 0730            DCA    0000
 0731            DXCH   SKEEP5          STORES C(X) AND C(X+1) IN SKEEP6 AND 5.
 0732            CA     SKEEP7
 0733            TS     ERESTORE        IF RESTART, RESTORE C(X) AND C(X+1)
 0734            TS     L
 0735            INCR   L
 0736            NDX    A
 0737            DXCH   0000            PUTS OWN ADDRESS IN X AND X +1
 0738            NDX    SKEEP7
 0739            CS     0001            CS  X+1
 0740            NDX    SKEEP7
 0741            AD     0000            AD X
 0742            TC     -1CHK
 07421           CA     ERESTORE        HAS ERASABLE BEEN RESTORED
 07422           EXTEND
 07423           BZF    ELOOPFIN        YES, EXIT ERASLOOP.
 0743            EXTEND
 0744            NDX    SKEEP7
 0745            DCS    0000            COMPLEMENT OF ADDRESS OF X AND X+1
 0746            NDX    SKEEP7
 0747            DXCH   0000            PUT COMPLEMENT OF ADDRESS OF X AND X+1
 0748            NDX    SKEEP7
 0749            CS     0000            CS  X
 0750            NDX    SKEEP7
 0751            AD     0001            AD X+1
 0752            TC     -1CHK
 07521           CA     ERESTORE        HAS ERASABLE BEEN RESTORED
 07522           EXTEND
 07523           BZF    ELOOPFIN        YES, EXIT ERASLOOP.
 0753            EXTEND
 0754            DCA    SKEEP5
 0755            NDX    SKEEP7
 0756            DXCH   0000            PUT B(X) AND B(X+1) BACK INTO X AND X+1
 0757            CA     S+ZERO
 0758            TS     ERESTORE        IF RESTART, DO NOT RESTORE C(X), C(X+1)
 0759   ELOOPFIN RELINT
 0760            CA     EBANK           STORES C(EBANK)
 0761            TS     SKEEP2
 0762            TC     CHECKNJ         CHECK FOR NEW JOB
 0763            CA     SKEEP2          REPLACES B(EBANK)
 0764            TS     EBANK
 0765            INCR   SKEEP7
 0766            CS     SKEEP7
 0767            AD     SKEEP3
 0768            EXTEND
 0769            BZF    +2
 0770            TC     ERASLOOP        GO TO NEXT ADDRESS IN SAME BANK
 0771            CCS    SKEEP4
 0772            TC     NOEBANK
 0773            INCR   SKEEP4          PUT +1 IN SKEEP4
 0774            CA     EBANK
 0775            AD     SBIT9
 0776            TS     EBANK
 0777            AD     ERASCON5        76777, CHECK FOR BANK E2
 0778            EXTEND
 0779            BZF    2EBANK
 0780            CCS    EBANK
 0781            TC     E134567B        GO TO EBANKS 1,3,4,5,6, AND 7
 0782            CA     ERASCON6        END OF ERASCHK
 0783            TS     EBANK
R0784   CNTRCHK PERFORMS A CS OF ALL REGISTERS FROM OCT. 60 THROUGH OCT. 10.
R0785   INCLUDED ARE ALL COUNTERS, T6-1, CYCLE AND SHIFT, AND ALL RUPT REGISTERS
 0786   CNTRCHK  CA     CNTRCON         00050
 0787   CNTRLOOP TS     SKEEP2
 0788            AD     SBIT4           +10 OCTAL
 0789            INDEX  A
 0790            CS     0000
 0791            CCS    SKEEP2
 0792  2         TC     CNTRLOOP
R0793   CYCLSHFT CHECKS THE CYCLE AND SHIFT REGISTERS
 0794   CYCLSHFT CA     CONC+S1         25252
 0795            TS     CYR             C(CYR) = 12525
 0796            TS     CYL             C(CYL) = 52524
 0797            TS     SR              C(SR) = 12525
 0798            TS     EDOP            C(EDOP) = 00125
 0799            AD     CYR             37777         C(CYR) = 45252
 0800            AD     CYL             00-12524      C(CYL) = 25251
 0801            AD     SR              00-25251      C(SR) = 05252
 0802            AD     EDOP            00-25376      C(EDOP) = +0
 0803            AD     CONC+S2         C(CONC+S2) = 52400
 0804            TC     -1CHK
 0805            AD     CYR             45252
 0806            AD     CYL             72523
 0807            AD     SR              77775
 0808            AD     EDOP            77775
 0809            AD     S+1             77776
 0810  2         TC     -1CHK
 0811            INCR   SCOUNT +1
 0812            TC     SMODECHK
 0813  2         TC     ROPECHK
R0814   SKEEP1 HOLDS SUM
R0815   SKEEP2 HOLDS PRESENT CONTENTS OF ADDRESS IN ROPECHK AND SHOWSUM ROUTINES
R0816   SKEEP2 HOLDS BANK NUMBER IN LOW ORDER BITS DURING SHOWSUM DISPLAY
R0817   SKEEP3 HOLDS PRESENT ADDRESS (00000 TO 01777 IN COMMON FIXED BANKS)
R0818                                (04000 TO 07777 IN FXFX BANKS)
R0819   SKEEP3 HOLDS BUGGER WORD DURING SHOWSUM DISPLAY
R0820   SKEEP4 HOLDS BANK NUMBER AND SUPER BANK NUMBER
R0821   SKEEP5 COUNTS 2 SUCCESSIVE TC SELF WORDS
R0822   SKEEP6 CONTROLS ROPECHK OR SHOWSUM OPTION
R0823  2SKEEP7 CONTROLS WHEN ROUNTINE IS IN COMMON FIXED OR FIXED FIXED BANKS
 0824   STSHOSUM TC     GRABDSP
 0825            TC     PREGBSY
 0826            TC     +3
 0827   ROPECHK  CA     S-ZERO
 0828            TS     SKEEP6          ROPECHK OPTION
 0829            CA     S+ZERO
 0830            TS     SKEEP4          BANK NUMBER
 0831            CA     S+1
 0832   COMMFX   TS     SKEEP7
 0833            CA     S+ZERO
 0834            TS     SKEEP1
 0835            TS     SKEEP3
 0836            CA     S+1
 0837            TS     SKEEP5          COUNTS DOWN 2 TC SELF WORDS
 0838   COMADRS  CA     SKEEP4
 0839            TS     L               TO SET SUPER BANK
 0840            MASK   HI5
 0841            AD     SKEEP3
 0842            TC     SUPDACAL        SUPER DATA CALL
 0843            TC     ADSUM
 0844            AD     SBIT11          02000
 0845  2         TC     ADRSCHK
 0846   FXFX     CS     A
 0847            TS     SKEEP7
 0848            EXTEND
 0849            BZF    +3
 0850            CA     SBIT12          04000, STARTING ADDRESS OF BANK 02
 0851            TC     +2
 0852            CA     SBNK03          06000, STARTING ADDRESS OF BANK 03
 0853            TS     SKEEP3
 0854            CA     S+ZERO
 0855            TS     SKEEP1
 0856            CA     S+1
 0857            TS     SKEEP5          COUNTS DOWN 2 TC SELF WORDS
 0859   FXADRS   INDEX  SKEEP3
 0860            CA     0000
 0861            TC     ADSUM
 0862  2         TC     ADRSCHK
 0863   ADSUM    TS     SKEEP2
 0864            AD     SKEEP1
 0865            TS     SKEEP1
 0866            CAF    S+ZERO
 0867            AD     SKEEP1
 0868            TS     SKEEP1
 0869            CS     SKEEP2
 0870            AD     SKEEP3
 0871  2         TC     Q
 08711  ADRSCHK  LXCH   A
 08712           CCS    SKEEP5          IS CHECKSUM FINISHED
 08713           TC     +3              NO
 08714           TC     +2              NO
 08715           TC     SOPTION         GO TO ROPECHK SHOWSUM OPTION
 0872            CCS    L               -0 MEANS A TC SELF WORD.
 0873            TC     CONTINU
 0874            TC     CONTINU
 0875            TC     CONTINU
 0876            CCS    SKEEP5
 0877            TC     CONTINU +1
 0878            CA     S-1
 0879            TC     CONTINU +1      AD IN THE BUGGER WORD
 0881   CONTINU  CA     S+1             MAKE SURE TWO CONSECUTIVE TC SELF WORDS
 0882            TS     SKEEP5
 0883            CCS    SKEEP6          +1 IN SKEEP6, SHOWSUM VIA EXECUTIVE
 0884            CCS    NEWJOB
 0885            TC     CHANG1
 0886            TC     +2
 0887  2         TC     CHECKNJ         -0 IN SKEEP6 FOR ROPECHK
 0888   ADRS+1   INCR   SKEEP3
 0889            CCS    SKEEP7
 0890            TC     COMADRS
 0891            TC     COMADRS
 0892            TC     FXADRS
 0893  2         TC     FXADRS
 0894   NXTBNK   CS     SKEEP4
 0895            AD     LSTBNKCH        LAST BANK TO BE CHECKED
 0896            EXTEND
 0897            BZF    ENDSUMS         END OF SUMMING OF BANKS.
 0898            CA     SKEEP4
 0899            AD     SBIT11
 0900            TS     SKEEP4          37 TO 40 INCRMTS SKEEP4 BY END RND CARRY
 0901            TC     CHKSUPR
 0902   17TO20   CA     SBIT15
 0903            ADS    SKEEP4          SET FOR BANK 20
 0904            TC     GONXTBNK
 0905   CHKSUPR  MASK   HI5
 0906            EXTEND
 0907            BZF    NXTSUPR         INCREMENT SUPER BANK
 0908   27TO30   AD     S13BITS
 0909            EXTEND
 0910            BZF    +2              BANK SET FOR 30
 0911            TC     GONXTBNK
 0912            CA     SIXTY           FIRST SUPER BANK
 0913            ADS    SKEEP4
 0914            TC     GONXTBNK
 0915   NXTSUPR  AD     SUPRCON         SET BNK 30 + INCR SUPR BNK AND CANCEL
 0916            ADS    SKEEP4          ERC BIT OF THE 37 TO 40 ADVANCE.
 0917   GONXTBNK CCS    SKEEP7
 0918            TC     COMMFX
 0919            CA     S+1
 0920            TC     FXFX
 0921            CA     SBIT7           HAS TO BE LARGER THAN NO OF FXSW BANKS.
 0922  2         TC     COMMFX
 0923   ENDSUMS  CCS    SKEEP6
 0924            TC     ROPECHK +2      START SHOWSUM AGAIN
 0925   S+MAX    OCTAL  37777           ** S+MAX AND S-MAX MUST BE TOGETHER
 0926   S-MAX    OCTAL  40000           FOR DOUBLE PRECISION CHECKING.
 0927  2         TC     RPCHKFIN        ROPECHK IS COMPLETE
 0928   SOPTION  CA     SKEEP4
 0929            MASK   HI5             = BANK BITS
 0930            TC     LEFT5
 09305           TS     L               BANK NUMBER BEFORE SUPER BANK
 09310           CA     SKEEP4
 09315           MASK   S8BITS          = SUPER BANK BITS
 09320           EXTEND
 09325           BZF    SOPT            BEFORE SUPER BANK
 0933            TS     SR              SUPER BANK NECESSARY
 0934            CA     L
 09345           MASK   SEVEN
 0935            AD     SR
 0936            TS     L               BANK NUMBER WITH SUPER BANK
 0937   SOPT     CCS    SKEEP6
 0938            TC     SDISPLAY
 0939   VNCON    OCTAL  00501           USED IN SHOWSUM. DISPLAY 3 REGISTERS.
 0940            EBANK= NEWJOB
 0941  2LSTBNKCH BBCON*                 * CONSTANT, LAST BANK.
 0942   BNKCHK   CCS    SKEEP1          WHEN C(SKEEP6) = -0
 0943            TC     +4
 0944   SCADR    FCADR  NOKILL          * CONSTANT, USED IN SHOWSUM ONLY
 0945            TC     +2
 0946            CA     S-1             FOR BANK 00
 0947            TS     SKEEP1
 0948            CS     L               = - BANK NUMBER
 0949            AD     SKEEP1
 0950            TC     -1CHK
 0951  2         TC     NXTBNK
R0952   INITIALIZE SKEEP6 TO +1 TO PERFORM SHOWSUM
R0953   START OF ROUTINE THAT DISPLAYS SUM OF EACH BANK
 0954   SHOWSUM  CAF    S+1
 0955            TS     SKEEP6          SHOWSUM OPTION
 0956            CAF    S+ZERO
 0957            TS     SMODE           PUT SELF-CHECK TO SLEEP
 0958            CA     SELFADRS        INITIALIZE SELFRET TO GO TO SELFCHK.
 0959            TS     SELFRET
 0960            INHINT
 0961            CAF    PRIO2
 0962            TC     NOVAC
 0963            EBANK= SELFRET
 0964            2CADR  STSHOSUM
 0965            RELINT
 0966  2         TC     ENDOFJOB
 0967   SDISPLAY CA     L               = BANK NUMBER
 0968            XCH    SKEEP2          SKEEP2 HOLDS BANK NUMBER DURING DISPLAY
 0969            TS     SKEEP3          SKEEP3 HOLDS BUGGER WORD DURING DISPLAY
 0970   NOKILL   CAF    ADRS1           ADDRESS OF SKEEP1
 0971            TS     MPAC +2
 0972            CAF    VNCON           DISPLAY 3 REGISTERS
 0973            TC     NVSUB
 0974            TC     SBUSY
 0975            TC     FLASHON
 0976            TC     ENDIDLE
 0977            TC     +3              FINISHED WITH SHOWSUM
 0978            TC     NXTBNK
 0979            TC     NOKILL          SO CAN LOAD WITHOUT KILLING SHOWSUM
 0980            TC     FREEDSP
 0981            CA     SELFADRS        INITIALIZE SKEEP1 TO GO TO SELFCHK.
 0982            TS     SKEEP1
 0983  2         TC     ENDOFJOB
 0984   SBUSY    CAF    SCADR
 0985  2         TC     NVSUBUSY
 0986  2RPCHKFIN TC     SELFCHK         START SELF-CHECK AGAIN.
 0987   SBNKOPTN CS     A               GO TO BACKUP IDLE LOOP IF C(SMODE) IS
 0988            AD     TWO             GREATER THAN OCTAL 11
 0989            EXTEND
 0990            BZMF   TOSMODE -2
 0991            CA     S+ZERO          ZERO SMODE FOR OPTIONS ABOVE 8.
 0992            TS     SMODE
 0993  2SOPTON11 TC     DSKYCHK
 0994            CA     S+ZERO
 0995            TS     SMODE
 0996  2TOSMODE  TC     SELFCHK
R0997   THE FOLLOWING CONSTANTS ARE USED BY DSKYCHK.
 0998   DSKYCODE OCTAL  05265           00
 0999            OCTAL  04143           11
 1000            OCTAL  05471           22
 1001            OCTAL  05573           33
 1002            OCTAL  04757           44
 1003            OCTAL  05736           55
 1004            OCTAL  05634           66
 1005            OCTAL  05163           77
 1006            OCTAL  05675           88
 1007            OCTAL  05777           99
 1008   +-ZERO   OCTAL  07265
 1009  211DEC.   OCTAL  00013
R1010   BITS 2 AND 6 TURN ON THE COMPUTER ACTIVITY AND VERB-NOUN FLASH.
 1011  2S11CHAN  OCTAL  00042
 1012   DSKYCHK  CAF    TEN
 1013            TS     SKEEP3
 1014            INHINT
 1015            CAF    S+1             SET UP TEN MS INTERRUPT
 1016            TC     WAITLIST
 1017            EBANK= LST1
 1018            2CADR  NXTNMBR
 1019            RELINT
 1020  2         TC     TOSMODE         GO TO IDLE LOOP
 1021   SDSPTAB  TS     SKEEP3
 1022            INHINT
 1023            NDX    SKEEP3
 1024            CS     DSKYCODE
 1025   SBLANKS  TS     DSPTAB
 1026            TS     DSPTAB +1
 1027            TS     DSPTAB +2
 1028            TS     DSPTAB +3
 1029            TS     DSPTAB +4
 1030            TS     DSPTAB +5
 1031            TS     DSPTAB +6
 1032            TS     DSPTAB +7
 1033            TS     DSPTAB +8D
 1034            TS     DSPTAB +9D
 1035            TS     DSPTAB +10D
 1036            CA     11DEC.
 1037  2         TS     NOUT
 1038   DSKYWAIT INHINT
 1039            CAF    BIT10           5.12 SECOND WAIT
 1040            TC     WAITLIST
 1041            EBANK= LST1
 1042            2CADR  NXTNMBR
 1043            RELINT
 1044  2         TC     TASKOVER
 1045   NXTNMBR  CCS    SKEEP3
 1046            TC     SDSPTAB         9 THROUGH 0
 1047            TC     -SIGN           -ZEROS
 1048            TC     +SIGN           +ZEROS
 1049            CCS    SKEEP2
 1050            TC     NODSPLAY        PUTS BLANKS IN DSKY DISPLAY
 1051  2         TC     LITESOUT        TURN OFF LIGHTS
 1052   -SIGN    CS     S+1
 1053            TS     SKEEP3
 1054            CA     S11CHAN         TURN ON VERB-NOUN FLASH
 1055            EXTEND                 AND COMPUTER ACTIVITY LIGHTS.
 1056            WOR    DSALMOUT
 1057            CS     +-ZERO
 1058            INHINT
 1059            TS     DSPTAB
 1060            TS     DSPTAB +3
 1061            TS     DSPTAB +5
 1062            CAF    THREE
 1063            TS     NOUT
 1064  2         TC     DSKYWAIT
 1065   +SIGN    CS     ZERO
 1066            TS     SKEEP3
 1067            CA     S+1
 1068            TS     SKEEP2
 1069            INHINT
 1070            CS     +-ZERO
 1071            TS     DSPTAB +1
 1072            TS     DSPTAB +4
 1073            TS     DSPTAB +6
 1074            CAF    THREE
 1075            TS     NOUT
 1076  2         TC     DSKYWAIT
 1077   NODSPLAY TS     SKEEP2          +0
 1078            CS     BIT12           BLANKS
 1079            INHINT
 1080  2         TC     SBLANKS         PUTS BLANKS IN ALL DISPLAYS
 1081   LITESOUT CS     S11CHAN
 1082            EXTEND
 1083            WAND   DSALMOUT        TURN OFF COMPUTER ACTIVITY LIGHT.
 1084  2         TC     TASKOVER        END OF DSKYCHK
*       ENDOFJOB
